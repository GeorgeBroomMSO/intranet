var Znt=(v,m)=>()=>(m||v((m={exports:{}}).exports,m),m.exports);var Vdt=Znt((Nnt,yY)=>{function YQ(v,m){return function(){return v.apply(m,arguments)}}const{toString:Gnt}=Object.prototype,{getPrototypeOf:_Y}=Object,F6=(v=>m=>{const C=Gnt.call(m);return v[C]||(v[C]=C.slice(8,-1).toLowerCase())})(Object.create(null)),Wb=v=>(v=v.toLowerCase(),m=>F6(m)===v),H6=v=>m=>typeof m===v,{isArray:wk}=Array,U4=H6("undefined");function qnt(v){return v!==null&&!U4(v)&&v.constructor!==null&&!U4(v.constructor)&&Gm(v.constructor.isBuffer)&&v.constructor.isBuffer(v)}const XQ=Wb("ArrayBuffer");function Knt(v){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(v):m=v&&v.buffer&&XQ(v.buffer),m}const Ynt=H6("string"),Gm=H6("function"),JQ=H6("number"),V6=v=>v!==null&&typeof v=="object",Xnt=v=>v===!0||v===!1,x6=v=>{if(F6(v)!=="object")return!1;const m=_Y(v);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!(Symbol.toStringTag in v)&&!(Symbol.iterator in v)},Jnt=Wb("Date"),Qnt=Wb("File"),tot=Wb("Blob"),eot=Wb("FileList"),not=v=>V6(v)&&Gm(v.pipe),oot=v=>{let m;return v&&(typeof FormData=="function"&&v instanceof FormData||Gm(v.append)&&((m=F6(v))==="formdata"||m==="object"&&Gm(v.toString)&&v.toString()==="[object FormData]"))},sot=Wb("URLSearchParams"),rot=v=>v.trim?v.trim():v.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function G4(v,m,{allOwnKeys:C=!1}={}){if(v===null||typeof v>"u")return;let M,$;if(typeof v!="object"&&(v=[v]),wk(v))for(M=0,$=v.length;M<$;M++)m.call(null,v[M],M,v);else{const W=C?Object.getOwnPropertyNames(v):Object.keys(v),G=W.length;let tt;for(M=0;M<G;M++)tt=W[M],m.call(null,v[tt],tt,v)}}function QQ(v,m){m=m.toLowerCase();const C=Object.keys(v);let M=C.length,$;for(;M-- >0;)if($=C[M],m===$.toLowerCase())return $;return null}const ttt=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ett=v=>!U4(v)&&v!==ttt;function UK(){const{caseless:v}=ett(this)&&this||{},m={},C=(M,$)=>{const W=v&&QQ(m,$)||$;x6(m[W])&&x6(M)?m[W]=UK(m[W],M):x6(M)?m[W]=UK({},M):wk(M)?m[W]=M.slice():m[W]=M};for(let M=0,$=arguments.length;M<$;M++)arguments[M]&&G4(arguments[M],C);return m}const iot=(v,m,C,{allOwnKeys:M}={})=>(G4(m,($,W)=>{C&&Gm($)?v[W]=YQ($,C):v[W]=$},{allOwnKeys:M}),v),aot=v=>(v.charCodeAt(0)===65279&&(v=v.slice(1)),v),cot=(v,m,C,M)=>{v.prototype=Object.create(m.prototype,M),v.prototype.constructor=v,Object.defineProperty(v,"super",{value:m.prototype}),C&&Object.assign(v.prototype,C)},lot=(v,m,C,M)=>{let $,W,G;const tt={};if(m=m||{},v==null)return m;do{for($=Object.getOwnPropertyNames(v),W=$.length;W-- >0;)G=$[W],(!M||M(G,v,m))&&!tt[G]&&(m[G]=v[G],tt[G]=!0);v=C!==!1&&_Y(v)}while(v&&(!C||C(v,m))&&v!==Object.prototype);return m},uot=(v,m,C)=>{v=String(v),(C===void 0||C>v.length)&&(C=v.length),C-=m.length;const M=v.indexOf(m,C);return M!==-1&&M===C},dot=v=>{if(!v)return null;if(wk(v))return v;let m=v.length;if(!JQ(m))return null;const C=new Array(m);for(;m-- >0;)C[m]=v[m];return C},fot=(v=>m=>v&&m instanceof v)(typeof Uint8Array<"u"&&_Y(Uint8Array)),hot=(v,m)=>{const M=(v&&v[Symbol.iterator]).call(v);let $;for(;($=M.next())&&!$.done;){const W=$.value;m.call(v,W[0],W[1])}},mot=(v,m)=>{let C;const M=[];for(;(C=v.exec(m))!==null;)M.push(C);return M},got=Wb("HTMLFormElement"),pot=v=>v.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(C,M,$){return M.toUpperCase()+$}),BJ=(({hasOwnProperty:v})=>(m,C)=>v.call(m,C))(Object.prototype),bot=Wb("RegExp"),ntt=(v,m)=>{const C=Object.getOwnPropertyDescriptors(v),M={};G4(C,($,W)=>{let G;(G=m($,W,v))!==!1&&(M[W]=G||$)}),Object.defineProperties(v,M)},vot=v=>{ntt(v,(m,C)=>{if(Gm(v)&&["arguments","caller","callee"].indexOf(C)!==-1)return!1;const M=v[C];if(Gm(M)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+C+"'")})}})},yot=(v,m)=>{const C={},M=$=>{$.forEach(W=>{C[W]=!0})};return wk(v)?M(v):M(String(v).split(m)),C},_ot=()=>{},xot=(v,m)=>(v=+v,Number.isFinite(v)?v:m),pK="abcdefghijklmnopqrstuvwxyz",IJ="0123456789",ott={DIGIT:IJ,ALPHA:pK,ALPHA_DIGIT:pK+pK.toUpperCase()+IJ},wot=(v=16,m=ott.ALPHA_DIGIT)=>{let C="";const{length:M}=m;for(;v--;)C+=m[Math.random()*M|0];return C};function Cot(v){return!!(v&&Gm(v.append)&&v[Symbol.toStringTag]==="FormData"&&v[Symbol.iterator])}const Sot=v=>{const m=new Array(10),C=(M,$)=>{if(V6(M)){if(m.indexOf(M)>=0)return;if(!("toJSON"in M)){m[$]=M;const W=wk(M)?[]:{};return G4(M,(G,tt)=>{const gt=C(G,$+1);!U4(gt)&&(W[tt]=gt)}),m[$]=void 0,W}}return M};return C(v,0)},Eot=Wb("AsyncFunction"),Tot=v=>v&&(V6(v)||Gm(v))&&Gm(v.then)&&Gm(v.catch),Pe={isArray:wk,isArrayBuffer:XQ,isBuffer:qnt,isFormData:oot,isArrayBufferView:Knt,isString:Ynt,isNumber:JQ,isBoolean:Xnt,isObject:V6,isPlainObject:x6,isUndefined:U4,isDate:Jnt,isFile:Qnt,isBlob:tot,isRegExp:bot,isFunction:Gm,isStream:not,isURLSearchParams:sot,isTypedArray:fot,isFileList:eot,forEach:G4,merge:UK,extend:iot,trim:rot,stripBOM:aot,inherits:cot,toFlatObject:lot,kindOf:F6,kindOfTest:Wb,endsWith:uot,toArray:dot,forEachEntry:hot,matchAll:mot,isHTMLForm:got,hasOwnProperty:BJ,hasOwnProp:BJ,reduceDescriptors:ntt,freezeMethods:vot,toObjectSet:yot,toCamelCase:pot,noop:_ot,toFiniteNumber:xot,findKey:QQ,global:ttt,isContextDefined:ett,ALPHABET:ott,generateString:wot,isSpecCompliantForm:Cot,toJSONObject:Sot,isAsyncFn:Eot,isThenable:Tot};function Us(v,m,C,M,$){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=v,this.name="AxiosError",m&&(this.code=m),C&&(this.config=C),M&&(this.request=M),$&&(this.response=$)}Pe.inherits(Us,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const stt=Us.prototype,rtt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(v=>{rtt[v]={value:v}});Object.defineProperties(Us,rtt);Object.defineProperty(stt,"isAxiosError",{value:!0});Us.from=(v,m,C,M,$,W)=>{const G=Object.create(stt);return Pe.toFlatObject(v,G,function(gt){return gt!==Error.prototype},tt=>tt!=="isAxiosError"),Us.call(G,v.message,m,C,M,$),G.cause=v,G.name=v.name,W&&Object.assign(G,W),G};const Aot=null;function jK(v){return Pe.isPlainObject(v)||Pe.isArray(v)}function itt(v){return Pe.endsWith(v,"[]")?v.slice(0,-2):v}function $J(v,m,C){return v?v.concat(m).map(function($,W){return $=itt($),!C&&W?"["+$+"]":$}).join(C?".":""):m}function kot(v){return Pe.isArray(v)&&!v.some(jK)}const Oot=Pe.toFlatObject(Pe,{},null,function(m){return/^is[A-Z]/.test(m)});function z6(v,m,C){if(!Pe.isObject(v))throw new TypeError("target must be an object");m=m||new FormData,C=Pe.toFlatObject(C,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_e,$t){return!Pe.isUndefined($t[_e])});const M=C.metaTokens,$=C.visitor||Tt,W=C.dots,G=C.indexes,gt=(C.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(m);if(!Pe.isFunction($))throw new TypeError("visitor must be a function");function Bt(ze){if(ze===null)return"";if(Pe.isDate(ze))return ze.toISOString();if(!gt&&Pe.isBlob(ze))throw new Us("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(ze)||Pe.isTypedArray(ze)?gt&&typeof Blob=="function"?new Blob([ze]):Buffer.from(ze):ze}function Tt(ze,_e,$t){let Je=ze;if(ze&&!$t&&typeof ze=="object"){if(Pe.endsWith(_e,"{}"))_e=M?_e:_e.slice(0,-2),ze=JSON.stringify(ze);else if(Pe.isArray(ze)&&kot(ze)||(Pe.isFileList(ze)||Pe.endsWith(_e,"[]"))&&(Je=Pe.toArray(ze)))return _e=itt(_e),Je.forEach(function(ft,We){!(Pe.isUndefined(ft)||ft===null)&&m.append(G===!0?$J([_e],We,W):G===null?_e:_e+"[]",Bt(ft))}),!1}return jK(ze)?!0:(m.append($J($t,_e,W),Bt(ze)),!1)}const Lt=[],Le=Object.assign(Oot,{defaultVisitor:Tt,convertValue:Bt,isVisitable:jK});function He(ze,_e){if(!Pe.isUndefined(ze)){if(Lt.indexOf(ze)!==-1)throw Error("Circular reference detected in "+_e.join("."));Lt.push(ze),Pe.forEach(ze,function(Je,Nn){(!(Pe.isUndefined(Je)||Je===null)&&$.call(m,Je,Pe.isString(Nn)?Nn.trim():Nn,_e,Le))===!0&&He(Je,_e?_e.concat(Nn):[Nn])}),Lt.pop()}}if(!Pe.isObject(v))throw new TypeError("data must be an object");return He(v),m}function FJ(v){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(v).replace(/[!'()~]|%20|%00/g,function(M){return m[M]})}function xY(v,m){this._pairs=[],v&&z6(v,this,m)}const att=xY.prototype;att.append=function(m,C){this._pairs.push([m,C])};att.toString=function(m){const C=m?function(M){return m.call(this,M,FJ)}:FJ;return this._pairs.map(function($){return C($[0])+"="+C($[1])},"").join("&")};function Dot(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ctt(v,m,C){if(!m)return v;const M=C&&C.encode||Dot,$=C&&C.serialize;let W;if($?W=$(m,C):W=Pe.isURLSearchParams(m)?m.toString():new xY(m,C).toString(M),W){const G=v.indexOf("#");G!==-1&&(v=v.slice(0,G)),v+=(v.indexOf("?")===-1?"?":"&")+W}return v}class Rot{constructor(){this.handlers=[]}use(m,C,M){return this.handlers.push({fulfilled:m,rejected:C,synchronous:M?M.synchronous:!1,runWhen:M?M.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){Pe.forEach(this.handlers,function(M){M!==null&&m(M)})}}const HJ=Rot,ltt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mot=typeof URLSearchParams<"u"?URLSearchParams:xY,Pot=typeof FormData<"u"?FormData:null,Not=typeof Blob<"u"?Blob:null,Lot={isBrowser:!0,classes:{URLSearchParams:Mot,FormData:Pot,Blob:Not},protocols:["http","https","file","blob","url","data"]},utt=typeof window<"u"&&typeof document<"u",Bot=(v=>utt&&["ReactNative","NativeScript","NS"].indexOf(v)<0)(typeof navigator<"u"&&navigator.product),Iot=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$ot=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:utt,hasStandardBrowserEnv:Bot,hasStandardBrowserWebWorkerEnv:Iot},Symbol.toStringTag,{value:"Module"})),Hb={...$ot,...Lot};function Fot(v,m){return z6(v,new Hb.classes.URLSearchParams,Object.assign({visitor:function(C,M,$,W){return Hb.isNode&&Pe.isBuffer(C)?(this.append(M,C.toString("base64")),!1):W.defaultVisitor.apply(this,arguments)}},m))}function Hot(v){return Pe.matchAll(/\w+|\[(\w*)]/g,v).map(m=>m[0]==="[]"?"":m[1]||m[0])}function Vot(v){const m={},C=Object.keys(v);let M;const $=C.length;let W;for(M=0;M<$;M++)W=C[M],m[W]=v[W];return m}function dtt(v){function m(C,M,$,W){let G=C[W++];if(G==="__proto__")return!0;const tt=Number.isFinite(+G),gt=W>=C.length;return G=!G&&Pe.isArray($)?$.length:G,gt?(Pe.hasOwnProp($,G)?$[G]=[$[G],M]:$[G]=M,!tt):((!$[G]||!Pe.isObject($[G]))&&($[G]=[]),m(C,M,$[G],W)&&Pe.isArray($[G])&&($[G]=Vot($[G])),!tt)}if(Pe.isFormData(v)&&Pe.isFunction(v.entries)){const C={};return Pe.forEachEntry(v,(M,$)=>{m(Hot(M),$,C,0)}),C}return null}function zot(v,m,C){if(Pe.isString(v))try{return(m||JSON.parse)(v),Pe.trim(v)}catch(M){if(M.name!=="SyntaxError")throw M}return(C||JSON.stringify)(v)}const wY={transitional:ltt,adapter:["xhr","http"],transformRequest:[function(m,C){const M=C.getContentType()||"",$=M.indexOf("application/json")>-1,W=Pe.isObject(m);if(W&&Pe.isHTMLForm(m)&&(m=new FormData(m)),Pe.isFormData(m))return $?JSON.stringify(dtt(m)):m;if(Pe.isArrayBuffer(m)||Pe.isBuffer(m)||Pe.isStream(m)||Pe.isFile(m)||Pe.isBlob(m))return m;if(Pe.isArrayBufferView(m))return m.buffer;if(Pe.isURLSearchParams(m))return C.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let tt;if(W){if(M.indexOf("application/x-www-form-urlencoded")>-1)return Fot(m,this.formSerializer).toString();if((tt=Pe.isFileList(m))||M.indexOf("multipart/form-data")>-1){const gt=this.env&&this.env.FormData;return z6(tt?{"files[]":m}:m,gt&&new gt,this.formSerializer)}}return W||$?(C.setContentType("application/json",!1),zot(m)):m}],transformResponse:[function(m){const C=this.transitional||wY.transitional,M=C&&C.forcedJSONParsing,$=this.responseType==="json";if(m&&Pe.isString(m)&&(M&&!this.responseType||$)){const G=!(C&&C.silentJSONParsing)&&$;try{return JSON.parse(m)}catch(tt){if(G)throw tt.name==="SyntaxError"?Us.from(tt,Us.ERR_BAD_RESPONSE,this,null,this.response):tt}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hb.classes.FormData,Blob:Hb.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],v=>{wY.headers[v]={}});const CY=wY,Wot=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uot=v=>{const m={};let C,M,$;return v&&v.split(`
`).forEach(function(G){$=G.indexOf(":"),C=G.substring(0,$).trim().toLowerCase(),M=G.substring($+1).trim(),!(!C||m[C]&&Wot[C])&&(C==="set-cookie"?m[C]?m[C].push(M):m[C]=[M]:m[C]=m[C]?m[C]+", "+M:M)}),m},VJ=Symbol("internals");function P4(v){return v&&String(v).trim().toLowerCase()}function w6(v){return v===!1||v==null?v:Pe.isArray(v)?v.map(w6):String(v)}function jot(v){const m=Object.create(null),C=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let M;for(;M=C.exec(v);)m[M[1]]=M[2];return m}const Zot=v=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(v.trim());function bK(v,m,C,M,$){if(Pe.isFunction(M))return M.call(this,m,C);if($&&(m=C),!!Pe.isString(m)){if(Pe.isString(M))return m.indexOf(M)!==-1;if(Pe.isRegExp(M))return M.test(m)}}function Got(v){return v.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,C,M)=>C.toUpperCase()+M)}function qot(v,m){const C=Pe.toCamelCase(" "+m);["get","set","has"].forEach(M=>{Object.defineProperty(v,M+C,{value:function($,W,G){return this[M].call(this,m,$,W,G)},configurable:!0})})}class W6{constructor(m){m&&this.set(m)}set(m,C,M){const $=this;function W(tt,gt,Bt){const Tt=P4(gt);if(!Tt)throw new Error("header name must be a non-empty string");const Lt=Pe.findKey($,Tt);(!Lt||$[Lt]===void 0||Bt===!0||Bt===void 0&&$[Lt]!==!1)&&($[Lt||gt]=w6(tt))}const G=(tt,gt)=>Pe.forEach(tt,(Bt,Tt)=>W(Bt,Tt,gt));return Pe.isPlainObject(m)||m instanceof this.constructor?G(m,C):Pe.isString(m)&&(m=m.trim())&&!Zot(m)?G(Uot(m),C):m!=null&&W(C,m,M),this}get(m,C){if(m=P4(m),m){const M=Pe.findKey(this,m);if(M){const $=this[M];if(!C)return $;if(C===!0)return jot($);if(Pe.isFunction(C))return C.call(this,$,M);if(Pe.isRegExp(C))return C.exec($);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,C){if(m=P4(m),m){const M=Pe.findKey(this,m);return!!(M&&this[M]!==void 0&&(!C||bK(this,this[M],M,C)))}return!1}delete(m,C){const M=this;let $=!1;function W(G){if(G=P4(G),G){const tt=Pe.findKey(M,G);tt&&(!C||bK(M,M[tt],tt,C))&&(delete M[tt],$=!0)}}return Pe.isArray(m)?m.forEach(W):W(m),$}clear(m){const C=Object.keys(this);let M=C.length,$=!1;for(;M--;){const W=C[M];(!m||bK(this,this[W],W,m,!0))&&(delete this[W],$=!0)}return $}normalize(m){const C=this,M={};return Pe.forEach(this,($,W)=>{const G=Pe.findKey(M,W);if(G){C[G]=w6($),delete C[W];return}const tt=m?Got(W):String(W).trim();tt!==W&&delete C[W],C[tt]=w6($),M[tt]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const C=Object.create(null);return Pe.forEach(this,(M,$)=>{M!=null&&M!==!1&&(C[$]=m&&Pe.isArray(M)?M.join(", "):M)}),C}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,C])=>m+": "+C).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...C){const M=new this(m);return C.forEach($=>M.set($)),M}static accessor(m){const M=(this[VJ]=this[VJ]={accessors:{}}).accessors,$=this.prototype;function W(G){const tt=P4(G);M[tt]||(qot($,G),M[tt]=!0)}return Pe.isArray(m)?m.forEach(W):W(m),this}}W6.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(W6.prototype,({value:v},m)=>{let C=m[0].toUpperCase()+m.slice(1);return{get:()=>v,set(M){this[C]=M}}});Pe.freezeMethods(W6);const s0=W6;function vK(v,m){const C=this||CY,M=m||C,$=s0.from(M.headers);let W=M.data;return Pe.forEach(v,function(tt){W=tt.call(C,W,$.normalize(),m?m.status:void 0)}),$.normalize(),W}function ftt(v){return!!(v&&v.__CANCEL__)}function q4(v,m,C){Us.call(this,v??"canceled",Us.ERR_CANCELED,m,C),this.name="CanceledError"}Pe.inherits(q4,Us,{__CANCEL__:!0});function Kot(v,m,C){const M=C.config.validateStatus;!C.status||!M||M(C.status)?v(C):m(new Us("Request failed with status code "+C.status,[Us.ERR_BAD_REQUEST,Us.ERR_BAD_RESPONSE][Math.floor(C.status/100)-4],C.config,C.request,C))}const Yot=Hb.hasStandardBrowserEnv?{write(v,m,C,M,$,W){const G=[v+"="+encodeURIComponent(m)];Pe.isNumber(C)&&G.push("expires="+new Date(C).toGMTString()),Pe.isString(M)&&G.push("path="+M),Pe.isString($)&&G.push("domain="+$),W===!0&&G.push("secure"),document.cookie=G.join("; ")},read(v){const m=document.cookie.match(new RegExp("(^|;\\s*)("+v+")=([^;]*)"));return m?decodeURIComponent(m[3]):null},remove(v){this.write(v,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xot(v){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(v)}function Jot(v,m){return m?v.replace(/\/?\/$/,"")+"/"+m.replace(/^\/+/,""):v}function htt(v,m){return v&&!Xot(m)?Jot(v,m):m}const Qot=Hb.hasStandardBrowserEnv?function(){const m=/(msie|trident)/i.test(navigator.userAgent),C=document.createElement("a");let M;function $(W){let G=W;return m&&(C.setAttribute("href",G),G=C.href),C.setAttribute("href",G),{href:C.href,protocol:C.protocol?C.protocol.replace(/:$/,""):"",host:C.host,search:C.search?C.search.replace(/^\?/,""):"",hash:C.hash?C.hash.replace(/^#/,""):"",hostname:C.hostname,port:C.port,pathname:C.pathname.charAt(0)==="/"?C.pathname:"/"+C.pathname}}return M=$(window.location.href),function(G){const tt=Pe.isString(G)?$(G):G;return tt.protocol===M.protocol&&tt.host===M.host}}():function(){return function(){return!0}}();function tst(v){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(v);return m&&m[1]||""}function est(v,m){v=v||10;const C=new Array(v),M=new Array(v);let $=0,W=0,G;return m=m!==void 0?m:1e3,function(gt){const Bt=Date.now(),Tt=M[W];G||(G=Bt),C[$]=gt,M[$]=Bt;let Lt=W,Le=0;for(;Lt!==$;)Le+=C[Lt++],Lt=Lt%v;if($=($+1)%v,$===W&&(W=(W+1)%v),Bt-G<m)return;const He=Tt&&Bt-Tt;return He?Math.round(Le*1e3/He):void 0}}function zJ(v,m){let C=0;const M=est(50,250);return $=>{const W=$.loaded,G=$.lengthComputable?$.total:void 0,tt=W-C,gt=M(tt),Bt=W<=G;C=W;const Tt={loaded:W,total:G,progress:G?W/G:void 0,bytes:tt,rate:gt||void 0,estimated:gt&&G&&Bt?(G-W)/gt:void 0,event:$};Tt[m?"download":"upload"]=!0,v(Tt)}}const nst=typeof XMLHttpRequest<"u",ost=nst&&function(v){return new Promise(function(C,M){let $=v.data;const W=s0.from(v.headers).normalize();let{responseType:G,withXSRFToken:tt}=v,gt;function Bt(){v.cancelToken&&v.cancelToken.unsubscribe(gt),v.signal&&v.signal.removeEventListener("abort",gt)}let Tt;if(Pe.isFormData($)){if(Hb.hasStandardBrowserEnv||Hb.hasStandardBrowserWebWorkerEnv)W.setContentType(!1);else if((Tt=W.getContentType())!==!1){const[_e,...$t]=Tt?Tt.split(";").map(Je=>Je.trim()).filter(Boolean):[];W.setContentType([_e||"multipart/form-data",...$t].join("; "))}}let Lt=new XMLHttpRequest;if(v.auth){const _e=v.auth.username||"",$t=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";W.set("Authorization","Basic "+btoa(_e+":"+$t))}const Le=htt(v.baseURL,v.url);Lt.open(v.method.toUpperCase(),ctt(Le,v.params,v.paramsSerializer),!0),Lt.timeout=v.timeout;function He(){if(!Lt)return;const _e=s0.from("getAllResponseHeaders"in Lt&&Lt.getAllResponseHeaders()),Je={data:!G||G==="text"||G==="json"?Lt.responseText:Lt.response,status:Lt.status,statusText:Lt.statusText,headers:_e,config:v,request:Lt};Kot(function(ft){C(ft),Bt()},function(ft){M(ft),Bt()},Je),Lt=null}if("onloadend"in Lt?Lt.onloadend=He:Lt.onreadystatechange=function(){!Lt||Lt.readyState!==4||Lt.status===0&&!(Lt.responseURL&&Lt.responseURL.indexOf("file:")===0)||setTimeout(He)},Lt.onabort=function(){Lt&&(M(new Us("Request aborted",Us.ECONNABORTED,v,Lt)),Lt=null)},Lt.onerror=function(){M(new Us("Network Error",Us.ERR_NETWORK,v,Lt)),Lt=null},Lt.ontimeout=function(){let $t=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded";const Je=v.transitional||ltt;v.timeoutErrorMessage&&($t=v.timeoutErrorMessage),M(new Us($t,Je.clarifyTimeoutError?Us.ETIMEDOUT:Us.ECONNABORTED,v,Lt)),Lt=null},Hb.hasStandardBrowserEnv&&(tt&&Pe.isFunction(tt)&&(tt=tt(v)),tt||tt!==!1&&Qot(Le))){const _e=v.xsrfHeaderName&&v.xsrfCookieName&&Yot.read(v.xsrfCookieName);_e&&W.set(v.xsrfHeaderName,_e)}$===void 0&&W.setContentType(null),"setRequestHeader"in Lt&&Pe.forEach(W.toJSON(),function($t,Je){Lt.setRequestHeader(Je,$t)}),Pe.isUndefined(v.withCredentials)||(Lt.withCredentials=!!v.withCredentials),G&&G!=="json"&&(Lt.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&Lt.addEventListener("progress",zJ(v.onDownloadProgress,!0)),typeof v.onUploadProgress=="function"&&Lt.upload&&Lt.upload.addEventListener("progress",zJ(v.onUploadProgress)),(v.cancelToken||v.signal)&&(gt=_e=>{Lt&&(M(!_e||_e.type?new q4(null,v,Lt):_e),Lt.abort(),Lt=null)},v.cancelToken&&v.cancelToken.subscribe(gt),v.signal&&(v.signal.aborted?gt():v.signal.addEventListener("abort",gt)));const ze=tst(Le);if(ze&&Hb.protocols.indexOf(ze)===-1){M(new Us("Unsupported protocol "+ze+":",Us.ERR_BAD_REQUEST,v));return}Lt.send($||null)})},ZK={http:Aot,xhr:ost};Pe.forEach(ZK,(v,m)=>{if(v){try{Object.defineProperty(v,"name",{value:m})}catch{}Object.defineProperty(v,"adapterName",{value:m})}});const WJ=v=>`- ${v}`,sst=v=>Pe.isFunction(v)||v===null||v===!1,mtt={getAdapter:v=>{v=Pe.isArray(v)?v:[v];const{length:m}=v;let C,M;const $={};for(let W=0;W<m;W++){C=v[W];let G;if(M=C,!sst(C)&&(M=ZK[(G=String(C)).toLowerCase()],M===void 0))throw new Us(`Unknown adapter '${G}'`);if(M)break;$[G||"#"+W]=M}if(!M){const W=Object.entries($).map(([tt,gt])=>`adapter ${tt} `+(gt===!1?"is not supported by the environment":"is not available in the build"));let G=m?W.length>1?`since :
`+W.map(WJ).join(`
`):" "+WJ(W[0]):"as no adapter specified";throw new Us("There is no suitable adapter to dispatch the request "+G,"ERR_NOT_SUPPORT")}return M},adapters:ZK};function yK(v){if(v.cancelToken&&v.cancelToken.throwIfRequested(),v.signal&&v.signal.aborted)throw new q4(null,v)}function UJ(v){return yK(v),v.headers=s0.from(v.headers),v.data=vK.call(v,v.transformRequest),["post","put","patch"].indexOf(v.method)!==-1&&v.headers.setContentType("application/x-www-form-urlencoded",!1),mtt.getAdapter(v.adapter||CY.adapter)(v).then(function(M){return yK(v),M.data=vK.call(v,v.transformResponse,M),M.headers=s0.from(M.headers),M},function(M){return ftt(M)||(yK(v),M&&M.response&&(M.response.data=vK.call(v,v.transformResponse,M.response),M.response.headers=s0.from(M.response.headers))),Promise.reject(M)})}const jJ=v=>v instanceof s0?{...v}:v;function dk(v,m){m=m||{};const C={};function M(Bt,Tt,Lt){return Pe.isPlainObject(Bt)&&Pe.isPlainObject(Tt)?Pe.merge.call({caseless:Lt},Bt,Tt):Pe.isPlainObject(Tt)?Pe.merge({},Tt):Pe.isArray(Tt)?Tt.slice():Tt}function $(Bt,Tt,Lt){if(Pe.isUndefined(Tt)){if(!Pe.isUndefined(Bt))return M(void 0,Bt,Lt)}else return M(Bt,Tt,Lt)}function W(Bt,Tt){if(!Pe.isUndefined(Tt))return M(void 0,Tt)}function G(Bt,Tt){if(Pe.isUndefined(Tt)){if(!Pe.isUndefined(Bt))return M(void 0,Bt)}else return M(void 0,Tt)}function tt(Bt,Tt,Lt){if(Lt in m)return M(Bt,Tt);if(Lt in v)return M(void 0,Bt)}const gt={url:W,method:W,data:W,baseURL:G,transformRequest:G,transformResponse:G,paramsSerializer:G,timeout:G,timeoutMessage:G,withCredentials:G,withXSRFToken:G,adapter:G,responseType:G,xsrfCookieName:G,xsrfHeaderName:G,onUploadProgress:G,onDownloadProgress:G,decompress:G,maxContentLength:G,maxBodyLength:G,beforeRedirect:G,transport:G,httpAgent:G,httpsAgent:G,cancelToken:G,socketPath:G,responseEncoding:G,validateStatus:tt,headers:(Bt,Tt)=>$(jJ(Bt),jJ(Tt),!0)};return Pe.forEach(Object.keys(Object.assign({},v,m)),function(Tt){const Lt=gt[Tt]||$,Le=Lt(v[Tt],m[Tt],Tt);Pe.isUndefined(Le)&&Lt!==tt||(C[Tt]=Le)}),C}const gtt="1.6.8",SY={};["object","boolean","number","function","string","symbol"].forEach((v,m)=>{SY[v]=function(M){return typeof M===v||"a"+(m<1?"n ":" ")+v}});const ZJ={};SY.transitional=function(m,C,M){function $(W,G){return"[Axios v"+gtt+"] Transitional option '"+W+"'"+G+(M?". "+M:"")}return(W,G,tt)=>{if(m===!1)throw new Us($(G," has been removed"+(C?" in "+C:"")),Us.ERR_DEPRECATED);return C&&!ZJ[G]&&(ZJ[G]=!0,console.warn($(G," has been deprecated since v"+C+" and will be removed in the near future"))),m?m(W,G,tt):!0}};function rst(v,m,C){if(typeof v!="object")throw new Us("options must be an object",Us.ERR_BAD_OPTION_VALUE);const M=Object.keys(v);let $=M.length;for(;$-- >0;){const W=M[$],G=m[W];if(G){const tt=v[W],gt=tt===void 0||G(tt,W,v);if(gt!==!0)throw new Us("option "+W+" must be "+gt,Us.ERR_BAD_OPTION_VALUE);continue}if(C!==!0)throw new Us("Unknown option "+W,Us.ERR_BAD_OPTION)}}const GK={assertOptions:rst,validators:SY},$_=GK.validators;class D6{constructor(m){this.defaults=m,this.interceptors={request:new HJ,response:new HJ}}async request(m,C){try{return await this._request(m,C)}catch(M){if(M instanceof Error){let $;Error.captureStackTrace?Error.captureStackTrace($={}):$=new Error;const W=$.stack?$.stack.replace(/^.+\n/,""):"";M.stack?W&&!String(M.stack).endsWith(W.replace(/^.+\n.+\n/,""))&&(M.stack+=`
`+W):M.stack=W}throw M}}_request(m,C){typeof m=="string"?(C=C||{},C.url=m):C=m||{},C=dk(this.defaults,C);const{transitional:M,paramsSerializer:$,headers:W}=C;M!==void 0&&GK.assertOptions(M,{silentJSONParsing:$_.transitional($_.boolean),forcedJSONParsing:$_.transitional($_.boolean),clarifyTimeoutError:$_.transitional($_.boolean)},!1),$!=null&&(Pe.isFunction($)?C.paramsSerializer={serialize:$}:GK.assertOptions($,{encode:$_.function,serialize:$_.function},!0)),C.method=(C.method||this.defaults.method||"get").toLowerCase();let G=W&&Pe.merge(W.common,W[C.method]);W&&Pe.forEach(["delete","get","head","post","put","patch","common"],ze=>{delete W[ze]}),C.headers=s0.concat(G,W);const tt=[];let gt=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(C)===!1||(gt=gt&&_e.synchronous,tt.unshift(_e.fulfilled,_e.rejected))});const Bt=[];this.interceptors.response.forEach(function(_e){Bt.push(_e.fulfilled,_e.rejected)});let Tt,Lt=0,Le;if(!gt){const ze=[UJ.bind(this),void 0];for(ze.unshift.apply(ze,tt),ze.push.apply(ze,Bt),Le=ze.length,Tt=Promise.resolve(C);Lt<Le;)Tt=Tt.then(ze[Lt++],ze[Lt++]);return Tt}Le=tt.length;let He=C;for(Lt=0;Lt<Le;){const ze=tt[Lt++],_e=tt[Lt++];try{He=ze(He)}catch($t){_e.call(this,$t);break}}try{Tt=UJ.call(this,He)}catch(ze){return Promise.reject(ze)}for(Lt=0,Le=Bt.length;Lt<Le;)Tt=Tt.then(Bt[Lt++],Bt[Lt++]);return Tt}getUri(m){m=dk(this.defaults,m);const C=htt(m.baseURL,m.url);return ctt(C,m.params,m.paramsSerializer)}}Pe.forEach(["delete","get","head","options"],function(m){D6.prototype[m]=function(C,M){return this.request(dk(M||{},{method:m,url:C,data:(M||{}).data}))}});Pe.forEach(["post","put","patch"],function(m){function C(M){return function(W,G,tt){return this.request(dk(tt||{},{method:m,headers:M?{"Content-Type":"multipart/form-data"}:{},url:W,data:G}))}}D6.prototype[m]=C(),D6.prototype[m+"Form"]=C(!0)});const C6=D6;class EY{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let C;this.promise=new Promise(function(W){C=W});const M=this;this.promise.then($=>{if(!M._listeners)return;let W=M._listeners.length;for(;W-- >0;)M._listeners[W]($);M._listeners=null}),this.promise.then=$=>{let W;const G=new Promise(tt=>{M.subscribe(tt),W=tt}).then($);return G.cancel=function(){M.unsubscribe(W)},G},m(function(W,G,tt){M.reason||(M.reason=new q4(W,G,tt),C(M.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const C=this._listeners.indexOf(m);C!==-1&&this._listeners.splice(C,1)}static source(){let m;return{token:new EY(function($){m=$}),cancel:m}}}const ist=EY;function ast(v){return function(C){return v.apply(null,C)}}function cst(v){return Pe.isObject(v)&&v.isAxiosError===!0}const qK={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qK).forEach(([v,m])=>{qK[m]=v});const lst=qK;function ptt(v){const m=new C6(v),C=YQ(C6.prototype.request,m);return Pe.extend(C,C6.prototype,m,{allOwnKeys:!0}),Pe.extend(C,m,null,{allOwnKeys:!0}),C.create=function($){return ptt(dk(v,$))},C}const sc=ptt(CY);sc.Axios=C6;sc.CanceledError=q4;sc.CancelToken=ist;sc.isCancel=ftt;sc.VERSION=gtt;sc.toFormData=z6;sc.AxiosError=Us;sc.Cancel=sc.CanceledError;sc.all=function(m){return Promise.all(m)};sc.spread=ast;sc.isAxiosError=cst;sc.mergeConfig=dk;sc.AxiosHeaders=s0;sc.formToJSON=v=>dtt(Pe.isHTMLForm(v)?new FormData(v):v);sc.getAdapter=mtt.getAdapter;sc.HttpStatusCode=lst;sc.default=sc;const ust=sc;var Cd="top",Lh="bottom",Bh="right",Sd="left",U6="auto",Ck=[Cd,Lh,Bh,Sd],ES="start",fk="end",btt="clippingParents",TY="viewport",ak="popper",vtt="reference",KK=Ck.reduce(function(v,m){return v.concat([m+"-"+ES,m+"-"+fk])},[]),AY=[].concat(Ck,[U6]).reduce(function(v,m){return v.concat([m,m+"-"+ES,m+"-"+fk])},[]),ytt="beforeRead",_tt="read",xtt="afterRead",wtt="beforeMain",Ctt="main",Stt="afterMain",Ett="beforeWrite",Ttt="write",Att="afterWrite",ktt=[ytt,_tt,xtt,wtt,Ctt,Stt,Ett,Ttt,Att];function zb(v){return v?(v.nodeName||"").toLowerCase():null}function Ih(v){if(v==null)return window;if(v.toString()!=="[object Window]"){var m=v.ownerDocument;return m&&m.defaultView||window}return v}function TS(v){var m=Ih(v).Element;return v instanceof m||v instanceof Element}function qm(v){var m=Ih(v).HTMLElement;return v instanceof m||v instanceof HTMLElement}function kY(v){if(typeof ShadowRoot>"u")return!1;var m=Ih(v).ShadowRoot;return v instanceof m||v instanceof ShadowRoot}function dst(v){var m=v.state;Object.keys(m.elements).forEach(function(C){var M=m.styles[C]||{},$=m.attributes[C]||{},W=m.elements[C];!qm(W)||!zb(W)||(Object.assign(W.style,M),Object.keys($).forEach(function(G){var tt=$[G];tt===!1?W.removeAttribute(G):W.setAttribute(G,tt===!0?"":tt)}))})}function fst(v){var m=v.state,C={popper:{position:m.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(m.elements.popper.style,C.popper),m.styles=C,m.elements.arrow&&Object.assign(m.elements.arrow.style,C.arrow),function(){Object.keys(m.elements).forEach(function(M){var $=m.elements[M],W=m.attributes[M]||{},G=Object.keys(m.styles.hasOwnProperty(M)?m.styles[M]:C[M]),tt=G.reduce(function(gt,Bt){return gt[Bt]="",gt},{});!qm($)||!zb($)||(Object.assign($.style,tt),Object.keys(W).forEach(function(gt){$.removeAttribute(gt)}))})}}const OY={name:"applyStyles",enabled:!0,phase:"write",fn:dst,effect:fst,requires:["computeStyles"]};function Vb(v){return v.split("-")[0]}var _S=Math.max,R6=Math.min,hk=Math.round;function YK(){var v=navigator.userAgentData;return v!=null&&v.brands&&Array.isArray(v.brands)?v.brands.map(function(m){return m.brand+"/"+m.version}).join(" "):navigator.userAgent}function Ott(){return!/^((?!chrome|android).)*safari/i.test(YK())}function mk(v,m,C){m===void 0&&(m=!1),C===void 0&&(C=!1);var M=v.getBoundingClientRect(),$=1,W=1;m&&qm(v)&&($=v.offsetWidth>0&&hk(M.width)/v.offsetWidth||1,W=v.offsetHeight>0&&hk(M.height)/v.offsetHeight||1);var G=TS(v)?Ih(v):window,tt=G.visualViewport,gt=!Ott()&&C,Bt=(M.left+(gt&&tt?tt.offsetLeft:0))/$,Tt=(M.top+(gt&&tt?tt.offsetTop:0))/W,Lt=M.width/$,Le=M.height/W;return{width:Lt,height:Le,top:Tt,right:Bt+Lt,bottom:Tt+Le,left:Bt,x:Bt,y:Tt}}function DY(v){var m=mk(v),C=v.offsetWidth,M=v.offsetHeight;return Math.abs(m.width-C)<=1&&(C=m.width),Math.abs(m.height-M)<=1&&(M=m.height),{x:v.offsetLeft,y:v.offsetTop,width:C,height:M}}function Dtt(v,m){var C=m.getRootNode&&m.getRootNode();if(v.contains(m))return!0;if(C&&kY(C)){var M=m;do{if(M&&v.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function i0(v){return Ih(v).getComputedStyle(v)}function hst(v){return["table","td","th"].indexOf(zb(v))>=0}function Z_(v){return((TS(v)?v.ownerDocument:v.document)||window.document).documentElement}function j6(v){return zb(v)==="html"?v:v.assignedSlot||v.parentNode||(kY(v)?v.host:null)||Z_(v)}function GJ(v){return!qm(v)||i0(v).position==="fixed"?null:v.offsetParent}function mst(v){var m=/firefox/i.test(YK()),C=/Trident/i.test(YK());if(C&&qm(v)){var M=i0(v);if(M.position==="fixed")return null}var $=j6(v);for(kY($)&&($=$.host);qm($)&&["html","body"].indexOf(zb($))<0;){var W=i0($);if(W.transform!=="none"||W.perspective!=="none"||W.contain==="paint"||["transform","perspective"].indexOf(W.willChange)!==-1||m&&W.willChange==="filter"||m&&W.filter&&W.filter!=="none")return $;$=$.parentNode}return null}function K4(v){for(var m=Ih(v),C=GJ(v);C&&hst(C)&&i0(C).position==="static";)C=GJ(C);return C&&(zb(C)==="html"||zb(C)==="body"&&i0(C).position==="static")?m:C||mst(v)||m}function RY(v){return["top","bottom"].indexOf(v)>=0?"x":"y"}function H4(v,m,C){return _S(v,R6(m,C))}function gst(v,m,C){var M=H4(v,m,C);return M>C?C:M}function Rtt(){return{top:0,right:0,bottom:0,left:0}}function Mtt(v){return Object.assign({},Rtt(),v)}function Ptt(v,m){return m.reduce(function(C,M){return C[M]=v,C},{})}var pst=function(m,C){return m=typeof m=="function"?m(Object.assign({},C.rects,{placement:C.placement})):m,Mtt(typeof m!="number"?m:Ptt(m,Ck))};function bst(v){var m,C=v.state,M=v.name,$=v.options,W=C.elements.arrow,G=C.modifiersData.popperOffsets,tt=Vb(C.placement),gt=RY(tt),Bt=[Sd,Bh].indexOf(tt)>=0,Tt=Bt?"height":"width";if(!(!W||!G)){var Lt=pst($.padding,C),Le=DY(W),He=gt==="y"?Cd:Sd,ze=gt==="y"?Lh:Bh,_e=C.rects.reference[Tt]+C.rects.reference[gt]-G[gt]-C.rects.popper[Tt],$t=G[gt]-C.rects.reference[gt],Je=K4(W),Nn=Je?gt==="y"?Je.clientHeight||0:Je.clientWidth||0:0,ft=_e/2-$t/2,We=Lt[He],to=Nn-Le[Tt]-Lt[ze],ln=Nn/2-Le[Tt]/2+ft,vt=H4(We,ln,to),wn=gt;C.modifiersData[M]=(m={},m[wn]=vt,m.centerOffset=vt-ln,m)}}function vst(v){var m=v.state,C=v.options,M=C.element,$=M===void 0?"[data-popper-arrow]":M;$!=null&&(typeof $=="string"&&($=m.elements.popper.querySelector($),!$)||Dtt(m.elements.popper,$)&&(m.elements.arrow=$))}const Ntt={name:"arrow",enabled:!0,phase:"main",fn:bst,effect:vst,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gk(v){return v.split("-")[1]}var yst={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _st(v,m){var C=v.x,M=v.y,$=m.devicePixelRatio||1;return{x:hk(C*$)/$||0,y:hk(M*$)/$||0}}function qJ(v){var m,C=v.popper,M=v.popperRect,$=v.placement,W=v.variation,G=v.offsets,tt=v.position,gt=v.gpuAcceleration,Bt=v.adaptive,Tt=v.roundOffsets,Lt=v.isFixed,Le=G.x,He=Le===void 0?0:Le,ze=G.y,_e=ze===void 0?0:ze,$t=typeof Tt=="function"?Tt({x:He,y:_e}):{x:He,y:_e};He=$t.x,_e=$t.y;var Je=G.hasOwnProperty("x"),Nn=G.hasOwnProperty("y"),ft=Sd,We=Cd,to=window;if(Bt){var ln=K4(C),vt="clientHeight",wn="clientWidth";if(ln===Ih(C)&&(ln=Z_(C),i0(ln).position!=="static"&&tt==="absolute"&&(vt="scrollHeight",wn="scrollWidth")),ln=ln,$===Cd||($===Sd||$===Bh)&&W===fk){We=Lh;var Hn=Lt&&ln===to&&to.visualViewport?to.visualViewport.height:ln[vt];_e-=Hn-M.height,_e*=gt?1:-1}if($===Sd||($===Cd||$===Lh)&&W===fk){ft=Bh;var sn=Lt&&ln===to&&to.visualViewport?to.visualViewport.width:ln[wn];He-=sn-M.width,He*=gt?1:-1}}var Zt=Object.assign({position:tt},Bt&&yst),pt=Tt===!0?_st({x:He,y:_e},Ih(C)):{x:He,y:_e};if(He=pt.x,_e=pt.y,gt){var jn;return Object.assign({},Zt,(jn={},jn[We]=Nn?"0":"",jn[ft]=Je?"0":"",jn.transform=(to.devicePixelRatio||1)<=1?"translate("+He+"px, "+_e+"px)":"translate3d("+He+"px, "+_e+"px, 0)",jn))}return Object.assign({},Zt,(m={},m[We]=Nn?_e+"px":"",m[ft]=Je?He+"px":"",m.transform="",m))}function xst(v){var m=v.state,C=v.options,M=C.gpuAcceleration,$=M===void 0?!0:M,W=C.adaptive,G=W===void 0?!0:W,tt=C.roundOffsets,gt=tt===void 0?!0:tt,Bt={placement:Vb(m.placement),variation:gk(m.placement),popper:m.elements.popper,popperRect:m.rects.popper,gpuAcceleration:$,isFixed:m.options.strategy==="fixed"};m.modifiersData.popperOffsets!=null&&(m.styles.popper=Object.assign({},m.styles.popper,qJ(Object.assign({},Bt,{offsets:m.modifiersData.popperOffsets,position:m.options.strategy,adaptive:G,roundOffsets:gt})))),m.modifiersData.arrow!=null&&(m.styles.arrow=Object.assign({},m.styles.arrow,qJ(Object.assign({},Bt,{offsets:m.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:gt})))),m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-placement":m.placement})}const MY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xst,data:{}};var c6={passive:!0};function wst(v){var m=v.state,C=v.instance,M=v.options,$=M.scroll,W=$===void 0?!0:$,G=M.resize,tt=G===void 0?!0:G,gt=Ih(m.elements.popper),Bt=[].concat(m.scrollParents.reference,m.scrollParents.popper);return W&&Bt.forEach(function(Tt){Tt.addEventListener("scroll",C.update,c6)}),tt&&gt.addEventListener("resize",C.update,c6),function(){W&&Bt.forEach(function(Tt){Tt.removeEventListener("scroll",C.update,c6)}),tt&&gt.removeEventListener("resize",C.update,c6)}}const PY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wst,data:{}};var Cst={left:"right",right:"left",bottom:"top",top:"bottom"};function S6(v){return v.replace(/left|right|bottom|top/g,function(m){return Cst[m]})}var Sst={start:"end",end:"start"};function KJ(v){return v.replace(/start|end/g,function(m){return Sst[m]})}function NY(v){var m=Ih(v),C=m.pageXOffset,M=m.pageYOffset;return{scrollLeft:C,scrollTop:M}}function LY(v){return mk(Z_(v)).left+NY(v).scrollLeft}function Est(v,m){var C=Ih(v),M=Z_(v),$=C.visualViewport,W=M.clientWidth,G=M.clientHeight,tt=0,gt=0;if($){W=$.width,G=$.height;var Bt=Ott();(Bt||!Bt&&m==="fixed")&&(tt=$.offsetLeft,gt=$.offsetTop)}return{width:W,height:G,x:tt+LY(v),y:gt}}function Tst(v){var m,C=Z_(v),M=NY(v),$=(m=v.ownerDocument)==null?void 0:m.body,W=_S(C.scrollWidth,C.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),G=_S(C.scrollHeight,C.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),tt=-M.scrollLeft+LY(v),gt=-M.scrollTop;return i0($||C).direction==="rtl"&&(tt+=_S(C.clientWidth,$?$.clientWidth:0)-W),{width:W,height:G,x:tt,y:gt}}function BY(v){var m=i0(v),C=m.overflow,M=m.overflowX,$=m.overflowY;return/auto|scroll|overlay|hidden/.test(C+$+M)}function Ltt(v){return["html","body","#document"].indexOf(zb(v))>=0?v.ownerDocument.body:qm(v)&&BY(v)?v:Ltt(j6(v))}function V4(v,m){var C;m===void 0&&(m=[]);var M=Ltt(v),$=M===((C=v.ownerDocument)==null?void 0:C.body),W=Ih(M),G=$?[W].concat(W.visualViewport||[],BY(M)?M:[]):M,tt=m.concat(G);return $?tt:tt.concat(V4(j6(G)))}function XK(v){return Object.assign({},v,{left:v.x,top:v.y,right:v.x+v.width,bottom:v.y+v.height})}function Ast(v,m){var C=mk(v,!1,m==="fixed");return C.top=C.top+v.clientTop,C.left=C.left+v.clientLeft,C.bottom=C.top+v.clientHeight,C.right=C.left+v.clientWidth,C.width=v.clientWidth,C.height=v.clientHeight,C.x=C.left,C.y=C.top,C}function YJ(v,m,C){return m===TY?XK(Est(v,C)):TS(m)?Ast(m,C):XK(Tst(Z_(v)))}function kst(v){var m=V4(j6(v)),C=["absolute","fixed"].indexOf(i0(v).position)>=0,M=C&&qm(v)?K4(v):v;return TS(M)?m.filter(function($){return TS($)&&Dtt($,M)&&zb($)!=="body"}):[]}function Ost(v,m,C,M){var $=m==="clippingParents"?kst(v):[].concat(m),W=[].concat($,[C]),G=W[0],tt=W.reduce(function(gt,Bt){var Tt=YJ(v,Bt,M);return gt.top=_S(Tt.top,gt.top),gt.right=R6(Tt.right,gt.right),gt.bottom=R6(Tt.bottom,gt.bottom),gt.left=_S(Tt.left,gt.left),gt},YJ(v,G,M));return tt.width=tt.right-tt.left,tt.height=tt.bottom-tt.top,tt.x=tt.left,tt.y=tt.top,tt}function Btt(v){var m=v.reference,C=v.element,M=v.placement,$=M?Vb(M):null,W=M?gk(M):null,G=m.x+m.width/2-C.width/2,tt=m.y+m.height/2-C.height/2,gt;switch($){case Cd:gt={x:G,y:m.y-C.height};break;case Lh:gt={x:G,y:m.y+m.height};break;case Bh:gt={x:m.x+m.width,y:tt};break;case Sd:gt={x:m.x-C.width,y:tt};break;default:gt={x:m.x,y:m.y}}var Bt=$?RY($):null;if(Bt!=null){var Tt=Bt==="y"?"height":"width";switch(W){case ES:gt[Bt]=gt[Bt]-(m[Tt]/2-C[Tt]/2);break;case fk:gt[Bt]=gt[Bt]+(m[Tt]/2-C[Tt]/2);break}}return gt}function pk(v,m){m===void 0&&(m={});var C=m,M=C.placement,$=M===void 0?v.placement:M,W=C.strategy,G=W===void 0?v.strategy:W,tt=C.boundary,gt=tt===void 0?btt:tt,Bt=C.rootBoundary,Tt=Bt===void 0?TY:Bt,Lt=C.elementContext,Le=Lt===void 0?ak:Lt,He=C.altBoundary,ze=He===void 0?!1:He,_e=C.padding,$t=_e===void 0?0:_e,Je=Mtt(typeof $t!="number"?$t:Ptt($t,Ck)),Nn=Le===ak?vtt:ak,ft=v.rects.popper,We=v.elements[ze?Nn:Le],to=Ost(TS(We)?We:We.contextElement||Z_(v.elements.popper),gt,Tt,G),ln=mk(v.elements.reference),vt=Btt({reference:ln,element:ft,strategy:"absolute",placement:$}),wn=XK(Object.assign({},ft,vt)),Hn=Le===ak?wn:ln,sn={top:to.top-Hn.top+Je.top,bottom:Hn.bottom-to.bottom+Je.bottom,left:to.left-Hn.left+Je.left,right:Hn.right-to.right+Je.right},Zt=v.modifiersData.offset;if(Le===ak&&Zt){var pt=Zt[$];Object.keys(sn).forEach(function(jn){var pn=[Bh,Lh].indexOf(jn)>=0?1:-1,Ye=[Cd,Lh].indexOf(jn)>=0?"y":"x";sn[jn]+=pt[Ye]*pn})}return sn}function Dst(v,m){m===void 0&&(m={});var C=m,M=C.placement,$=C.boundary,W=C.rootBoundary,G=C.padding,tt=C.flipVariations,gt=C.allowedAutoPlacements,Bt=gt===void 0?AY:gt,Tt=gk(M),Lt=Tt?tt?KK:KK.filter(function(ze){return gk(ze)===Tt}):Ck,Le=Lt.filter(function(ze){return Bt.indexOf(ze)>=0});Le.length===0&&(Le=Lt);var He=Le.reduce(function(ze,_e){return ze[_e]=pk(v,{placement:_e,boundary:$,rootBoundary:W,padding:G})[Vb(_e)],ze},{});return Object.keys(He).sort(function(ze,_e){return He[ze]-He[_e]})}function Rst(v){if(Vb(v)===U6)return[];var m=S6(v);return[KJ(v),m,KJ(m)]}function Mst(v){var m=v.state,C=v.options,M=v.name;if(!m.modifiersData[M]._skip){for(var $=C.mainAxis,W=$===void 0?!0:$,G=C.altAxis,tt=G===void 0?!0:G,gt=C.fallbackPlacements,Bt=C.padding,Tt=C.boundary,Lt=C.rootBoundary,Le=C.altBoundary,He=C.flipVariations,ze=He===void 0?!0:He,_e=C.allowedAutoPlacements,$t=m.options.placement,Je=Vb($t),Nn=Je===$t,ft=gt||(Nn||!ze?[S6($t)]:Rst($t)),We=[$t].concat(ft).reduce(function(ko,Bo){return ko.concat(Vb(Bo)===U6?Dst(m,{placement:Bo,boundary:Tt,rootBoundary:Lt,padding:Bt,flipVariations:ze,allowedAutoPlacements:_e}):Bo)},[]),to=m.rects.reference,ln=m.rects.popper,vt=new Map,wn=!0,Hn=We[0],sn=0;sn<We.length;sn++){var Zt=We[sn],pt=Vb(Zt),jn=gk(Zt)===ES,pn=[Cd,Lh].indexOf(pt)>=0,Ye=pn?"width":"height",F=pk(m,{placement:Zt,boundary:Tt,rootBoundary:Lt,altBoundary:Le,padding:Bt}),Po=pn?jn?Bh:Sd:jn?Lh:Cd;to[Ye]>ln[Ye]&&(Po=S6(Po));var re=S6(Po),wo=[];if(W&&wo.push(F[pt]<=0),tt&&wo.push(F[Po]<=0,F[re]<=0),wo.every(function(ko){return ko})){Hn=Zt,wn=!1;break}vt.set(Zt,wo)}if(wn)for(var bn=ze?3:1,Kt=function(Bo){var Gt=We.find(function(Ae){var X=vt.get(Ae);if(X)return X.slice(0,Bo).every(function(tr){return tr})});if(Gt)return Hn=Gt,"break"},go=bn;go>0;go--){var Cr=Kt(go);if(Cr==="break")break}m.placement!==Hn&&(m.modifiersData[M]._skip=!0,m.placement=Hn,m.reset=!0)}}const Itt={name:"flip",enabled:!0,phase:"main",fn:Mst,requiresIfExists:["offset"],data:{_skip:!1}};function XJ(v,m,C){return C===void 0&&(C={x:0,y:0}),{top:v.top-m.height-C.y,right:v.right-m.width+C.x,bottom:v.bottom-m.height+C.y,left:v.left-m.width-C.x}}function JJ(v){return[Cd,Bh,Lh,Sd].some(function(m){return v[m]>=0})}function Pst(v){var m=v.state,C=v.name,M=m.rects.reference,$=m.rects.popper,W=m.modifiersData.preventOverflow,G=pk(m,{elementContext:"reference"}),tt=pk(m,{altBoundary:!0}),gt=XJ(G,M),Bt=XJ(tt,$,W),Tt=JJ(gt),Lt=JJ(Bt);m.modifiersData[C]={referenceClippingOffsets:gt,popperEscapeOffsets:Bt,isReferenceHidden:Tt,hasPopperEscaped:Lt},m.attributes.popper=Object.assign({},m.attributes.popper,{"data-popper-reference-hidden":Tt,"data-popper-escaped":Lt})}const $tt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pst};function Nst(v,m,C){var M=Vb(v),$=[Sd,Cd].indexOf(M)>=0?-1:1,W=typeof C=="function"?C(Object.assign({},m,{placement:v})):C,G=W[0],tt=W[1];return G=G||0,tt=(tt||0)*$,[Sd,Bh].indexOf(M)>=0?{x:tt,y:G}:{x:G,y:tt}}function Lst(v){var m=v.state,C=v.options,M=v.name,$=C.offset,W=$===void 0?[0,0]:$,G=AY.reduce(function(Tt,Lt){return Tt[Lt]=Nst(Lt,m.rects,W),Tt},{}),tt=G[m.placement],gt=tt.x,Bt=tt.y;m.modifiersData.popperOffsets!=null&&(m.modifiersData.popperOffsets.x+=gt,m.modifiersData.popperOffsets.y+=Bt),m.modifiersData[M]=G}const Ftt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Lst};function Bst(v){var m=v.state,C=v.name;m.modifiersData[C]=Btt({reference:m.rects.reference,element:m.rects.popper,strategy:"absolute",placement:m.placement})}const IY={name:"popperOffsets",enabled:!0,phase:"read",fn:Bst,data:{}};function Ist(v){return v==="x"?"y":"x"}function $st(v){var m=v.state,C=v.options,M=v.name,$=C.mainAxis,W=$===void 0?!0:$,G=C.altAxis,tt=G===void 0?!1:G,gt=C.boundary,Bt=C.rootBoundary,Tt=C.altBoundary,Lt=C.padding,Le=C.tether,He=Le===void 0?!0:Le,ze=C.tetherOffset,_e=ze===void 0?0:ze,$t=pk(m,{boundary:gt,rootBoundary:Bt,padding:Lt,altBoundary:Tt}),Je=Vb(m.placement),Nn=gk(m.placement),ft=!Nn,We=RY(Je),to=Ist(We),ln=m.modifiersData.popperOffsets,vt=m.rects.reference,wn=m.rects.popper,Hn=typeof _e=="function"?_e(Object.assign({},m.rects,{placement:m.placement})):_e,sn=typeof Hn=="number"?{mainAxis:Hn,altAxis:Hn}:Object.assign({mainAxis:0,altAxis:0},Hn),Zt=m.modifiersData.offset?m.modifiersData.offset[m.placement]:null,pt={x:0,y:0};if(ln){if(W){var jn,pn=We==="y"?Cd:Sd,Ye=We==="y"?Lh:Bh,F=We==="y"?"height":"width",Po=ln[We],re=Po+$t[pn],wo=Po-$t[Ye],bn=He?-wn[F]/2:0,Kt=Nn===ES?vt[F]:wn[F],go=Nn===ES?-wn[F]:-vt[F],Cr=m.elements.arrow,ko=He&&Cr?DY(Cr):{width:0,height:0},Bo=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:Rtt(),Gt=Bo[pn],Ae=Bo[Ye],X=H4(0,vt[F],ko[F]),tr=ft?vt[F]/2-bn-X-Gt-sn.mainAxis:Kt-X-Gt-sn.mainAxis,oo=ft?-vt[F]/2+bn+X+Ae+sn.mainAxis:go+X+Ae+sn.mainAxis,hs=m.elements.arrow&&K4(m.elements.arrow),ie=hs?We==="y"?hs.clientTop||0:hs.clientLeft||0:0,Vt=(jn=Zt==null?void 0:Zt[We])!=null?jn:0,Mt=Po+tr-Vt-ie,_t=Po+oo-Vt,Ht=H4(He?R6(re,Mt):re,Po,He?_S(wo,_t):wo);ln[We]=Ht,pt[We]=Ht-Po}if(tt){var wt,Gn=We==="x"?Cd:Sd,kn=We==="x"?Lh:Bh,Se=ln[to],vo=to==="y"?"height":"width",yo=Se+$t[Gn],Ms=Se-$t[kn],co=[Cd,Sd].indexOf(Je)!==-1,ks=(wt=Zt==null?void 0:Zt[to])!=null?wt:0,Ei=co?yo:Se-vt[vo]-wn[vo]-ks+sn.altAxis,Ps=co?Se+vt[vo]+wn[vo]-ks-sn.altAxis:Ms,vs=He&&co?gst(Ei,Se,Ps):H4(He?Ei:yo,Se,He?Ps:Ms);ln[to]=vs,pt[to]=vs-Se}m.modifiersData[M]=pt}}const Htt={name:"preventOverflow",enabled:!0,phase:"main",fn:$st,requiresIfExists:["offset"]};function Fst(v){return{scrollLeft:v.scrollLeft,scrollTop:v.scrollTop}}function Hst(v){return v===Ih(v)||!qm(v)?NY(v):Fst(v)}function Vst(v){var m=v.getBoundingClientRect(),C=hk(m.width)/v.offsetWidth||1,M=hk(m.height)/v.offsetHeight||1;return C!==1||M!==1}function zst(v,m,C){C===void 0&&(C=!1);var M=qm(m),$=qm(m)&&Vst(m),W=Z_(m),G=mk(v,$,C),tt={scrollLeft:0,scrollTop:0},gt={x:0,y:0};return(M||!M&&!C)&&((zb(m)!=="body"||BY(W))&&(tt=Hst(m)),qm(m)?(gt=mk(m,!0),gt.x+=m.clientLeft,gt.y+=m.clientTop):W&&(gt.x=LY(W))),{x:G.left+tt.scrollLeft-gt.x,y:G.top+tt.scrollTop-gt.y,width:G.width,height:G.height}}function Wst(v){var m=new Map,C=new Set,M=[];v.forEach(function(W){m.set(W.name,W)});function $(W){C.add(W.name);var G=[].concat(W.requires||[],W.requiresIfExists||[]);G.forEach(function(tt){if(!C.has(tt)){var gt=m.get(tt);gt&&$(gt)}}),M.push(W)}return v.forEach(function(W){C.has(W.name)||$(W)}),M}function Ust(v){var m=Wst(v);return ktt.reduce(function(C,M){return C.concat(m.filter(function($){return $.phase===M}))},[])}function jst(v){var m;return function(){return m||(m=new Promise(function(C){Promise.resolve().then(function(){m=void 0,C(v())})})),m}}function Zst(v){var m=v.reduce(function(C,M){var $=C[M.name];return C[M.name]=$?Object.assign({},$,M,{options:Object.assign({},$.options,M.options),data:Object.assign({},$.data,M.data)}):M,C},{});return Object.keys(m).map(function(C){return m[C]})}var QJ={placement:"bottom",modifiers:[],strategy:"absolute"};function tQ(){for(var v=arguments.length,m=new Array(v),C=0;C<v;C++)m[C]=arguments[C];return!m.some(function(M){return!(M&&typeof M.getBoundingClientRect=="function")})}function Z6(v){v===void 0&&(v={});var m=v,C=m.defaultModifiers,M=C===void 0?[]:C,$=m.defaultOptions,W=$===void 0?QJ:$;return function(tt,gt,Bt){Bt===void 0&&(Bt=W);var Tt={placement:"bottom",orderedModifiers:[],options:Object.assign({},QJ,W),modifiersData:{},elements:{reference:tt,popper:gt},attributes:{},styles:{}},Lt=[],Le=!1,He={state:Tt,setOptions:function(Je){var Nn=typeof Je=="function"?Je(Tt.options):Je;_e(),Tt.options=Object.assign({},W,Tt.options,Nn),Tt.scrollParents={reference:TS(tt)?V4(tt):tt.contextElement?V4(tt.contextElement):[],popper:V4(gt)};var ft=Ust(Zst([].concat(M,Tt.options.modifiers)));return Tt.orderedModifiers=ft.filter(function(We){return We.enabled}),ze(),He.update()},forceUpdate:function(){if(!Le){var Je=Tt.elements,Nn=Je.reference,ft=Je.popper;if(tQ(Nn,ft)){Tt.rects={reference:zst(Nn,K4(ft),Tt.options.strategy==="fixed"),popper:DY(ft)},Tt.reset=!1,Tt.placement=Tt.options.placement,Tt.orderedModifiers.forEach(function(sn){return Tt.modifiersData[sn.name]=Object.assign({},sn.data)});for(var We=0;We<Tt.orderedModifiers.length;We++){if(Tt.reset===!0){Tt.reset=!1,We=-1;continue}var to=Tt.orderedModifiers[We],ln=to.fn,vt=to.options,wn=vt===void 0?{}:vt,Hn=to.name;typeof ln=="function"&&(Tt=ln({state:Tt,options:wn,name:Hn,instance:He})||Tt)}}}},update:jst(function(){return new Promise(function($t){He.forceUpdate(),$t(Tt)})}),destroy:function(){_e(),Le=!0}};if(!tQ(tt,gt))return He;He.setOptions(Bt).then(function($t){!Le&&Bt.onFirstUpdate&&Bt.onFirstUpdate($t)});function ze(){Tt.orderedModifiers.forEach(function($t){var Je=$t.name,Nn=$t.options,ft=Nn===void 0?{}:Nn,We=$t.effect;if(typeof We=="function"){var to=We({state:Tt,name:Je,instance:He,options:ft}),ln=function(){};Lt.push(to||ln)}})}function _e(){Lt.forEach(function($t){return $t()}),Lt=[]}return He}}var Gst=Z6(),qst=[PY,IY,MY,OY],Kst=Z6({defaultModifiers:qst}),Yst=[PY,IY,MY,OY,Ftt,Itt,Htt,Ntt,$tt],$Y=Z6({defaultModifiers:Yst});const Vtt=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Stt,afterRead:xtt,afterWrite:Att,applyStyles:OY,arrow:Ntt,auto:U6,basePlacements:Ck,beforeMain:wtt,beforeRead:ytt,beforeWrite:Ett,bottom:Lh,clippingParents:btt,computeStyles:MY,createPopper:$Y,createPopperBase:Gst,createPopperLite:Kst,detectOverflow:pk,end:fk,eventListeners:PY,flip:Itt,hide:$tt,left:Sd,main:Ctt,modifierPhases:ktt,offset:Ftt,placements:AY,popper:ak,popperGenerator:Z6,popperOffsets:IY,preventOverflow:Htt,read:_tt,reference:vtt,right:Bh,start:ES,top:Cd,variationPlacements:KK,viewport:TY,write:Ttt},Symbol.toStringTag,{value:"Module"}));/*!
  * CoreUI v4.3.2 (https://coreui.io)
  * Copyright 2023 The CoreUI Team (https://github.com/orgs/coreui/people)
  * Licensed under MIT (https://github.com/coreui/coreui/blob/main/LICENSE)
  */const F_=new Map,E6={set(v,m,C){F_.has(v)||F_.set(v,new Map);const M=F_.get(v);if(!M.has(m)&&M.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(M.keys())[0]}.`);return}M.set(m,C)},get(v,m){return F_.has(v)&&F_.get(v).get(m)||null},remove(v,m){if(!F_.has(v))return;const C=F_.get(v);C.delete(m),C.size===0&&F_.delete(v)}},Xst=1e6,Jst=1e3,JK="transitionend",ztt=v=>(v&&window.CSS&&window.CSS.escape&&(v=v.replace(/#([^\s"#']+)/g,(m,C)=>`#${CSS.escape(C)}`)),v),Qst=v=>v==null?`${v}`:Object.prototype.toString.call(v).match(/\s([a-z]+)/i)[1].toLowerCase(),trt=v=>{do v+=Math.floor(Math.random()*Xst);while(document.getElementById(v));return v},ert=v=>{if(!v)return 0;let{transitionDuration:m,transitionDelay:C}=window.getComputedStyle(v);const M=Number.parseFloat(m),$=Number.parseFloat(C);return!M&&!$?0:(m=m.split(",")[0],C=C.split(",")[0],(Number.parseFloat(m)+Number.parseFloat(C))*Jst)},Wtt=v=>{v.dispatchEvent(new Event(JK))},r0=v=>!v||typeof v!="object"?!1:(typeof v.jquery<"u"&&(v=v[0]),typeof v.nodeType<"u"),V_=v=>r0(v)?v.jquery?v[0]:v:typeof v=="string"&&v.length>0?document.querySelector(ztt(v)):null,Sk=v=>{if(!r0(v)||v.getClientRects().length===0)return!1;const m=getComputedStyle(v).getPropertyValue("visibility")==="visible",C=v.closest("details:not([open])");if(!C)return m;if(C!==v){const M=v.closest("summary");if(M&&M.parentNode!==C||M===null)return!1}return m},z_=v=>!v||v.nodeType!==Node.ELEMENT_NODE||v.classList.contains("disabled")?!0:typeof v.disabled<"u"?v.disabled:v.hasAttribute("disabled")&&v.getAttribute("disabled")!=="false",Utt=v=>{if(!document.documentElement.attachShadow)return null;if(typeof v.getRootNode=="function"){const m=v.getRootNode();return m instanceof ShadowRoot?m:null}return v instanceof ShadowRoot?v:v.parentNode?Utt(v.parentNode):null},M6=()=>{},Y4=v=>{v.offsetHeight},jtt=()=>window.jQuery&&!document.body.hasAttribute("data-coreui-no-jquery")?window.jQuery:null,_K=[],nrt=v=>{document.readyState==="loading"?(_K.length||document.addEventListener("DOMContentLoaded",()=>{for(const m of _K)m()}),_K.push(v)):v()},Ym=()=>document.documentElement.dir==="rtl",Ef=v=>{nrt(()=>{const m=jtt();if(m){const C=v.NAME,M=m.fn[C];m.fn[C]=v.jQueryInterface,m.fn[C].Constructor=v,m.fn[C].noConflict=()=>(m.fn[C]=M,v.jQueryInterface)}})},Sf=(v,m=[],C=v)=>typeof v=="function"?v(...m):C,Ztt=(v,m,C=!0)=>{if(!C){Sf(v);return}const M=5,$=ert(m)+M;let W=!1;const G=({target:tt})=>{tt===m&&(W=!0,m.removeEventListener(JK,G),Sf(v))};m.addEventListener(JK,G),setTimeout(()=>{W||Wtt(m)},$)},FY=(v,m,C,M)=>{const $=v.length;let W=v.indexOf(m);return W===-1?!C&&M?v[$-1]:v[0]:(W+=C?1:-1,M&&(W=(W+$)%$),v[Math.max(0,Math.min(W,$-1))])},ort=/[^.]*(?=\..*)\.|.*/,srt=/\..*/,rrt=/::\d+$/,xK={};let eQ=1;const Gtt={mouseenter:"mouseover",mouseleave:"mouseout"},irt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function qtt(v,m){return m&&`${m}::${eQ++}`||v.uidEvent||eQ++}function Ktt(v){const m=qtt(v);return v.uidEvent=m,xK[m]=xK[m]||{},xK[m]}function art(v,m){return function C(M){return HY(M,{delegateTarget:v}),C.oneOff&&Be.off(v,M.type,m),m.apply(v,[M])}}function crt(v,m,C){return function M($){const W=v.querySelectorAll(m);for(let{target:G}=$;G&&G!==this;G=G.parentNode)for(const tt of W)if(tt===G)return HY($,{delegateTarget:G}),M.oneOff&&Be.off(v,$.type,m,C),C.apply(G,[$])}}function Ytt(v,m,C=null){return Object.values(v).find(M=>M.callable===m&&M.delegationSelector===C)}function Xtt(v,m,C){const M=typeof m=="string",$=M?C:m||C;let W=Jtt(v);return irt.has(W)||(W=v),[M,$,W]}function nQ(v,m,C,M,$){if(typeof m!="string"||!v)return;let[W,G,tt]=Xtt(m,C,M);m in Gtt&&(G=(ze=>function(_e){if(!_e.relatedTarget||_e.relatedTarget!==_e.delegateTarget&&!_e.delegateTarget.contains(_e.relatedTarget))return ze.call(this,_e)})(G));const gt=Ktt(v),Bt=gt[tt]||(gt[tt]={}),Tt=Ytt(Bt,G,W?C:null);if(Tt){Tt.oneOff=Tt.oneOff&&$;return}const Lt=qtt(G,m.replace(ort,"")),Le=W?crt(v,C,G):art(v,G);Le.delegationSelector=W?C:null,Le.callable=G,Le.oneOff=$,Le.uidEvent=Lt,Bt[Lt]=Le,v.addEventListener(tt,Le,W)}function QK(v,m,C,M,$){const W=Ytt(m[C],M,$);W&&(v.removeEventListener(C,W,!!$),delete m[C][W.uidEvent])}function lrt(v,m,C,M){const $=m[C]||{};for(const[W,G]of Object.entries($))W.includes(M)&&QK(v,m,C,G.callable,G.delegationSelector)}function Jtt(v){return v=v.replace(srt,""),Gtt[v]||v}const Be={on(v,m,C,M){nQ(v,m,C,M,!1)},one(v,m,C,M){nQ(v,m,C,M,!0)},off(v,m,C,M){if(typeof m!="string"||!v)return;const[$,W,G]=Xtt(m,C,M),tt=G!==m,gt=Ktt(v),Bt=gt[G]||{},Tt=m.startsWith(".");if(typeof W<"u"){if(!Object.keys(Bt).length)return;QK(v,gt,G,W,$?C:null);return}if(Tt)for(const Lt of Object.keys(gt))lrt(v,gt,Lt,m.slice(1));for(const[Lt,Le]of Object.entries(Bt)){const He=Lt.replace(rrt,"");(!tt||m.includes(He))&&QK(v,gt,G,Le.callable,Le.delegationSelector)}},trigger(v,m,C){if(typeof m!="string"||!v)return null;const M=jtt(),$=Jtt(m),W=m!==$;let G=null,tt=!0,gt=!0,Bt=!1;W&&M&&(G=M.Event(m,C),M(v).trigger(G),tt=!G.isPropagationStopped(),gt=!G.isImmediatePropagationStopped(),Bt=G.isDefaultPrevented());const Tt=HY(new Event(m,{bubbles:tt,cancelable:!0}),C);return Bt&&Tt.preventDefault(),gt&&v.dispatchEvent(Tt),Tt.defaultPrevented&&G&&G.preventDefault(),Tt}};function HY(v,m={}){for(const[C,M]of Object.entries(m))try{v[C]=M}catch{Object.defineProperty(v,C,{configurable:!0,get(){return M}})}return v}function oQ(v){if(v==="true")return!0;if(v==="false")return!1;if(v===Number(v).toString())return Number(v);if(v===""||v==="null")return null;if(typeof v!="string")return v;try{return JSON.parse(decodeURIComponent(v))}catch{return v}}function wK(v){return v.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}const Km={setDataAttribute(v,m,C){v.setAttribute(`data-coreui-${wK(m)}`,C)},removeDataAttribute(v,m){v.removeAttribute(`data-coreui-${wK(m)}`)},getDataAttributes(v){if(!v)return{};const m={},C=Object.keys(v.dataset).filter(M=>M.startsWith("coreui")&&!M.startsWith("coreuiConfig"));for(const M of C){let $=M.replace(/^coreui/,"");$=$.charAt(0).toLowerCase()+$.slice(1,$.length),m[$]=oQ(v.dataset[M])}return m},getDataAttribute(v,m){return oQ(v.getAttribute(`data-coreui-${wK(m)}`))}};class X4{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(m){return m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m}_mergeConfigObj(m,C){const M=r0(C)?Km.getDataAttribute(C,"config"):{};return{...this.constructor.Default,...typeof M=="object"?M:{},...r0(C)?Km.getDataAttributes(C):{},...typeof m=="object"?m:{}}}_typeCheckConfig(m,C=this.constructor.DefaultType){for(const[M,$]of Object.entries(C)){const W=m[M],G=r0(W)?"element":Qst(W);if(!new RegExp($).test(G))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${M}" provided type "${G}" but expected type "${$}".`)}}}const urt="4.3.2";class $h extends X4{constructor(m,C){super(),m=V_(m),m&&(this._element=m,this._config=this._getConfig(C),E6.set(this._element,this.constructor.DATA_KEY,this))}dispose(){E6.remove(this._element,this.constructor.DATA_KEY),Be.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,C,M=!0){Ztt(m,C,M)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return E6.get(V_(m),this.DATA_KEY)}static getOrCreateInstance(m,C={}){return this.getInstance(m)||new this(m,typeof C=="object"?C:null)}static get VERSION(){return urt}static get DATA_KEY(){return`coreui.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}const CK=v=>{let m=v.getAttribute("data-coreui-target");if(!m||m==="#"){let C=v.getAttribute("href");if(!C||!C.includes("#")&&!C.startsWith("."))return null;C.includes("#")&&!C.startsWith("#")&&(C=`#${C.split("#")[1]}`),m=C&&C!=="#"?ztt(C.trim()):null}return m},ao={find(v,m=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(m,v))},findOne(v,m=document.documentElement){return Element.prototype.querySelector.call(m,v)},children(v,m){return[].concat(...v.children).filter(C=>C.matches(m))},parents(v,m){const C=[];let M=v.parentNode.closest(m);for(;M;)C.push(M),M=M.parentNode.closest(m);return C},prev(v,m){let C=v.previousElementSibling;for(;C;){if(C.matches(m))return[C];C=C.previousElementSibling}return[]},next(v,m){let C=v.nextElementSibling;for(;C;){if(C.matches(m))return[C];C=C.nextElementSibling}return[]},focusableChildren(v){const m=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(C=>`${C}:not([tabindex^="-"])`).join(",");return this.find(m,v).filter(C=>!z_(C)&&Sk(C))},getSelectorFromElement(v){const m=CK(v);return m&&ao.findOne(m)?m:null},getElementFromSelector(v){const m=CK(v);return m?ao.findOne(m):null},getMultipleElementsFromSelector(v){const m=CK(v);return m?ao.find(m):[]}},G6=(v,m="hide")=>{const C=`click.dismiss${v.EVENT_KEY}`,M=v.NAME;Be.on(document,C,`[data-coreui-dismiss="${M}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),z_(this))return;const W=ao.getElementFromSelector(this)||this.closest(`.${M}`);v.getOrCreateInstance(W)[m]()})},drt="alert",frt="coreui.alert",Qtt=`.${frt}`,hrt=`close${Qtt}`,mrt=`closed${Qtt}`,grt="fade",prt="show";class J4 extends $h{static get NAME(){return drt}close(){if(Be.trigger(this._element,hrt).defaultPrevented)return;this._element.classList.remove(prt);const C=this._element.classList.contains(grt);this._queueCallback(()=>this._destroyElement(),this._element,C)}_destroyElement(){this._element.remove(),Be.trigger(this._element,mrt),this.dispose()}static jQueryInterface(m){return this.each(function(){const C=J4.getOrCreateInstance(this);if(typeof m=="string"){if(C[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);C[m](this)}})}}G6(J4,"close");Ef(J4);const brt="button",vrt="coreui.button",yrt=`.${vrt}`,_rt=".data-api",xrt="active",sQ='[data-coreui-toggle="button"]',wrt=`click${yrt}${_rt}`;class Q4 extends $h{static get NAME(){return brt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(xrt))}static jQueryInterface(m){return this.each(function(){const C=Q4.getOrCreateInstance(this);m==="toggle"&&C[m]()})}}Be.on(document,wrt,sQ,v=>{v.preventDefault();const m=v.target.closest(sQ);Q4.getOrCreateInstance(m).toggle()});Ef(Q4);const Crt="swipe",Ek=".coreui.swipe",Srt=`touchstart${Ek}`,Ert=`touchmove${Ek}`,Trt=`touchend${Ek}`,Art=`pointerdown${Ek}`,krt=`pointerup${Ek}`,Ort="touch",Drt="pen",Rrt="pointer-event",Mrt=40,Prt={endCallback:null,leftCallback:null,rightCallback:null},Nrt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class P6 extends X4{constructor(m,C){super(),this._element=m,!(!m||!P6.isSupported())&&(this._config=this._getConfig(C),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Prt}static get DefaultType(){return Nrt}static get NAME(){return Crt}dispose(){Be.off(this._element,Ek)}_start(m){if(!this._supportPointerEvents){this._deltaX=m.touches[0].clientX;return}this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX)}_end(m){this._eventIsPointerPenTouch(m)&&(this._deltaX=m.clientX-this._deltaX),this._handleSwipe(),Sf(this._config.endCallback)}_move(m){this._deltaX=m.touches&&m.touches.length>1?0:m.touches[0].clientX-this._deltaX}_handleSwipe(){const m=Math.abs(this._deltaX);if(m<=Mrt)return;const C=m/this._deltaX;this._deltaX=0,C&&Sf(C>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Be.on(this._element,Art,m=>this._start(m)),Be.on(this._element,krt,m=>this._end(m)),this._element.classList.add(Rrt)):(Be.on(this._element,Srt,m=>this._start(m)),Be.on(this._element,Ert,m=>this._move(m)),Be.on(this._element,Trt,m=>this._end(m)))}_eventIsPointerPenTouch(m){return this._supportPointerEvents&&(m.pointerType===Drt||m.pointerType===Ort)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Lrt="carousel",Brt="coreui.carousel",G_=`.${Brt}`,tet=".data-api",Irt="ArrowLeft",$rt="ArrowRight",Frt=500,N4="next",rk="prev",ck="left",T6="right",Hrt=`slide${G_}`,SK=`slid${G_}`,Vrt=`keydown${G_}`,zrt=`mouseenter${G_}`,Wrt=`mouseleave${G_}`,Urt=`dragstart${G_}`,jrt=`load${G_}${tet}`,Zrt=`click${G_}${tet}`,eet="carousel",l6="active",Grt="slide",qrt="carousel-item-end",Krt="carousel-item-start",Yrt="carousel-item-next",Xrt="carousel-item-prev",net=".active",oet=".carousel-item",Jrt=net+oet,Qrt=".carousel-item img",tit=".carousel-indicators",eit="[data-coreui-slide], [data-coreui-slide-to]",nit='[data-coreui-ride="carousel"]',oit={[Irt]:T6,[$rt]:ck},sit={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},rit={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Tk extends $h{constructor(m,C){super(m,C),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ao.findOne(tit,this._element),this._addEventListeners(),this._config.ride===eet&&this.cycle()}static get Default(){return sit}static get DefaultType(){return rit}static get NAME(){return Lrt}next(){this._slide(N4)}nextWhenVisible(){!document.hidden&&Sk(this._element)&&this.next()}prev(){this._slide(rk)}pause(){this._isSliding&&Wtt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Be.one(this._element,SK,()=>this.cycle());return}this.cycle()}}to(m){const C=this._getItems();if(m>C.length-1||m<0)return;if(this._isSliding){Be.one(this._element,SK,()=>this.to(m));return}const M=this._getItemIndex(this._getActive());if(M===m)return;const $=m>M?N4:rk;this._slide($,C[m])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(m){return m.defaultInterval=m.interval,m}_addEventListeners(){this._config.keyboard&&Be.on(this._element,Vrt,m=>this._keydown(m)),this._config.pause==="hover"&&(Be.on(this._element,zrt,()=>this.pause()),Be.on(this._element,Wrt,()=>this._maybeEnableCycle())),this._config.touch&&P6.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const M of ao.find(Qrt,this._element))Be.on(M,Urt,$=>$.preventDefault());const C={leftCallback:()=>this._slide(this._directionToOrder(ck)),rightCallback:()=>this._slide(this._directionToOrder(T6)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Frt+this._config.interval))}};this._swipeHelper=new P6(this._element,C)}_keydown(m){if(/input|textarea/i.test(m.target.tagName))return;const C=oit[m.key];C&&(m.preventDefault(),this._slide(this._directionToOrder(C)))}_getItemIndex(m){return this._getItems().indexOf(m)}_setActiveIndicatorElement(m){if(!this._indicatorsElement)return;const C=ao.findOne(net,this._indicatorsElement);C.classList.remove(l6),C.removeAttribute("aria-current");const M=ao.findOne(`[data-coreui-slide-to="${m}"]`,this._indicatorsElement);M&&(M.classList.add(l6),M.setAttribute("aria-current","true"))}_updateInterval(){const m=this._activeElement||this._getActive();if(!m)return;const C=Number.parseInt(m.getAttribute("data-coreui-interval"),10);this._config.interval=C||this._config.defaultInterval}_slide(m,C=null){if(this._isSliding)return;const M=this._getActive(),$=m===N4,W=C||FY(this._getItems(),M,$,this._config.wrap);if(W===M)return;const G=this._getItemIndex(W),tt=He=>Be.trigger(this._element,He,{relatedTarget:W,direction:this._orderToDirection(m),from:this._getItemIndex(M),to:G});if(tt(Hrt).defaultPrevented||!M||!W)return;const Bt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(G),this._activeElement=W;const Tt=$?Krt:qrt,Lt=$?Yrt:Xrt;W.classList.add(Lt),Y4(W),M.classList.add(Tt),W.classList.add(Tt);const Le=()=>{W.classList.remove(Tt,Lt),W.classList.add(l6),M.classList.remove(l6,Lt,Tt),this._isSliding=!1,tt(SK)};this._queueCallback(Le,M,this._isAnimated()),Bt&&this.cycle()}_isAnimated(){return this._element.classList.contains(Grt)}_getActive(){return ao.findOne(Jrt,this._element)}_getItems(){return ao.find(oet,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(m){return Ym()?m===ck?rk:N4:m===ck?N4:rk}_orderToDirection(m){return Ym()?m===rk?ck:T6:m===rk?T6:ck}static jQueryInterface(m){return this.each(function(){const C=Tk.getOrCreateInstance(this,m);if(typeof m=="number"){C.to(m);return}if(typeof m=="string"){if(C[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);C[m]()}})}}Be.on(document,Zrt,eit,function(v){const m=ao.getElementFromSelector(this);if(!m||!m.classList.contains(eet))return;v.preventDefault();const C=Tk.getOrCreateInstance(m),M=this.getAttribute("data-coreui-slide-to");if(M){C.to(M),C._maybeEnableCycle();return}if(Km.getDataAttribute(this,"slide")==="next"){C.next(),C._maybeEnableCycle();return}C.prev(),C._maybeEnableCycle()});Be.on(window,jrt,()=>{const v=ao.find(nit);for(const m of v)Tk.getOrCreateInstance(m)});Ef(Tk);const iit="collapse",ait="coreui.collapse",tN=`.${ait}`,cit=".data-api",lit=`show${tN}`,uit=`shown${tN}`,dit=`hide${tN}`,fit=`hidden${tN}`,hit=`click${tN}${cit}`,EK="show",uk="collapse",u6="collapsing",mit="collapsed",git=`:scope .${uk} .${uk}`,pit="collapse-horizontal",bit="width",vit="height",yit=".collapse.show, .collapse.collapsing",tY='[data-coreui-toggle="collapse"]',_it={parent:null,toggle:!0},xit={parent:"(null|element)",toggle:"boolean"};class bk extends $h{constructor(m,C){super(m,C),this._isTransitioning=!1,this._triggerArray=[];const M=ao.find(tY);for(const $ of M){const W=ao.getSelectorFromElement($),G=ao.find(W).filter(tt=>tt===this._element);W!==null&&G.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _it}static get DefaultType(){return xit}static get NAME(){return iit}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let m=[];if(this._config.parent&&(m=this._getFirstLevelChildren(yit).filter(tt=>tt!==this._element).map(tt=>bk.getOrCreateInstance(tt,{toggle:!1}))),m.length&&m[0]._isTransitioning||Be.trigger(this._element,lit).defaultPrevented)return;for(const tt of m)tt.hide();const M=this._getDimension();this._element.classList.remove(uk),this._element.classList.add(u6),this._element.style[M]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const $=()=>{this._isTransitioning=!1,this._element.classList.remove(u6),this._element.classList.add(uk,EK),this._element.style[M]="",Be.trigger(this._element,uit)},G=`scroll${M[0].toUpperCase()+M.slice(1)}`;this._queueCallback($,this._element,!0),this._element.style[M]=`${this._element[G]}px`}hide(){if(this._isTransitioning||!this._isShown()||Be.trigger(this._element,dit).defaultPrevented)return;const C=this._getDimension();this._element.style[C]=`${this._element.getBoundingClientRect()[C]}px`,Y4(this._element),this._element.classList.add(u6),this._element.classList.remove(uk,EK);for(const $ of this._triggerArray){const W=ao.getElementFromSelector($);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([$],!1)}this._isTransitioning=!0;const M=()=>{this._isTransitioning=!1,this._element.classList.remove(u6),this._element.classList.add(uk),Be.trigger(this._element,fit)};this._element.style[C]="",this._queueCallback(M,this._element,!0)}_isShown(m=this._element){return m.classList.contains(EK)}_configAfterMerge(m){return m.toggle=!!m.toggle,m.parent=V_(m.parent),m}_getDimension(){return this._element.classList.contains(pit)?bit:vit}_initializeChildren(){if(!this._config.parent)return;const m=this._getFirstLevelChildren(tY);for(const C of m){const M=ao.getElementFromSelector(C);M&&this._addAriaAndCollapsedClass([C],this._isShown(M))}}_getFirstLevelChildren(m){const C=ao.find(git,this._config.parent);return ao.find(m,this._config.parent).filter(M=>!C.includes(M))}_addAriaAndCollapsedClass(m,C){if(m.length)for(const M of m)M.classList.toggle(mit,!C),M.setAttribute("aria-expanded",C)}static jQueryInterface(m){const C={};return typeof m=="string"&&/show|hide/.test(m)&&(C.toggle=!1),this.each(function(){const M=bk.getOrCreateInstance(this,C);if(typeof m=="string"){if(typeof M[m]>"u")throw new TypeError(`No method named "${m}"`);M[m]()}})}}Be.on(document,hit,tY,function(v){(v.target.tagName==="A"||v.delegateTarget&&v.delegateTarget.tagName==="A")&&v.preventDefault();for(const m of ao.getMultipleElementsFromSelector(this))bk.getOrCreateInstance(m,{toggle:!1}).toggle()});Ef(bk);const rQ="dropdown",wit="coreui.dropdown",OS=`.${wit}`,VY=".data-api",Cit="Escape",iQ="Tab",Sit="ArrowUp",aQ="ArrowDown",Eit=2,Tit=`hide${OS}`,Ait=`hidden${OS}`,kit=`show${OS}`,Oit=`shown${OS}`,set=`click${OS}${VY}`,ret=`keydown${OS}${VY}`,Dit=`keyup${OS}${VY}`,lk="show",Rit="dropup",Mit="dropend",Pit="dropstart",Nit="dropup-center",Lit="dropdown-center",bS='[data-coreui-toggle="dropdown"]:not(.disabled):not(:disabled)',Bit=`${bS}.${lk}`,A6=".dropdown-menu",Iit=".navbar",$it=".navbar-nav",Fit=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Hit=Ym()?"top-end":"top-start",Vit=Ym()?"top-start":"top-end",zit=Ym()?"bottom-end":"bottom-start",Wit=Ym()?"bottom-start":"bottom-end",Uit=Ym()?"left-start":"right-start",jit=Ym()?"right-start":"left-start",Zit="top",Git="bottom",qit={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Kit={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rp extends $h{constructor(m,C){super(m,C),this._popper=null,this._parent=this._element.parentNode,this._menu=ao.next(this._element,A6)[0]||ao.prev(this._element,A6)[0]||ao.findOne(A6,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return qit}static get DefaultType(){return Kit}static get NAME(){return rQ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(z_(this._element)||this._isShown())return;const m={relatedTarget:this._element};if(!Be.trigger(this._element,kit,m).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest($it))for(const M of[].concat(...document.body.children))Be.on(M,"mouseover",M6);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(lk),this._element.classList.add(lk),Be.trigger(this._element,Oit,m)}}hide(){if(z_(this._element)||!this._isShown())return;const m={relatedTarget:this._element};this._completeHide(m)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(m){if(!Be.trigger(this._element,Tit,m).defaultPrevented){if("ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Be.off(M,"mouseover",M6);this._popper&&this._popper.destroy(),this._menu.classList.remove(lk),this._element.classList.remove(lk),this._element.setAttribute("aria-expanded","false"),Km.removeDataAttribute(this._menu,"popper"),Be.trigger(this._element,Ait,m)}}_getConfig(m){if(m=super._getConfig(m),typeof m.reference=="object"&&!r0(m.reference)&&typeof m.reference.getBoundingClientRect!="function")throw new TypeError(`${rQ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return m}_createPopper(){if(typeof Vtt>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let m=this._element;this._config.reference==="parent"?m=this._parent:r0(this._config.reference)?m=V_(this._config.reference):typeof this._config.reference=="object"&&(m=this._config.reference);const C=this._getPopperConfig();this._popper=$Y(m,this._menu,C)}_isShown(){return this._menu.classList.contains(lk)}_getPlacement(){const m=this._parent;if(m.classList.contains(Mit))return Uit;if(m.classList.contains(Pit))return jit;if(m.classList.contains(Nit))return Zit;if(m.classList.contains(Lit))return Git;const C=getComputedStyle(this._menu).getPropertyValue("--cui-position").trim()==="end";return m.classList.contains(Rit)?C?Vit:Hit:C?Wit:zit}_detectNavbar(){return this._element.closest(Iit)!==null}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(C=>Number.parseInt(C,10)):typeof m=="function"?C=>m(C,this._element):m}_getPopperConfig(){const m={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Km.setDataAttribute(this._menu,"popper","static"),m.modifiers=[{name:"applyStyles",enabled:!1}]),{...m,...Sf(this._config.popperConfig,[m])}}_selectMenuItem({key:m,target:C}){const M=ao.find(Fit,this._menu).filter($=>Sk($));M.length&&FY(M,C,m===aQ,!M.includes(C)).focus()}static jQueryInterface(m){return this.each(function(){const C=rp.getOrCreateInstance(this,m);if(typeof m=="string"){if(typeof C[m]>"u")throw new TypeError(`No method named "${m}"`);C[m]()}})}static clearMenus(m){if(m.button===Eit||m.type==="keyup"&&m.key!==iQ)return;const C=ao.find(Bit);for(const M of C){const $=rp.getInstance(M);if(!$||$._config.autoClose===!1)continue;const W=m.composedPath(),G=W.includes($._menu);if(W.includes($._element)||$._config.autoClose==="inside"&&!G||$._config.autoClose==="outside"&&G||$._menu.contains(m.target)&&(m.type==="keyup"&&m.key===iQ||/input|select|option|textarea|form/i.test(m.target.tagName)))continue;const tt={relatedTarget:$._element};m.type==="click"&&(tt.clickEvent=m),$._completeHide(tt)}}static dataApiKeydownHandler(m){const C=/input|textarea/i.test(m.target.tagName),M=m.key===Cit,$=[Sit,aQ].includes(m.key);if(!$&&!M||C&&!M)return;m.preventDefault();const W=this.matches(bS)?this:ao.prev(this,bS)[0]||ao.next(this,bS)[0]||ao.findOne(bS,m.delegateTarget.parentNode),G=rp.getOrCreateInstance(W);if($){m.stopPropagation(),G.show(),G._selectMenuItem(m);return}G._isShown()&&(m.stopPropagation(),G.hide(),W.focus())}}Be.on(document,ret,bS,rp.dataApiKeydownHandler);Be.on(document,ret,A6,rp.dataApiKeydownHandler);Be.on(document,set,rp.clearMenus);Be.on(document,Dit,rp.clearMenus);Be.on(document,set,bS,function(v){v.preventDefault(),rp.getOrCreateInstance(this).toggle()});Ef(rp);const iet="backdrop",Yit="fade",cQ="show",lQ=`mousedown.coreui.${iet}`,Xit={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jit={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zY extends X4{constructor(m){super(),this._config=this._getConfig(m),this._isAppended=!1,this._element=null}static get Default(){return Xit}static get DefaultType(){return Jit}static get NAME(){return iet}show(m){if(!this._config.isVisible){Sf(m);return}this._append();const C=this._getElement();this._config.isAnimated&&Y4(C),C.classList.add(cQ),this._emulateAnimation(()=>{Sf(m)})}hide(m){if(!this._config.isVisible){Sf(m);return}this._getElement().classList.remove(cQ),this._emulateAnimation(()=>{this.dispose(),Sf(m)})}dispose(){this._isAppended&&(Be.off(this._element,lQ),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const m=document.createElement("div");m.className=this._config.className,this._config.isAnimated&&m.classList.add(Yit),this._element=m}return this._element}_configAfterMerge(m){return m.rootElement=V_(m.rootElement),m}_append(){if(this._isAppended)return;const m=this._getElement();this._config.rootElement.append(m),Be.on(m,lQ,()=>{Sf(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(m){Ztt(m,this._getElement(),this._config.isAnimated)}}const Qit="focustrap",tat="coreui.focustrap",N6=`.${tat}`,eat=`focusin${N6}`,nat=`keydown.tab${N6}`,oat="Tab",sat="forward",uQ="backward",rat={autofocus:!0,trapElement:null},iat={autofocus:"boolean",trapElement:"element"};class aet extends X4{constructor(m){super(),this._config=this._getConfig(m),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rat}static get DefaultType(){return iat}static get NAME(){return Qit}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Be.off(document,N6),Be.on(document,eat,m=>this._handleFocusin(m)),Be.on(document,nat,m=>this._handleKeydown(m)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Be.off(document,N6))}_handleFocusin(m){const{trapElement:C}=this._config;if(m.target===document||m.target===C||C.contains(m.target))return;const M=ao.focusableChildren(C);M.length===0?C.focus():this._lastTabNavDirection===uQ?M[M.length-1].focus():M[0].focus()}_handleKeydown(m){m.key===oat&&(this._lastTabNavDirection=m.shiftKey?uQ:sat)}}const dQ=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fQ=".sticky-top",d6="padding-right",hQ="margin-right";class j4{constructor(){this._element=document.body}getWidth(){const m=document.documentElement.clientWidth;return Math.abs(window.innerWidth-m)}hide(){const m=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,d6,C=>C+m),this._setElementAttributes(dQ,d6,C=>C+m),this._setElementAttributes(fQ,hQ,C=>C-m)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,d6),this._resetElementAttributes(dQ,d6),this._resetElementAttributes(fQ,hQ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(m,C,M){const $=this.getWidth(),W=G=>{if(G!==this._element&&window.innerWidth>G.clientWidth+$)return;this._saveInitialAttribute(G,C);const tt=window.getComputedStyle(G).getPropertyValue(C);G.style.setProperty(C,`${M(Number.parseFloat(tt))}px`)};this._applyManipulationCallback(m,W)}_saveInitialAttribute(m,C){const M=m.style.getPropertyValue(C);M&&Km.setDataAttribute(m,C,M)}_resetElementAttributes(m,C){const M=$=>{const W=Km.getDataAttribute($,C);if(W===null){$.style.removeProperty(C);return}Km.removeDataAttribute($,C),$.style.setProperty(C,W)};this._applyManipulationCallback(m,M)}_applyManipulationCallback(m,C){if(r0(m)){C(m);return}for(const M of ao.find(m,this._element))C(M)}}const aat="modal",cat="coreui.modal",Xm=`.${cat}`,lat=".data-api",uat="Escape",dat=`hide${Xm}`,fat=`hidePrevented${Xm}`,cet=`hidden${Xm}`,uet=`show${Xm}`,hat=`shown${Xm}`,mat=`resize${Xm}`,gat=`click.dismiss${Xm}`,pat=`mousedown.dismiss${Xm}`,bat=`keydown.dismiss${Xm}`,vat=`click${Xm}${lat}`,mQ="modal-open",yat="fade",gQ="show",TK="modal-static",_at=".modal.show",xat=".modal-dialog",wat=".modal-body",Cat='[data-coreui-toggle="modal"]',Sat={backdrop:!0,focus:!0,keyboard:!0},Eat={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class AS extends $h{constructor(m,C){super(m,C),this._dialog=ao.findOne(xat,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new j4,this._addEventListeners()}static get Default(){return Sat}static get DefaultType(){return Eat}static get NAME(){return aat}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){this._isShown||this._isTransitioning||Be.trigger(this._element,uet,{relatedTarget:m}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(mQ),this._adjustDialog(),this._backdrop.show(()=>this._showElement(m)))}hide(){!this._isShown||this._isTransitioning||Be.trigger(this._element,dat).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(gQ),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Be.off(window,Xm),Be.off(this._dialog,Xm),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zY({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new aet({trapElement:this._element})}_showElement(m){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const C=ao.findOne(wat,this._dialog);C&&(C.scrollTop=0),Y4(this._element),this._element.classList.add(gQ);const M=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Be.trigger(this._element,hat,{relatedTarget:m})};this._queueCallback(M,this._dialog,this._isAnimated())}_addEventListeners(){Be.on(this._element,bat,m=>{if(m.key===uat){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Be.on(window,mat,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Be.on(this._element,pat,m=>{Be.one(this._element,gat,C=>{if(!(this._element!==m.target||this._element!==C.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(mQ),this._resetAdjustments(),this._scrollBar.reset(),Be.trigger(this._element,cet)})}_isAnimated(){return this._element.classList.contains(yat)}_triggerBackdropTransition(){if(Be.trigger(this._element,fat).defaultPrevented)return;const C=this._element.scrollHeight>document.documentElement.clientHeight,M=this._element.style.overflowY;M==="hidden"||this._element.classList.contains(TK)||(C||(this._element.style.overflowY="hidden"),this._element.classList.add(TK),this._queueCallback(()=>{this._element.classList.remove(TK),this._queueCallback(()=>{this._element.style.overflowY=M},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const m=this._element.scrollHeight>document.documentElement.clientHeight,C=this._scrollBar.getWidth(),M=C>0;if(M&&!m){const $=Ym()?"paddingLeft":"paddingRight";this._element.style[$]=`${C}px`}if(!M&&m){const $=Ym()?"paddingRight":"paddingLeft";this._element.style[$]=`${C}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(m,C){return this.each(function(){const M=AS.getOrCreateInstance(this,m);if(typeof m=="string"){if(typeof M[m]>"u")throw new TypeError(`No method named "${m}"`);M[m](C)}})}}Be.on(document,vat,Cat,function(v){const m=ao.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&v.preventDefault(),Be.one(m,uet,$=>{$.defaultPrevented||Be.one(m,cet,()=>{Sk(this)&&this.focus()})});const C=ao.findOne(_at);C&&AS.getInstance(C).hide(),AS.getOrCreateInstance(m).toggle(this)});G6(AS);Ef(AS);const Tat="navigation",eY="coreui.navigation",det=`.${eY}`,fet=".data-api",pQ={activeLinksExact:!0,groupsAutoCollapse:!0},Aat={activeLinksExact:"boolean",groupsAutoCollapse:"(string|boolean)"},bQ="active",gS="show",kat="nav-group",vQ="nav-group-toggle",Oat=`click${det}${fet}`,Dat=`load${det}${fet}`,yQ=".nav-group",AK=".nav-group-items",_Q=".nav-group-toggle",Rat=".nav-link",Mat='[data-coreui="navigation"]';class vk extends $h{constructor(m,C){super(m),this._config=this._getConfig(C),this._setActiveLink(),this._addEventListeners(),E6.set(m,eY,this)}static get Default(){return pQ}static get DATA_KEY(){return eY}static get DefaultType(){return Aat}static get NAME(){return Tat}_getConfig(m){return m={...pQ,...Km.getDataAttributes(this._element),...typeof m=="object"?m:{}},m}_setActiveLink(){for(const m of Array.from(this._element.querySelectorAll(Rat))){if(m.classList.contains(vQ))continue;let C=String(window.location);const M=/\?.*=/,$=/\?./,W=/#./;(M.test(C)||$.test(C))&&(C=C.split("?")[0]),W.test(C)&&(C=C.split("#")[0]),this._config.activeLinksExact&&m.href===C&&(m.classList.add(bQ),Array.from(this._getParents(m,yQ)).forEach(G=>{G.classList.add(gS),G.setAttribute("aria-expanded",!0)})),!this._config.activeLinksExact&&m.href.startsWith(C)&&(m.classList.add(bQ),Array.from(this._getParents(m,yQ)).forEach(G=>{G.classList.add(gS),G.setAttribute("aria-expanded",!0)}))}}_getParents(m,C){const M=[];for(;m&&m!==document;m=m.parentNode)C?m.matches(C)&&M.push(m):M.push(m);return M}_getAllSiblings(m,C){const M=[];m=m.parentNode.firstChild;do m.nodeType!==3&&m.nodeType!==8&&(!C||C(m))&&M.push(m);while(m=m.nextSibling);return M}_getChildren(m,C){const M=[];for(;m;m=m.nextSibling)m.nodeType===1&&m!==C&&M.push(m);return M}_getSiblings(m,C){return this._getChildren(m.parentNode.firstChild,m).filter(C)}_slideDown(m){m.style.height="auto";const C=m.clientHeight;m.style.height="0px",setTimeout(()=>{m.style.height=`${C}px`},0),this._queueCallback(()=>{m.style.height="auto"},m,!0)}_slideUp(m,C){const M=m.clientHeight;m.style.height=`${M}px`,setTimeout(()=>{m.style.height="0px"},0),this._queueCallback(()=>{typeof C=="function"&&C()},m,!0)}_toggleGroupItems(m){let C=m.target;C.classList.contains(vQ)||(C=C.closest(_Q));const M=$=>!!($.classList.contains(kat)&&$.classList.contains(gS));if(this._config.groupsAutoCollapse===!0)for(const $ of this._getSiblings(C.parentNode,M))this._slideUp(ao.findOne(AK,$),()=>{$.classList.remove(gS),$.setAttribute("aria-expanded",!1)});if(C.parentNode.classList.contains(gS)){this._slideUp(ao.findOne(AK,C.parentNode),()=>{C.parentNode.classList.remove(gS),C.parentNode.setAttribute("aria-expanded",!1)});return}C.parentNode.classList.add(gS),C.parentNode.setAttribute("aria-expanded",!0),this._slideDown(ao.findOne(AK,C.parentNode))}_addEventListeners(){Be.on(this._element,Oat,_Q,m=>{m.preventDefault(),this._toggleGroupItems(m,this)})}static navigationInterface(m,C){const M=vk.getOrCreateInstance(m,C);if(typeof C=="string"){if(typeof M[C]>"u")throw new TypeError(`No method named "${C}"`);M[C]()}}static jQueryInterface(m){return this.each(function(){vk.navigationInterface(this,m)})}}Be.on(window,Dat,()=>{for(const v of Array.from(document.querySelectorAll(Mat)))vk.navigationInterface(v)});Ef(vk);const Pat="offcanvas",Nat="coreui.offcanvas",l0=`.${Nat}`,het=".data-api",Lat=`load${l0}${het}`,Bat="Escape",xQ="show",wQ="showing",CQ="hiding",Iat="offcanvas-backdrop",met=".offcanvas.show",$at=`show${l0}`,Fat=`shown${l0}`,Hat=`hide${l0}`,SQ=`hidePrevented${l0}`,get=`hidden${l0}`,Vat=`resize${l0}`,zat=`click${l0}${het}`,Wat=`keydown.dismiss${l0}`,Uat='[data-coreui-toggle="offcanvas"]',jat={backdrop:!0,keyboard:!0,scroll:!1},Zat={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class a0 extends $h{constructor(m,C){super(m,C),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return jat}static get DefaultType(){return Zat}static get NAME(){return Pat}toggle(m){return this._isShown?this.hide():this.show(m)}show(m){if(this._isShown||Be.trigger(this._element,$at,{relatedTarget:m}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new j4().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wQ);const M=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(xQ),this._element.classList.remove(wQ),Be.trigger(this._element,Fat,{relatedTarget:m})};this._queueCallback(M,this._element,!0)}hide(){if(!this._isShown||Be.trigger(this._element,Hat).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CQ),this._backdrop.hide();const C=()=>{this._element.classList.remove(xQ,CQ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new j4().reset(),Be.trigger(this._element,get)};this._queueCallback(C,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=()=>{if(this._config.backdrop==="static"){Be.trigger(this._element,SQ);return}this.hide()},C=!!this._config.backdrop;return new zY({className:Iat,isVisible:C,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:C?m:null})}_initializeFocusTrap(){return new aet({trapElement:this._element})}_addEventListeners(){Be.on(this._element,Wat,m=>{if(m.key===Bat){if(this._config.keyboard){this.hide();return}Be.trigger(this._element,SQ)}})}static jQueryInterface(m){return this.each(function(){const C=a0.getOrCreateInstance(this,m);if(typeof m=="string"){if(C[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);C[m](this)}})}}Be.on(document,zat,Uat,function(v){const m=ao.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&v.preventDefault(),z_(this))return;Be.one(m,get,()=>{Sk(this)&&this.focus()});const C=ao.findOne(met);C&&C!==m&&a0.getInstance(C).hide(),a0.getOrCreateInstance(m).toggle(this)});Be.on(window,Lat,()=>{for(const v of ao.find(met))a0.getOrCreateInstance(v).show()});Be.on(window,Vat,()=>{for(const v of ao.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(v).position!=="fixed"&&a0.getOrCreateInstance(v).hide()});G6(a0);Ef(a0);const Gat=/^aria-[\w-]*$/i,pet={"*":["class","dir","id","lang","role",Gat],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qat=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Kat=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Yat=(v,m)=>{const C=v.nodeName.toLowerCase();return m.includes(C)?qat.has(C)?!!Kat.test(v.nodeValue):!0:m.filter(M=>M instanceof RegExp).some(M=>M.test(C))};function Xat(v,m,C){if(!v.length)return v;if(C&&typeof C=="function")return C(v);const $=new window.DOMParser().parseFromString(v,"text/html"),W=[].concat(...$.body.querySelectorAll("*"));for(const G of W){const tt=G.nodeName.toLowerCase();if(!Object.keys(m).includes(tt)){G.remove();continue}const gt=[].concat(...G.attributes),Bt=[].concat(m["*"]||[],m[tt]||[]);for(const Tt of gt)Yat(Tt,Bt)||G.removeAttribute(Tt.nodeName)}return $.body.innerHTML}const Jat="TemplateFactory",Qat={allowList:pet,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},tct={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ect={entry:"(string|element|function|null)",selector:"(string|element)"};class nct extends X4{constructor(m){super(),this._config=this._getConfig(m)}static get Default(){return Qat}static get DefaultType(){return tct}static get NAME(){return Jat}getContent(){return Object.values(this._config.content).map(m=>this._resolvePossibleFunction(m)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(m){return this._checkContent(m),this._config.content={...this._config.content,...m},this}toHtml(){const m=document.createElement("div");m.innerHTML=this._maybeSanitize(this._config.template);for(const[$,W]of Object.entries(this._config.content))this._setContent(m,W,$);const C=m.children[0],M=this._resolvePossibleFunction(this._config.extraClass);return M&&C.classList.add(...M.split(" ")),C}_typeCheckConfig(m){super._typeCheckConfig(m),this._checkContent(m.content)}_checkContent(m){for(const[C,M]of Object.entries(m))super._typeCheckConfig({selector:C,entry:M},ect)}_setContent(m,C,M){const $=ao.findOne(M,m);if($){if(C=this._resolvePossibleFunction(C),!C){$.remove();return}if(r0(C)){this._putElementInTemplate(V_(C),$);return}if(this._config.html){$.innerHTML=this._maybeSanitize(C);return}$.textContent=C}}_maybeSanitize(m){return this._config.sanitize?Xat(m,this._config.allowList,this._config.sanitizeFn):m}_resolvePossibleFunction(m){return Sf(m,[this])}_putElementInTemplate(m,C){if(this._config.html){C.innerHTML="",C.append(m);return}C.textContent=m.textContent}}const oct="tooltip",sct=new Set(["sanitize","allowList","sanitizeFn"]),kK="fade",rct="modal",f6="show",ict=".tooltip-inner",EQ=`.${rct}`,TQ="hide.coreui.modal",L4="hover",OK="focus",act="click",cct="manual",lct="hide",uct="hidden",dct="show",fct="shown",hct="inserted",mct="click",gct="focusin",pct="focusout",bct="mouseenter",vct="mouseleave",yct={AUTO:"auto",TOP:"top",RIGHT:Ym()?"left":"right",BOTTOM:"bottom",LEFT:Ym()?"right":"left"},_ct={allowList:pet,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xct={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class DS extends $h{constructor(m,C){if(typeof Vtt>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(m,C),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _ct}static get DefaultType(){return xct}static get NAME(){return oct}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Be.off(this._element.closest(EQ),TQ,this._hideModalHandler),this._element.getAttribute("data-coreui-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-coreui-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const m=Be.trigger(this._element,this.constructor.eventName(dct)),M=(Utt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(m.defaultPrevented||!M)return;this._disposePopper();const $=this._getTipElement();this._element.setAttribute("aria-describedby",$.getAttribute("id"));const{container:W}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(W.append($),Be.trigger(this._element,this.constructor.eventName(hct))),this._popper=this._createPopper($),$.classList.add(f6),"ontouchstart"in document.documentElement)for(const tt of[].concat(...document.body.children))Be.on(tt,"mouseover",M6);const G=()=>{Be.trigger(this._element,this.constructor.eventName(fct)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(G,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Be.trigger(this._element,this.constructor.eventName(lct)).defaultPrevented)return;if(this._getTipElement().classList.remove(f6),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))Be.off($,"mouseover",M6);this._activeTrigger[act]=!1,this._activeTrigger[OK]=!1,this._activeTrigger[L4]=!1,this._isHovered=null;const M=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Be.trigger(this._element,this.constructor.eventName(uct)))};this._queueCallback(M,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(m){const C=this._getTemplateFactory(m).toHtml();if(!C)return null;C.classList.remove(kK,f6),C.classList.add(`bs-${this.constructor.NAME}-auto`);const M=trt(this.constructor.NAME).toString();return C.setAttribute("id",M),this._isAnimated()&&C.classList.add(kK),C}setContent(m){this._newContent=m,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(m){return this._templateFactory?this._templateFactory.changeContent(m):this._templateFactory=new nct({...this._config,content:m,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ict]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-coreui-original-title")}_initializeOnDelegatedTarget(m){return this.constructor.getOrCreateInstance(m.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(kK)}_isShown(){return this.tip&&this.tip.classList.contains(f6)}_createPopper(m){const C=Sf(this._config.placement,[this,m,this._element]),M=yct[C.toUpperCase()];return $Y(this._element,m,this._getPopperConfig(M))}_getOffset(){const{offset:m}=this._config;return typeof m=="string"?m.split(",").map(C=>Number.parseInt(C,10)):typeof m=="function"?C=>m(C,this._element):m}_resolvePossibleFunction(m){return Sf(m,[this._element])}_getPopperConfig(m){const C={placement:m,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:M=>{this._getTipElement().setAttribute("data-popper-placement",M.state.placement)}}]};return{...C,...Sf(this._config.popperConfig,[C])}}_setListeners(){const m=this._config.trigger.split(" ");for(const C of m)if(C==="click")Be.on(this._element,this.constructor.eventName(mct),this._config.selector,M=>{this._initializeOnDelegatedTarget(M).toggle()});else if(C!==cct){const M=C===L4?this.constructor.eventName(bct):this.constructor.eventName(gct),$=C===L4?this.constructor.eventName(vct):this.constructor.eventName(pct);Be.on(this._element,M,this._config.selector,W=>{const G=this._initializeOnDelegatedTarget(W);G._activeTrigger[W.type==="focusin"?OK:L4]=!0,G._enter()}),Be.on(this._element,$,this._config.selector,W=>{const G=this._initializeOnDelegatedTarget(W);G._activeTrigger[W.type==="focusout"?OK:L4]=G._element.contains(W.relatedTarget),G._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Be.on(this._element.closest(EQ),TQ,this._hideModalHandler)}_fixTitle(){const m=this._element.getAttribute("title");m&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",m),this._element.setAttribute("data-coreui-original-title",m),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(m,C){clearTimeout(this._timeout),this._timeout=setTimeout(m,C)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(m){const C=Km.getDataAttributes(this._element);for(const M of Object.keys(C))sct.has(M)&&delete C[M];return m={...C,...typeof m=="object"&&m?m:{}},m=this._mergeConfigObj(m),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}_configAfterMerge(m){return m.container=m.container===!1?document.body:V_(m.container),typeof m.delay=="number"&&(m.delay={show:m.delay,hide:m.delay}),typeof m.title=="number"&&(m.title=m.title.toString()),typeof m.content=="number"&&(m.content=m.content.toString()),m}_getDelegateConfig(){const m={};for(const[C,M]of Object.entries(this._config))this.constructor.Default[C]!==M&&(m[C]=M);return m.selector=!1,m.trigger="manual",m}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(m){return this.each(function(){const C=DS.getOrCreateInstance(this,m);if(typeof m=="string"){if(typeof C[m]>"u")throw new TypeError(`No method named "${m}"`);C[m]()}})}}Ef(DS);const wct="popover",Cct=".popover-header",Sct=".popover-body",Ect={...DS.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Tct={...DS.DefaultType,content:"(null|string|element|function)"};class q6 extends DS{static get Default(){return Ect}static get DefaultType(){return Tct}static get NAME(){return wct}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Cct]:this._getTitle(),[Sct]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(m){return this.each(function(){const C=q6.getOrCreateInstance(this,m);if(typeof m=="string"){if(typeof C[m]>"u")throw new TypeError(`No method named "${m}"`);C[m]()}})}}Ef(q6);const Act="scrollspy",kct="coreui.scrollspy",WY=`.${kct}`,Oct=".data-api",Dct=`activate${WY}`,AQ=`click${WY}`,Rct=`load${WY}${Oct}`,Mct="dropdown-item",ik="active",Pct='[data-coreui-spy="scroll"]',DK="[href]",Nct=".nav, .list-group",kQ=".nav-link",Lct=".nav-item",Bct=".list-group-item",Ict=`${kQ}, ${Lct} > ${kQ}, ${Bct}`,$ct=".dropdown",Fct=".dropdown-toggle",Hct={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Vct={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class eN extends $h{constructor(m,C){super(m,C),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hct}static get DefaultType(){return Vct}static get NAME(){return Act}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const m of this._observableSections.values())this._observer.observe(m)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(m){return m.target=V_(m.target)||document.body,m.rootMargin=m.offset?`${m.offset}px 0px -30%`:m.rootMargin,typeof m.threshold=="string"&&(m.threshold=m.threshold.split(",").map(C=>Number.parseFloat(C))),m}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Be.off(this._config.target,AQ),Be.on(this._config.target,AQ,DK,m=>{const C=this._observableSections.get(m.target.hash);if(C){m.preventDefault();const M=this._rootElement||window,$=C.offsetTop-this._element.offsetTop;if(M.scrollTo){M.scrollTo({top:$,behavior:"smooth"});return}M.scrollTop=$}}))}_getNewObserver(){const m={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(C=>this._observerCallback(C),m)}_observerCallback(m){const C=G=>this._targetLinks.get(`#${G.target.id}`),M=G=>{this._previousScrollData.visibleEntryTop=G.target.offsetTop,this._process(C(G))},$=(this._rootElement||document.documentElement).scrollTop,W=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const G of m){if(!G.isIntersecting){this._activeTarget=null,this._clearActiveClass(C(G));continue}const tt=G.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(W&&tt){if(M(G),!$)return;continue}!W&&!tt&&M(G)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const m=ao.find(DK,this._config.target);for(const C of m){if(!C.hash||z_(C))continue;const M=ao.findOne(decodeURI(C.hash),this._element);Sk(M)&&(this._targetLinks.set(decodeURI(C.hash),C),this._observableSections.set(C.hash,M))}}_process(m){this._activeTarget!==m&&(this._clearActiveClass(this._config.target),this._activeTarget=m,m.classList.add(ik),this._activateParents(m),Be.trigger(this._element,Dct,{relatedTarget:m}))}_activateParents(m){if(m.classList.contains(Mct)){ao.findOne(Fct,m.closest($ct)).classList.add(ik);return}for(const C of ao.parents(m,Nct))for(const M of ao.prev(C,Ict))M.classList.add(ik)}_clearActiveClass(m){m.classList.remove(ik);const C=ao.find(`${DK}.${ik}`,m);for(const M of C)M.classList.remove(ik)}static jQueryInterface(m){return this.each(function(){const C=eN.getOrCreateInstance(this,m);if(typeof m=="string"){if(C[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);C[m]()}})}}Be.on(window,Rct,()=>{for(const v of ao.find(Pct))eN.getOrCreateInstance(v)});Ef(eN);const zct="sidebar",Wct="coreui.sidebar",Ak=`.${Wct}`,bet=".data-api",OQ={},Uct={},jct="sidebar-backdrop",RK="hide",MK="show",PK="sidebar-narrow",Zct="sidebar-overlaid",NK="sidebar-narrow-unfoldable",Gct=`hide${Ak}`,qct=`hidden${Ak}`,Kct="resize",Yct=`show${Ak}`,Xct=`shown${Ak}`,h6=`click${Ak}${bet}`,Jct=`load${Ak}${bet}`,Qct='[data-coreui-close="sidebar"]',tlt="[data-coreui-toggle]",vet=".sidebar";class yk extends $h{constructor(m,C){super(m),this._config=this._getConfig(C),this._show=this._isVisible(),this._mobile=this._isMobile(),this._overlaid=this._isOverlaid(),this._narrow=this._isNarrow(),this._unfoldable=this._isUnfoldable(),this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get Default(){return OQ}static get DefaultType(){return Uct}static get NAME(){return zct}show(){Be.trigger(this._element,Yct),this._element.classList.contains(RK)&&this._element.classList.remove(RK),this._isMobile()&&(this._element.classList.add(MK),this._backdrop.show(),new j4().hide());const m=()=>{this._isVisible()===!0&&(this._show=!0,(this._isMobile()||this._isOverlaid())&&this._addClickOutListener(),Be.trigger(this._element,Xct))};this._queueCallback(m,this._element,!0)}hide(){Be.trigger(this._element,Gct),this._element.classList.contains(MK)&&this._element.classList.remove(MK),this._isMobile()?(this._backdrop.hide(),new j4().reset()):this._element.classList.add(RK);const m=()=>{this._isVisible()===!1&&(this._show=!1,(this._isMobile()||this._isOverlaid())&&this._removeClickOutListener(),Be.trigger(this._element,qct))};this._queueCallback(m,this._element,!0)}toggle(){if(this._isVisible()){this.hide();return}this.show()}narrow(){this._isMobile()||(this._addClassName(PK),this._narrow=!0)}unfoldable(){this._isMobile()||(this._addClassName(NK),this._unfoldable=!0)}reset(){this._isMobile()||(this._narrow&&(this._element.classList.remove(PK),this._narrow=!1),this._unfoldable&&(this._element.classList.remove(NK),this._unfoldable=!1))}toggleNarrow(){if(this._narrow){this.reset();return}this.narrow()}toggleUnfoldable(){if(this._unfoldable){this.reset();return}this.unfoldable()}_getConfig(m){return m={...OQ,...Km.getDataAttributes(this._element),...typeof m=="object"?m:{}},m}_initializeBackDrop(){return new zY({className:jct,isVisible:this._isMobile(),isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_isMobile(){return!!window.getComputedStyle(this._element,null).getPropertyValue("--cui-is-mobile")}_isNarrow(){return this._element.classList.contains(PK)}_isOverlaid(){return this._element.classList.contains(Zct)}_isUnfoldable(){return this._element.classList.contains(NK)}_isVisible(){const m=this._element.getBoundingClientRect();return m.top>=0&&m.left>=0&&Math.floor(m.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(m.right)<=(window.innerWidth||document.documentElement.clientWidth)}_addClassName(m){this._element.classList.add(m)}_clickOutListener(m,C){m.target.closest(vet)===null&&(m.preventDefault(),m.stopPropagation(),C.hide())}_addClickOutListener(){Be.on(document,h6,m=>{this._clickOutListener(m,this)})}_removeClickOutListener(){Be.off(document,h6)}_addEventListeners(){this._mobile&&this._show&&this._addClickOutListener(),this._overlaid&&this._show&&this._addClickOutListener(),Be.on(this._element,h6,tlt,m=>{m.preventDefault();const C=Km.getDataAttribute(m.target,"toggle");C==="narrow"&&this.toggleNarrow(),C==="unfoldable"&&this.toggleUnfoldable()}),Be.on(this._element,h6,Qct,m=>{m.preventDefault(),this.hide()}),Be.on(window,Kct,()=>{this._isMobile()&&this._isVisible()&&(this.hide(),this._backdrop=this._initializeBackDrop())})}static sidebarInterface(m,C){const M=yk.getOrCreateInstance(m,C);if(typeof C=="string"){if(typeof M[C]>"u")throw new TypeError(`No method named "${C}"`);M[C]()}}static jQueryInterface(m){return this.each(function(){yk.sidebarInterface(this,m)})}}Be.on(window,Jct,()=>{for(const v of Array.from(document.querySelectorAll(vet)))yk.sidebarInterface(v)});Ef(yk);const elt="tab",nlt="coreui.tab",RS=`.${nlt}`,olt=`hide${RS}`,slt=`hidden${RS}`,rlt=`show${RS}`,ilt=`shown${RS}`,alt=`click${RS}`,clt=`keydown${RS}`,llt=`load${RS}`,ult="ArrowLeft",DQ="ArrowRight",dlt="ArrowUp",RQ="ArrowDown",LK="Home",MQ="End",vS="active",PQ="fade",BK="show",flt="dropdown",yet=".dropdown-toggle",hlt=".dropdown-menu",IK=`:not(${yet})`,mlt='.list-group, .nav, [role="tablist"]',glt=".nav-item, .list-group-item",plt=`.nav-link${IK}, .list-group-item${IK}, [role="tab"]${IK}`,_et='[data-coreui-toggle="tab"], [data-coreui-toggle="pill"], [data-coreui-toggle="list"]',$K=`${plt}, ${_et}`,blt=`.${vS}[data-coreui-toggle="tab"], .${vS}[data-coreui-toggle="pill"], .${vS}[data-coreui-toggle="list"]`;class kS extends $h{constructor(m){super(m),this._parent=this._element.closest(mlt),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Be.on(this._element,clt,C=>this._keydown(C)))}static get NAME(){return elt}show(){const m=this._element;if(this._elemIsActive(m))return;const C=this._getActiveElem(),M=C?Be.trigger(C,olt,{relatedTarget:m}):null;Be.trigger(m,rlt,{relatedTarget:C}).defaultPrevented||M&&M.defaultPrevented||(this._deactivate(C,m),this._activate(m,C))}_activate(m,C){if(!m)return;m.classList.add(vS),this._activate(ao.getElementFromSelector(m));const M=()=>{if(m.getAttribute("role")!=="tab"){m.classList.add(BK);return}m.removeAttribute("tabindex"),m.setAttribute("aria-selected",!0),this._toggleDropDown(m,!0),Be.trigger(m,ilt,{relatedTarget:C})};this._queueCallback(M,m,m.classList.contains(PQ))}_deactivate(m,C){if(!m)return;m.classList.remove(vS),m.blur(),this._deactivate(ao.getElementFromSelector(m));const M=()=>{if(m.getAttribute("role")!=="tab"){m.classList.remove(BK);return}m.setAttribute("aria-selected",!1),m.setAttribute("tabindex","-1"),this._toggleDropDown(m,!1),Be.trigger(m,slt,{relatedTarget:C})};this._queueCallback(M,m,m.classList.contains(PQ))}_keydown(m){if(![ult,DQ,dlt,RQ,LK,MQ].includes(m.key))return;m.stopPropagation(),m.preventDefault();const C=this._getChildren().filter($=>!z_($));let M;if([LK,MQ].includes(m.key))M=C[m.key===LK?0:C.length-1];else{const $=[DQ,RQ].includes(m.key);M=FY(C,m.target,$,!0)}M&&(M.focus({preventScroll:!0}),kS.getOrCreateInstance(M).show())}_getChildren(){return ao.find($K,this._parent)}_getActiveElem(){return this._getChildren().find(m=>this._elemIsActive(m))||null}_setInitialAttributes(m,C){this._setAttributeIfNotExists(m,"role","tablist");for(const M of C)this._setInitialAttributesOnChild(M)}_setInitialAttributesOnChild(m){m=this._getInnerElement(m);const C=this._elemIsActive(m),M=this._getOuterElement(m);m.setAttribute("aria-selected",C),M!==m&&this._setAttributeIfNotExists(M,"role","presentation"),C||m.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(m,"role","tab"),this._setInitialAttributesOnTargetPanel(m)}_setInitialAttributesOnTargetPanel(m){const C=ao.getElementFromSelector(m);C&&(this._setAttributeIfNotExists(C,"role","tabpanel"),m.id&&this._setAttributeIfNotExists(C,"aria-labelledby",`${m.id}`))}_toggleDropDown(m,C){const M=this._getOuterElement(m);if(!M.classList.contains(flt))return;const $=(W,G)=>{const tt=ao.findOne(W,M);tt&&tt.classList.toggle(G,C)};$(yet,vS),$(hlt,BK),M.setAttribute("aria-expanded",C)}_setAttributeIfNotExists(m,C,M){m.hasAttribute(C)||m.setAttribute(C,M)}_elemIsActive(m){return m.classList.contains(vS)}_getInnerElement(m){return m.matches($K)?m:ao.findOne($K,m)}_getOuterElement(m){return m.closest(glt)||m}static jQueryInterface(m){return this.each(function(){const C=kS.getOrCreateInstance(this);if(typeof m=="string"){if(C[m]===void 0||m.startsWith("_")||m==="constructor")throw new TypeError(`No method named "${m}"`);C[m]()}})}}Be.on(document,alt,_et,function(v){["A","AREA"].includes(this.tagName)&&v.preventDefault(),!z_(this)&&kS.getOrCreateInstance(this).show()});Be.on(window,llt,()=>{for(const v of ao.find(blt))kS.getOrCreateInstance(v)});Ef(kS);const vlt="toast",ylt="coreui.toast",q_=`.${ylt}`,_lt=`mouseover${q_}`,xlt=`mouseout${q_}`,wlt=`focusin${q_}`,Clt=`focusout${q_}`,Slt=`hide${q_}`,Elt=`hidden${q_}`,Tlt=`show${q_}`,Alt=`shown${q_}`,klt="fade",NQ="hide",m6="show",g6="showing",Olt={animation:"boolean",autohide:"boolean",delay:"number"},Dlt={animation:!0,autohide:!0,delay:5e3};class nN extends $h{constructor(m,C){super(m,C),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Dlt}static get DefaultType(){return Olt}static get NAME(){return vlt}show(){if(Be.trigger(this._element,Tlt).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(klt);const C=()=>{this._element.classList.remove(g6),Be.trigger(this._element,Alt),this._maybeScheduleHide()};this._element.classList.remove(NQ),Y4(this._element),this._element.classList.add(m6,g6),this._queueCallback(C,this._element,this._config.animation)}hide(){if(!this.isShown()||Be.trigger(this._element,Slt).defaultPrevented)return;const C=()=>{this._element.classList.add(NQ),this._element.classList.remove(g6,m6),Be.trigger(this._element,Elt)};this._element.classList.add(g6),this._queueCallback(C,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(m6),super.dispose()}isShown(){return this._element.classList.contains(m6)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(m,C){switch(m.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=C;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=C;break}}if(C){this._clearTimeout();return}const M=m.relatedTarget;this._element===M||this._element.contains(M)||this._maybeScheduleHide()}_setListeners(){Be.on(this._element,_lt,m=>this._onInteraction(m,!0)),Be.on(this._element,xlt,m=>this._onInteraction(m,!1)),Be.on(this._element,wlt,m=>this._onInteraction(m,!0)),Be.on(this._element,Clt,m=>this._onInteraction(m,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(m){return this.each(function(){const C=nN.getOrCreateInstance(this,m);if(typeof m=="string"){if(typeof C[m]>"u")throw new TypeError(`No method named "${m}"`);C[m](this)}})}}G6(nN);Ef(nN);const Rlt=Object.freeze(Object.defineProperty({__proto__:null,Alert:J4,Button:Q4,Carousel:Tk,Collapse:bk,Dropdown:rp,Modal:AS,Navigation:vk,Offcanvas:a0,Popover:q6,ScrollSpy:eN,Sidebar:yk,Tab:kS,Toast:nN,Tooltip:DS},Symbol.toStringTag,{value:"Module"}));/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */(function(v,m){typeof Nnt=="object"&&typeof yY<"u"?yY.exports=m():typeof define=="function"&&define.amd?define(m):(v=typeof globalThis<"u"?globalThis:v||self,v.Chart=m())})(globalThis,function(){function v(){}const m=function(){let h=0;return function(){return h++}}();function C(h){return h===null||typeof h>"u"}function M(h){if(Array.isArray&&Array.isArray(h))return!0;const c=Object.prototype.toString.call(h);return c.slice(0,7)==="[object"&&c.slice(-6)==="Array]"}function $(h){return h!==null&&Object.prototype.toString.call(h)==="[object Object]"}const W=h=>(typeof h=="number"||h instanceof Number)&&isFinite(+h);function G(h,c){return W(h)?h:c}function tt(h,c){return typeof h>"u"?c:h}const gt=(h,c)=>typeof h=="string"&&h.endsWith("%")?parseFloat(h)/100:h/c,Bt=(h,c)=>typeof h=="string"&&h.endsWith("%")?parseFloat(h)/100*c:+h;function Tt(h,c,d){if(h&&typeof h.call=="function")return h.apply(d,c)}function Lt(h,c,d,b){let _,E,A;if(M(h))if(E=h.length,b)for(_=E-1;_>=0;_--)c.call(d,h[_],_);else for(_=0;_<E;_++)c.call(d,h[_],_);else if($(h))for(A=Object.keys(h),E=A.length,_=0;_<E;_++)c.call(d,h[A[_]],A[_])}function Le(h,c){let d,b,_,E;if(!h||!c||h.length!==c.length)return!1;for(d=0,b=h.length;d<b;++d)if(_=h[d],E=c[d],_.datasetIndex!==E.datasetIndex||_.index!==E.index)return!1;return!0}function He(h){if(M(h))return h.map(He);if($(h)){const c=Object.create(null),d=Object.keys(h),b=d.length;let _=0;for(;_<b;++_)c[d[_]]=He(h[d[_]]);return c}return h}function ze(h){return["__proto__","prototype","constructor"].indexOf(h)===-1}function _e(h,c,d,b){if(!ze(h))return;const _=c[h],E=d[h];$(_)&&$(E)?$t(_,E,b):c[h]=He(E)}function $t(h,c,d){const b=M(c)?c:[c],_=b.length;if(!$(h))return h;d=d||{};const E=d.merger||_e;for(let A=0;A<_;++A){if(c=b[A],!$(c))continue;const R=Object.keys(c);for(let L=0,z=R.length;L<z;++L)E(R[L],h,c,d)}return h}function Je(h,c){return $t(h,c,{merger:Nn})}function Nn(h,c,d){if(!ze(h))return;const b=c[h],_=d[h];$(b)&&$(_)?Je(b,_):Object.prototype.hasOwnProperty.call(c,h)||(c[h]=He(_))}function ft(h,c,d,b){c!==void 0&&console.warn(h+': "'+d+'" is deprecated. Please use "'+b+'" instead')}const We={"":h=>h,x:h=>h.x,y:h=>h.y};function to(h,c){return(We[c]||(We[c]=ln(c)))(h)}function ln(h){const c=vt(h);return d=>{for(const b of c){if(b==="")break;d=d&&d[b]}return d}}function vt(h){const c=h.split("."),d=[];let b="";for(const _ of c)b+=_,b.endsWith("\\")?b=b.slice(0,-1)+".":(d.push(b),b="");return d}function wn(h){return h.charAt(0).toUpperCase()+h.slice(1)}const Hn=h=>typeof h<"u",sn=h=>typeof h=="function",Zt=(h,c)=>{if(h.size!==c.size)return!1;for(const d of h)if(!c.has(d))return!1;return!0};function pt(h){return h.type==="mouseup"||h.type==="click"||h.type==="contextmenu"}const jn=Math.PI,pn=2*jn,Ye=pn+jn,F=Number.POSITIVE_INFINITY,Po=jn/180,re=jn/2,wo=jn/4,bn=jn*2/3,Kt=Math.log10,go=Math.sign;function Cr(h){const c=Math.round(h);h=Gt(h,c,h/1e3)?c:h;const d=Math.pow(10,Math.floor(Kt(h))),b=h/d;return(b<=1?1:b<=2?2:b<=5?5:10)*d}function ko(h){const c=[],d=Math.sqrt(h);let b;for(b=1;b<d;b++)h%b===0&&(c.push(b),c.push(h/b));return d===(d|0)&&c.push(d),c.sort((_,E)=>_-E).pop(),c}function Bo(h){return!isNaN(parseFloat(h))&&isFinite(h)}function Gt(h,c,d){return Math.abs(h-c)<d}function Ae(h,c){const d=Math.round(h);return d-c<=h&&d+c>=h}function X(h,c,d){let b,_,E;for(b=0,_=h.length;b<_;b++)E=h[b][d],isNaN(E)||(c.min=Math.min(c.min,E),c.max=Math.max(c.max,E))}function tr(h){return h*(jn/180)}function oo(h){return h*(180/jn)}function hs(h){if(!W(h))return;let c=1,d=0;for(;Math.round(h*c)/c!==h;)c*=10,d++;return d}function ie(h,c){const d=c.x-h.x,b=c.y-h.y,_=Math.sqrt(d*d+b*b);let E=Math.atan2(b,d);return E<-.5*jn&&(E+=pn),{angle:E,distance:_}}function Vt(h,c){return Math.sqrt(Math.pow(c.x-h.x,2)+Math.pow(c.y-h.y,2))}function Mt(h,c){return(h-c+Ye)%pn-jn}function _t(h){return(h%pn+pn)%pn}function Ht(h,c,d,b){const _=_t(h),E=_t(c),A=_t(d),R=_t(E-_),L=_t(A-_),z=_t(_-E),Y=_t(_-A);return _===E||_===A||b&&E===A||R>L&&z<Y}function wt(h,c,d){return Math.max(c,Math.min(d,h))}function Gn(h){return wt(h,-32768,32767)}function kn(h,c,d,b=1e-6){return h>=Math.min(c,d)-b&&h<=Math.max(c,d)+b}function Se(h,c,d){d=d||(A=>h[A]<c);let b=h.length-1,_=0,E;for(;b-_>1;)E=_+b>>1,d(E)?_=E:b=E;return{lo:_,hi:b}}const vo=(h,c,d,b)=>Se(h,d,b?_=>h[_][c]<=d:_=>h[_][c]<d),yo=(h,c,d)=>Se(h,d,b=>h[b][c]>=d);function Ms(h,c,d){let b=0,_=h.length;for(;b<_&&h[b]<c;)b++;for(;_>b&&h[_-1]>d;)_--;return b>0||_<h.length?h.slice(b,_):h}const co=["push","pop","shift","splice","unshift"];function ks(h,c){if(h._chartjs){h._chartjs.listeners.push(c);return}Object.defineProperty(h,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[c]}}),co.forEach(d=>{const b="_onData"+wn(d),_=h[d];Object.defineProperty(h,d,{configurable:!0,enumerable:!1,value(...E){const A=_.apply(this,E);return h._chartjs.listeners.forEach(R=>{typeof R[b]=="function"&&R[b](...E)}),A}})})}function Ei(h,c){const d=h._chartjs;if(!d)return;const b=d.listeners,_=b.indexOf(c);_!==-1&&b.splice(_,1),!(b.length>0)&&(co.forEach(E=>{delete h[E]}),delete h._chartjs)}function Ps(h){const c=new Set;let d,b;for(d=0,b=h.length;d<b;++d)c.add(h[d]);return c.size===b?h:Array.from(c)}function vs(h,c,d){return c+" "+h+"px "+d}const Qo=function(){return typeof window>"u"?function(h){return h()}:window.requestAnimationFrame}();function ic(h,c,d){const b=d||(A=>Array.prototype.slice.call(A));let _=!1,E=[];return function(...A){E=b(A),_||(_=!0,Qo.call(window,()=>{_=!1,h.apply(c,E)}))}}function Oo(h,c){let d;return function(...b){return c?(clearTimeout(d),d=setTimeout(h,c,b)):h.apply(this,b),c}}const Co=h=>h==="start"?"left":h==="end"?"right":"center",ys=(h,c,d)=>h==="start"?c:h==="end"?d:(c+d)/2,dr=(h,c,d,b)=>h===(b?"left":"right")?d:h==="center"?(c+d)/2:c;function Qc(h,c,d){const b=c.length;let _=0,E=b;if(h._sorted){const{iScale:A,_parsed:R}=h,L=A.axis,{min:z,max:Y,minDefined:rt,maxDefined:lt}=A.getUserBounds();rt&&(_=wt(Math.min(vo(R,A.axis,z).lo,d?b:vo(c,L,A.getPixelForValue(z)).lo),0,b-1)),lt?E=wt(Math.max(vo(R,A.axis,Y,!0).hi+1,d?0:vo(c,L,A.getPixelForValue(Y),!0).hi+1),_,b)-_:E=b-_}return{start:_,count:E}}function Vi(h){const{xScale:c,yScale:d,_scaleRanges:b}=h,_={xmin:c.min,xmax:c.max,ymin:d.min,ymax:d.max};if(!b)return h._scaleRanges=_,!0;const E=b.xmin!==c.min||b.xmax!==c.max||b.ymin!==d.min||b.ymax!==d.max;return Object.assign(b,_),E}class Tf{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(c,d,b,_){const E=d.listeners[_],A=d.duration;E.forEach(R=>R({chart:c,initial:d.initial,numSteps:A,currentStep:Math.min(b-d.start,A)}))}_refresh(){this._request||(this._running=!0,this._request=Qo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(c=Date.now()){let d=0;this._charts.forEach((b,_)=>{if(!b.running||!b.items.length)return;const E=b.items;let A=E.length-1,R=!1,L;for(;A>=0;--A)L=E[A],L._active?(L._total>b.duration&&(b.duration=L._total),L.tick(c),R=!0):(E[A]=E[E.length-1],E.pop());R&&(_.draw(),this._notify(_,b,c,"progress")),E.length||(b.running=!1,this._notify(_,b,c,"complete"),b.initial=!1),d+=E.length}),this._lastDate=c,d===0&&(this._running=!1)}_getAnims(c){const d=this._charts;let b=d.get(c);return b||(b={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},d.set(c,b)),b}listen(c,d,b){this._getAnims(c).listeners[d].push(b)}add(c,d){!d||!d.length||this._getAnims(c).items.push(...d)}has(c){return this._getAnims(c).items.length>0}start(c){const d=this._charts.get(c);d&&(d.running=!0,d.start=Date.now(),d.duration=d.items.reduce((b,_)=>Math.max(b,_._duration),0),this._refresh())}running(c){if(!this._running)return!1;const d=this._charts.get(c);return!(!d||!d.running||!d.items.length)}stop(c){const d=this._charts.get(c);if(!d||!d.items.length)return;const b=d.items;let _=b.length-1;for(;_>=0;--_)b[_].cancel();d.items=[],this._notify(c,d,Date.now(),"complete")}remove(c){return this._charts.delete(c)}}var Wa=new Tf;/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function zr(h){return h+.5|0}const Il=(h,c,d)=>Math.max(Math.min(h,d),c);function Me(h){return Il(zr(h*2.55),0,255)}function ho(h){return Il(zr(h*255),0,255)}function Wr(h){return Il(zr(h/2.55)/100,0,1)}function va(h){return Il(zr(h*100),0,100)}const ya={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ku=[..."0123456789ABCDEF"],Os=h=>ku[h&15],Td=h=>ku[(h&240)>>4]+ku[h&15],Ou=h=>(h&240)>>4===(h&15),ms=h=>Ou(h.r)&&Ou(h.g)&&Ou(h.b)&&Ou(h.a);function Sn(h){var c=h.length,d;return h[0]==="#"&&(c===4||c===5?d={r:255&ya[h[1]]*17,g:255&ya[h[2]]*17,b:255&ya[h[3]]*17,a:c===5?ya[h[4]]*17:255}:(c===7||c===9)&&(d={r:ya[h[1]]<<4|ya[h[2]],g:ya[h[3]]<<4|ya[h[4]],b:ya[h[5]]<<4|ya[h[6]],a:c===9?ya[h[7]]<<4|ya[h[8]]:255})),d}const _a=(h,c)=>h<255?c(h):"";function Af(h){var c=ms(h)?Os:Td;return h?"#"+c(h.r)+c(h.g)+c(h.b)+_a(h.a,c):void 0}const cp=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lp(h,c,d){const b=c*Math.min(d,1-d),_=(E,A=(E+h/30)%12)=>d-b*Math.max(Math.min(A-3,9-A,1),-1);return[_(0),_(8),_(4)]}function Xi(h,c,d){const b=(_,E=(_+h/60)%6)=>d-d*c*Math.max(Math.min(E,4-E,1),0);return[b(5),b(3),b(1)]}function Ti(h,c,d){const b=lp(h,1,.5);let _;for(c+d>1&&(_=1/(c+d),c*=_,d*=_),_=0;_<3;_++)b[_]*=1-c-d,b[_]+=c;return b}function Sr(h,c,d,b,_){return h===_?(c-d)/b+(c<d?6:0):c===_?(d-h)/b+2:(h-c)/b+4}function wc(h){const d=h.r/255,b=h.g/255,_=h.b/255,E=Math.max(d,b,_),A=Math.min(d,b,_),R=(E+A)/2;let L,z,Y;return E!==A&&(Y=E-A,z=R>.5?Y/(2-E-A):Y/(E+A),L=Sr(d,b,_,Y,E),L=L*60+.5),[L|0,z||0,R]}function Fh(h,c,d,b){return(Array.isArray(c)?h(c[0],c[1],c[2]):h(c,d,b)).map(ho)}function tl(h,c,d){return Fh(lp,h,c,d)}function Ua(h,c,d){return Fh(Ti,h,c,d)}function Ns(h,c,d){return Fh(Xi,h,c,d)}function ac(h){return(h%360+360)%360}function $l(h){const c=cp.exec(h);let d=255,b;if(!c)return;c[5]!==b&&(d=c[6]?Me(+c[5]):ho(+c[5]));const _=ac(+c[2]),E=+c[3]/100,A=+c[4]/100;return c[1]==="hwb"?b=Ua(_,E,A):c[1]==="hsv"?b=Ns(_,E,A):b=tl(_,E,A),{r:b[0],g:b[1],b:b[2],a:d}}function Y_(h,c){var d=wc(h);d[0]=ac(d[0]+c),d=tl(d),h.r=d[0],h.g=d[1],h.b=d[2]}function X_(h){if(!h)return;const c=wc(h),d=c[0],b=va(c[1]),_=va(c[2]);return h.a<255?`hsla(${d}, ${b}%, ${_}%, ${Wr(h.a)})`:`hsl(${d}, ${b}%, ${_}%)`}const Fl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},PS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function At(){const h={},c=Object.keys(PS),d=Object.keys(Fl);let b,_,E,A,R;for(b=0;b<c.length;b++){for(A=R=c[b],_=0;_<d.length;_++)E=d[_],R=R.replace(E,Fl[E]);E=parseInt(PS[A],16),h[R]=[E>>16&255,E>>8&255,E&255]}return h}let Ai;function Hh(h){Ai||(Ai=At(),Ai.transparent=[0,0,0,0]);const c=Ai[h.toLowerCase()];return c&&{r:c[0],g:c[1],b:c[2],a:c.length===4?c[3]:255}}const u0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ub(h){const c=u0.exec(h);let d=255,b,_,E;if(c){if(c[7]!==b){const A=+c[7];d=c[8]?Me(A):Il(A*255,0,255)}return b=+c[1],_=+c[3],E=+c[5],b=255&(c[2]?Me(b):Il(b,0,255)),_=255&(c[4]?Me(_):Il(_,0,255)),E=255&(c[6]?Me(E):Il(E,0,255)),{r:b,g:_,b:E,a:d}}}function _s(h){return h&&(h.a<255?`rgba(${h.r}, ${h.g}, ${h.b}, ${Wr(h.a)})`:`rgb(${h.r}, ${h.g}, ${h.b})`)}const Jm=h=>h<=.0031308?h*12.92:Math.pow(h,1/2.4)*1.055-.055,Vh=h=>h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4);function Qm(h,c,d){const b=Vh(Wr(h.r)),_=Vh(Wr(h.g)),E=Vh(Wr(h.b));return{r:ho(Jm(b+d*(Vh(Wr(c.r))-b))),g:ho(Jm(_+d*(Vh(Wr(c.g))-_))),b:ho(Jm(E+d*(Vh(Wr(c.b))-E))),a:h.a+d*(c.a-h.a)}}function Du(h,c,d){if(h){let b=wc(h);b[c]=Math.max(0,Math.min(b[c]+b[c]*d,c===0?360:1)),b=tl(b),h.r=b[0],h.g=b[1],h.b=b[2]}}function Xr(h,c){return h&&Object.assign(c||{},h)}function er(h){var c={r:0,g:0,b:0,a:255};return Array.isArray(h)?h.length>=3&&(c={r:h[0],g:h[1],b:h[2],a:255},h.length>3&&(c.a=ho(h[3]))):(c=Xr(h,{r:0,g:0,b:0,a:1}),c.a=ho(c.a)),c}function Ru(h){return h.charAt(0)==="r"?Ub(h):$l(h)}class xa{constructor(c){if(c instanceof xa)return c;const d=typeof c;let b;d==="object"?b=er(c):d==="string"&&(b=Sn(c)||Hh(c)||Ru(c)),this._rgb=b,this._valid=!!b}get valid(){return this._valid}get rgb(){var c=Xr(this._rgb);return c&&(c.a=Wr(c.a)),c}set rgb(c){this._rgb=er(c)}rgbString(){return this._valid?_s(this._rgb):void 0}hexString(){return this._valid?Af(this._rgb):void 0}hslString(){return this._valid?X_(this._rgb):void 0}mix(c,d){if(c){const b=this.rgb,_=c.rgb;let E;const A=d===E?.5:d,R=2*A-1,L=b.a-_.a,z=((R*L===-1?R:(R+L)/(1+R*L))+1)/2;E=1-z,b.r=255&z*b.r+E*_.r+.5,b.g=255&z*b.g+E*_.g+.5,b.b=255&z*b.b+E*_.b+.5,b.a=A*b.a+(1-A)*_.a,this.rgb=b}return this}interpolate(c,d){return c&&(this._rgb=Qm(this._rgb,c._rgb,d)),this}clone(){return new xa(this.rgb)}alpha(c){return this._rgb.a=ho(c),this}clearer(c){const d=this._rgb;return d.a*=1-c,this}greyscale(){const c=this._rgb,d=zr(c.r*.3+c.g*.59+c.b*.11);return c.r=c.g=c.b=d,this}opaquer(c){const d=this._rgb;return d.a*=1+c,this}negate(){const c=this._rgb;return c.r=255-c.r,c.g=255-c.g,c.b=255-c.b,this}lighten(c){return Du(this._rgb,2,c),this}darken(c){return Du(this._rgb,2,-c),this}saturate(c){return Du(this._rgb,1,c),this}desaturate(c){return Du(this._rgb,1,-c),this}rotate(c){return Y_(this._rgb,c),this}}function Ad(h){return new xa(h)}function kf(h){if(h&&typeof h=="object"){const c=h.toString();return c==="[object CanvasPattern]"||c==="[object CanvasGradient]"}return!1}function kd(h){return kf(h)?h:Ad(h)}function Wo(h){return kf(h)?h:Ad(h).saturate(.5).darken(.1).hexString()}const Jr=Object.create(null),jb=Object.create(null);function el(h,c){if(!c)return h;const d=c.split(".");for(let b=0,_=d.length;b<_;++b){const E=d[b];h=h[E]||(h[E]=Object.create(null))}return h}function Hl(h,c,d){return typeof c=="string"?$t(el(h,c),d):$t(el(h,""),c)}class Ji{constructor(c){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=d=>d.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(d,b)=>Wo(b.backgroundColor),this.hoverBorderColor=(d,b)=>Wo(b.borderColor),this.hoverColor=(d,b)=>Wo(b.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(c)}set(c,d){return Hl(this,c,d)}get(c){return el(this,c)}describe(c,d){return Hl(jb,c,d)}override(c,d){return Hl(Jr,c,d)}route(c,d,b,_){const E=el(this,c),A=el(this,b),R="_"+d;Object.defineProperties(E,{[R]:{value:E[d],writable:!0},[d]:{enumerable:!0,get(){const L=this[R],z=A[_];return $(L)?Object.assign({},z,L):tt(L,z)},set(L){this[R]=L}}})}}var Vn=new Ji({_scriptable:h=>!h.startsWith("on"),_indexable:h=>h!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Zb(){return typeof window<"u"&&typeof document<"u"}function zh(h){let c=h.parentNode;return c&&c.toString()==="[object ShadowRoot]"&&(c=c.host),c}function No(h,c,d){let b;return typeof h=="string"?(b=parseInt(h,10),h.indexOf("%")!==-1&&(b=b/100*c.parentNode[d])):b=h,b}const Qi=h=>window.getComputedStyle(h,null);function wa(h,c){return Qi(h).getPropertyValue(c)}const hi=["top","right","bottom","left"];function Vl(h,c,d){const b={};d=d?"-"+d:"";for(let _=0;_<4;_++){const E=hi[_];b[E]=parseFloat(h[c+"-"+E+d])||0}return b.width=b.left+b.right,b.height=b.top+b.bottom,b}const Of=(h,c,d)=>(h>0||c>0)&&(!d||!d.shadowRoot);function Cc(h,c){const d=h.touches,b=d&&d.length?d[0]:h,{offsetX:_,offsetY:E}=b;let A=!1,R,L;if(Of(_,E,h.target))R=_,L=E;else{const z=c.getBoundingClientRect();R=b.clientX-z.left,L=b.clientY-z.top,A=!0}return{x:R,y:L,box:A}}function ja(h,c){if("native"in h)return h;const{canvas:d,currentDevicePixelRatio:b}=c,_=Qi(d),E=_.boxSizing==="border-box",A=Vl(_,"padding"),R=Vl(_,"border","width"),{x:L,y:z,box:Y}=Cc(h,d),rt=A.left+(Y&&R.left),lt=A.top+(Y&&R.top);let{width:ut,height:bt}=c;return E&&(ut-=A.width+R.width,bt-=A.height+R.height),{x:Math.round((L-rt)/ut*d.width/b),y:Math.round((z-lt)/bt*d.height/b)}}function nl(h,c,d){let b,_;if(c===void 0||d===void 0){const E=zh(h);if(!E)c=h.clientWidth,d=h.clientHeight;else{const A=E.getBoundingClientRect(),R=Qi(E),L=Vl(R,"border","width"),z=Vl(R,"padding");c=A.width-z.width-L.width,d=A.height-z.height-L.height,b=No(R.maxWidth,E,"clientWidth"),_=No(R.maxHeight,E,"clientHeight")}}return{width:c,height:d,maxWidth:b||F,maxHeight:_||F}}const up=h=>Math.round(h*10)/10;function dp(h,c,d,b){const _=Qi(h),E=Vl(_,"margin"),A=No(_.maxWidth,h,"clientWidth")||F,R=No(_.maxHeight,h,"clientHeight")||F,L=nl(h,c,d);let{width:z,height:Y}=L;if(_.boxSizing==="content-box"){const rt=Vl(_,"border","width"),lt=Vl(_,"padding");z-=lt.width+rt.width,Y-=lt.height+rt.height}return z=Math.max(0,z-E.width),Y=Math.max(0,b?Math.floor(z/b):Y-E.height),z=up(Math.min(z,A,L.maxWidth)),Y=up(Math.min(Y,R,L.maxHeight)),z&&!Y&&(Y=up(z/2)),{width:z,height:Y}}function fp(h,c,d){const b=c||1,_=Math.floor(h.height*b),E=Math.floor(h.width*b);h.height=_/b,h.width=E/b;const A=h.canvas;return A.style&&(d||!A.style.height&&!A.style.width)&&(A.style.height=`${h.height}px`,A.style.width=`${h.width}px`),h.currentDevicePixelRatio!==b||A.height!==_||A.width!==E?(h.currentDevicePixelRatio=b,A.height=_,A.width=E,h.ctx.setTransform(b,0,0,b,0,0),!0):!1}const Sc=function(){let h=!1;try{const c={get passive(){return h=!0,!1}};window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{}return h}();function zl(h,c){const d=wa(h,c),b=d&&d.match(/^(\d+)(\.\d+)?px$/);return b?+b[1]:void 0}function tg(h){return!h||C(h.size)||C(h.family)?null:(h.style?h.style+" ":"")+(h.weight?h.weight+" ":"")+h.size+"px "+h.family}function Od(h,c,d,b,_){let E=c[_];return E||(E=c[_]=h.measureText(_).width,d.push(_)),E>b&&(b=E),b}function hp(h,c,d,b){b=b||{};let _=b.data=b.data||{},E=b.garbageCollect=b.garbageCollect||[];b.font!==c&&(_=b.data={},E=b.garbageCollect=[],b.font=c),h.save(),h.font=c;let A=0;const R=d.length;let L,z,Y,rt,lt;for(L=0;L<R;L++)if(rt=d[L],rt!=null&&M(rt)!==!0)A=Od(h,_,E,A,rt);else if(M(rt))for(z=0,Y=rt.length;z<Y;z++)lt=rt[z],lt!=null&&!M(lt)&&(A=Od(h,_,E,A,lt));h.restore();const ut=E.length/2;if(ut>d.length){for(L=0;L<ut;L++)delete _[E[L]];E.splice(0,ut)}return A}function Wl(h,c,d){const b=h.currentDevicePixelRatio,_=d!==0?Math.max(d/2,.5):0;return Math.round((c-_)*b)/b+_}function Df(h,c){c=c||h.getContext("2d"),c.save(),c.resetTransform(),c.clearRect(0,0,h.width,h.height),c.restore()}function eg(h,c,d,b){gs(h,c,d,b,null)}function gs(h,c,d,b,_){let E,A,R,L,z,Y;const rt=c.pointStyle,lt=c.rotation,ut=c.radius;let bt=(lt||0)*Po;if(rt&&typeof rt=="object"&&(E=rt.toString(),E==="[object HTMLImageElement]"||E==="[object HTMLCanvasElement]")){h.save(),h.translate(d,b),h.rotate(bt),h.drawImage(rt,-rt.width/2,-rt.height/2,rt.width,rt.height),h.restore();return}if(!(isNaN(ut)||ut<=0)){switch(h.beginPath(),rt){default:_?h.ellipse(d,b,_/2,ut,0,0,pn):h.arc(d,b,ut,0,pn),h.closePath();break;case"triangle":h.moveTo(d+Math.sin(bt)*ut,b-Math.cos(bt)*ut),bt+=bn,h.lineTo(d+Math.sin(bt)*ut,b-Math.cos(bt)*ut),bt+=bn,h.lineTo(d+Math.sin(bt)*ut,b-Math.cos(bt)*ut),h.closePath();break;case"rectRounded":z=ut*.516,L=ut-z,A=Math.cos(bt+wo)*L,R=Math.sin(bt+wo)*L,h.arc(d-A,b-R,z,bt-jn,bt-re),h.arc(d+R,b-A,z,bt-re,bt),h.arc(d+A,b+R,z,bt,bt+re),h.arc(d-R,b+A,z,bt+re,bt+jn),h.closePath();break;case"rect":if(!lt){L=Math.SQRT1_2*ut,Y=_?_/2:L,h.rect(d-Y,b-L,2*Y,2*L);break}bt+=wo;case"rectRot":A=Math.cos(bt)*ut,R=Math.sin(bt)*ut,h.moveTo(d-A,b-R),h.lineTo(d+R,b-A),h.lineTo(d+A,b+R),h.lineTo(d-R,b+A),h.closePath();break;case"crossRot":bt+=wo;case"cross":A=Math.cos(bt)*ut,R=Math.sin(bt)*ut,h.moveTo(d-A,b-R),h.lineTo(d+A,b+R),h.moveTo(d+R,b-A),h.lineTo(d-R,b+A);break;case"star":A=Math.cos(bt)*ut,R=Math.sin(bt)*ut,h.moveTo(d-A,b-R),h.lineTo(d+A,b+R),h.moveTo(d+R,b-A),h.lineTo(d-R,b+A),bt+=wo,A=Math.cos(bt)*ut,R=Math.sin(bt)*ut,h.moveTo(d-A,b-R),h.lineTo(d+A,b+R),h.moveTo(d+R,b-A),h.lineTo(d-R,b+A);break;case"line":A=_?_/2:Math.cos(bt)*ut,R=Math.sin(bt)*ut,h.moveTo(d-A,b-R),h.lineTo(d+A,b+R);break;case"dash":h.moveTo(d,b),h.lineTo(d+Math.cos(bt)*ut,b+Math.sin(bt)*ut);break}h.fill(),c.borderWidth>0&&h.stroke()}}function zi(h,c,d){return d=d||.5,!c||h&&h.x>c.left-d&&h.x<c.right+d&&h.y>c.top-d&&h.y<c.bottom+d}function ng(h,c){h.save(),h.beginPath(),h.rect(c.left,c.top,c.right-c.left,c.bottom-c.top),h.clip()}function Rf(h){h.restore()}function Ec(h,c,d,b,_){if(!c)return h.lineTo(d.x,d.y);if(_==="middle"){const E=(c.x+d.x)/2;h.lineTo(E,c.y),h.lineTo(E,d.y)}else _==="after"!=!!b?h.lineTo(c.x,d.y):h.lineTo(d.x,c.y);h.lineTo(d.x,d.y)}function d0(h,c,d,b){if(!c)return h.lineTo(d.x,d.y);h.bezierCurveTo(b?c.cp1x:c.cp2x,b?c.cp1y:c.cp2y,b?d.cp2x:d.cp1x,b?d.cp2y:d.cp1y,d.x,d.y)}function ol(h,c,d,b,_,E={}){const A=M(c)?c:[c],R=E.strokeWidth>0&&E.strokeColor!=="";let L,z;for(h.save(),h.font=_.string,Ur(h,E),L=0;L<A.length;++L)z=A[L],R&&(E.strokeColor&&(h.strokeStyle=E.strokeColor),C(E.strokeWidth)||(h.lineWidth=E.strokeWidth),h.strokeText(z,d,b,E.maxWidth)),h.fillText(z,d,b,E.maxWidth),ki(h,d,b,z,E),b+=_.lineHeight;h.restore()}function Ur(h,c){c.translation&&h.translate(c.translation[0],c.translation[1]),C(c.rotation)||h.rotate(c.rotation),c.color&&(h.fillStyle=c.color),c.textAlign&&(h.textAlign=c.textAlign),c.textBaseline&&(h.textBaseline=c.textBaseline)}function ki(h,c,d,b,_){if(_.strikethrough||_.underline){const E=h.measureText(b),A=c-E.actualBoundingBoxLeft,R=c+E.actualBoundingBoxRight,L=d-E.actualBoundingBoxAscent,z=d+E.actualBoundingBoxDescent,Y=_.strikethrough?(L+z)/2:z;h.strokeStyle=h.fillStyle,h.beginPath(),h.lineWidth=_.decorationWidth||2,h.moveTo(A,Y),h.lineTo(R,Y),h.stroke()}}function Tc(h,c){const{x:d,y:b,w:_,h:E,radius:A}=c;h.arc(d+A.topLeft,b+A.topLeft,A.topLeft,-re,jn,!0),h.lineTo(d,b+E-A.bottomLeft),h.arc(d+A.bottomLeft,b+E-A.bottomLeft,A.bottomLeft,jn,re,!0),h.lineTo(d+_-A.bottomRight,b+E),h.arc(d+_-A.bottomRight,b+E-A.bottomRight,A.bottomRight,re,0,!0),h.lineTo(d+_,b+A.topRight),h.arc(d+_-A.topRight,b+A.topRight,A.topRight,0,-re,!0),h.lineTo(d+A.topLeft,b)}function og(h,c=[""],d=h,b,_=()=>h[0]){Hn(b)||(b=ti("_fallback",h));const E={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:h,_rootScopes:d,_fallback:b,_getTarget:_,override:A=>og([A,...h],c,d,b)};return new Proxy(E,{deleteProperty(A,R){return delete A[R],delete A._keys,delete h[0][R],!0},get(A,R){return gp(A,R,()=>Qr(R,c,h,A))},getOwnPropertyDescriptor(A,R){return Reflect.getOwnPropertyDescriptor(A._scopes[0],R)},getPrototypeOf(){return Reflect.getPrototypeOf(h[0])},has(A,R){return Mu(A).includes(R)},ownKeys(A){return Mu(A)},set(A,R,L){const z=A._storage||(A._storage=_());return A[R]=z[R]=L,delete A._keys,!0}})}function Ee(h,c,d,b){const _={_cacheable:!1,_proxy:h,_context:c,_subProxy:d,_stack:new Set,_descriptors:mp(h,b),setContext:E=>Ee(h,E,d,b),override:E=>Ee(h.override(E),c,d,b)};return new Proxy(_,{deleteProperty(E,A){return delete E[A],delete h[A],!0},get(E,A,R){return gp(E,A,()=>js(E,A,R))},getOwnPropertyDescriptor(E,A){return E._descriptors.allKeys?Reflect.has(h,A)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(h,A)},getPrototypeOf(){return Reflect.getPrototypeOf(h)},has(E,A){return Reflect.has(h,A)},ownKeys(){return Reflect.ownKeys(h)},set(E,A,R){return h[A]=R,delete E[A],!0}})}function mp(h,c={scriptable:!0,indexable:!0}){const{_scriptable:d=c.scriptable,_indexable:b=c.indexable,_allKeys:_=c.allKeys}=h;return{allKeys:_,scriptable:d,indexable:b,isScriptable:sn(d)?d:()=>d,isIndexable:sn(b)?b:()=>b}}const $s=(h,c)=>h?h+wn(c):c,Pr=(h,c)=>$(c)&&h!=="adapters"&&(Object.getPrototypeOf(c)===null||c.constructor===Object);function gp(h,c,d){if(Object.prototype.hasOwnProperty.call(h,c))return h[c];const b=d();return h[c]=b,b}function js(h,c,d){const{_proxy:b,_context:_,_subProxy:E,_descriptors:A}=h;let R=b[c];return sn(R)&&A.isScriptable(c)&&(R=J_(c,R,h,d)),M(R)&&R.length&&(R=sg(c,R,h,A.isIndexable)),Pr(c,R)&&(R=Ee(R,_,E&&E[c],A)),R}function J_(h,c,d,b){const{_proxy:_,_context:E,_subProxy:A,_stack:R}=d;if(R.has(h))throw new Error("Recursion detected: "+Array.from(R).join("->")+"->"+h);return R.add(h),c=c(E,A||b),R.delete(h),Pr(h,c)&&(c=fe(_._scopes,_,h,c)),c}function sg(h,c,d,b){const{_proxy:_,_context:E,_subProxy:A,_descriptors:R}=d;if(Hn(E.index)&&b(h))c=c[E.index%c.length];else if($(c[0])){const L=c,z=_._scopes.filter(Y=>Y!==L);c=[];for(const Y of L){const rt=fe(z,_,h,Y);c.push(Ee(rt,E,A&&A[h],R))}}return c}function Wh(h,c,d){return sn(h)?h(c,d):h}const Pn=(h,c)=>h===!0?c:typeof h=="string"?to(c,h):void 0;function Ca(h,c,d,b,_){for(const E of c){const A=Pn(d,E);if(A){h.add(A);const R=Wh(A._fallback,d,_);if(Hn(R)&&R!==d&&R!==b)return R}else if(A===!1&&Hn(b)&&d!==b)return null}return!1}function fe(h,c,d,b){const _=c._rootScopes,E=Wh(c._fallback,d,b),A=[...h,..._],R=new Set;R.add(b);let L=Fs(R,A,d,E||d,b);return L===null||Hn(E)&&E!==d&&(L=Fs(R,A,E,L,b),L===null)?!1:og(Array.from(R),[""],_,E,()=>rg(c,d,b))}function Fs(h,c,d,b,_){for(;d;)d=Ca(h,c,d,b,_);return d}function rg(h,c,d){const b=h._getTarget();c in b||(b[c]={});const _=b[c];return M(_)&&$(d)?d:_}function Qr(h,c,d,b){let _;for(const E of c)if(_=ti($s(E,h),d),Hn(_))return Pr(h,_)?fe(d,b,h,_):_}function ti(h,c){for(const d of c){if(!d)continue;const b=d[h];if(Hn(b))return b}}function Mu(h){let c=h._keys;return c||(c=h._keys=_o(h._scopes)),c}function _o(h){const c=new Set;for(const d of h)for(const b of Object.keys(d).filter(_=>!_.startsWith("_")))c.add(b);return Array.from(c)}function sl(h,c,d,b){const{iScale:_}=h,{key:E="r"}=this._parsing,A=new Array(b);let R,L,z,Y;for(R=0,L=b;R<L;++R)z=R+d,Y=c[z],A[R]={r:_.parse(to(Y,E),z)};return A}const ei=Number.EPSILON||1e-14,rl=(h,c)=>c<h.length&&!h[c].skip&&h[c],fr=h=>h==="x"?"y":"x";function Pu(h,c,d,b){const _=h.skip?c:h,E=c,A=d.skip?c:d,R=Vt(E,_),L=Vt(A,E);let z=R/(R+L),Y=L/(R+L);z=isNaN(z)?0:z,Y=isNaN(Y)?0:Y;const rt=b*z,lt=b*Y;return{previous:{x:E.x-rt*(A.x-_.x),y:E.y-rt*(A.y-_.y)},next:{x:E.x+lt*(A.x-_.x),y:E.y+lt*(A.y-_.y)}}}function Gb(h,c,d){const b=h.length;let _,E,A,R,L,z=rl(h,0);for(let Y=0;Y<b-1;++Y)if(L=z,z=rl(h,Y+1),!(!L||!z)){if(Gt(c[Y],0,ei)){d[Y]=d[Y+1]=0;continue}_=d[Y]/c[Y],E=d[Y+1]/c[Y],R=Math.pow(_,2)+Math.pow(E,2),!(R<=9)&&(A=3/Math.sqrt(R),d[Y]=_*A*c[Y],d[Y+1]=E*A*c[Y])}}function f0(h,c,d="x"){const b=fr(d),_=h.length;let E,A,R,L=rl(h,0);for(let z=0;z<_;++z){if(A=R,R=L,L=rl(h,z+1),!R)continue;const Y=R[d],rt=R[b];A&&(E=(Y-A[d])/3,R[`cp1${d}`]=Y-E,R[`cp1${b}`]=rt-E*c[z]),L&&(E=(L[d]-Y)/3,R[`cp2${d}`]=Y+E,R[`cp2${b}`]=rt+E*c[z])}}function xs(h,c="x"){const d=fr(c),b=h.length,_=Array(b).fill(0),E=Array(b);let A,R,L,z=rl(h,0);for(A=0;A<b;++A)if(R=L,L=z,z=rl(h,A+1),!!L){if(z){const Y=z[c]-L[c];_[A]=Y!==0?(z[d]-L[d])/Y:0}E[A]=R?z?go(_[A-1])!==go(_[A])?0:(_[A-1]+_[A])/2:_[A-1]:_[A]}Gb(h,_,E),f0(h,E,c)}function ig(h,c,d){return Math.max(Math.min(h,d),c)}function Oi(h,c){let d,b,_,E,A,R=zi(h[0],c);for(d=0,b=h.length;d<b;++d)A=E,E=R,R=d<b-1&&zi(h[d+1],c),E&&(_=h[d],A&&(_.cp1x=ig(_.cp1x,c.left,c.right),_.cp1y=ig(_.cp1y,c.top,c.bottom)),R&&(_.cp2x=ig(_.cp2x,c.left,c.right),_.cp2y=ig(_.cp2y,c.top,c.bottom)))}function ta(h,c,d,b,_){let E,A,R,L;if(c.spanGaps&&(h=h.filter(z=>!z.skip)),c.cubicInterpolationMode==="monotone")xs(h,_);else{let z=b?h[h.length-1]:h[0];for(E=0,A=h.length;E<A;++E)R=h[E],L=Pu(z,R,h[Math.min(E+1,A-(b?0:1))%A],c.tension),R.cp1x=L.previous.x,R.cp1y=L.previous.y,R.cp2x=L.next.x,R.cp2y=L.next.y,z=R}c.capBezierPoints&&Oi(h,d)}const Za=h=>h===0||h===1,ag=(h,c,d)=>-(Math.pow(2,10*(h-=1))*Math.sin((h-c)*pn/d)),xo=(h,c,d)=>Math.pow(2,-10*h)*Math.sin((h-c)*pn/d)+1,ni={linear:h=>h,easeInQuad:h=>h*h,easeOutQuad:h=>-h*(h-2),easeInOutQuad:h=>(h/=.5)<1?.5*h*h:-.5*(--h*(h-2)-1),easeInCubic:h=>h*h*h,easeOutCubic:h=>(h-=1)*h*h+1,easeInOutCubic:h=>(h/=.5)<1?.5*h*h*h:.5*((h-=2)*h*h+2),easeInQuart:h=>h*h*h*h,easeOutQuart:h=>-((h-=1)*h*h*h-1),easeInOutQuart:h=>(h/=.5)<1?.5*h*h*h*h:-.5*((h-=2)*h*h*h-2),easeInQuint:h=>h*h*h*h*h,easeOutQuint:h=>(h-=1)*h*h*h*h+1,easeInOutQuint:h=>(h/=.5)<1?.5*h*h*h*h*h:.5*((h-=2)*h*h*h*h+2),easeInSine:h=>-Math.cos(h*re)+1,easeOutSine:h=>Math.sin(h*re),easeInOutSine:h=>-.5*(Math.cos(jn*h)-1),easeInExpo:h=>h===0?0:Math.pow(2,10*(h-1)),easeOutExpo:h=>h===1?1:-Math.pow(2,-10*h)+1,easeInOutExpo:h=>Za(h)?h:h<.5?.5*Math.pow(2,10*(h*2-1)):.5*(-Math.pow(2,-10*(h*2-1))+2),easeInCirc:h=>h>=1?h:-(Math.sqrt(1-h*h)-1),easeOutCirc:h=>Math.sqrt(1-(h-=1)*h),easeInOutCirc:h=>(h/=.5)<1?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1),easeInElastic:h=>Za(h)?h:ag(h,.075,.3),easeOutElastic:h=>Za(h)?h:xo(h,.075,.3),easeInOutElastic(h){return Za(h)?h:h<.5?.5*ag(h*2,.1125,.45):.5+.5*xo(h*2-1,.1125,.45)},easeInBack(h){return h*h*((1.70158+1)*h-1.70158)},easeOutBack(h){return(h-=1)*h*((1.70158+1)*h+1.70158)+1},easeInOutBack(h){let c=1.70158;return(h/=.5)<1?.5*(h*h*(((c*=1.525)+1)*h-c)):.5*((h-=2)*h*(((c*=1.525)+1)*h+c)+2)},easeInBounce:h=>1-ni.easeOutBounce(1-h),easeOutBounce(h){return h<1/2.75?7.5625*h*h:h<2/2.75?7.5625*(h-=1.5/2.75)*h+.75:h<2.5/2.75?7.5625*(h-=2.25/2.75)*h+.9375:7.5625*(h-=2.625/2.75)*h+.984375},easeInOutBounce:h=>h<.5?ni.easeInBounce(h*2)*.5:ni.easeOutBounce(h*2-1)*.5+.5};function ea(h,c,d,b){return{x:h.x+d*(c.x-h.x),y:h.y+d*(c.y-h.y)}}function Mf(h,c,d,b){return{x:h.x+d*(c.x-h.x),y:b==="middle"?d<.5?h.y:c.y:b==="after"?d<1?h.y:c.y:d>0?c.y:h.y}}function cc(h,c,d,b){const _={x:h.cp2x,y:h.cp2y},E={x:c.cp1x,y:c.cp1y},A=ea(h,_,d),R=ea(_,E,d),L=ea(E,c,d),z=ea(A,R,d),Y=ea(R,L,d);return ea(z,Y,d)}const Sa=new Map;function ws(h,c){c=c||{};const d=h+JSON.stringify(c);let b=Sa.get(d);return b||(b=new Intl.NumberFormat(h,c),Sa.set(d,b)),b}function Ul(h,c,d){return ws(c,d).format(h)}const Pf=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Uh=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Nf(h,c){const d=(""+h).match(Pf);if(!d||d[1]==="normal")return c*1.2;switch(h=+d[2],d[3]){case"px":return h;case"%":h/=100;break}return c*h}const is=h=>+h||0;function Ac(h,c){const d={},b=$(c),_=b?Object.keys(c):c,E=$(h)?b?A=>tt(h[A],h[c[A]]):A=>h[A]:()=>h;for(const A of _)d[A]=is(E(A));return d}function nr(h){return Ac(h,{top:"y",right:"x",bottom:"y",left:"x"})}function Di(h){return Ac(h,["topLeft","topRight","bottomLeft","bottomRight"])}function Er(h){const c=nr(h);return c.width=c.left+c.right,c.height=c.top+c.bottom,c}function Lo(h,c){h=h||{},c=c||Vn.font;let d=tt(h.size,c.size);typeof d=="string"&&(d=parseInt(d,10));let b=tt(h.style,c.style);b&&!(""+b).match(Uh)&&(console.warn('Invalid font style specified: "'+b+'"'),b="");const _={family:tt(h.family,c.family),lineHeight:Nf(tt(h.lineHeight,c.lineHeight),d),size:d,style:b,weight:tt(h.weight,c.weight),string:""};return _.string=tg(_),_}function Wi(h,c,d,b){let _=!0,E,A,R;for(E=0,A=h.length;E<A;++E)if(R=h[E],R!==void 0&&(c!==void 0&&typeof R=="function"&&(R=R(c),_=!1),d!==void 0&&M(R)&&(R=R[d%R.length],_=!1),R!==void 0))return b&&!_&&(b.cacheable=!1),R}function Lf(h,c,d){const{min:b,max:_}=h,E=Bt(c,(_-b)/2),A=(R,L)=>d&&R===0?0:R+L;return{min:A(b,-Math.abs(E)),max:A(_,E)}}function kc(h,c){return Object.assign(Object.create(h),c)}const cg=function(h,c){return{x(d){return h+h+c-d},setWidth(d){c=d},textAlign(d){return d==="center"?d:d==="right"?"left":"right"},xPlus(d,b){return d-b},leftForLtr(d,b){return d-b}}},pp=function(){return{x(h){return h},setWidth(h){},textAlign(h){return h},xPlus(h,c){return h+c},leftForLtr(h,c){return h}}};function Oc(h,c,d){return h?cg(c,d):pp()}function jh(h,c){let d,b;(c==="ltr"||c==="rtl")&&(d=h.canvas.style,b=[d.getPropertyValue("direction"),d.getPropertyPriority("direction")],d.setProperty("direction",c,"important"),h.prevTextDirection=b)}function jl(h,c){c!==void 0&&(delete h.prevTextDirection,h.canvas.style.setProperty("direction",c[0],c[1]))}function Zh(h){return h==="angle"?{between:Ht,compare:Mt,normalize:_t}:{between:kn,compare:(c,d)=>c-d,normalize:c=>c}}function na({start:h,end:c,count:d,loop:b,style:_}){return{start:h%d,end:c%d,loop:b&&(c-h+1)%d===0,style:_}}function Bf(h,c,d){const{property:b,start:_,end:E}=d,{between:A,normalize:R}=Zh(b),L=c.length;let{start:z,end:Y,loop:rt}=h,lt,ut;if(rt){for(z+=L,Y+=L,lt=0,ut=L;lt<ut&&A(R(c[z%L][b]),_,E);++lt)z--,Y--;z%=L,Y%=L}return Y<z&&(Y+=L),{start:z,end:Y,loop:rt,style:h.style}}function Gh(h,c,d){if(!d)return[h];const{property:b,start:_,end:E}=d,A=c.length,{compare:R,between:L,normalize:z}=Zh(b),{start:Y,end:rt,loop:lt,style:ut}=Bf(h,c,d),bt=[];let Ot=!1,qt=null,Yt,de,De;const je=()=>L(_,De,Yt)&&R(_,De)!==0,$e=()=>R(E,Yt)===0||L(E,De,Yt),Cn=()=>Ot||je(),un=()=>!Ot||$e();for(let $n=Y,On=Y;$n<=rt;++$n)de=c[$n%A],!de.skip&&(Yt=z(de[b]),Yt!==De&&(Ot=L(Yt,_,E),qt===null&&Cn()&&(qt=R(Yt,_)===0?$n:On),qt!==null&&un()&&(bt.push(na({start:qt,end:$n,loop:lt,count:A,style:ut})),qt=null),On=$n,De=Yt));return qt!==null&&bt.push(na({start:qt,end:rt,loop:lt,count:A,style:ut})),bt}function Nu(h,c){const d=[],b=h.segments;for(let _=0;_<b.length;_++){const E=Gh(b[_],h.points,c);E.length&&d.push(...E)}return d}function h0(h,c,d,b){let _=0,E=c-1;if(d&&!b)for(;_<c&&!h[_].skip;)_++;for(;_<c&&h[_].skip;)_++;for(_%=c,d&&(E+=_);E>_&&h[E%c].skip;)E--;return E%=c,{start:_,end:E}}function lg(h,c,d,b){const _=h.length,E=[];let A=c,R=h[c],L;for(L=c+1;L<=d;++L){const z=h[L%_];z.skip||z.stop?R.skip||(b=!1,E.push({start:c%_,end:(L-1)%_,loop:b}),c=A=z.stop?L:null):(A=L,R.skip&&(c=L)),R=z}return A!==null&&E.push({start:c%_,end:A%_,loop:b}),E}function qb(h,c){const d=h.points,b=h.options.spanGaps,_=d.length;if(!_)return[];const E=!!h._loop,{start:A,end:R}=h0(d,_,E,b);if(b===!0)return If(h,[{start:A,end:R,loop:E}],d,c);const L=R<A?R+_:R,z=!!h._fullLoop&&A===0&&R===_-1;return If(h,lg(d,A,L,z),d,c)}function If(h,c,d,b){return!b||!b.setContext||!d?c:m0(h,c,d,b)}function m0(h,c,d,b){const _=h._chart.getContext(),E=$f(h.options),{_datasetIndex:A,options:{spanGaps:R}}=h,L=d.length,z=[];let Y=E,rt=c[0].start,lt=rt;function ut(bt,Ot,qt,Yt){const de=R?-1:1;if(bt!==Ot){for(bt+=L;d[bt%L].skip;)bt-=de;for(;d[Ot%L].skip;)Ot+=de;bt%L!==Ot%L&&(z.push({start:bt%L,end:Ot%L,loop:qt,style:Yt}),Y=Yt,rt=Ot%L)}}for(const bt of c){rt=R?rt:bt.start;let Ot=d[rt%L],qt;for(lt=rt+1;lt<=bt.end;lt++){const Yt=d[lt%L];qt=$f(b.setContext(kc(_,{type:"segment",p0:Ot,p1:Yt,p0DataIndex:(lt-1)%L,p1DataIndex:lt%L,datasetIndex:A}))),Q_(qt,Y)&&ut(rt,lt-1,bt.loop,Y),Ot=Yt,Y=qt}rt<lt-1&&ut(rt,lt-1,bt.loop,Y)}return z}function $f(h){return{backgroundColor:h.backgroundColor,borderCapStyle:h.borderCapStyle,borderDash:h.borderDash,borderDashOffset:h.borderDashOffset,borderJoinStyle:h.borderJoinStyle,borderWidth:h.borderWidth,borderColor:h.borderColor}}function Q_(h,c){return c&&JSON.stringify(h)!==JSON.stringify(c)}var ht=Object.freeze({__proto__:null,easingEffects:ni,isPatternOrGradient:kf,color:kd,getHoverColor:Wo,noop:v,uid:m,isNullOrUndef:C,isArray:M,isObject:$,isFinite:W,finiteOrDefault:G,valueOrDefault:tt,toPercentage:gt,toDimension:Bt,callback:Tt,each:Lt,_elementsEqual:Le,clone:He,_merger:_e,merge:$t,mergeIf:Je,_mergerIf:Nn,_deprecated:ft,resolveObjectKey:to,_splitKey:vt,_capitalize:wn,defined:Hn,isFunction:sn,setsEqual:Zt,_isClickEvent:pt,toFontString:tg,_measureText:Od,_longestText:hp,_alignPixel:Wl,clearCanvas:Df,drawPoint:eg,drawPointLegend:gs,_isPointInArea:zi,clipArea:ng,unclipArea:Rf,_steppedLineTo:Ec,_bezierCurveTo:d0,renderText:ol,addRoundedRectPath:Tc,_lookup:Se,_lookupByKey:vo,_rlookupByKey:yo,_filterBetween:Ms,listenArrayEvents:ks,unlistenArrayEvents:Ei,_arrayUnique:Ps,_createResolver:og,_attachContext:Ee,_descriptors:mp,_parseObjectDataRadialScale:sl,splineCurve:Pu,splineCurveMonotone:xs,_updateBezierControlPoints:ta,_isDomSupported:Zb,_getParentNode:zh,getStyle:wa,getRelativePosition:ja,getMaximumSize:dp,retinaScale:fp,supportsEventListenerOptions:Sc,readUsedSize:zl,fontString:vs,requestAnimFrame:Qo,throttled:ic,debounce:Oo,_toLeftRightCenter:Co,_alignStartEnd:ys,_textX:dr,_getStartAndCountOfVisiblePoints:Qc,_scaleRangesChanged:Vi,_pointInLine:ea,_steppedInterpolation:Mf,_bezierInterpolation:cc,formatNumber:Ul,toLineHeight:Nf,_readValueToProps:Ac,toTRBL:nr,toTRBLCorners:Di,toPadding:Er,toFont:Lo,resolve:Wi,_addGrace:Lf,createContext:kc,PI:jn,TAU:pn,PITAU:Ye,INFINITY:F,RAD_PER_DEG:Po,HALF_PI:re,QUARTER_PI:wo,TWO_THIRDS_PI:bn,log10:Kt,sign:go,niceNum:Cr,_factorize:ko,isNumber:Bo,almostEquals:Gt,almostWhole:Ae,_setMinAndMaxByKey:X,toRadians:tr,toDegrees:oo,_decimalPlaces:hs,getAngleFromPoint:ie,distanceBetweenPoints:Vt,_angleDiff:Mt,_normalizeAngle:_t,_angleBetween:Ht,_limitValue:wt,_int16Range:Gn,_isBetween:kn,getRtlAdapter:Oc,overrideTextDirection:jh,restoreTextDirection:jl,_boundSegment:Gh,_boundSegments:Nu,_computeSegments:qb});function Kb(h,c,d,b){const{controller:_,data:E,_sorted:A}=h,R=_._cachedMeta.iScale;if(R&&c===R.axis&&c!=="r"&&A&&E.length){const L=R._reversePixels?yo:vo;if(b){if(_._sharedOptions){const z=E[0],Y=typeof z.getRange=="function"&&z.getRange(c);if(Y){const rt=L(E,c,d-Y),lt=L(E,c,d+Y);return{lo:rt.lo,hi:lt.hi}}}}else return L(E,c,d)}return{lo:0,hi:E.length-1}}function Ri(h,c,d,b,_){const E=h.getSortedVisibleDatasetMetas(),A=d[c];for(let R=0,L=E.length;R<L;++R){const{index:z,data:Y}=E[R],{lo:rt,hi:lt}=Kb(E[R],c,A,_);for(let ut=rt;ut<=lt;++ut){const bt=Y[ut];bt.skip||b(bt,z,ut)}}}function Ff(h){const c=h.indexOf("x")!==-1,d=h.indexOf("y")!==-1;return function(b,_){const E=c?Math.abs(b.x-_.x):0,A=d?Math.abs(b.y-_.y):0;return Math.sqrt(Math.pow(E,2)+Math.pow(A,2))}}function g0(h,c,d,b,_){const E=[];return!_&&!h.isPointInArea(c)||Ri(h,d,c,function(R,L,z){!_&&!zi(R,h.chartArea,0)||R.inRange(c.x,c.y,b)&&E.push({element:R,datasetIndex:L,index:z})},!0),E}function p0(h,c,d,b){let _=[];function E(A,R,L){const{startAngle:z,endAngle:Y}=A.getProps(["startAngle","endAngle"],b),{angle:rt}=ie(A,{x:c.x,y:c.y});Ht(rt,z,Y)&&_.push({element:A,datasetIndex:R,index:L})}return Ri(h,d,c,E),_}function Io(h,c,d,b,_,E){let A=[];const R=Ff(d);let L=Number.POSITIVE_INFINITY;function z(Y,rt,lt){const ut=Y.inRange(c.x,c.y,_);if(b&&!ut)return;const bt=Y.getCenterPoint(_);if(!(!!E||h.isPointInArea(bt))&&!ut)return;const qt=R(c,bt);qt<L?(A=[{element:Y,datasetIndex:rt,index:lt}],L=qt):qt===L&&A.push({element:Y,datasetIndex:rt,index:lt})}return Ri(h,d,c,z),A}function il(h,c,d,b,_,E){return!E&&!h.isPointInArea(c)?[]:d==="r"&&!b?p0(h,c,d,_):Io(h,c,d,b,_,E)}function lc(h,c,d,b,_){const E=[],A=d==="x"?"inXRange":"inYRange";let R=!1;return Ri(h,d,c,(L,z,Y)=>{L[A](c[d],_)&&(E.push({element:L,datasetIndex:z,index:Y}),R=R||L.inRange(c.x,c.y,_))}),b&&!R?[]:E}var Mi={evaluateInteractionItems:Ri,modes:{index(h,c,d,b){const _=ja(c,h),E=d.axis||"x",A=d.includeInvisible||!1,R=d.intersect?g0(h,_,E,b,A):il(h,_,E,!1,b,A),L=[];return R.length?(h.getSortedVisibleDatasetMetas().forEach(z=>{const Y=R[0].index,rt=z.data[Y];rt&&!rt.skip&&L.push({element:rt,datasetIndex:z.index,index:Y})}),L):[]},dataset(h,c,d,b){const _=ja(c,h),E=d.axis||"xy",A=d.includeInvisible||!1;let R=d.intersect?g0(h,_,E,b,A):il(h,_,E,!1,b,A);if(R.length>0){const L=R[0].datasetIndex,z=h.getDatasetMeta(L).data;R=[];for(let Y=0;Y<z.length;++Y)R.push({element:z[Y],datasetIndex:L,index:Y})}return R},point(h,c,d,b){const _=ja(c,h),E=d.axis||"xy",A=d.includeInvisible||!1;return g0(h,_,E,b,A)},nearest(h,c,d,b){const _=ja(c,h),E=d.axis||"xy",A=d.includeInvisible||!1;return il(h,_,E,d.intersect,b,A)},x(h,c,d,b){const _=ja(c,h);return lc(h,_,"x",d.intersect,b)},y(h,c,d,b){const _=ja(c,h);return lc(h,_,"y",d.intersect,b)}}};const Yb=["left","top","right","bottom"];function Lu(h,c){return h.filter(d=>d.pos===c)}function Ga(h,c){return h.filter(d=>Yb.indexOf(d.pos)===-1&&d.box.axis===c)}function Bu(h,c){return h.sort((d,b)=>{const _=c?b:d,E=c?d:b;return _.weight===E.weight?_.index-E.index:_.weight-E.weight})}function Xb(h){const c=[];let d,b,_,E,A,R;for(d=0,b=(h||[]).length;d<b;++d)_=h[d],{position:E,options:{stack:A,stackWeight:R=1}}=_,c.push({index:d,box:_,pos:E,horizontal:_.isHorizontal(),weight:_.weight,stack:A&&E+A,stackWeight:R});return c}function b0(h){const c={};for(const d of h){const{stack:b,pos:_,stackWeight:E}=d;if(!b||!Yb.includes(_))continue;const A=c[b]||(c[b]={count:0,placed:0,weight:0,size:0});A.count++,A.weight+=E}return c}function Dc(h,c){const d=b0(h),{vBoxMaxWidth:b,hBoxMaxHeight:_}=c;let E,A,R;for(E=0,A=h.length;E<A;++E){R=h[E];const{fullSize:L}=R.box,z=d[R.stack],Y=z&&R.stackWeight/z.weight;R.horizontal?(R.width=Y?Y*b:L&&c.availableWidth,R.height=_):(R.width=b,R.height=Y?Y*_:L&&c.availableHeight)}return d}function qh(h){const c=Xb(h),d=Bu(c.filter(z=>z.box.fullSize),!0),b=Bu(Lu(c,"left"),!0),_=Bu(Lu(c,"right")),E=Bu(Lu(c,"top"),!0),A=Bu(Lu(c,"bottom")),R=Ga(c,"x"),L=Ga(c,"y");return{fullSize:d,leftAndTop:b.concat(E),rightAndBottom:_.concat(L).concat(A).concat(R),chartArea:Lu(c,"chartArea"),vertical:b.concat(_).concat(L),horizontal:E.concat(A).concat(R)}}function bp(h,c,d,b){return Math.max(h[d],c[d])+Math.max(h[b],c[b])}function qa(h,c){h.top=Math.max(h.top,c.top),h.left=Math.max(h.left,c.left),h.bottom=Math.max(h.bottom,c.bottom),h.right=Math.max(h.right,c.right)}function mi(h,c,d,b){const{pos:_,box:E}=d,A=h.maxPadding;if(!$(_)){d.size&&(h[_]-=d.size);const rt=b[d.stack]||{size:0,count:1};rt.size=Math.max(rt.size,d.horizontal?E.height:E.width),d.size=rt.size/rt.count,h[_]+=d.size}E.getPadding&&qa(A,E.getPadding());const R=Math.max(0,c.outerWidth-bp(A,h,"left","right")),L=Math.max(0,c.outerHeight-bp(A,h,"top","bottom")),z=R!==h.w,Y=L!==h.h;return h.w=R,h.h=L,d.horizontal?{same:z,other:Y}:{same:Y,other:z}}function Dd(h){const c=h.maxPadding;function d(b){const _=Math.max(c[b]-h[b],0);return h[b]+=_,_}h.y+=d("top"),h.x+=d("left"),d("right"),d("bottom")}function Kh(h,c){const d=c.maxPadding;function b(_){const E={left:0,top:0,right:0,bottom:0};return _.forEach(A=>{E[A]=Math.max(c[A],d[A])}),E}return b(h?["left","right"]:["top","bottom"])}function oa(h,c,d,b){const _=[];let E,A,R,L,z,Y;for(E=0,A=h.length,z=0;E<A;++E){R=h[E],L=R.box,L.update(R.width||c.w,R.height||c.h,Kh(R.horizontal,c));const{same:rt,other:lt}=mi(c,d,R,b);z|=rt&&_.length,Y=Y||lt,L.fullSize||_.push(R)}return z&&oa(_,c,d,b)||Y}function oi(h,c,d,b,_){h.top=d,h.left=c,h.right=c+b,h.bottom=d+_,h.width=b,h.height=_}function ug(h,c,d,b){const _=d.padding;let{x:E,y:A}=c;for(const R of h){const L=R.box,z=b[R.stack]||{count:1,placed:0,weight:1},Y=R.stackWeight/z.weight||1;if(R.horizontal){const rt=c.w*Y,lt=z.size||L.height;Hn(z.start)&&(A=z.start),L.fullSize?oi(L,_.left,A,d.outerWidth-_.right-_.left,lt):oi(L,c.left+z.placed,A,rt,lt),z.start=A,z.placed+=rt,A=L.bottom}else{const rt=c.h*Y,lt=z.size||L.width;Hn(z.start)&&(E=z.start),L.fullSize?oi(L,E,_.top,lt,d.outerHeight-_.bottom-_.top):oi(L,E,c.top+z.placed,lt,rt),z.start=E,z.placed+=rt,E=L.right}}c.x=E,c.y=A}Vn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Pi={addBox(h,c){h.boxes||(h.boxes=[]),c.fullSize=c.fullSize||!1,c.position=c.position||"top",c.weight=c.weight||0,c._layers=c._layers||function(){return[{z:0,draw(d){c.draw(d)}}]},h.boxes.push(c)},removeBox(h,c){const d=h.boxes?h.boxes.indexOf(c):-1;d!==-1&&h.boxes.splice(d,1)},configure(h,c,d){c.fullSize=d.fullSize,c.position=d.position,c.weight=d.weight},update(h,c,d,b){if(!h)return;const _=Er(h.options.layout.padding),E=Math.max(c-_.width,0),A=Math.max(d-_.height,0),R=qh(h.boxes),L=R.vertical,z=R.horizontal;Lt(h.boxes,Ot=>{typeof Ot.beforeLayout=="function"&&Ot.beforeLayout()});const Y=L.reduce((Ot,qt)=>qt.box.options&&qt.box.options.display===!1?Ot:Ot+1,0)||1,rt=Object.freeze({outerWidth:c,outerHeight:d,padding:_,availableWidth:E,availableHeight:A,vBoxMaxWidth:E/2/Y,hBoxMaxHeight:A/2}),lt=Object.assign({},_);qa(lt,Er(b));const ut=Object.assign({maxPadding:lt,w:E,h:A,x:_.left,y:_.top},_),bt=Dc(L.concat(z),rt);oa(R.fullSize,ut,rt,bt),oa(L,ut,rt,bt),oa(z,ut,rt,bt)&&oa(L,ut,rt,bt),Dd(ut),ug(R.leftAndTop,ut,rt,bt),ut.x+=ut.w,ut.y+=ut.h,ug(R.rightAndBottom,ut,rt,bt),h.chartArea={left:ut.left,top:ut.top,right:ut.left+ut.w,bottom:ut.top+ut.h,height:ut.h,width:ut.w},Lt(R.chartArea,Ot=>{const qt=Ot.box;Object.assign(qt,h.chartArea),qt.update(ut.w,ut.h,{left:0,top:0,right:0,bottom:0})})}};class Hf{acquireContext(c,d){}releaseContext(c){return!1}addEventListener(c,d,b){}removeEventListener(c,d,b){}getDevicePixelRatio(){return 1}getMaximumSize(c,d,b,_){return d=Math.max(0,d||c.width),b=b||c.height,{width:d,height:Math.max(0,_?Math.floor(d/_):b)}}isAttached(c){return!0}updateConfig(c){}}class Yh extends Hf{acquireContext(c){return c&&c.getContext&&c.getContext("2d")||null}updateConfig(c){c.options.animation=!1}}const Vf="$chartjs",Iu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dg=h=>h===null||h==="";function tx(h,c){const d=h.style,b=h.getAttribute("height"),_=h.getAttribute("width");if(h[Vf]={initial:{height:b,width:_,style:{display:d.display,height:d.height,width:d.width}}},d.display=d.display||"block",d.boxSizing=d.boxSizing||"border-box",dg(_)){const E=zl(h,"width");E!==void 0&&(h.width=E)}if(dg(b))if(h.style.height==="")h.height=h.width/(c||2);else{const E=zl(h,"height");E!==void 0&&(h.height=E)}return h}const NS=Sc?{passive:!0}:!1;function ex(h,c,d){h.addEventListener(c,d,NS)}function vp(h,c,d){h.canvas.removeEventListener(c,d,NS)}function nx(h,c){const d=Iu[h.type]||h.type,{x:b,y:_}=ja(h,c);return{type:d,chart:c,native:h,x:b!==void 0?b:null,y:_!==void 0?_:null}}function Zl(h,c){for(const d of h)if(d===c||d.contains(c))return!0}function hr(h,c,d){const b=h.canvas,_=new MutationObserver(E=>{let A=!1;for(const R of E)A=A||Zl(R.addedNodes,b),A=A&&!Zl(R.removedNodes,b);A&&d()});return _.observe(document,{childList:!0,subtree:!0}),_}function Hs(h,c,d){const b=h.canvas,_=new MutationObserver(E=>{let A=!1;for(const R of E)A=A||Zl(R.removedNodes,b),A=A&&!Zl(R.addedNodes,b);A&&d()});return _.observe(document,{childList:!0,subtree:!0}),_}const Nr=new Map;let yp=0;function v0(){const h=window.devicePixelRatio;h!==yp&&(yp=h,Nr.forEach((c,d)=>{d.currentDevicePixelRatio!==h&&c()}))}function Ni(h,c){Nr.size||window.addEventListener("resize",v0),Nr.set(h,c)}function fg(h){Nr.delete(h),Nr.size||window.removeEventListener("resize",v0)}function hg(h,c,d){const b=h.canvas,_=b&&zh(b);if(!_)return;const E=ic((R,L)=>{const z=_.clientWidth;d(R,L),z<_.clientWidth&&d()},window),A=new ResizeObserver(R=>{const L=R[0],z=L.contentRect.width,Y=L.contentRect.height;z===0&&Y===0||E(z,Y)});return A.observe(_),Ni(h,E),A}function Gl(h,c,d){d&&d.disconnect(),c==="resize"&&fg(h)}function Rd(h,c,d){const b=h.canvas,_=ic(E=>{h.ctx!==null&&d(nx(E,h))},h,E=>{const A=E[0];return[A,A.offsetX,A.offsetY]});return ex(b,c,_),_}class Ln extends Hf{acquireContext(c,d){const b=c&&c.getContext&&c.getContext("2d");return b&&b.canvas===c?(tx(c,d),b):null}releaseContext(c){const d=c.canvas;if(!d[Vf])return!1;const b=d[Vf].initial;["height","width"].forEach(E=>{const A=b[E];C(A)?d.removeAttribute(E):d.setAttribute(E,A)});const _=b.style||{};return Object.keys(_).forEach(E=>{d.style[E]=_[E]}),d.width=d.width,delete d[Vf],!0}addEventListener(c,d,b){this.removeEventListener(c,d);const _=c.$proxies||(c.$proxies={}),A={attach:hr,detach:Hs,resize:hg}[d]||Rd;_[d]=A(c,d,b)}removeEventListener(c,d){const b=c.$proxies||(c.$proxies={}),_=b[d];if(!_)return;({attach:Gl,detach:Gl,resize:Gl}[d]||vp)(c,d,_),b[d]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(c,d,b,_){return dp(c,d,b,_)}isAttached(c){const d=zh(c);return!!(d&&d.isConnected)}}function sa(h){return!Zb()||typeof OffscreenCanvas<"u"&&h instanceof OffscreenCanvas?Yh:Ln}var Md=Object.freeze({__proto__:null,_detectPlatform:sa,BasePlatform:Hf,BasicPlatform:Yh,DomPlatform:Ln});const mg="transparent",y0={boolean(h,c,d){return d>.5?c:h},color(h,c,d){const b=kd(h||mg),_=b.valid&&kd(c||mg);return _&&_.valid?_.mix(b,d).hexString():c},number(h,c,d){return h+(c-h)*d}};class zf{constructor(c,d,b,_){const E=d[b];_=Wi([c.to,_,E,c.from]);const A=Wi([c.from,E,_]);this._active=!0,this._fn=c.fn||y0[c.type||typeof A],this._easing=ni[c.easing]||ni.linear,this._start=Math.floor(Date.now()+(c.delay||0)),this._duration=this._total=Math.floor(c.duration),this._loop=!!c.loop,this._target=d,this._prop=b,this._from=A,this._to=_,this._promises=void 0}active(){return this._active}update(c,d,b){if(this._active){this._notify(!1);const _=this._target[this._prop],E=b-this._start,A=this._duration-E;this._start=b,this._duration=Math.floor(Math.max(A,c.duration)),this._total+=E,this._loop=!!c.loop,this._to=Wi([c.to,d,_,c.from]),this._from=Wi([c.from,_,d])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(c){const d=c-this._start,b=this._duration,_=this._prop,E=this._from,A=this._loop,R=this._to;let L;if(this._active=E!==R&&(A||d<b),!this._active){this._target[_]=R,this._notify(!0);return}if(d<0){this._target[_]=E;return}L=d/b%2,L=A&&L>1?2-L:L,L=this._easing(Math.min(1,Math.max(0,L))),this._target[_]=this._fn(E,R,L)}wait(){const c=this._promises||(this._promises=[]);return new Promise((d,b)=>{c.push({res:d,rej:b})})}_notify(c){const d=c?"res":"rej",b=this._promises||[];for(let _=0;_<b.length;_++)b[_][d]()}}const gg=["x","y","borderWidth","radius","tension"],ql=["color","borderColor","backgroundColor"];Vn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Ka=Object.keys(Vn.animation);Vn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:h=>h!=="onProgress"&&h!=="onComplete"&&h!=="fn"}),Vn.set("animations",{colors:{type:"color",properties:ql},numbers:{type:"number",properties:gg}}),Vn.describe("animations",{_fallback:"animation"}),Vn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:h=>h|0}}}});class si{constructor(c,d){this._chart=c,this._properties=new Map,this.configure(d)}configure(c){if(!$(c))return;const d=this._properties;Object.getOwnPropertyNames(c).forEach(b=>{const _=c[b];if(!$(_))return;const E={};for(const A of Ka)E[A]=_[A];(M(_.properties)&&_.properties||[b]).forEach(A=>{(A===b||!d.has(A))&&d.set(A,E)})})}_animateOptions(c,d){const b=d.options,_=ri(c,b);if(!_)return[];const E=this._createAnimations(_,b);return b.$shared&&uc(c.options.$animations,b).then(()=>{c.options=b},()=>{}),E}_createAnimations(c,d){const b=this._properties,_=[],E=c.$animations||(c.$animations={}),A=Object.keys(d),R=Date.now();let L;for(L=A.length-1;L>=0;--L){const z=A[L];if(z.charAt(0)==="$")continue;if(z==="options"){_.push(...this._animateOptions(c,d));continue}const Y=d[z];let rt=E[z];const lt=b.get(z);if(rt)if(lt&&rt.active()){rt.update(lt,Y,R);continue}else rt.cancel();if(!lt||!lt.duration){c[z]=Y;continue}E[z]=rt=new zf(lt,c,z,Y),_.push(rt)}return _}update(c,d){if(this._properties.size===0){Object.assign(c,d);return}const b=this._createAnimations(c,d);if(b.length)return Wa.add(this._chart,b),!0}}function uc(h,c){const d=[],b=Object.keys(c);for(let _=0;_<b.length;_++){const E=h[b[_]];E&&E.active()&&d.push(E.wait())}return Promise.all(d)}function ri(h,c){if(!c)return;let d=h.options;if(!d){h.options=c;return}return d.$shared&&(h.options=d=Object.assign({},d,{$shared:!1,$animations:{}})),d}function Zs(h,c){const d=h&&h.options||{},b=d.reverse,_=d.min===void 0?c:0,E=d.max===void 0?c:0;return{start:b?E:_,end:b?_:E}}function gi(h,c,d){if(d===!1)return!1;const b=Zs(h,d),_=Zs(c,d);return{top:_.end,right:b.end,bottom:_.start,left:b.start}}function $u(h){let c,d,b,_;return $(h)?(c=h.top,d=h.right,b=h.bottom,_=h.left):c=d=b=_=h,{top:c,right:d,bottom:b,left:_,disabled:h===!1}}function Rc(h,c){const d=[],b=h._getSortedDatasetMetas(c);let _,E;for(_=0,E=b.length;_<E;++_)d.push(b[_].index);return d}function Ks(h,c,d,b={}){const _=h.keys,E=b.mode==="single";let A,R,L,z;if(c!==null){for(A=0,R=_.length;A<R;++A){if(L=+_[A],L===d){if(b.all)continue;break}z=h.values[L],W(z)&&(E||c===0||go(c)===go(z))&&(c+=z)}return c}}function _0(h){const c=Object.keys(h),d=new Array(c.length);let b,_,E;for(b=0,_=c.length;b<_;++b)E=c[b],d[b]={x:E,y:h[E]};return d}function Jb(h,c){const d=h&&h.options.stacked;return d||d===void 0&&c.stack!==void 0}function ts(h,c,d){return`${h.id}.${c.id}.${d.stack||d.type}`}function Wf(h){const{min:c,max:d,minDefined:b,maxDefined:_}=h.getUserBounds();return{min:b?c:Number.NEGATIVE_INFINITY,max:_?d:Number.POSITIVE_INFINITY}}function Do(h,c,d){const b=h[c]||(h[c]={});return b[d]||(b[d]={})}function al(h,c,d,b){for(const _ of c.getMatchingVisibleMetas(b).reverse()){const E=h[_.index];if(d&&E>0||!d&&E<0)return _.index}return null}function _p(h,c){const{chart:d,_cachedMeta:b}=h,_=d._stacks||(d._stacks={}),{iScale:E,vScale:A,index:R}=b,L=E.axis,z=A.axis,Y=ts(E,A,b),rt=c.length;let lt;for(let ut=0;ut<rt;++ut){const bt=c[ut],{[L]:Ot,[z]:qt}=bt,Yt=bt._stacks||(bt._stacks={});lt=Yt[z]=Do(_,Y,Ot),lt[R]=qt,lt._top=al(lt,A,!0,b.type),lt._bottom=al(lt,A,!1,b.type)}}function Xh(h,c){const d=h.scales;return Object.keys(d).filter(b=>d[b].axis===c).shift()}function Qb(h,c){return kc(h,{active:!1,dataset:void 0,datasetIndex:c,index:c,mode:"default",type:"dataset"})}function t1(h,c,d){return kc(h,{active:!1,dataIndex:c,parsed:void 0,raw:void 0,element:d,index:c,mode:"default",type:"data"})}function Qn(h,c){const d=h.controller.index,b=h.vScale&&h.vScale.axis;if(b){c=c||h._parsed;for(const _ of c){const E=_._stacks;if(!E||E[b]===void 0||E[b][d]===void 0)return;delete E[b][d]}}}const Jh=h=>h==="reset"||h==="none",x0=(h,c)=>c?h:Object.assign({},h),ox=(h,c,d)=>h&&!c.hidden&&c._stacked&&{keys:Rc(d,!0),values:null};class dc{constructor(c,d){this.chart=c,this._ctx=c.ctx,this.index=d,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=Jb(c.vScale,c),this.addElements()}updateIndex(c){this.index!==c&&Qn(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,d=this._cachedMeta,b=this.getDataset(),_=(rt,lt,ut,bt)=>rt==="x"?lt:rt==="r"?bt:ut,E=d.xAxisID=tt(b.xAxisID,Xh(c,"x")),A=d.yAxisID=tt(b.yAxisID,Xh(c,"y")),R=d.rAxisID=tt(b.rAxisID,Xh(c,"r")),L=d.indexAxis,z=d.iAxisID=_(L,E,A,R),Y=d.vAxisID=_(L,A,E,R);d.xScale=this.getScaleForId(E),d.yScale=this.getScaleForId(A),d.rScale=this.getScaleForId(R),d.iScale=this.getScaleForId(z),d.vScale=this.getScaleForId(Y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const d=this._cachedMeta;return c===d.iScale?d.vScale:d.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&Ei(this._data,this),c._stacked&&Qn(c)}_dataCheck(){const c=this.getDataset(),d=c.data||(c.data=[]),b=this._data;if($(d))this._data=_0(d);else if(b!==d){if(b){Ei(b,this);const _=this._cachedMeta;Qn(_),_._parsed=[]}d&&Object.isExtensible(d)&&ks(d,this),this._syncList=[],this._data=d}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const d=this._cachedMeta,b=this.getDataset();let _=!1;this._dataCheck();const E=d._stacked;d._stacked=Jb(d.vScale,d),d.stack!==b.stack&&(_=!0,Qn(d),d.stack=b.stack),this._resyncElements(c),(_||E!==d._stacked)&&_p(this,d._parsed)}configure(){const c=this.chart.config,d=c.datasetScopeKeys(this._type),b=c.getOptionScopes(this.getDataset(),d,!0);this.options=c.createResolver(b,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,d){const{_cachedMeta:b,_data:_}=this,{iScale:E,_stacked:A}=b,R=E.axis;let L=c===0&&d===_.length?!0:b._sorted,z=c>0&&b._parsed[c-1],Y,rt,lt;if(this._parsing===!1)b._parsed=_,b._sorted=!0,lt=_;else{M(_[c])?lt=this.parseArrayData(b,_,c,d):$(_[c])?lt=this.parseObjectData(b,_,c,d):lt=this.parsePrimitiveData(b,_,c,d);const ut=()=>rt[R]===null||z&&rt[R]<z[R];for(Y=0;Y<d;++Y)b._parsed[Y+c]=rt=lt[Y],L&&(ut()&&(L=!1),z=rt);b._sorted=L}A&&_p(this,lt)}parsePrimitiveData(c,d,b,_){const{iScale:E,vScale:A}=c,R=E.axis,L=A.axis,z=E.getLabels(),Y=E===A,rt=new Array(_);let lt,ut,bt;for(lt=0,ut=_;lt<ut;++lt)bt=lt+b,rt[lt]={[R]:Y||E.parse(z[bt],bt),[L]:A.parse(d[bt],bt)};return rt}parseArrayData(c,d,b,_){const{xScale:E,yScale:A}=c,R=new Array(_);let L,z,Y,rt;for(L=0,z=_;L<z;++L)Y=L+b,rt=d[Y],R[L]={x:E.parse(rt[0],Y),y:A.parse(rt[1],Y)};return R}parseObjectData(c,d,b,_){const{xScale:E,yScale:A}=c,{xAxisKey:R="x",yAxisKey:L="y"}=this._parsing,z=new Array(_);let Y,rt,lt,ut;for(Y=0,rt=_;Y<rt;++Y)lt=Y+b,ut=d[lt],z[Y]={x:E.parse(to(ut,R),lt),y:A.parse(to(ut,L),lt)};return z}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,d,b){const _=this.chart,E=this._cachedMeta,A=d[c.axis],R={keys:Rc(_,!0),values:d._stacks[c.axis]};return Ks(R,A,E.index,{mode:b})}updateRangeFromParsed(c,d,b,_){const E=b[d.axis];let A=E===null?NaN:E;const R=_&&b._stacks[d.axis];_&&R&&(_.values=R,A=Ks(_,E,this._cachedMeta.index)),c.min=Math.min(c.min,A),c.max=Math.max(c.max,A)}getMinMax(c,d){const b=this._cachedMeta,_=b._parsed,E=b._sorted&&c===b.iScale,A=_.length,R=this._getOtherScale(c),L=ox(d,b,this.chart),z={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Y,max:rt}=Wf(R);let lt,ut;function bt(){ut=_[lt];const Ot=ut[R.axis];return!W(ut[c.axis])||Y>Ot||rt<Ot}for(lt=0;lt<A&&!(!bt()&&(this.updateRangeFromParsed(z,c,ut,L),E));++lt);if(E){for(lt=A-1;lt>=0;--lt)if(!bt()){this.updateRangeFromParsed(z,c,ut,L);break}}return z}getAllParsedValues(c){const d=this._cachedMeta._parsed,b=[];let _,E,A;for(_=0,E=d.length;_<E;++_)A=d[_][c.axis],W(A)&&b.push(A);return b}getMaxOverflow(){return!1}getLabelAndValue(c){const d=this._cachedMeta,b=d.iScale,_=d.vScale,E=this.getParsed(c);return{label:b?""+b.getLabelForValue(E[b.axis]):"",value:_?""+_.getLabelForValue(E[_.axis]):""}}_update(c){const d=this._cachedMeta;this.update(c||"default"),d._clip=$u(tt(this.options.clip,gi(d.xScale,d.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,d=this.chart,b=this._cachedMeta,_=b.data||[],E=d.chartArea,A=[],R=this._drawStart||0,L=this._drawCount||_.length-R,z=this.options.drawActiveElementsOnTop;let Y;for(b.dataset&&b.dataset.draw(c,E,R,L),Y=R;Y<R+L;++Y){const rt=_[Y];rt.hidden||(rt.active&&z?A.push(rt):rt.draw(c,E))}for(Y=0;Y<A.length;++Y)A[Y].draw(c,E)}getStyle(c,d){const b=d?"active":"default";return c===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(b):this.resolveDataElementOptions(c||0,b)}getContext(c,d,b){const _=this.getDataset();let E;if(c>=0&&c<this._cachedMeta.data.length){const A=this._cachedMeta.data[c];E=A.$context||(A.$context=t1(this.getContext(),c,A)),E.parsed=this.getParsed(c),E.raw=_.data[c],E.index=E.dataIndex=c}else E=this.$context||(this.$context=Qb(this.chart.getContext(),this.index)),E.dataset=_,E.index=E.datasetIndex=this.index;return E.active=!!d,E.mode=b,E}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,d){return this._resolveElementOptions(this.dataElementType.id,d,c)}_resolveElementOptions(c,d="default",b){const _=d==="active",E=this._cachedDataOpts,A=c+"-"+d,R=E[A],L=this.enableOptionSharing&&Hn(b);if(R)return x0(R,L);const z=this.chart.config,Y=z.datasetElementScopeKeys(this._type,c),rt=_?[`${c}Hover`,"hover",c,""]:[c,""],lt=z.getOptionScopes(this.getDataset(),Y),ut=Object.keys(Vn.elements[c]),bt=()=>this.getContext(b,_),Ot=z.resolveNamedOptions(lt,ut,bt,rt);return Ot.$shared&&(Ot.$shared=L,E[A]=Object.freeze(x0(Ot,L))),Ot}_resolveAnimations(c,d,b){const _=this.chart,E=this._cachedDataOpts,A=`animation-${d}`,R=E[A];if(R)return R;let L;if(_.options.animation!==!1){const Y=this.chart.config,rt=Y.datasetAnimationScopeKeys(this._type,d),lt=Y.getOptionScopes(this.getDataset(),rt);L=Y.createResolver(lt,this.getContext(c,b,d))}const z=new si(_,L&&L.animations);return L&&L._cacheable&&(E[A]=Object.freeze(z)),z}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,d){return!d||Jh(c)||this.chart._animationsDisabled}_getSharedOptions(c,d){const b=this.resolveDataElementOptions(c,d),_=this._sharedOptions,E=this.getSharedOptions(b),A=this.includeOptions(d,E)||E!==_;return this.updateSharedOptions(E,d,b),{sharedOptions:E,includeOptions:A}}updateElement(c,d,b,_){Jh(_)?Object.assign(c,b):this._resolveAnimations(d,_).update(c,b)}updateSharedOptions(c,d,b){c&&!Jh(d)&&this._resolveAnimations(void 0,d).update(c,b)}_setStyle(c,d,b,_){c.active=_;const E=this.getStyle(d,_);this._resolveAnimations(d,b,_).update(c,{options:!_&&this.getSharedOptions(E)||E})}removeHoverStyle(c,d,b){this._setStyle(c,b,"active",!1)}setHoverStyle(c,d,b){this._setStyle(c,b,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const d=this._data,b=this._cachedMeta.data;for(const[R,L,z]of this._syncList)this[R](L,z);this._syncList=[];const _=b.length,E=d.length,A=Math.min(E,_);A&&this.parse(0,A),E>_?this._insertElements(_,E-_,c):E<_&&this._removeElements(E,_-E)}_insertElements(c,d,b=!0){const _=this._cachedMeta,E=_.data,A=c+d;let R;const L=z=>{for(z.length+=d,R=z.length-1;R>=A;R--)z[R]=z[R-d]};for(L(E),R=c;R<A;++R)E[R]=new this.dataElementType;this._parsing&&L(_._parsed),this.parse(c,d),b&&this.updateElements(E,c,d,"reset")}updateElements(c,d,b,_){}_removeElements(c,d){const b=this._cachedMeta;if(this._parsing){const _=b._parsed.splice(c,d);b._stacked&&Qn(b,_)}b.data.splice(c,d)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[d,b,_]=c;this[d](b,_)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,d){d&&this._sync(["_removeElements",c,d]);const b=arguments.length-2;b&&this._sync(["_insertElements",c,b])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dc.defaults={},dc.prototype.datasetElementType=null,dc.prototype.dataElementType=null;class Ea{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(c){const{x:d,y:b}=this.getProps(["x","y"],c);return{x:d,y:b}}hasValue(){return Bo(this.x)&&Bo(this.y)}getProps(c,d){const b=this.$animations;if(!d||!b)return this;const _={};return c.forEach(E=>{_[E]=b[E]&&b[E].active()?b[E]._to:this[E]}),_}}Ea.defaults={},Ea.defaultRoutes=void 0;const w0={values(h){return M(h)?h:""+h},numeric(h,c,d){if(h===0)return"0";const b=this.chart.options.locale;let _,E=h;if(d.length>1){const z=Math.max(Math.abs(d[0].value),Math.abs(d[d.length-1].value));(z<1e-4||z>1e15)&&(_="scientific"),E=Uf(h,d)}const A=Kt(Math.abs(E)),R=Math.max(Math.min(-1*Math.floor(A),20),0),L={notation:_,minimumFractionDigits:R,maximumFractionDigits:R};return Object.assign(L,this.options.ticks.format),Ul(h,b,L)},logarithmic(h,c,d){if(h===0)return"0";const b=h/Math.pow(10,Math.floor(Kt(h)));return b===1||b===2||b===5?w0.numeric.call(this,h,c,d):""}};function Uf(h,c){let d=c.length>3?c[2].value-c[1].value:c[1].value-c[0].value;return Math.abs(d)>=1&&h!==Math.floor(h)&&(d=h-Math.floor(h)),d}var Ya={formatters:w0};Vn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(h,c)=>c.lineWidth,tickColor:(h,c)=>c.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ya.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Vn.route("scale.ticks","color","","color"),Vn.route("scale.grid","color","","borderColor"),Vn.route("scale.grid","borderColor","","borderColor"),Vn.route("scale.title","color","","color"),Vn.describe("scale",{_fallback:!1,_scriptable:h=>!h.startsWith("before")&&!h.startsWith("after")&&h!=="callback"&&h!=="parser",_indexable:h=>h!=="borderDash"&&h!=="tickBorderDash"}),Vn.describe("scales",{_fallback:"scale"}),Vn.describe("scale.ticks",{_scriptable:h=>h!=="backdropPadding"&&h!=="callback",_indexable:h=>h!=="backdropPadding"});function C0(h,c){const d=h.options.ticks,b=d.maxTicksLimit||xp(h),_=d.major.enabled?cl(c):[],E=_.length,A=_[0],R=_[E-1],L=[];if(E>b)return Pd(c,L,_,E/b),L;const z=S0(_,c,b);if(E>0){let Y,rt;const lt=E>1?Math.round((R-A)/(E-1)):null;for(Fu(c,L,z,C(lt)?0:A-lt,A),Y=0,rt=E-1;Y<rt;Y++)Fu(c,L,z,_[Y],_[Y+1]);return Fu(c,L,z,R,C(lt)?c.length:R+lt),L}return Fu(c,L,z),L}function xp(h){const c=h.options.offset,d=h._tickSize(),b=h._length/d+(c?0:1),_=h._maxLength/d;return Math.floor(Math.min(b,_))}function S0(h,c,d){const b=Qh(h),_=c.length/d;if(!b)return Math.max(_,1);const E=ko(b);for(let A=0,R=E.length-1;A<R;A++){const L=E[A];if(L>_)return L}return Math.max(_,1)}function cl(h){const c=[];let d,b;for(d=0,b=h.length;d<b;d++)h[d].major&&c.push(d);return c}function Pd(h,c,d,b){let _=0,E=d[0],A;for(b=Math.ceil(b),A=0;A<h.length;A++)A===E&&(c.push(h[A]),_++,E=d[_*b])}function Fu(h,c,d,b,_){const E=tt(b,0),A=Math.min(tt(_,h.length),h.length);let R=0,L,z,Y;for(d=Math.ceil(d),_&&(L=_-b,d=L/Math.floor(L/d)),Y=E;Y<0;)R++,Y=Math.round(E+R*d);for(z=Math.max(E,0);z<A;z++)z===Y&&(c.push(h[z]),R++,Y=Math.round(E+R*d))}function Qh(h){const c=h.length;let d,b;if(c<2)return!1;for(b=h[0],d=1;d<c;++d)if(h[d]-h[d-1]!==b)return!1;return b}const E0=h=>h==="left"?"right":h==="right"?"left":h,wp=(h,c,d)=>c==="top"||c==="left"?h[c]+d:h[c]-d;function Cp(h,c){const d=[],b=h.length/c,_=h.length;let E=0;for(;E<_;E+=b)d.push(h[Math.floor(E)]);return d}function T0(h,c,d){const b=h.ticks.length,_=Math.min(c,b-1),E=h._startPixel,A=h._endPixel,R=1e-6;let L=h.getPixelForTick(_),z;if(!(d&&(b===1?z=Math.max(L-E,A-L):c===0?z=(h.getPixelForTick(1)-L)/2:z=(L-h.getPixelForTick(_-1))/2,L+=_<c?z:-z,L<E-R||L>A+R)))return L}function e1(h,c){Lt(h,d=>{const b=d.gc,_=b.length/2;let E;if(_>c){for(E=0;E<_;++E)delete d.data[b[E]];b.splice(0,_)}})}function mr(h){return h.drawTicks?h.tickLength:0}function Sp(h,c){if(!h.display)return 0;const d=Lo(h.font,c),b=Er(h.padding);return(M(h.text)?h.text.length:1)*d.lineHeight+b.height}function ra(h,c){return kc(h,{scale:c,type:"scale"})}function mn(h,c,d){return kc(h,{tick:d,index:c,type:"tick"})}function Vs(h,c,d){let b=Co(h);return(d&&c!=="right"||!d&&c==="right")&&(b=E0(b)),b}function Hu(h,c,d,b){const{top:_,left:E,bottom:A,right:R,chart:L}=h,{chartArea:z,scales:Y}=L;let rt=0,lt,ut,bt;const Ot=A-_,qt=R-E;if(h.isHorizontal()){if(ut=ys(b,E,R),$(d)){const Yt=Object.keys(d)[0],de=d[Yt];bt=Y[Yt].getPixelForValue(de)+Ot-c}else d==="center"?bt=(z.bottom+z.top)/2+Ot-c:bt=wp(h,d,c);lt=R-E}else{if($(d)){const Yt=Object.keys(d)[0],de=d[Yt];ut=Y[Yt].getPixelForValue(de)-qt+c}else d==="center"?ut=(z.left+z.right)/2-qt+c:ut=wp(h,d,c);bt=ys(b,A,_),rt=d==="left"?-re:re}return{titleX:ut,titleY:bt,maxWidth:lt,rotation:rt}}class zs extends Ea{constructor(c){super(),this.id=c.id,this.type=c.type,this.options=void 0,this.ctx=c.ctx,this.chart=c.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(c){this.options=c.setContext(this.getContext()),this.axis=c.axis,this._userMin=this.parse(c.min),this._userMax=this.parse(c.max),this._suggestedMin=this.parse(c.suggestedMin),this._suggestedMax=this.parse(c.suggestedMax)}parse(c,d){return c}getUserBounds(){let{_userMin:c,_userMax:d,_suggestedMin:b,_suggestedMax:_}=this;return c=G(c,Number.POSITIVE_INFINITY),d=G(d,Number.NEGATIVE_INFINITY),b=G(b,Number.POSITIVE_INFINITY),_=G(_,Number.NEGATIVE_INFINITY),{min:G(c,b),max:G(d,_),minDefined:W(c),maxDefined:W(d)}}getMinMax(c){let{min:d,max:b,minDefined:_,maxDefined:E}=this.getUserBounds(),A;if(_&&E)return{min:d,max:b};const R=this.getMatchingVisibleMetas();for(let L=0,z=R.length;L<z;++L)A=R[L].controller.getMinMax(this,c),_||(d=Math.min(d,A.min)),E||(b=Math.max(b,A.max));return d=E&&d>b?b:d,b=_&&d>b?d:b,{min:G(d,G(b,d)),max:G(b,G(d,b))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const c=this.chart.data;return this.options.labels||(this.isHorizontal()?c.xLabels:c.yLabels)||c.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Tt(this.options.beforeUpdate,[this])}update(c,d,b){const{beginAtZero:_,grace:E,ticks:A}=this.options,R=A.sampleSize;this.beforeUpdate(),this.maxWidth=c,this.maxHeight=d,this._margins=b=Object.assign({left:0,right:0,top:0,bottom:0},b),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+b.left+b.right:this.height+b.top+b.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Lf(this,E,_),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const L=R<this.ticks.length;this._convertTicksToLabels(L?Cp(this.ticks,R):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),A.display&&(A.autoSkip||A.source==="auto")&&(this.ticks=C0(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),L&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let c=this.options.reverse,d,b;this.isHorizontal()?(d=this.left,b=this.right):(d=this.top,b=this.bottom,c=!c),this._startPixel=d,this._endPixel=b,this._reversePixels=c,this._length=b-d,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Tt(this.options.afterUpdate,[this])}beforeSetDimensions(){Tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Tt(this.options.afterSetDimensions,[this])}_callHooks(c){this.chart.notifyPlugins(c,this.getContext()),Tt(this.options[c],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(c){const d=this.options.ticks;let b,_,E;for(b=0,_=c.length;b<_;b++)E=c[b],E.label=Tt(d.callback,[E.value,b,c],this)}afterTickToLabelConversion(){Tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const c=this.options,d=c.ticks,b=this.ticks.length,_=d.minRotation||0,E=d.maxRotation;let A=_,R,L,z;if(!this._isVisible()||!d.display||_>=E||b<=1||!this.isHorizontal()){this.labelRotation=_;return}const Y=this._getLabelSizes(),rt=Y.widest.width,lt=Y.highest.height,ut=wt(this.chart.width-rt,0,this.maxWidth);R=c.offset?this.maxWidth/b:ut/(b-1),rt+6>R&&(R=ut/(b-(c.offset?.5:1)),L=this.maxHeight-mr(c.grid)-d.padding-Sp(c.title,this.chart.options.font),z=Math.sqrt(rt*rt+lt*lt),A=oo(Math.min(Math.asin(wt((Y.highest.height+6)/R,-1,1)),Math.asin(wt(L/z,-1,1))-Math.asin(wt(lt/z,-1,1)))),A=Math.max(_,Math.min(E,A))),this.labelRotation=A}afterCalculateLabelRotation(){Tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Tt(this.options.beforeFit,[this])}fit(){const c={width:0,height:0},{chart:d,options:{ticks:b,title:_,grid:E}}=this,A=this._isVisible(),R=this.isHorizontal();if(A){const L=Sp(_,d.options.font);if(R?(c.width=this.maxWidth,c.height=mr(E)+L):(c.height=this.maxHeight,c.width=mr(E)+L),b.display&&this.ticks.length){const{first:z,last:Y,widest:rt,highest:lt}=this._getLabelSizes(),ut=b.padding*2,bt=tr(this.labelRotation),Ot=Math.cos(bt),qt=Math.sin(bt);if(R){const Yt=b.mirror?0:qt*rt.width+Ot*lt.height;c.height=Math.min(this.maxHeight,c.height+Yt+ut)}else{const Yt=b.mirror?0:Ot*rt.width+qt*lt.height;c.width=Math.min(this.maxWidth,c.width+Yt+ut)}this._calculatePadding(z,Y,qt,Ot)}}this._handleMargins(),R?(this.width=this._length=d.width-this._margins.left-this._margins.right,this.height=c.height):(this.width=c.width,this.height=this._length=d.height-this._margins.top-this._margins.bottom)}_calculatePadding(c,d,b,_){const{ticks:{align:E,padding:A},position:R}=this.options,L=this.labelRotation!==0,z=R!=="top"&&this.axis==="x";if(this.isHorizontal()){const Y=this.getPixelForTick(0)-this.left,rt=this.right-this.getPixelForTick(this.ticks.length-1);let lt=0,ut=0;L?z?(lt=_*c.width,ut=b*d.height):(lt=b*c.height,ut=_*d.width):E==="start"?ut=d.width:E==="end"?lt=c.width:E!=="inner"&&(lt=c.width/2,ut=d.width/2),this.paddingLeft=Math.max((lt-Y+A)*this.width/(this.width-Y),0),this.paddingRight=Math.max((ut-rt+A)*this.width/(this.width-rt),0)}else{let Y=d.height/2,rt=c.height/2;E==="start"?(Y=0,rt=c.height):E==="end"&&(Y=d.height,rt=0),this.paddingTop=Y+A,this.paddingBottom=rt+A}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Tt(this.options.afterFit,[this])}isHorizontal(){const{axis:c,position:d}=this.options;return d==="top"||d==="bottom"||c==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(c){this.beforeTickToLabelConversion(),this.generateTickLabels(c);let d,b;for(d=0,b=c.length;d<b;d++)C(c[d].label)&&(c.splice(d,1),b--,d--);this.afterTickToLabelConversion()}_getLabelSizes(){let c=this._labelSizes;if(!c){const d=this.options.ticks.sampleSize;let b=this.ticks;d<b.length&&(b=Cp(b,d)),this._labelSizes=c=this._computeLabelSizes(b,b.length)}return c}_computeLabelSizes(c,d){const{ctx:b,_longestTextCache:_}=this,E=[],A=[];let R=0,L=0,z,Y,rt,lt,ut,bt,Ot,qt,Yt,de,De;for(z=0;z<d;++z){if(lt=c[z].label,ut=this._resolveTickFontOptions(z),b.font=bt=ut.string,Ot=_[bt]=_[bt]||{data:{},gc:[]},qt=ut.lineHeight,Yt=de=0,!C(lt)&&!M(lt))Yt=Od(b,Ot.data,Ot.gc,Yt,lt),de=qt;else if(M(lt))for(Y=0,rt=lt.length;Y<rt;++Y)De=lt[Y],!C(De)&&!M(De)&&(Yt=Od(b,Ot.data,Ot.gc,Yt,De),de+=qt);E.push(Yt),A.push(de),R=Math.max(Yt,R),L=Math.max(de,L)}e1(_,d);const je=E.indexOf(R),$e=A.indexOf(L),Cn=un=>({width:E[un]||0,height:A[un]||0});return{first:Cn(0),last:Cn(d-1),widest:Cn(je),highest:Cn($e),widths:E,heights:A}}getLabelForValue(c){return c}getPixelForValue(c,d){return NaN}getValueForPixel(c){}getPixelForTick(c){const d=this.ticks;return c<0||c>d.length-1?null:this.getPixelForValue(d[c].value)}getPixelForDecimal(c){this._reversePixels&&(c=1-c);const d=this._startPixel+c*this._length;return Gn(this._alignToPixels?Wl(this.chart,d,0):d)}getDecimalForPixel(c){const d=(c-this._startPixel)/this._length;return this._reversePixels?1-d:d}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:c,max:d}=this;return c<0&&d<0?d:c>0&&d>0?c:0}getContext(c){const d=this.ticks||[];if(c>=0&&c<d.length){const b=d[c];return b.$context||(b.$context=mn(this.getContext(),c,b))}return this.$context||(this.$context=ra(this.chart.getContext(),this))}_tickSize(){const c=this.options.ticks,d=tr(this.labelRotation),b=Math.abs(Math.cos(d)),_=Math.abs(Math.sin(d)),E=this._getLabelSizes(),A=c.autoSkipPadding||0,R=E?E.widest.width+A:0,L=E?E.highest.height+A:0;return this.isHorizontal()?L*b>R*_?R/b:L/_:L*_<R*b?L/b:R/_}_isVisible(){const c=this.options.display;return c!=="auto"?!!c:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(c){const d=this.axis,b=this.chart,_=this.options,{grid:E,position:A}=_,R=E.offset,L=this.isHorizontal(),Y=this.ticks.length+(R?1:0),rt=mr(E),lt=[],ut=E.setContext(this.getContext()),bt=ut.drawBorder?ut.borderWidth:0,Ot=bt/2,qt=function(Eo){return Wl(b,Eo,bt)};let Yt,de,De,je,$e,Cn,un,$n,On,os,ss,Wn;if(A==="top")Yt=qt(this.bottom),Cn=this.bottom-rt,$n=Yt-Ot,os=qt(c.top)+Ot,Wn=c.bottom;else if(A==="bottom")Yt=qt(this.top),os=c.top,Wn=qt(c.bottom)-Ot,Cn=Yt+Ot,$n=this.top+rt;else if(A==="left")Yt=qt(this.right),$e=this.right-rt,un=Yt-Ot,On=qt(c.left)+Ot,ss=c.right;else if(A==="right")Yt=qt(this.left),On=c.left,ss=qt(c.right)-Ot,$e=Yt+Ot,un=this.left+rt;else if(d==="x"){if(A==="center")Yt=qt((c.top+c.bottom)/2+.5);else if($(A)){const Eo=Object.keys(A)[0],Or=A[Eo];Yt=qt(this.chart.scales[Eo].getPixelForValue(Or))}os=c.top,Wn=c.bottom,Cn=Yt+Ot,$n=Cn+rt}else if(d==="y"){if(A==="center")Yt=qt((c.left+c.right)/2);else if($(A)){const Eo=Object.keys(A)[0],Or=A[Eo];Yt=qt(this.chart.scales[Eo].getPixelForValue(Or))}$e=Yt-Ot,un=$e-rt,On=c.left,ss=c.right}const Gr=tt(_.ticks.maxTicksLimit,Y),kr=Math.max(1,Math.ceil(Y/Gr));for(de=0;de<Y;de+=kr){const Eo=E.setContext(this.getContext(de)),Or=Eo.lineWidth,ls=Eo.color,Da=Eo.borderDash||[],ah=Eo.borderDashOffset,au=Eo.tickWidth,Gp=Eo.tickColor,mm=Eo.tickBorderDash||[],Qu=Eo.tickBorderDashOffset;De=T0(this,de,R),De!==void 0&&(je=Wl(b,De,Or),L?$e=un=On=ss=je:Cn=$n=os=Wn=je,lt.push({tx1:$e,ty1:Cn,tx2:un,ty2:$n,x1:On,y1:os,x2:ss,y2:Wn,width:Or,color:ls,borderDash:Da,borderDashOffset:ah,tickWidth:au,tickColor:Gp,tickBorderDash:mm,tickBorderDashOffset:Qu}))}return this._ticksLength=Y,this._borderValue=Yt,lt}_computeLabelItems(c){const d=this.axis,b=this.options,{position:_,ticks:E}=b,A=this.isHorizontal(),R=this.ticks,{align:L,crossAlign:z,padding:Y,mirror:rt}=E,lt=mr(b.grid),ut=lt+Y,bt=rt?-Y:ut,Ot=-tr(this.labelRotation),qt=[];let Yt,de,De,je,$e,Cn,un,$n,On,os,ss,Wn,Gr="middle";if(_==="top")Cn=this.bottom-bt,un=this._getXAxisLabelAlignment();else if(_==="bottom")Cn=this.top+bt,un=this._getXAxisLabelAlignment();else if(_==="left"){const Eo=this._getYAxisLabelAlignment(lt);un=Eo.textAlign,$e=Eo.x}else if(_==="right"){const Eo=this._getYAxisLabelAlignment(lt);un=Eo.textAlign,$e=Eo.x}else if(d==="x"){if(_==="center")Cn=(c.top+c.bottom)/2+ut;else if($(_)){const Eo=Object.keys(_)[0],Or=_[Eo];Cn=this.chart.scales[Eo].getPixelForValue(Or)+ut}un=this._getXAxisLabelAlignment()}else if(d==="y"){if(_==="center")$e=(c.left+c.right)/2-ut;else if($(_)){const Eo=Object.keys(_)[0],Or=_[Eo];$e=this.chart.scales[Eo].getPixelForValue(Or)}un=this._getYAxisLabelAlignment(lt).textAlign}d==="y"&&(L==="start"?Gr="top":L==="end"&&(Gr="bottom"));const kr=this._getLabelSizes();for(Yt=0,de=R.length;Yt<de;++Yt){De=R[Yt],je=De.label;const Eo=E.setContext(this.getContext(Yt));$n=this.getPixelForTick(Yt)+E.labelOffset,On=this._resolveTickFontOptions(Yt),os=On.lineHeight,ss=M(je)?je.length:1;const Or=ss/2,ls=Eo.color,Da=Eo.textStrokeColor,ah=Eo.textStrokeWidth;let au=un;A?($e=$n,un==="inner"&&(Yt===de-1?au=this.options.reverse?"left":"right":Yt===0?au=this.options.reverse?"right":"left":au="center"),_==="top"?z==="near"||Ot!==0?Wn=-ss*os+os/2:z==="center"?Wn=-kr.highest.height/2-Or*os+os:Wn=-kr.highest.height+os/2:z==="near"||Ot!==0?Wn=os/2:z==="center"?Wn=kr.highest.height/2-Or*os:Wn=kr.highest.height-ss*os,rt&&(Wn*=-1)):(Cn=$n,Wn=(1-ss)*os/2);let Gp;if(Eo.showLabelBackdrop){const mm=Er(Eo.backdropPadding),Qu=kr.heights[Yt],vl=kr.widths[Yt];let x1=Cn+Wn-mm.top,vr=$e-mm.left;switch(Gr){case"middle":x1-=Qu/2;break;case"bottom":x1-=Qu;break}switch(un){case"center":vr-=vl/2;break;case"right":vr-=vl;break}Gp={left:vr,top:x1,width:vl+mm.width,height:Qu+mm.height,color:Eo.backdropColor}}qt.push({rotation:Ot,label:je,font:On,color:ls,strokeColor:Da,strokeWidth:ah,textOffset:Wn,textAlign:au,textBaseline:Gr,translation:[$e,Cn],backdrop:Gp})}return qt}_getXAxisLabelAlignment(){const{position:c,ticks:d}=this.options;if(-tr(this.labelRotation))return c==="top"?"left":"right";let _="center";return d.align==="start"?_="left":d.align==="end"?_="right":d.align==="inner"&&(_="inner"),_}_getYAxisLabelAlignment(c){const{position:d,ticks:{crossAlign:b,mirror:_,padding:E}}=this.options,A=this._getLabelSizes(),R=c+E,L=A.widest.width;let z,Y;return d==="left"?_?(Y=this.right+E,b==="near"?z="left":b==="center"?(z="center",Y+=L/2):(z="right",Y+=L)):(Y=this.right-R,b==="near"?z="right":b==="center"?(z="center",Y-=L/2):(z="left",Y=this.left)):d==="right"?_?(Y=this.left+E,b==="near"?z="right":b==="center"?(z="center",Y-=L/2):(z="left",Y-=L)):(Y=this.left+R,b==="near"?z="left":b==="center"?(z="center",Y+=L/2):(z="right",Y=this.right)):z="right",{textAlign:z,x:Y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const c=this.chart,d=this.options.position;if(d==="left"||d==="right")return{top:0,left:this.left,bottom:c.height,right:this.right};if(d==="top"||d==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:c.width}}drawBackground(){const{ctx:c,options:{backgroundColor:d},left:b,top:_,width:E,height:A}=this;d&&(c.save(),c.fillStyle=d,c.fillRect(b,_,E,A),c.restore())}getLineWidthForValue(c){const d=this.options.grid;if(!this._isVisible()||!d.display)return 0;const _=this.ticks.findIndex(E=>E.value===c);return _>=0?d.setContext(this.getContext(_)).lineWidth:0}drawGrid(c){const d=this.options.grid,b=this.ctx,_=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(c));let E,A;const R=(L,z,Y)=>{!Y.width||!Y.color||(b.save(),b.lineWidth=Y.width,b.strokeStyle=Y.color,b.setLineDash(Y.borderDash||[]),b.lineDashOffset=Y.borderDashOffset,b.beginPath(),b.moveTo(L.x,L.y),b.lineTo(z.x,z.y),b.stroke(),b.restore())};if(d.display)for(E=0,A=_.length;E<A;++E){const L=_[E];d.drawOnChartArea&&R({x:L.x1,y:L.y1},{x:L.x2,y:L.y2},L),d.drawTicks&&R({x:L.tx1,y:L.ty1},{x:L.tx2,y:L.ty2},{color:L.tickColor,width:L.tickWidth,borderDash:L.tickBorderDash,borderDashOffset:L.tickBorderDashOffset})}}drawBorder(){const{chart:c,ctx:d,options:{grid:b}}=this,_=b.setContext(this.getContext()),E=b.drawBorder?_.borderWidth:0;if(!E)return;const A=b.setContext(this.getContext(0)).lineWidth,R=this._borderValue;let L,z,Y,rt;this.isHorizontal()?(L=Wl(c,this.left,E)-E/2,z=Wl(c,this.right,A)+A/2,Y=rt=R):(Y=Wl(c,this.top,E)-E/2,rt=Wl(c,this.bottom,A)+A/2,L=z=R),d.save(),d.lineWidth=_.borderWidth,d.strokeStyle=_.borderColor,d.beginPath(),d.moveTo(L,Y),d.lineTo(z,rt),d.stroke(),d.restore()}drawLabels(c){if(!this.options.ticks.display)return;const b=this.ctx,_=this._computeLabelArea();_&&ng(b,_);const E=this._labelItems||(this._labelItems=this._computeLabelItems(c));let A,R;for(A=0,R=E.length;A<R;++A){const L=E[A],z=L.font,Y=L.label;L.backdrop&&(b.fillStyle=L.backdrop.color,b.fillRect(L.backdrop.left,L.backdrop.top,L.backdrop.width,L.backdrop.height));let rt=L.textOffset;ol(b,Y,0,rt,z,L)}_&&Rf(b)}drawTitle(){const{ctx:c,options:{position:d,title:b,reverse:_}}=this;if(!b.display)return;const E=Lo(b.font),A=Er(b.padding),R=b.align;let L=E.lineHeight/2;d==="bottom"||d==="center"||$(d)?(L+=A.bottom,M(b.text)&&(L+=E.lineHeight*(b.text.length-1))):L+=A.top;const{titleX:z,titleY:Y,maxWidth:rt,rotation:lt}=Hu(this,L,d,R);ol(c,b.text,0,0,E,{color:b.color,maxWidth:rt,rotation:lt,textAlign:Vs(R,d,_),textBaseline:"middle",translation:[z,Y]})}draw(c){this._isVisible()&&(this.drawBackground(),this.drawGrid(c),this.drawBorder(),this.drawTitle(),this.drawLabels(c))}_layers(){const c=this.options,d=c.ticks&&c.ticks.z||0,b=tt(c.grid&&c.grid.z,-1);return!this._isVisible()||this.draw!==zs.prototype.draw?[{z:d,draw:_=>{this.draw(_)}}]:[{z:b,draw:_=>{this.drawBackground(),this.drawGrid(_),this.drawTitle()}},{z:b+1,draw:()=>{this.drawBorder()}},{z:d,draw:_=>{this.drawLabels(_)}}]}getMatchingVisibleMetas(c){const d=this.chart.getSortedVisibleDatasetMetas(),b=this.axis+"AxisID",_=[];let E,A;for(E=0,A=d.length;E<A;++E){const R=d[E];R[b]===this.id&&(!c||R.type===c)&&_.push(R)}return _}_resolveTickFontOptions(c){const d=this.options.ticks.setContext(this.getContext(c));return Lo(d.font)}_maxDigits(){const c=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/c}}class Vu{constructor(c,d,b){this.type=c,this.scope=d,this.override=b,this.items=Object.create(null)}isForType(c){return Object.prototype.isPrototypeOf.call(this.type.prototype,c.prototype)}register(c){const d=Object.getPrototypeOf(c);let b;ll(d)&&(b=this.register(d));const _=this.items,E=c.id,A=this.scope+"."+E;if(!E)throw new Error("class does not have id: "+c);return E in _||(_[E]=c,A0(c,A,b),this.override&&Vn.override(c.id,c.overrides)),A}get(c){return this.items[c]}unregister(c){const d=this.items,b=c.id,_=this.scope;b in d&&delete d[b],_&&b in Vn[_]&&(delete Vn[_][b],this.override&&delete Jr[b])}}function A0(h,c,d){const b=$t(Object.create(null),[d?Vn.get(d):{},Vn.get(c),h.defaults]);Vn.set(c,b),h.defaultRoutes&&Kl(c,h.defaultRoutes),h.descriptors&&Vn.describe(c,h.descriptors)}function Kl(h,c){Object.keys(c).forEach(d=>{const b=d.split("."),_=b.pop(),E=[h].concat(b).join("."),A=c[d].split("."),R=A.pop(),L=A.join(".");Vn.route(E,_,L,R)})}function ll(h){return"id"in h&&"defaults"in h}class jf{constructor(){this.controllers=new Vu(dc,"datasets",!0),this.elements=new Vu(Ea,"elements"),this.plugins=new Vu(Object,"plugins"),this.scales=new Vu(zs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...c){this._each("register",c)}remove(...c){this._each("unregister",c)}addControllers(...c){this._each("register",c,this.controllers)}addElements(...c){this._each("register",c,this.elements)}addPlugins(...c){this._each("register",c,this.plugins)}addScales(...c){this._each("register",c,this.scales)}getController(c){return this._get(c,this.controllers,"controller")}getElement(c){return this._get(c,this.elements,"element")}getPlugin(c){return this._get(c,this.plugins,"plugin")}getScale(c){return this._get(c,this.scales,"scale")}removeControllers(...c){this._each("unregister",c,this.controllers)}removeElements(...c){this._each("unregister",c,this.elements)}removePlugins(...c){this._each("unregister",c,this.plugins)}removeScales(...c){this._each("unregister",c,this.scales)}_each(c,d,b){[...d].forEach(_=>{const E=b||this._getRegistryForType(_);b||E.isForType(_)||E===this.plugins&&_.id?this._exec(c,E,_):Lt(_,A=>{const R=b||this._getRegistryForType(A);this._exec(c,R,A)})})}_exec(c,d,b){const _=wn(c);Tt(b["before"+_],[],b),d[c](b),Tt(b["after"+_],[],b)}_getRegistryForType(c){for(let d=0;d<this._typedRegistries.length;d++){const b=this._typedRegistries[d];if(b.isForType(c))return b}return this.plugins}_get(c,d,b){const _=d.get(c);if(_===void 0)throw new Error('"'+c+'" is not a registered '+b+".");return _}}var Cs=new jf;class tm{constructor(){this._init=[]}notify(c,d,b,_){d==="beforeInit"&&(this._init=this._createDescriptors(c,!0),this._notify(this._init,c,"install"));const E=_?this._descriptors(c).filter(_):this._descriptors(c),A=this._notify(E,c,d,b);return d==="afterDestroy"&&(this._notify(E,c,"stop"),this._notify(this._init,c,"uninstall")),A}_notify(c,d,b,_){_=_||{};for(const E of c){const A=E.plugin,R=A[b],L=[d,_,E.options];if(Tt(R,L,A)===!1&&_.cancelable)return!1}return!0}invalidate(){C(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(c){if(this._cache)return this._cache;const d=this._cache=this._createDescriptors(c);return this._notifyStateChanges(c),d}_createDescriptors(c,d){const b=c&&c.config,_=tt(b.options&&b.options.plugins,{}),E=n1(b);return _===!1&&!d?[]:Nd(c,E,_,d)}_notifyStateChanges(c){const d=this._oldCache||[],b=this._cache,_=(E,A)=>E.filter(R=>!A.some(L=>R.plugin.id===L.plugin.id));this._notify(_(d,b),c,"stop"),this._notify(_(b,d),c,"start")}}function n1(h){const c={},d=[],b=Object.keys(Cs.plugins.items);for(let E=0;E<b.length;E++)d.push(Cs.getPlugin(b[E]));const _=h.plugins||[];for(let E=0;E<_.length;E++){const A=_[E];d.indexOf(A)===-1&&(d.push(A),c[A.id]=!0)}return{plugins:d,localIds:c}}function o1(h,c){return!c&&h===!1?null:h===!0?{}:h}function Nd(h,{plugins:c,localIds:d},b,_){const E=[],A=h.getContext();for(const R of c){const L=R.id,z=o1(b[L],_);z!==null&&E.push({plugin:R,options:Ep(h.config,{plugin:R,local:d[L]},z,A)})}return E}function Ep(h,{plugin:c,local:d},b,_){const E=h.pluginScopeKeys(c),A=h.getOptionScopes(b,E);return d&&c.defaults&&A.push(c.defaults),h.createResolver(A,_,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ge(h,c){const d=Vn.datasets[h]||{};return((c.datasets||{})[h]||{}).indexAxis||c.indexAxis||d.indexAxis||"x"}function zu(h,c){let d=h;return h==="_index_"?d=c:h==="_value_"&&(d=c==="x"?"y":"x"),d}function em(h,c){return h===c?"_index_":"_value_"}function Zf(h){if(h==="top"||h==="bottom")return"x";if(h==="left"||h==="right")return"y"}function Xa(h,c){return h==="x"||h==="y"?h:c.axis||Zf(c.position)||h.charAt(0).toLowerCase()}function as(h,c){const d=Jr[h.type]||{scales:{}},b=c.scales||{},_=Ge(h.type,c),E=Object.create(null),A=Object.create(null);return Object.keys(b).forEach(R=>{const L=b[R];if(!$(L))return console.error(`Invalid scale configuration for scale: ${R}`);if(L._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${R}`);const z=Xa(R,L),Y=em(z,_),rt=d.scales||{};E[z]=E[z]||R,A[R]=Je(Object.create(null),[{axis:z},L,rt[z],rt[Y]])}),h.data.datasets.forEach(R=>{const L=R.type||h.type,z=R.indexAxis||Ge(L,c),rt=(Jr[L]||{}).scales||{};Object.keys(rt).forEach(lt=>{const ut=zu(lt,z),bt=R[ut+"AxisID"]||E[ut]||ut;A[bt]=A[bt]||Object.create(null),Je(A[bt],[{axis:ut},b[bt],rt[lt]])})}),Object.keys(A).forEach(R=>{const L=A[R];Je(L,[Vn.scales[L.type],Vn.scale])}),A}function Mc(h){const c=h.options||(h.options={});c.plugins=tt(c.plugins,{}),c.scales=as(h,c)}function Tr(h){return h=h||{},h.datasets=h.datasets||[],h.labels=h.labels||[],h}function nm(h){return h=h||{},h.data=Tr(h.data),Mc(h),h}const or=new Map,Tp=new Set;function sr(h,c){let d=or.get(h);return d||(d=c(),or.set(h,d),Tp.add(d)),d}const se=(h,c,d)=>{const b=to(c,d);b!==void 0&&h.add(b)};class Ld{constructor(c){this._config=nm(c),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(c){this._config.type=c}get data(){return this._config.data}set data(c){this._config.data=Tr(c)}get options(){return this._config.options}set options(c){this._config.options=c}get plugins(){return this._config.plugins}update(){const c=this._config;this.clearCache(),Mc(c)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(c){return sr(c,()=>[[`datasets.${c}`,""]])}datasetAnimationScopeKeys(c,d){return sr(`${c}.transition.${d}`,()=>[[`datasets.${c}.transitions.${d}`,`transitions.${d}`],[`datasets.${c}`,""]])}datasetElementScopeKeys(c,d){return sr(`${c}-${d}`,()=>[[`datasets.${c}.elements.${d}`,`datasets.${c}`,`elements.${d}`,""]])}pluginScopeKeys(c){const d=c.id,b=this.type;return sr(`${b}-plugin-${d}`,()=>[[`plugins.${d}`,...c.additionalOptionScopes||[]]])}_cachedScopes(c,d){const b=this._scopeCache;let _=b.get(c);return(!_||d)&&(_=new Map,b.set(c,_)),_}getOptionScopes(c,d,b){const{options:_,type:E}=this,A=this._cachedScopes(c,b),R=A.get(d);if(R)return R;const L=new Set;d.forEach(Y=>{c&&(L.add(c),Y.forEach(rt=>se(L,c,rt))),Y.forEach(rt=>se(L,_,rt)),Y.forEach(rt=>se(L,Jr[E]||{},rt)),Y.forEach(rt=>se(L,Vn,rt)),Y.forEach(rt=>se(L,jb,rt))});const z=Array.from(L);return z.length===0&&z.push(Object.create(null)),Tp.has(d)&&A.set(d,z),z}chartOptionScopes(){const{options:c,type:d}=this;return[c,Jr[d]||{},Vn.datasets[d]||{},{type:d},Vn,jb]}resolveNamedOptions(c,d,b,_=[""]){const E={$shared:!0},{resolver:A,subPrefixes:R}=oe(this._resolverCache,c,_);let L=A;if(om(A,d)){E.$shared=!1,b=sn(b)?b():b;const z=this.createResolver(c,b,R);L=Ee(A,b,z)}for(const z of d)E[z]=L[z];return E}createResolver(c,d,b=[""],_){const{resolver:E}=oe(this._resolverCache,c,b);return $(d)?Ee(E,d,void 0,_):E}}function oe(h,c,d){let b=h.get(c);b||(b=new Map,h.set(c,b));const _=d.join();let E=b.get(_);return E||(E={resolver:og(c,d),subPrefixes:d.filter(R=>!R.toLowerCase().includes("hover"))},b.set(_,E)),E}const jr=h=>$(h)&&Object.getOwnPropertyNames(h).reduce((c,d)=>c||sn(h[d]),!1);function om(h,c){const{isScriptable:d,isIndexable:b}=mp(h);for(const _ of c){const E=d(_),A=b(_),R=(A||E)&&h[_];if(E&&(sn(R)||jr(R))||A&&M(R))return!0}return!1}var Ys="3.9.1";const es=["top","bottom","left","right","chartArea"];function Ap(h,c){return h==="top"||h==="bottom"||es.indexOf(h)===-1&&c==="x"}function gr(h,c){return function(d,b){return d[h]===b[h]?d[c]-b[c]:d[h]-b[h]}}function cs(h){const c=h.chart,d=c.options.animation;c.notifyPlugins("afterRender"),Tt(d&&d.onComplete,[h],c)}function Pc(h){const c=h.chart,d=c.options.animation;Tt(d&&d.onProgress,[h],c)}function s1(h){return Zb()&&typeof h=="string"?h=document.getElementById(h):h&&h.length&&(h=h[0]),h&&h.canvas&&(h=h.canvas),h}const Xs={},So=h=>{const c=s1(h);return Object.values(Xs).filter(d=>d.canvas===c).pop()};function Nc(h,c,d){const b=Object.keys(h);for(const _ of b){const E=+_;if(E>=c){const A=h[_];delete h[_],(d>0||E>c)&&(h[E+d]=A)}}}function pg(h,c,d,b){return!d||h.type==="mouseout"?null:b?c:h}class $o{constructor(c,d){const b=this.config=new Ld(d),_=s1(c),E=So(_);if(E)throw new Error("Canvas is already in use. Chart with ID '"+E.id+"' must be destroyed before the canvas with ID '"+E.canvas.id+"' can be reused.");const A=b.createResolver(b.chartOptionScopes(),this.getContext());this.platform=new(b.platform||sa(_)),this.platform.updateConfig(b);const R=this.platform.acquireContext(_,A.aspectRatio),L=R&&R.canvas,z=L&&L.height,Y=L&&L.width;if(this.id=m(),this.ctx=R,this.canvas=L,this.width=Y,this.height=z,this._options=A,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Oo(rt=>this.update(rt),A.resizeDelay||0),this._dataChanges=[],Xs[this.id]=this,!R||!L){console.error("Failed to create chart: can't acquire context from the given item");return}Wa.listen(this,"complete",cs),Wa.listen(this,"progress",Pc),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:c,maintainAspectRatio:d},width:b,height:_,_aspectRatio:E}=this;return C(c)?d&&E?E:_?b/_:null:c}get data(){return this.config.data}set data(c){this.config.data=c}get options(){return this._options}set options(c){this.config.options=c}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Df(this.canvas,this.ctx),this}stop(){return Wa.stop(this),this}resize(c,d){Wa.running(this)?this._resizeBeforeDraw={width:c,height:d}:this._resize(c,d)}_resize(c,d){const b=this.options,_=this.canvas,E=b.maintainAspectRatio&&this.aspectRatio,A=this.platform.getMaximumSize(_,c,d,E),R=b.devicePixelRatio||this.platform.getDevicePixelRatio(),L=this.width?"resize":"attach";this.width=A.width,this.height=A.height,this._aspectRatio=this.aspectRatio,fp(this,R,!0)&&(this.notifyPlugins("resize",{size:A}),Tt(b.onResize,[this,A],this),this.attached&&this._doResize(L)&&this.render())}ensureScalesHaveIDs(){const d=this.options.scales||{};Lt(d,(b,_)=>{b.id=_})}buildOrUpdateScales(){const c=this.options,d=c.scales,b=this.scales,_=Object.keys(b).reduce((A,R)=>(A[R]=!1,A),{});let E=[];d&&(E=E.concat(Object.keys(d).map(A=>{const R=d[A],L=Xa(A,R),z=L==="r",Y=L==="x";return{options:R,dposition:z?"chartArea":Y?"bottom":"left",dtype:z?"radialLinear":Y?"category":"linear"}}))),Lt(E,A=>{const R=A.options,L=R.id,z=Xa(L,R),Y=tt(R.type,A.dtype);(R.position===void 0||Ap(R.position,z)!==Ap(A.dposition))&&(R.position=A.dposition),_[L]=!0;let rt=null;if(L in b&&b[L].type===Y)rt=b[L];else{const lt=Cs.getScale(Y);rt=new lt({id:L,type:Y,ctx:this.ctx,chart:this}),b[rt.id]=rt}rt.init(R,c)}),Lt(_,(A,R)=>{A||delete b[R]}),Lt(b,A=>{Pi.configure(this,A,A.options),Pi.addBox(this,A)})}_updateMetasets(){const c=this._metasets,d=this.data.datasets.length,b=c.length;if(c.sort((_,E)=>_.index-E.index),b>d){for(let _=d;_<b;++_)this._destroyDatasetMeta(_);c.splice(d,b-d)}this._sortedMetasets=c.slice(0).sort(gr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:c,data:{datasets:d}}=this;c.length>d.length&&delete this._stacks,c.forEach((b,_)=>{d.filter(E=>E===b._dataset).length===0&&this._destroyDatasetMeta(_)})}buildOrUpdateControllers(){const c=[],d=this.data.datasets;let b,_;for(this._removeUnreferencedMetasets(),b=0,_=d.length;b<_;b++){const E=d[b];let A=this.getDatasetMeta(b);const R=E.type||this.config.type;if(A.type&&A.type!==R&&(this._destroyDatasetMeta(b),A=this.getDatasetMeta(b)),A.type=R,A.indexAxis=E.indexAxis||Ge(R,this.options),A.order=E.order||0,A.index=b,A.label=""+E.label,A.visible=this.isDatasetVisible(b),A.controller)A.controller.updateIndex(b),A.controller.linkScales();else{const L=Cs.getController(R),{datasetElementType:z,dataElementType:Y}=Vn.datasets[R];Object.assign(L.prototype,{dataElementType:Cs.getElement(Y),datasetElementType:z&&Cs.getElement(z)}),A.controller=new L(this,b),c.push(A.controller)}}return this._updateMetasets(),c}_resetElements(){Lt(this.data.datasets,(c,d)=>{this.getDatasetMeta(d).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(c){const d=this.config;d.update();const b=this._options=d.createResolver(d.chartOptionScopes(),this.getContext()),_=this._animationsDisabled=!b.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:c,cancelable:!0})===!1)return;const E=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let A=0;for(let z=0,Y=this.data.datasets.length;z<Y;z++){const{controller:rt}=this.getDatasetMeta(z),lt=!_&&E.indexOf(rt)===-1;rt.buildOrUpdateElements(lt),A=Math.max(+rt.getMaxOverflow(),A)}A=this._minPadding=b.layout.autoPadding?A:0,this._updateLayout(A),_||Lt(E,z=>{z.reset()}),this._updateDatasets(c),this.notifyPlugins("afterUpdate",{mode:c}),this._layers.sort(gr("z","_idx"));const{_active:R,_lastEvent:L}=this;L?this._eventHandler(L,!0):R.length&&this._updateHoverStyles(R,R,!0),this.render()}_updateScales(){Lt(this.scales,c=>{Pi.removeBox(this,c)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const c=this.options,d=new Set(Object.keys(this._listeners)),b=new Set(c.events);(!Zt(d,b)||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:c}=this,d=this._getUniformDataChanges()||[];for(const{method:b,start:_,count:E}of d){const A=b==="_removeElements"?-E:E;Nc(c,_,A)}}_getUniformDataChanges(){const c=this._dataChanges;if(!c||!c.length)return;this._dataChanges=[];const d=this.data.datasets.length,b=E=>new Set(c.filter(A=>A[0]===E).map((A,R)=>R+","+A.splice(1).join(","))),_=b(0);for(let E=1;E<d;E++)if(!Zt(_,b(E)))return;return Array.from(_).map(E=>E.split(",")).map(E=>({method:E[1],start:+E[2],count:+E[3]}))}_updateLayout(c){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pi.update(this,this.width,this.height,c);const d=this.chartArea,b=d.width<=0||d.height<=0;this._layers=[],Lt(this.boxes,_=>{b&&_.position==="chartArea"||(_.configure&&_.configure(),this._layers.push(..._._layers()))},this),this._layers.forEach((_,E)=>{_._idx=E}),this.notifyPlugins("afterLayout")}_updateDatasets(c){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:c,cancelable:!0})!==!1){for(let d=0,b=this.data.datasets.length;d<b;++d)this.getDatasetMeta(d).controller.configure();for(let d=0,b=this.data.datasets.length;d<b;++d)this._updateDataset(d,sn(c)?c({datasetIndex:d}):c);this.notifyPlugins("afterDatasetsUpdate",{mode:c})}}_updateDataset(c,d){const b=this.getDatasetMeta(c),_={meta:b,index:c,mode:d,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",_)!==!1&&(b.controller._update(d),_.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",_))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wa.has(this)?this.attached&&!Wa.running(this)&&Wa.start(this):(this.draw(),cs({chart:this})))}draw(){let c;if(this._resizeBeforeDraw){const{width:b,height:_}=this._resizeBeforeDraw;this._resize(b,_),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const d=this._layers;for(c=0;c<d.length&&d[c].z<=0;++c)d[c].draw(this.chartArea);for(this._drawDatasets();c<d.length;++c)d[c].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(c){const d=this._sortedMetasets,b=[];let _,E;for(_=0,E=d.length;_<E;++_){const A=d[_];(!c||A.visible)&&b.push(A)}return b}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const c=this.getSortedVisibleDatasetMetas();for(let d=c.length-1;d>=0;--d)this._drawDataset(c[d]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(c){const d=this.ctx,b=c._clip,_=!b.disabled,E=this.chartArea,A={meta:c,index:c.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",A)!==!1&&(_&&ng(d,{left:b.left===!1?0:E.left-b.left,right:b.right===!1?this.width:E.right+b.right,top:b.top===!1?0:E.top-b.top,bottom:b.bottom===!1?this.height:E.bottom+b.bottom}),c.controller.draw(),_&&Rf(d),A.cancelable=!1,this.notifyPlugins("afterDatasetDraw",A))}isPointInArea(c){return zi(c,this.chartArea,this._minPadding)}getElementsAtEventForMode(c,d,b,_){const E=Mi.modes[d];return typeof E=="function"?E(this,c,b,_):[]}getDatasetMeta(c){const d=this.data.datasets[c],b=this._metasets;let _=b.filter(E=>E&&E._dataset===d).pop();return _||(_={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:d&&d.order||0,index:c,_dataset:d,_parsed:[],_sorted:!1},b.push(_)),_}getContext(){return this.$context||(this.$context=kc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(c){const d=this.data.datasets[c];if(!d)return!1;const b=this.getDatasetMeta(c);return typeof b.hidden=="boolean"?!b.hidden:!d.hidden}setDatasetVisibility(c,d){const b=this.getDatasetMeta(c);b.hidden=!d}toggleDataVisibility(c){this._hiddenIndices[c]=!this._hiddenIndices[c]}getDataVisibility(c){return!this._hiddenIndices[c]}_updateVisibility(c,d,b){const _=b?"show":"hide",E=this.getDatasetMeta(c),A=E.controller._resolveAnimations(void 0,_);Hn(d)?(E.data[d].hidden=!b,this.update()):(this.setDatasetVisibility(c,b),A.update(E,{visible:b}),this.update(R=>R.datasetIndex===c?_:void 0))}hide(c,d){this._updateVisibility(c,d,!1)}show(c,d){this._updateVisibility(c,d,!0)}_destroyDatasetMeta(c){const d=this._metasets[c];d&&d.controller&&d.controller._destroy(),delete this._metasets[c]}_stop(){let c,d;for(this.stop(),Wa.remove(this),c=0,d=this.data.datasets.length;c<d;++c)this._destroyDatasetMeta(c)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:c,ctx:d}=this;this._stop(),this.config.clearCache(),c&&(this.unbindEvents(),Df(c,d),this.platform.releaseContext(d),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Xs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...c){return this.canvas.toDataURL(...c)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const c=this._listeners,d=this.platform,b=(E,A)=>{d.addEventListener(this,E,A),c[E]=A},_=(E,A,R)=>{E.offsetX=A,E.offsetY=R,this._eventHandler(E)};Lt(this.options.events,E=>b(E,_))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const c=this._responsiveListeners,d=this.platform,b=(L,z)=>{d.addEventListener(this,L,z),c[L]=z},_=(L,z)=>{c[L]&&(d.removeEventListener(this,L,z),delete c[L])},E=(L,z)=>{this.canvas&&this.resize(L,z)};let A;const R=()=>{_("attach",R),this.attached=!0,this.resize(),b("resize",E),b("detach",A)};A=()=>{this.attached=!1,_("resize",E),this._stop(),this._resize(0,0),b("attach",R)},d.isAttached(this.canvas)?R():A()}unbindEvents(){Lt(this._listeners,(c,d)=>{this.platform.removeEventListener(this,d,c)}),this._listeners={},Lt(this._responsiveListeners,(c,d)=>{this.platform.removeEventListener(this,d,c)}),this._responsiveListeners=void 0}updateHoverStyle(c,d,b){const _=b?"set":"remove";let E,A,R,L;for(d==="dataset"&&(E=this.getDatasetMeta(c[0].datasetIndex),E.controller["_"+_+"DatasetHoverStyle"]()),R=0,L=c.length;R<L;++R){A=c[R];const z=A&&this.getDatasetMeta(A.datasetIndex).controller;z&&z[_+"HoverStyle"](A.element,A.datasetIndex,A.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const d=this._active||[],b=c.map(({datasetIndex:E,index:A})=>{const R=this.getDatasetMeta(E);if(!R)throw new Error("No dataset found at index "+E);return{datasetIndex:E,element:R.data[A],index:A}});!Le(b,d)&&(this._active=b,this._lastEvent=null,this._updateHoverStyles(b,d))}notifyPlugins(c,d,b){return this._plugins.notify(this,c,d,b)}_updateHoverStyles(c,d,b){const _=this.options.hover,E=(L,z)=>L.filter(Y=>!z.some(rt=>Y.datasetIndex===rt.datasetIndex&&Y.index===rt.index)),A=E(d,c),R=b?c:E(c,d);A.length&&this.updateHoverStyle(A,_.mode,!1),R.length&&_.mode&&this.updateHoverStyle(R,_.mode,!0)}_eventHandler(c,d){const b={event:c,replay:d,cancelable:!0,inChartArea:this.isPointInArea(c)},_=A=>(A.options.events||this.options.events).includes(c.native.type);if(this.notifyPlugins("beforeEvent",b,_)===!1)return;const E=this._handleEvent(c,d,b.inChartArea);return b.cancelable=!1,this.notifyPlugins("afterEvent",b,_),(E||b.changed)&&this.render(),this}_handleEvent(c,d,b){const{_active:_=[],options:E}=this,A=d,R=this._getActiveElements(c,_,b,A),L=pt(c),z=pg(c,this._lastEvent,b,L);b&&(this._lastEvent=null,Tt(E.onHover,[c,R,this],this),L&&Tt(E.onClick,[c,R,this],this));const Y=!Le(R,_);return(Y||d)&&(this._active=R,this._updateHoverStyles(R,_,d)),this._lastEvent=z,Y}_getActiveElements(c,d,b,_){if(c.type==="mouseout")return[];if(!b)return d;const E=this.options.hover;return this.getElementsAtEventForMode(c,E.mode,E,_)}}const r1=()=>Lt($o.instances,h=>h._plugins.invalidate()),Ta=!0;Object.defineProperties($o,{defaults:{enumerable:Ta,value:Vn},instances:{enumerable:Ta,value:Xs},overrides:{enumerable:Ta,value:Jr},registry:{enumerable:Ta,value:Cs},version:{enumerable:Ta,value:Ys},getChart:{enumerable:Ta,value:So},register:{enumerable:Ta,value:(...h)=>{Cs.add(...h),r1()}},unregister:{enumerable:Ta,value:(...h)=>{Cs.remove(...h),r1()}}});function Bd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Li{constructor(c){this.options=c||{}}init(c){}formats(){return Bd()}parse(c,d){return Bd()}format(c,d){return Bd()}add(c,d,b){return Bd()}diff(c,d,b){return Bd()}startOf(c,d,b){return Bd()}endOf(c,d){return Bd()}}Li.override=function(h){Object.assign(Li.prototype,h)};var kp={_date:Li};function Rt(h,c){if(!h._cache.$bar){const d=h.getMatchingVisibleMetas(c);let b=[];for(let _=0,E=d.length;_<E;_++)b=b.concat(d[_].controller.getAllParsedValues(h));h._cache.$bar=Ps(b.sort((_,E)=>_-E))}return h._cache.$bar}function fc(h){const c=h.iScale,d=Rt(c,h.type);let b=c._length,_,E,A,R;const L=()=>{A===32767||A===-32768||(Hn(R)&&(b=Math.min(b,Math.abs(A-R)||b)),R=A)};for(_=0,E=d.length;_<E;++_)A=c.getPixelForValue(d[_]),L();for(R=void 0,_=0,E=c.ticks.length;_<E;++_)A=c.getPixelForTick(_),L();return b}function bg(h,c,d,b){const _=d.barThickness;let E,A;return C(_)?(E=c.min*d.categoryPercentage,A=d.barPercentage):(E=_*b,A=1),{chunk:E/b,ratio:A,start:c.pixels[h]-E/2}}function pi(h,c,d,b){const _=c.pixels,E=_[h];let A=h>0?_[h-1]:null,R=h<_.length-1?_[h+1]:null;const L=d.categoryPercentage;A===null&&(A=E-(R===null?c.end-c.start:R-E)),R===null&&(R=E+E-A);const z=E-(E-Math.min(A,R))/2*L;return{chunk:Math.abs(R-A)/2*L/b,ratio:d.barPercentage,start:z}}function Ws(h,c,d,b){const _=d.parse(h[0],b),E=d.parse(h[1],b),A=Math.min(_,E),R=Math.max(_,E);let L=A,z=R;Math.abs(A)>Math.abs(R)&&(L=R,z=A),c[d.axis]=z,c._custom={barStart:L,barEnd:z,start:_,end:E,min:A,max:R}}function ii(h,c,d,b){return M(h)?Ws(h,c,d,b):c[d.axis]=d.parse(h,b),c}function Ss(h,c,d,b){const _=h.iScale,E=h.vScale,A=_.getLabels(),R=_===E,L=[];let z,Y,rt,lt;for(z=d,Y=d+b;z<Y;++z)lt=c[z],rt={},rt[_.axis]=R||_.parse(A[z],z),L.push(ii(lt,rt,E,z));return L}function Id(h){return h&&h.barStart!==void 0&&h.barEnd!==void 0}function Wu(h,c,d){return h!==0?go(h):(c.isHorizontal()?1:-1)*(c.min>=d?1:-1)}function Op(h){let c,d,b,_,E;return h.horizontal?(c=h.base>h.x,d="left",b="right"):(c=h.base<h.y,d="bottom",b="top"),c?(_="end",E="start"):(_="start",E="end"),{start:d,end:b,reverse:c,top:_,bottom:E}}function an(h,c,d,b){let _=c.borderSkipped;const E={};if(!_){h.borderSkipped=E;return}if(_===!0){h.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:A,end:R,reverse:L,top:z,bottom:Y}=Op(h);_==="middle"&&d&&(h.enableBorderRadius=!0,(d._top||0)===b?_=z:(d._bottom||0)===b?_=Y:(E[Dp(Y,A,R,L)]=!0,_=z)),E[Dp(_,A,R,L)]=!0,h.borderSkipped=E}function Dp(h,c,d,b){return b?(h=ul(h,c,d),h=Uu(h,d,c)):h=Uu(h,c,d),h}function ul(h,c,d){return h===c?d:h===d?c:h}function Uu(h,c,d){return h==="start"?c:h==="end"?d:h}function k0(h,{inflateAmount:c},d){h.inflateAmount=c==="auto"?d===1?.33:0:c}class vg extends dc{parsePrimitiveData(c,d,b,_){return Ss(c,d,b,_)}parseArrayData(c,d,b,_){return Ss(c,d,b,_)}parseObjectData(c,d,b,_){const{iScale:E,vScale:A}=c,{xAxisKey:R="x",yAxisKey:L="y"}=this._parsing,z=E.axis==="x"?R:L,Y=A.axis==="x"?R:L,rt=[];let lt,ut,bt,Ot;for(lt=b,ut=b+_;lt<ut;++lt)Ot=d[lt],bt={},bt[E.axis]=E.parse(to(Ot,z),lt),rt.push(ii(to(Ot,Y),bt,A,lt));return rt}updateRangeFromParsed(c,d,b,_){super.updateRangeFromParsed(c,d,b,_);const E=b._custom;E&&d===this._cachedMeta.vScale&&(c.min=Math.min(c.min,E.min),c.max=Math.max(c.max,E.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const d=this._cachedMeta,{iScale:b,vScale:_}=d,E=this.getParsed(c),A=E._custom,R=Id(A)?"["+A.start+", "+A.end+"]":""+_.getLabelForValue(E[_.axis]);return{label:""+b.getLabelForValue(E[b.axis]),value:R}}initialize(){this.enableOptionSharing=!0,super.initialize();const c=this._cachedMeta;c.stack=this.getDataset().stack}update(c){const d=this._cachedMeta;this.updateElements(d.data,0,d.data.length,c)}updateElements(c,d,b,_){const E=_==="reset",{index:A,_cachedMeta:{vScale:R}}=this,L=R.getBasePixel(),z=R.isHorizontal(),Y=this._getRuler(),{sharedOptions:rt,includeOptions:lt}=this._getSharedOptions(d,_);for(let ut=d;ut<d+b;ut++){const bt=this.getParsed(ut),Ot=E||C(bt[R.axis])?{base:L,head:L}:this._calculateBarValuePixels(ut),qt=this._calculateBarIndexPixels(ut,Y),Yt=(bt._stacks||{})[R.axis],de={horizontal:z,base:Ot.base,enableBorderRadius:!Yt||Id(bt._custom)||A===Yt._top||A===Yt._bottom,x:z?Ot.head:qt.center,y:z?qt.center:Ot.head,height:z?qt.size:Math.abs(Ot.size),width:z?Math.abs(Ot.size):qt.size};lt&&(de.options=rt||this.resolveDataElementOptions(ut,c[ut].active?"active":_));const De=de.options||c[ut].options;an(de,De,Yt,A),k0(de,De,Y.ratio),this.updateElement(c[ut],ut,de,_)}}_getStacks(c,d){const{iScale:b}=this._cachedMeta,_=b.getMatchingVisibleMetas(this._type).filter(L=>L.controller.options.grouped),E=b.options.stacked,A=[],R=L=>{const z=L.controller.getParsed(d),Y=z&&z[L.vScale.axis];if(C(Y)||isNaN(Y))return!0};for(const L of _)if(!(d!==void 0&&R(L))&&((E===!1||A.indexOf(L.stack)===-1||E===void 0&&L.stack===void 0)&&A.push(L.stack),L.index===c))break;return A.length||A.push(void 0),A}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,d,b){const _=this._getStacks(c,b),E=d!==void 0?_.indexOf(d):-1;return E===-1?_.length-1:E}_getRuler(){const c=this.options,d=this._cachedMeta,b=d.iScale,_=[];let E,A;for(E=0,A=d.data.length;E<A;++E)_.push(b.getPixelForValue(this.getParsed(E)[b.axis],E));const R=c.barThickness;return{min:R||fc(d),pixels:_,start:b._startPixel,end:b._endPixel,stackCount:this._getStackCount(),scale:b,grouped:c.grouped,ratio:R?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:d,_stacked:b},options:{base:_,minBarLength:E}}=this,A=_||0,R=this.getParsed(c),L=R._custom,z=Id(L);let Y=R[d.axis],rt=0,lt=b?this.applyStack(d,R,b):Y,ut,bt;lt!==Y&&(rt=lt-Y,lt=Y),z&&(Y=L.barStart,lt=L.barEnd-L.barStart,Y!==0&&go(Y)!==go(L.barEnd)&&(rt=0),rt+=Y);const Ot=!C(_)&&!z?_:rt;let qt=d.getPixelForValue(Ot);if(this.chart.getDataVisibility(c)?ut=d.getPixelForValue(rt+lt):ut=qt,bt=ut-qt,Math.abs(bt)<E){bt=Wu(bt,d,A)*E,Y===A&&(qt-=bt/2);const Yt=d.getPixelForDecimal(0),de=d.getPixelForDecimal(1),De=Math.min(Yt,de),je=Math.max(Yt,de);qt=Math.max(Math.min(qt,je),De),ut=qt+bt}if(qt===d.getPixelForValue(A)){const Yt=go(bt)*d.getLineWidthForValue(A)/2;qt+=Yt,bt-=Yt}return{size:bt,base:qt,head:ut,center:ut+bt/2}}_calculateBarIndexPixels(c,d){const b=d.scale,_=this.options,E=_.skipNull,A=tt(_.maxBarThickness,1/0);let R,L;if(d.grouped){const z=E?this._getStackCount(c):d.stackCount,Y=_.barThickness==="flex"?pi(c,d,_,z):bg(c,d,_,z),rt=this._getStackIndex(this.index,this._cachedMeta.stack,E?c:void 0);R=Y.start+Y.chunk*rt+Y.chunk/2,L=Math.min(A,Y.chunk*Y.ratio)}else R=b.getPixelForValue(this.getParsed(c)[b.axis],c),L=Math.min(A,d.min*d.ratio);return{base:R-L/2,head:R+L/2,center:R,size:L}}draw(){const c=this._cachedMeta,d=c.vScale,b=c.data,_=b.length;let E=0;for(;E<_;++E)this.getParsed(E)[d.axis]!==null&&b[E].draw(this._ctx)}}vg.id="bar",vg.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},vg.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class yg extends dc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,d,b,_){const E=super.parsePrimitiveData(c,d,b,_);for(let A=0;A<E.length;A++)E[A]._custom=this.resolveDataElementOptions(A+b).radius;return E}parseArrayData(c,d,b,_){const E=super.parseArrayData(c,d,b,_);for(let A=0;A<E.length;A++){const R=d[b+A];E[A]._custom=tt(R[2],this.resolveDataElementOptions(A+b).radius)}return E}parseObjectData(c,d,b,_){const E=super.parseObjectData(c,d,b,_);for(let A=0;A<E.length;A++){const R=d[b+A];E[A]._custom=tt(R&&R.r&&+R.r,this.resolveDataElementOptions(A+b).radius)}return E}getMaxOverflow(){const c=this._cachedMeta.data;let d=0;for(let b=c.length-1;b>=0;--b)d=Math.max(d,c[b].size(this.resolveDataElementOptions(b))/2);return d>0&&d}getLabelAndValue(c){const d=this._cachedMeta,{xScale:b,yScale:_}=d,E=this.getParsed(c),A=b.getLabelForValue(E.x),R=_.getLabelForValue(E.y),L=E._custom;return{label:d.label,value:"("+A+", "+R+(L?", "+L:"")+")"}}update(c){const d=this._cachedMeta.data;this.updateElements(d,0,d.length,c)}updateElements(c,d,b,_){const E=_==="reset",{iScale:A,vScale:R}=this._cachedMeta,{sharedOptions:L,includeOptions:z}=this._getSharedOptions(d,_),Y=A.axis,rt=R.axis;for(let lt=d;lt<d+b;lt++){const ut=c[lt],bt=!E&&this.getParsed(lt),Ot={},qt=Ot[Y]=E?A.getPixelForDecimal(.5):A.getPixelForValue(bt[Y]),Yt=Ot[rt]=E?R.getBasePixel():R.getPixelForValue(bt[rt]);Ot.skip=isNaN(qt)||isNaN(Yt),z&&(Ot.options=L||this.resolveDataElementOptions(lt,ut.active?"active":_),E&&(Ot.options.radius=0)),this.updateElement(ut,lt,Ot,_)}}resolveDataElementOptions(c,d){const b=this.getParsed(c);let _=super.resolveDataElementOptions(c,d);_.$shared&&(_=Object.assign({},_,{$shared:!1}));const E=_.radius;return d!=="active"&&(_.radius=0),_.radius+=tt(b&&b._custom,E),_}}yg.id="bubble",yg.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},yg.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function sx(h,c,d){let b=1,_=1,E=0,A=0;if(c<pn){const R=h,L=R+c,z=Math.cos(R),Y=Math.sin(R),rt=Math.cos(L),lt=Math.sin(L),ut=(De,je,$e)=>Ht(De,R,L,!0)?1:Math.max(je,je*d,$e,$e*d),bt=(De,je,$e)=>Ht(De,R,L,!0)?-1:Math.min(je,je*d,$e,$e*d),Ot=ut(0,z,rt),qt=ut(re,Y,lt),Yt=bt(jn,z,rt),de=bt(jn+re,Y,lt);b=(Ot-Yt)/2,_=(qt-de)/2,E=-(Ot+Yt)/2,A=-(qt+de)/2}return{ratioX:b,ratioY:_,offsetX:E,offsetY:A}}class Lc extends dc{constructor(c,d){super(c,d),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,d){const b=this.getDataset().data,_=this._cachedMeta;if(this._parsing===!1)_._parsed=b;else{let E=L=>+b[L];if($(b[c])){const{key:L="value"}=this._parsing;E=z=>+to(b[z],L)}let A,R;for(A=c,R=c+d;A<R;++A)_._parsed[A]=E(A)}}_getRotation(){return tr(this.options.rotation-90)}_getCircumference(){return tr(this.options.circumference)}_getRotationExtents(){let c=pn,d=-pn;for(let b=0;b<this.chart.data.datasets.length;++b)if(this.chart.isDatasetVisible(b)){const _=this.chart.getDatasetMeta(b).controller,E=_._getRotation(),A=_._getCircumference();c=Math.min(c,E),d=Math.max(d,E+A)}return{rotation:c,circumference:d-c}}update(c){const d=this.chart,{chartArea:b}=d,_=this._cachedMeta,E=_.data,A=this.getMaxBorderWidth()+this.getMaxOffset(E)+this.options.spacing,R=Math.max((Math.min(b.width,b.height)-A)/2,0),L=Math.min(gt(this.options.cutout,R),1),z=this._getRingWeight(this.index),{circumference:Y,rotation:rt}=this._getRotationExtents(),{ratioX:lt,ratioY:ut,offsetX:bt,offsetY:Ot}=sx(rt,Y,L),qt=(b.width-A)/lt,Yt=(b.height-A)/ut,de=Math.max(Math.min(qt,Yt)/2,0),De=Bt(this.options.radius,de),je=Math.max(De*L,0),$e=(De-je)/this._getVisibleDatasetWeightTotal();this.offsetX=bt*De,this.offsetY=Ot*De,_.total=this.calculateTotal(),this.outerRadius=De-$e*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$e*z,0),this.updateElements(E,0,E.length,c)}_circumference(c,d){const b=this.options,_=this._cachedMeta,E=this._getCircumference();return d&&b.animation.animateRotate||!this.chart.getDataVisibility(c)||_._parsed[c]===null||_.data[c].hidden?0:this.calculateCircumference(_._parsed[c]*E/pn)}updateElements(c,d,b,_){const E=_==="reset",A=this.chart,R=A.chartArea,z=A.options.animation,Y=(R.left+R.right)/2,rt=(R.top+R.bottom)/2,lt=E&&z.animateScale,ut=lt?0:this.innerRadius,bt=lt?0:this.outerRadius,{sharedOptions:Ot,includeOptions:qt}=this._getSharedOptions(d,_);let Yt=this._getRotation(),de;for(de=0;de<d;++de)Yt+=this._circumference(de,E);for(de=d;de<d+b;++de){const De=this._circumference(de,E),je=c[de],$e={x:Y+this.offsetX,y:rt+this.offsetY,startAngle:Yt,endAngle:Yt+De,circumference:De,outerRadius:bt,innerRadius:ut};qt&&($e.options=Ot||this.resolveDataElementOptions(de,je.active?"active":_)),Yt+=De,this.updateElement(je,de,$e,_)}}calculateTotal(){const c=this._cachedMeta,d=c.data;let b=0,_;for(_=0;_<d.length;_++){const E=c._parsed[_];E!==null&&!isNaN(E)&&this.chart.getDataVisibility(_)&&!d[_].hidden&&(b+=Math.abs(E))}return b}calculateCircumference(c){const d=this._cachedMeta.total;return d>0&&!isNaN(c)?pn*(Math.abs(c)/d):0}getLabelAndValue(c){const d=this._cachedMeta,b=this.chart,_=b.data.labels||[],E=Ul(d._parsed[c],b.options.locale);return{label:_[c]||"",value:E}}getMaxBorderWidth(c){let d=0;const b=this.chart;let _,E,A,R,L;if(!c){for(_=0,E=b.data.datasets.length;_<E;++_)if(b.isDatasetVisible(_)){A=b.getDatasetMeta(_),c=A.data,R=A.controller;break}}if(!c)return 0;for(_=0,E=c.length;_<E;++_)L=R.resolveDataElementOptions(_),L.borderAlign!=="inner"&&(d=Math.max(d,L.borderWidth||0,L.hoverBorderWidth||0));return d}getMaxOffset(c){let d=0;for(let b=0,_=c.length;b<_;++b){const E=this.resolveDataElementOptions(b);d=Math.max(d,E.offset||0,E.hoverOffset||0)}return d}_getRingWeightOffset(c){let d=0;for(let b=0;b<c;++b)this.chart.isDatasetVisible(b)&&(d+=this._getRingWeight(b));return d}_getRingWeight(c){return Math.max(tt(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Lc.id="doughnut",Lc.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Lc.descriptors={_scriptable:h=>h!=="spacing",_indexable:h=>h!=="spacing"},Lc.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(h){const c=h.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:d}}=h.legend.options;return c.labels.map((b,_)=>{const A=h.getDatasetMeta(0).controller.getStyle(_);return{text:b,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,lineWidth:A.borderWidth,pointStyle:d,hidden:!h.getDataVisibility(_),index:_}})}return[]}},onClick(h,c,d){d.chart.toggleDataVisibility(c.index),d.chart.update()}},tooltip:{callbacks:{title(){return""},label(h){let c=h.label;const d=": "+h.formattedValue;return M(c)?(c=c.slice(),c[0]+=d):c+=d,c}}}}};class ju extends dc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const d=this._cachedMeta,{dataset:b,data:_=[],_dataset:E}=d,A=this.chart._animationsDisabled;let{start:R,count:L}=Qc(d,_,A);this._drawStart=R,this._drawCount=L,Vi(d)&&(R=0,L=_.length),b._chart=this.chart,b._datasetIndex=this.index,b._decimated=!!E._decimated,b.points=_;const z=this.resolveDatasetElementOptions(c);this.options.showLine||(z.borderWidth=0),z.segment=this.options.segment,this.updateElement(b,void 0,{animated:!A,options:z},c),this.updateElements(_,R,L,c)}updateElements(c,d,b,_){const E=_==="reset",{iScale:A,vScale:R,_stacked:L,_dataset:z}=this._cachedMeta,{sharedOptions:Y,includeOptions:rt}=this._getSharedOptions(d,_),lt=A.axis,ut=R.axis,{spanGaps:bt,segment:Ot}=this.options,qt=Bo(bt)?bt:Number.POSITIVE_INFINITY,Yt=this.chart._animationsDisabled||E||_==="none";let de=d>0&&this.getParsed(d-1);for(let De=d;De<d+b;++De){const je=c[De],$e=this.getParsed(De),Cn=Yt?je:{},un=C($e[ut]),$n=Cn[lt]=A.getPixelForValue($e[lt],De),On=Cn[ut]=E||un?R.getBasePixel():R.getPixelForValue(L?this.applyStack(R,$e,L):$e[ut],De);Cn.skip=isNaN($n)||isNaN(On)||un,Cn.stop=De>0&&Math.abs($e[lt]-de[lt])>qt,Ot&&(Cn.parsed=$e,Cn.raw=z.data[De]),rt&&(Cn.options=Y||this.resolveDataElementOptions(De,je.active?"active":_)),Yt||this.updateElement(je,De,Cn,_),de=$e}}getMaxOverflow(){const c=this._cachedMeta,d=c.dataset,b=d.options&&d.options.borderWidth||0,_=c.data||[];if(!_.length)return b;const E=_[0].size(this.resolveDataElementOptions(0)),A=_[_.length-1].size(this.resolveDataElementOptions(_.length-1));return Math.max(b,E,A)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}}ju.id="line",ju.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},ju.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class sm extends dc{constructor(c,d){super(c,d),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const d=this._cachedMeta,b=this.chart,_=b.data.labels||[],E=Ul(d._parsed[c].r,b.options.locale);return{label:_[c]||"",value:E}}parseObjectData(c,d,b,_){return sl.bind(this)(c,d,b,_)}update(c){const d=this._cachedMeta.data;this._updateRadius(),this.updateElements(d,0,d.length,c)}getMinMax(){const c=this._cachedMeta,d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return c.data.forEach((b,_)=>{const E=this.getParsed(_).r;!isNaN(E)&&this.chart.getDataVisibility(_)&&(E<d.min&&(d.min=E),E>d.max&&(d.max=E))}),d}_updateRadius(){const c=this.chart,d=c.chartArea,b=c.options,_=Math.min(d.right-d.left,d.bottom-d.top),E=Math.max(_/2,0),A=Math.max(b.cutoutPercentage?E/100*b.cutoutPercentage:1,0),R=(E-A)/c.getVisibleDatasetCount();this.outerRadius=E-R*this.index,this.innerRadius=this.outerRadius-R}updateElements(c,d,b,_){const E=_==="reset",A=this.chart,L=A.options.animation,z=this._cachedMeta.rScale,Y=z.xCenter,rt=z.yCenter,lt=z.getIndexAngle(0)-.5*jn;let ut=lt,bt;const Ot=360/this.countVisibleElements();for(bt=0;bt<d;++bt)ut+=this._computeAngle(bt,_,Ot);for(bt=d;bt<d+b;bt++){const qt=c[bt];let Yt=ut,de=ut+this._computeAngle(bt,_,Ot),De=A.getDataVisibility(bt)?z.getDistanceFromCenterForValue(this.getParsed(bt).r):0;ut=de,E&&(L.animateScale&&(De=0),L.animateRotate&&(Yt=de=lt));const je={x:Y,y:rt,innerRadius:0,outerRadius:De,startAngle:Yt,endAngle:de,options:this.resolveDataElementOptions(bt,qt.active?"active":_)};this.updateElement(qt,bt,je,_)}}countVisibleElements(){const c=this._cachedMeta;let d=0;return c.data.forEach((b,_)=>{!isNaN(this.getParsed(_).r)&&this.chart.getDataVisibility(_)&&d++}),d}_computeAngle(c,d,b){return this.chart.getDataVisibility(c)?tr(this.resolveDataElementOptions(c,d).angle||b):0}}sm.id="polarArea",sm.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},sm.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(h){const c=h.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:d}}=h.legend.options;return c.labels.map((b,_)=>{const A=h.getDatasetMeta(0).controller.getStyle(_);return{text:b,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,lineWidth:A.borderWidth,pointStyle:d,hidden:!h.getDataVisibility(_),index:_}})}return[]}},onClick(h,c,d){d.chart.toggleDataVisibility(c.index),d.chart.update()}},tooltip:{callbacks:{title(){return""},label(h){return h.chart.data.labels[h.dataIndex]+": "+h.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class i1 extends Lc{}i1.id="pie",i1.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class a1 extends dc{getLabelAndValue(c){const d=this._cachedMeta.vScale,b=this.getParsed(c);return{label:d.getLabels()[c],value:""+d.getLabelForValue(b[d.axis])}}parseObjectData(c,d,b,_){return sl.bind(this)(c,d,b,_)}update(c){const d=this._cachedMeta,b=d.dataset,_=d.data||[],E=d.iScale.getLabels();if(b.points=_,c!=="resize"){const A=this.resolveDatasetElementOptions(c);this.options.showLine||(A.borderWidth=0);const R={_loop:!0,_fullLoop:E.length===_.length,options:A};this.updateElement(b,void 0,R,c)}this.updateElements(_,0,_.length,c)}updateElements(c,d,b,_){const E=this._cachedMeta.rScale,A=_==="reset";for(let R=d;R<d+b;R++){const L=c[R],z=this.resolveDataElementOptions(R,L.active?"active":_),Y=E.getPointPositionForValue(R,this.getParsed(R).r),rt=A?E.xCenter:Y.x,lt=A?E.yCenter:Y.y,ut={x:rt,y:lt,angle:Y.angle,skip:isNaN(rt)||isNaN(lt),options:z};this.updateElement(L,R,ut,_)}}}a1.id="radar",a1.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},a1.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Zu extends dc{update(c){const d=this._cachedMeta,{data:b=[]}=d,_=this.chart._animationsDisabled;let{start:E,count:A}=Qc(d,b,_);if(this._drawStart=E,this._drawCount=A,Vi(d)&&(E=0,A=b.length),this.options.showLine){const{dataset:R,_dataset:L}=d;R._chart=this.chart,R._datasetIndex=this.index,R._decimated=!!L._decimated,R.points=b;const z=this.resolveDatasetElementOptions(c);z.segment=this.options.segment,this.updateElement(R,void 0,{animated:!_,options:z},c)}this.updateElements(b,E,A,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=Cs.getElement("line")),super.addElements()}updateElements(c,d,b,_){const E=_==="reset",{iScale:A,vScale:R,_stacked:L,_dataset:z}=this._cachedMeta,Y=this.resolveDataElementOptions(d,_),rt=this.getSharedOptions(Y),lt=this.includeOptions(_,rt),ut=A.axis,bt=R.axis,{spanGaps:Ot,segment:qt}=this.options,Yt=Bo(Ot)?Ot:Number.POSITIVE_INFINITY,de=this.chart._animationsDisabled||E||_==="none";let De=d>0&&this.getParsed(d-1);for(let je=d;je<d+b;++je){const $e=c[je],Cn=this.getParsed(je),un=de?$e:{},$n=C(Cn[bt]),On=un[ut]=A.getPixelForValue(Cn[ut],je),os=un[bt]=E||$n?R.getBasePixel():R.getPixelForValue(L?this.applyStack(R,Cn,L):Cn[bt],je);un.skip=isNaN(On)||isNaN(os)||$n,un.stop=je>0&&Math.abs(Cn[ut]-De[ut])>Yt,qt&&(un.parsed=Cn,un.raw=z.data[je]),lt&&(un.options=rt||this.resolveDataElementOptions(je,$e.active?"active":_)),de||this.updateElement($e,je,un,_),De=Cn}this.updateSharedOptions(rt,_,Y)}getMaxOverflow(){const c=this._cachedMeta,d=c.data||[];if(!this.options.showLine){let R=0;for(let L=d.length-1;L>=0;--L)R=Math.max(R,d[L].size(this.resolveDataElementOptions(L))/2);return R>0&&R}const b=c.dataset,_=b.options&&b.options.borderWidth||0;if(!d.length)return _;const E=d[0].size(this.resolveDataElementOptions(0)),A=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(_,E,A)/2}}Zu.id="scatter",Zu.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Zu.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(h){return"("+h.label+", "+h.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Gf=Object.freeze({__proto__:null,BarController:vg,BubbleController:yg,DoughnutController:Lc,LineController:ju,PolarAreaController:sm,PieController:i1,RadarController:a1,ScatterController:Zu});function $d(h,c,d){const{startAngle:b,pixelMargin:_,x:E,y:A,outerRadius:R,innerRadius:L}=c;let z=_/R;h.beginPath(),h.arc(E,A,R,b-z,d+z),L>_?(z=_/L,h.arc(E,A,L,d+z,b-z,!0)):h.arc(E,A,_,d+re,b-re),h.closePath(),h.clip()}function Fd(h){return Ac(h,["outerStart","outerEnd","innerStart","innerEnd"])}function Hd(h,c,d,b){const _=Fd(h.options.borderRadius),E=(d-c)/2,A=Math.min(E,b*c/2),R=L=>{const z=(d-Math.min(E,L))*b/2;return wt(L,0,Math.min(E,z))};return{outerStart:R(_.outerStart),outerEnd:R(_.outerEnd),innerStart:wt(_.innerStart,0,A),innerEnd:wt(_.innerEnd,0,A)}}function hc(h,c,d,b){return{x:d+h*Math.cos(c),y:b+h*Math.sin(c)}}function c1(h,c,d,b,_,E){const{x:A,y:R,startAngle:L,pixelMargin:z,innerRadius:Y}=c,rt=Math.max(c.outerRadius+b+d-z,0),lt=Y>0?Y+b+d+z:0;let ut=0;const bt=_-L;if(b){const Eo=Y>0?Y-b:0,Or=rt>0?rt-b:0,ls=(Eo+Or)/2,Da=ls!==0?bt*ls/(ls+b):bt;ut=(bt-Da)/2}const Ot=Math.max(.001,bt*rt-d/jn)/rt,qt=(bt-Ot)/2,Yt=L+qt+ut,de=_-qt-ut,{outerStart:De,outerEnd:je,innerStart:$e,innerEnd:Cn}=Hd(c,lt,rt,de-Yt),un=rt-De,$n=rt-je,On=Yt+De/un,os=de-je/$n,ss=lt+$e,Wn=lt+Cn,Gr=Yt+$e/ss,kr=de-Cn/Wn;if(h.beginPath(),E){if(h.arc(A,R,rt,On,os),je>0){const ls=hc($n,os,A,R);h.arc(ls.x,ls.y,je,os,de+re)}const Eo=hc(Wn,de,A,R);if(h.lineTo(Eo.x,Eo.y),Cn>0){const ls=hc(Wn,kr,A,R);h.arc(ls.x,ls.y,Cn,de+re,kr+Math.PI)}if(h.arc(A,R,lt,de-Cn/lt,Yt+$e/lt,!0),$e>0){const ls=hc(ss,Gr,A,R);h.arc(ls.x,ls.y,$e,Gr+Math.PI,Yt-re)}const Or=hc(un,Yt,A,R);if(h.lineTo(Or.x,Or.y),De>0){const ls=hc(un,On,A,R);h.arc(ls.x,ls.y,De,Yt-re,On)}}else{h.moveTo(A,R);const Eo=Math.cos(On)*rt+A,Or=Math.sin(On)*rt+R;h.lineTo(Eo,Or);const ls=Math.cos(os)*rt+A,Da=Math.sin(os)*rt+R;h.lineTo(ls,Da)}h.closePath()}function O0(h,c,d,b,_){const{fullCircles:E,startAngle:A,circumference:R}=c;let L=c.endAngle;if(E){c1(h,c,d,b,A+pn,_);for(let z=0;z<E;++z)h.fill();isNaN(R)||(L=A+R%pn,R%pn===0&&(L+=pn))}return c1(h,c,d,b,L,_),h.fill(),L}function D0(h,c,d){const{x:b,y:_,startAngle:E,pixelMargin:A,fullCircles:R}=c,L=Math.max(c.outerRadius-A,0),z=c.innerRadius+A;let Y;for(d&&$d(h,c,E+pn),h.beginPath(),h.arc(b,_,z,E+pn,E,!0),Y=0;Y<R;++Y)h.stroke();for(h.beginPath(),h.arc(b,_,L,E,E+pn),Y=0;Y<R;++Y)h.stroke()}function l1(h,c,d,b,_,E){const{options:A}=c,{borderWidth:R,borderJoinStyle:L}=A,z=A.borderAlign==="inner";R&&(z?(h.lineWidth=R*2,h.lineJoin=L||"round"):(h.lineWidth=R,h.lineJoin=L||"bevel"),c.fullCircles&&D0(h,c,z),z&&$d(h,c,_),c1(h,c,d,b,_,E),h.stroke())}class pr extends Ea{constructor(c){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,c&&Object.assign(this,c)}inRange(c,d,b){const _=this.getProps(["x","y"],b),{angle:E,distance:A}=ie(_,{x:c,y:d}),{startAngle:R,endAngle:L,innerRadius:z,outerRadius:Y,circumference:rt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],b),lt=this.options.spacing/2,bt=tt(rt,L-R)>=pn||Ht(E,R,L),Ot=kn(A,z+lt,Y+lt);return bt&&Ot}getCenterPoint(c){const{x:d,y:b,startAngle:_,endAngle:E,innerRadius:A,outerRadius:R}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],c),{offset:L,spacing:z}=this.options,Y=(_+E)/2,rt=(A+R+z+L)/2;return{x:d+Math.cos(Y)*rt,y:b+Math.sin(Y)*rt}}tooltipPosition(c){return this.getCenterPoint(c)}draw(c){const{options:d,circumference:b}=this,_=(d.offset||0)/2,E=(d.spacing||0)/2,A=d.circular;if(this.pixelMargin=d.borderAlign==="inner"?.33:0,this.fullCircles=b>pn?Math.floor(b/pn):0,b===0||this.innerRadius<0||this.outerRadius<0)return;c.save();let R=0;if(_){R=_/2;const z=(this.startAngle+this.endAngle)/2;c.translate(Math.cos(z)*R,Math.sin(z)*R),this.circumference>=jn&&(R=_)}c.fillStyle=d.backgroundColor,c.strokeStyle=d.borderColor;const L=O0(c,this,R,E,A);l1(c,this,R,E,L,A),c.restore()}}pr.id="arc",pr.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},pr.defaultRoutes={backgroundColor:"backgroundColor"};function dl(h,c,d=c){h.lineCap=tt(d.borderCapStyle,c.borderCapStyle),h.setLineDash(tt(d.borderDash,c.borderDash)),h.lineDashOffset=tt(d.borderDashOffset,c.borderDashOffset),h.lineJoin=tt(d.borderJoinStyle,c.borderJoinStyle),h.lineWidth=tt(d.borderWidth,c.borderWidth),h.strokeStyle=tt(d.borderColor,c.borderColor)}function Rp(h,c,d){h.lineTo(d.x,d.y)}function Yl(h){return h.stepped?Ec:h.tension||h.cubicInterpolationMode==="monotone"?d0:Rp}function _g(h,c,d={}){const b=h.length,{start:_=0,end:E=b-1}=d,{start:A,end:R}=c,L=Math.max(_,A),z=Math.min(E,R),Y=_<A&&E<A||_>R&&E>R;return{count:b,start:L,loop:c.loop,ilen:z<L&&!Y?b+z-L:z-L}}function ia(h,c,d,b){const{points:_,options:E}=c,{count:A,start:R,loop:L,ilen:z}=_g(_,d,b),Y=Yl(E);let{move:rt=!0,reverse:lt}=b||{},ut,bt,Ot;for(ut=0;ut<=z;++ut)bt=_[(R+(lt?z-ut:ut))%A],!bt.skip&&(rt?(h.moveTo(bt.x,bt.y),rt=!1):Y(h,Ot,bt,lt,E.stepped),Ot=bt);return L&&(bt=_[(R+(lt?z:0))%A],Y(h,Ot,bt,lt,E.stepped)),!!L}function xg(h,c,d,b){const _=c.points,{count:E,start:A,ilen:R}=_g(_,d,b),{move:L=!0,reverse:z}=b||{};let Y=0,rt=0,lt,ut,bt,Ot,qt,Yt;const de=je=>(A+(z?R-je:je))%E,De=()=>{Ot!==qt&&(h.lineTo(Y,qt),h.lineTo(Y,Ot),h.lineTo(Y,Yt))};for(L&&(ut=_[de(0)],h.moveTo(ut.x,ut.y)),lt=0;lt<=R;++lt){if(ut=_[de(lt)],ut.skip)continue;const je=ut.x,$e=ut.y,Cn=je|0;Cn===bt?($e<Ot?Ot=$e:$e>qt&&(qt=$e),Y=(rt*Y+je)/++rt):(De(),h.lineTo(je,$e),bt=Cn,rt=0,Ot=qt=$e),Yt=$e}De()}function qf(h){const c=h.options,d=c.borderDash&&c.borderDash.length;return!h._decimated&&!h._loop&&!c.tension&&c.cubicInterpolationMode!=="monotone"&&!c.stepped&&!d?xg:ia}function u1(h){return h.stepped?Mf:h.tension||h.cubicInterpolationMode==="monotone"?cc:ea}function Xl(h,c,d,b){let _=c._path;_||(_=c._path=new Path2D,c.path(_,d,b)&&_.closePath()),dl(h,c.options),h.stroke(_)}function Bc(h,c,d,b){const{segments:_,options:E}=c,A=qf(c);for(const R of _)dl(h,E,R.style),h.beginPath(),A(h,c,R,{start:d,end:d+b-1})&&h.closePath(),h.stroke()}const rm=typeof Path2D=="function";function Ic(h,c,d,b){rm&&!c.options.segment?Xl(h,c,d,b):Bc(h,c,d,b)}class fl extends Ea{constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,d){const b=this.options;if((b.tension||b.cubicInterpolationMode==="monotone")&&!b.stepped&&!this._pointsUpdated){const _=b.spanGaps?this._loop:this._fullLoop;ta(this._points,b,c,_,d),this._pointsUpdated=!0}}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=qb(this,this.options.segment))}first(){const c=this.segments,d=this.points;return c.length&&d[c[0].start]}last(){const c=this.segments,d=this.points,b=c.length;return b&&d[c[b-1].end]}interpolate(c,d){const b=this.options,_=c[d],E=this.points,A=Nu(this,{property:d,start:_,end:_});if(!A.length)return;const R=[],L=u1(b);let z,Y;for(z=0,Y=A.length;z<Y;++z){const{start:rt,end:lt}=A[z],ut=E[rt],bt=E[lt];if(ut===bt){R.push(ut);continue}const Ot=Math.abs((_-ut[d])/(bt[d]-ut[d])),qt=L(ut,bt,Ot,b.stepped);qt[d]=c[d],R.push(qt)}return R.length===1?R[0]:R}pathSegment(c,d,b){return qf(this)(c,this,d,b)}path(c,d,b){const _=this.segments,E=qf(this);let A=this._loop;d=d||0,b=b||this.points.length-d;for(const R of _)A&=E(c,this,R,{start:d,end:d+b-1});return!!A}draw(c,d,b,_){const E=this.options||{};(this.points||[]).length&&E.borderWidth&&(c.save(),Ic(c,this,b,_),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}fl.id="line",fl.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},fl.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},fl.descriptors={_scriptable:!0,_indexable:h=>h!=="borderDash"&&h!=="fill"};function hl(h,c,d,b){const _=h.options,{[d]:E}=h.getProps([d],b);return Math.abs(c-E)<_.radius+_.hitRadius}class Aa extends Ea{constructor(c){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,c&&Object.assign(this,c)}inRange(c,d,b){const _=this.options,{x:E,y:A}=this.getProps(["x","y"],b);return Math.pow(c-E,2)+Math.pow(d-A,2)<Math.pow(_.hitRadius+_.radius,2)}inXRange(c,d){return hl(this,c,"x",d)}inYRange(c,d){return hl(this,c,"y",d)}getCenterPoint(c){const{x:d,y:b}=this.getProps(["x","y"],c);return{x:d,y:b}}size(c){c=c||this.options||{};let d=c.radius||0;d=Math.max(d,d&&c.hoverRadius||0);const b=d&&c.borderWidth||0;return(d+b)*2}draw(c,d){const b=this.options;this.skip||b.radius<.1||!zi(this,d,this.size(b)/2)||(c.strokeStyle=b.borderColor,c.lineWidth=b.borderWidth,c.fillStyle=b.backgroundColor,eg(c,b,this.x,this.y))}getRange(){const c=this.options||{};return c.radius+c.hitRadius}}Aa.id="point",Aa.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Aa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Gu(h,c){const{x:d,y:b,base:_,width:E,height:A}=h.getProps(["x","y","base","width","height"],c);let R,L,z,Y,rt;return h.horizontal?(rt=A/2,R=Math.min(d,_),L=Math.max(d,_),z=b-rt,Y=b+rt):(rt=E/2,R=d-rt,L=d+rt,z=Math.min(b,_),Y=Math.max(b,_)),{left:R,top:z,right:L,bottom:Y}}function qu(h,c,d,b){return h?0:wt(c,d,b)}function ml(h,c,d){const b=h.options.borderWidth,_=h.borderSkipped,E=nr(b);return{t:qu(_.top,E.top,0,d),r:qu(_.right,E.right,0,c),b:qu(_.bottom,E.bottom,0,d),l:qu(_.left,E.left,0,c)}}function rx(h,c,d){const{enableBorderRadius:b}=h.getProps(["enableBorderRadius"]),_=h.options.borderRadius,E=Di(_),A=Math.min(c,d),R=h.borderSkipped,L=b||$(_);return{topLeft:qu(!L||R.top||R.left,E.topLeft,0,A),topRight:qu(!L||R.top||R.right,E.topRight,0,A),bottomLeft:qu(!L||R.bottom||R.left,E.bottomLeft,0,A),bottomRight:qu(!L||R.bottom||R.right,E.bottomRight,0,A)}}function ix(h){const c=Gu(h),d=c.right-c.left,b=c.bottom-c.top,_=ml(h,d/2,b/2),E=rx(h,d/2,b/2);return{outer:{x:c.left,y:c.top,w:d,h:b,radius:E},inner:{x:c.left+_.l,y:c.top+_.t,w:d-_.l-_.r,h:b-_.t-_.b,radius:{topLeft:Math.max(0,E.topLeft-Math.max(_.t,_.l)),topRight:Math.max(0,E.topRight-Math.max(_.t,_.r)),bottomLeft:Math.max(0,E.bottomLeft-Math.max(_.b,_.l)),bottomRight:Math.max(0,E.bottomRight-Math.max(_.b,_.r))}}}}function Ds(h,c,d,b){const _=c===null,E=d===null,R=h&&!(_&&E)&&Gu(h,b);return R&&(_||kn(c,R.left,R.right))&&(E||kn(d,R.top,R.bottom))}function d1(h){return h.topLeft||h.topRight||h.bottomLeft||h.bottomRight}function Jl(h,c){h.rect(c.x,c.y,c.w,c.h)}function Ku(h,c,d={}){const b=h.x!==d.x?-c:0,_=h.y!==d.y?-c:0,E=(h.x+h.w!==d.x+d.w?c:0)-b,A=(h.y+h.h!==d.y+d.h?c:0)-_;return{x:h.x+b,y:h.y+_,w:h.w+E,h:h.h+A,radius:h.radius}}class Vd extends Ea{constructor(c){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,c&&Object.assign(this,c)}draw(c){const{inflateAmount:d,options:{borderColor:b,backgroundColor:_}}=this,{inner:E,outer:A}=ix(this),R=d1(A.radius)?Tc:Jl;c.save(),(A.w!==E.w||A.h!==E.h)&&(c.beginPath(),R(c,Ku(A,d,E)),c.clip(),R(c,Ku(E,-d,A)),c.fillStyle=b,c.fill("evenodd")),c.beginPath(),R(c,Ku(E,d)),c.fillStyle=_,c.fill(),c.restore()}inRange(c,d,b){return Ds(this,c,d,b)}inXRange(c,d){return Ds(this,c,null,d)}inYRange(c,d){return Ds(this,null,c,d)}getCenterPoint(c){const{x:d,y:b,base:_,horizontal:E}=this.getProps(["x","y","base","horizontal"],c);return{x:E?(d+_)/2:d,y:E?b:(b+_)/2}}getRange(c){return c==="x"?this.width/2:this.height/2}}Vd.id="bar",Vd.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Vd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var $c=Object.freeze({__proto__:null,ArcElement:pr,LineElement:fl,PointElement:Aa,BarElement:Vd});function ka(h,c,d,b,_){const E=_.samples||b;if(E>=d)return h.slice(c,c+d);const A=[],R=(d-2)/(E-2);let L=0;const z=c+d-1;let Y=c,rt,lt,ut,bt,Ot;for(A[L++]=h[Y],rt=0;rt<E-2;rt++){let qt=0,Yt=0,de;const De=Math.floor((rt+1)*R)+1+c,je=Math.min(Math.floor((rt+2)*R)+1,d)+c,$e=je-De;for(de=De;de<je;de++)qt+=h[de].x,Yt+=h[de].y;qt/=$e,Yt/=$e;const Cn=Math.floor(rt*R)+1+c,un=Math.min(Math.floor((rt+1)*R)+1,d)+c,{x:$n,y:On}=h[Y];for(ut=bt=-1,de=Cn;de<un;de++)bt=.5*Math.abs(($n-qt)*(h[de].y-On)-($n-h[de].x)*(Yt-On)),bt>ut&&(ut=bt,lt=h[de],Ot=de);A[L++]=lt,Y=Ot}return A[L++]=h[z],A}function Kf(h,c,d,b){let _=0,E=0,A,R,L,z,Y,rt,lt,ut,bt,Ot;const qt=[],Yt=c+d-1,de=h[c].x,je=h[Yt].x-de;for(A=c;A<c+d;++A){R=h[A],L=(R.x-de)/je*b,z=R.y;const $e=L|0;if($e===Y)z<bt?(bt=z,rt=A):z>Ot&&(Ot=z,lt=A),_=(E*_+R.x)/++E;else{const Cn=A-1;if(!C(rt)&&!C(lt)){const un=Math.min(rt,lt),$n=Math.max(rt,lt);un!==ut&&un!==Cn&&qt.push({...h[un],x:_}),$n!==ut&&$n!==Cn&&qt.push({...h[$n],x:_})}A>0&&Cn!==ut&&qt.push(h[Cn]),qt.push(R),Y=$e,E=0,bt=Ot=z,rt=lt=ut=A}}return qt}function Bi(h){if(h._decimated){const c=h._data;delete h._decimated,delete h._data,Object.defineProperty(h,"data",{value:c})}}function br(h){h.data.datasets.forEach(c=>{Bi(c)})}function wg(h,c){const d=c.length;let b=0,_;const{iScale:E}=h,{min:A,max:R,minDefined:L,maxDefined:z}=E.getUserBounds();return L&&(b=wt(vo(c,E.axis,A).lo,0,d-1)),z?_=wt(vo(c,E.axis,R).hi+1,b,d)-b:_=d-b,{start:b,count:_}}var Mp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(h,c,d)=>{if(!d.enabled){br(h);return}const b=h.width;h.data.datasets.forEach((_,E)=>{const{_data:A,indexAxis:R}=_,L=h.getDatasetMeta(E),z=A||_.data;if(Wi([R,h.options.indexAxis])==="y"||!L.controller.supportsDecimation)return;const Y=h.scales[L.xAxisID];if(Y.type!=="linear"&&Y.type!=="time"||h.options.parsing)return;let{start:rt,count:lt}=wg(L,z);const ut=d.threshold||4*b;if(lt<=ut){Bi(_);return}C(A)&&(_._data=z,delete _.data,Object.defineProperty(_,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Ot){this._data=Ot}}));let bt;switch(d.algorithm){case"lttb":bt=ka(z,rt,lt,b,d);break;case"min-max":bt=Kf(z,rt,lt,b);break;default:throw new Error(`Unsupported decimation algorithm '${d.algorithm}'`)}_._decimated=bt})},destroy(h){br(h)}};function Pp(h,c,d){const b=h.segments,_=h.points,E=c.points,A=[];for(const R of b){let{start:L,end:z}=R;z=im(L,z,_);const Y=f1(d,_[L],_[z],R.loop);if(!c.segments){A.push({source:R,target:Y,start:_[L],end:_[z]});continue}const rt=Nu(c,Y);for(const lt of rt){const ut=f1(d,E[lt.start],E[lt.end],lt.loop),bt=Gh(R,_,ut);for(const Ot of bt)A.push({source:Ot,target:lt,start:{[d]:zd(Y,ut,"start",Math.max)},end:{[d]:zd(Y,ut,"end",Math.min)}})}}return A}function f1(h,c,d,b){if(b)return;let _=c[h],E=d[h];return h==="angle"&&(_=_t(_),E=_t(E)),{property:h,start:_,end:E}}function R0(h,c){const{x:d=null,y:b=null}=h||{},_=c.points,E=[];return c.segments.forEach(({start:A,end:R})=>{R=im(A,R,_);const L=_[A],z=_[R];b!==null?(E.push({x:L.x,y:b}),E.push({x:z.x,y:b})):d!==null&&(E.push({x:d,y:L.y}),E.push({x:d,y:z.y}))}),E}function im(h,c,d){for(;c>h;c--){const b=d[c];if(!isNaN(b.x)&&!isNaN(b.y))break}return c}function zd(h,c,d,b){return h&&c?b(h[d],c[d]):h?h[d]:c?c[d]:0}function aa(h,c){let d=[],b=!1;return M(h)?(b=!0,d=h):d=R0(h,c),d.length?new fl({points:d,options:{tension:0},_loop:b,_fullLoop:b}):null}function Fc(h){return h&&h.fill!==!1}function Ql(h,c,d){let _=h[c].fill;const E=[c];let A;if(!d)return _;for(;_!==!1&&E.indexOf(_)===-1;){if(!W(_))return _;if(A=h[_],!A)return!1;if(A.visible)return _;E.push(_),_=A.fill}return!1}function Yf(h,c,d){const b=m1(h);if($(b))return isNaN(b.value)?!1:b;let _=parseFloat(b);return W(_)&&Math.floor(_)===_?Hc(b[0],c,_,d):["origin","start","end","stack","shape"].indexOf(b)>=0&&b}function Hc(h,c,d,b){return(h==="-"||h==="+")&&(d=c+d),d===c||d<0||d>=b?!1:d}function am(h,c){let d=null;return h==="start"?d=c.bottom:h==="end"?d=c.top:$(h)?d=c.getPixelForValue(h.value):c.getBasePixel&&(d=c.getBasePixel()),d}function h1(h,c,d){let b;return h==="start"?b=d:h==="end"?b=c.options.reverse?c.min:c.max:$(h)?b=h.value:b=c.getBaseValue(),b}function m1(h){const c=h.options,d=c.fill;let b=tt(d&&d.target,d);return b===void 0&&(b=!!c.backgroundColor),b===!1||b===null?!1:b===!0?"origin":b}function g1(h){const{scale:c,index:d,line:b}=h,_=[],E=b.segments,A=b.points,R=cm(c,d);R.push(aa({x:null,y:c.bottom},b));for(let L=0;L<E.length;L++){const z=E[L];for(let Y=z.start;Y<=z.end;Y++)Xf(_,A[Y],R)}return new fl({points:_,options:{}})}function cm(h,c){const d=[],b=h.getMatchingVisibleMetas("line");for(let _=0;_<b.length;_++){const E=b[_];if(E.index===c)break;E.hidden||d.unshift(E.dataset)}return d}function Xf(h,c,d){const b=[];for(let _=0;_<d.length;_++){const E=d[_],{first:A,last:R,point:L}=zn(E,c,"x");if(!(!L||A&&R)){if(A)b.unshift(L);else if(h.push(L),!R)break}}h.push(...b)}function zn(h,c,d){const b=h.interpolate(c,d);if(!b)return{};const _=b[d],E=h.segments,A=h.points;let R=!1,L=!1;for(let z=0;z<E.length;z++){const Y=E[z],rt=A[Y.start][d],lt=A[Y.end][d];if(kn(_,rt,lt)){R=_===rt,L=_===lt;break}}return{first:R,last:L,point:b}}class on{constructor(c){this.x=c.x,this.y=c.y,this.radius=c.radius}pathSegment(c,d,b){const{x:_,y:E,radius:A}=this;return d=d||{start:0,end:pn},c.arc(_,E,A,d.end,d.start,!0),!b.bounds}interpolate(c){const{x:d,y:b,radius:_}=this,E=c.angle;return{x:d+Math.cos(E)*_,y:b+Math.sin(E)*_,angle:E}}}function tu(h){const{chart:c,fill:d,line:b}=h;if(W(d))return Np(c,d);if(d==="stack")return g1(h);if(d==="shape")return!0;const _=Lp(h);return _ instanceof on?_:aa(_,b)}function Np(h,c){const d=h.getDatasetMeta(c);return d&&h.isDatasetVisible(c)?d.dataset:null}function Lp(h){return(h.scale||{}).getPointPositionForValue?Yu(h):p1(h)}function p1(h){const{scale:c={},fill:d}=h,b=am(d,c);if(W(b)){const _=c.isHorizontal();return{x:_?b:null,y:_?null:b}}return null}function Yu(h){const{scale:c,fill:d}=h,b=c.options,_=c.getLabels().length,E=b.reverse?c.max:c.min,A=h1(d,c,E),R=[];if(b.grid.circular){const L=c.getPointPositionForValue(0,E);return new on({x:L.x,y:L.y,radius:c.getDistanceFromCenterForValue(A)})}for(let L=0;L<_;++L)R.push(c.getPointPositionForValue(L,A));return R}function jo(h,c,d){const b=tu(c),{line:_,scale:E,axis:A}=c,R=_.options,L=R.fill,z=R.backgroundColor,{above:Y=z,below:rt=z}=L||{};b&&_.points.length&&(ng(h,d),M0(h,{line:_,target:b,above:Y,below:rt,area:d,scale:E,axis:A}),Rf(h))}function M0(h,c){const{line:d,target:b,above:_,below:E,area:A,scale:R}=c,L=d._loop?"angle":c.axis;h.save(),L==="x"&&E!==_&&(Bp(h,b,A.top),Ip(h,{line:d,target:b,color:_,scale:R,property:L}),h.restore(),h.save(),Bp(h,b,A.bottom)),Ip(h,{line:d,target:b,color:E,scale:R,property:L}),h.restore()}function Bp(h,c,d){const{segments:b,points:_}=c;let E=!0,A=!1;h.beginPath();for(const R of b){const{start:L,end:z}=R,Y=_[L],rt=_[im(L,z,_)];E?(h.moveTo(Y.x,Y.y),E=!1):(h.lineTo(Y.x,d),h.lineTo(Y.x,Y.y)),A=!!c.pathSegment(h,R,{move:A}),A?h.closePath():h.lineTo(rt.x,d)}h.lineTo(c.first().x,d),h.closePath(),h.clip()}function Ip(h,c){const{line:d,target:b,property:_,color:E,scale:A}=c,R=Pp(d,b,_);for(const{source:L,target:z,start:Y,end:rt}of R){const{style:{backgroundColor:lt=E}={}}=L,ut=b!==!0;h.save(),h.fillStyle=lt,Xt(h,A,ut&&f1(_,Y,rt)),h.beginPath();const bt=!!d.pathSegment(h,L);let Ot;if(ut){bt?h.closePath():$p(h,b,rt,_);const qt=!!b.pathSegment(h,z,{move:bt,reverse:!0});Ot=bt&&qt,Ot||$p(h,b,Y,_)}h.closePath(),h.fill(Ot?"evenodd":"nonzero"),h.restore()}}function Xt(h,c,d){const{top:b,bottom:_}=c.chart.chartArea,{property:E,start:A,end:R}=d||{};E==="x"&&(h.beginPath(),h.rect(A,b,R-A,_-b),h.clip())}function $p(h,c,d,b){const _=c.interpolate(d,b);_&&h.lineTo(_.x,_.y)}var P0={id:"filler",afterDatasetsUpdate(h,c,d){const b=(h.data.datasets||[]).length,_=[];let E,A,R,L;for(A=0;A<b;++A)E=h.getDatasetMeta(A),R=E.dataset,L=null,R&&R.options&&R instanceof fl&&(L={visible:h.isDatasetVisible(A),index:A,fill:Yf(R,A,b),chart:h,axis:E.controller.options.indexAxis,scale:E.vScale,line:R}),E.$filler=L,_.push(L);for(A=0;A<b;++A)L=_[A],!(!L||L.fill===!1)&&(L.fill=Ql(_,A,d.propagate))},beforeDraw(h,c,d){const b=d.drawTime==="beforeDraw",_=h.getSortedVisibleDatasetMetas(),E=h.chartArea;for(let A=_.length-1;A>=0;--A){const R=_[A].$filler;R&&(R.line.updateControlPoints(E,R.axis),b&&R.fill&&jo(h.ctx,R,E))}},beforeDatasetsDraw(h,c,d){if(d.drawTime!=="beforeDatasetsDraw")return;const b=h.getSortedVisibleDatasetMetas();for(let _=b.length-1;_>=0;--_){const E=b[_].$filler;Fc(E)&&jo(h.ctx,E,h.chartArea)}},beforeDatasetDraw(h,c,d){const b=c.meta.$filler;!Fc(b)||d.drawTime!=="beforeDatasetDraw"||jo(h.ctx,b,h.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wd=(h,c)=>{let{boxHeight:d=c,boxWidth:b=c}=h;return h.usePointStyle&&(d=Math.min(d,c),b=h.pointStyleWidth||Math.min(b,c)),{boxWidth:b,boxHeight:d,itemHeight:Math.max(c,d)}},N0=(h,c)=>h!==null&&c!==null&&h.datasetIndex===c.datasetIndex&&h.index===c.index;class eu extends Ea{constructor(c){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,d,b){this.maxWidth=c,this.maxHeight=d,this._margins=b,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const c=this.options.labels||{};let d=Tt(c.generateLabels,[this.chart],this)||[];c.filter&&(d=d.filter(b=>c.filter(b,this.chart.data))),c.sort&&(d=d.sort((b,_)=>c.sort(b,_,this.chart.data))),this.options.reverse&&d.reverse(),this.legendItems=d}fit(){const{options:c,ctx:d}=this;if(!c.display){this.width=this.height=0;return}const b=c.labels,_=Lo(b.font),E=_.size,A=this._computeTitleHeight(),{boxWidth:R,itemHeight:L}=Wd(b,E);let z,Y;d.font=_.string,this.isHorizontal()?(z=this.maxWidth,Y=this._fitRows(A,E,R,L)+10):(Y=this.maxHeight,z=this._fitCols(A,E,R,L)+10),this.width=Math.min(z,c.maxWidth||this.maxWidth),this.height=Math.min(Y,c.maxHeight||this.maxHeight)}_fitRows(c,d,b,_){const{ctx:E,maxWidth:A,options:{labels:{padding:R}}}=this,L=this.legendHitBoxes=[],z=this.lineWidths=[0],Y=_+R;let rt=c;E.textAlign="left",E.textBaseline="middle";let lt=-1,ut=-Y;return this.legendItems.forEach((bt,Ot)=>{const qt=b+d/2+E.measureText(bt.text).width;(Ot===0||z[z.length-1]+qt+2*R>A)&&(rt+=Y,z[z.length-(Ot>0?0:1)]=0,ut+=Y,lt++),L[Ot]={left:0,top:ut,row:lt,width:qt,height:_},z[z.length-1]+=qt+R}),rt}_fitCols(c,d,b,_){const{ctx:E,maxHeight:A,options:{labels:{padding:R}}}=this,L=this.legendHitBoxes=[],z=this.columnSizes=[],Y=A-c;let rt=R,lt=0,ut=0,bt=0,Ot=0;return this.legendItems.forEach((qt,Yt)=>{const de=b+d/2+E.measureText(qt.text).width;Yt>0&&ut+_+2*R>Y&&(rt+=lt+R,z.push({width:lt,height:ut}),bt+=lt+R,Ot++,lt=ut=0),L[Yt]={left:bt,top:ut,col:Ot,width:de,height:_},lt=Math.max(lt,de),ut+=_+R}),rt+=lt,z.push({width:lt,height:ut}),rt}adjustHitBoxes(){if(!this.options.display)return;const c=this._computeTitleHeight(),{legendHitBoxes:d,options:{align:b,labels:{padding:_},rtl:E}}=this,A=Oc(E,this.left,this.width);if(this.isHorizontal()){let R=0,L=ys(b,this.left+_,this.right-this.lineWidths[R]);for(const z of d)R!==z.row&&(R=z.row,L=ys(b,this.left+_,this.right-this.lineWidths[R])),z.top+=this.top+c+_,z.left=A.leftForLtr(A.x(L),z.width),L+=z.width+_}else{let R=0,L=ys(b,this.top+c+_,this.bottom-this.columnSizes[R].height);for(const z of d)z.col!==R&&(R=z.col,L=ys(b,this.top+c+_,this.bottom-this.columnSizes[R].height)),z.top=L,z.left+=this.left+_,z.left=A.leftForLtr(A.x(z.left),z.width),L+=z.height+_}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const c=this.ctx;ng(c,this),this._draw(),Rf(c)}}_draw(){const{options:c,columnSizes:d,lineWidths:b,ctx:_}=this,{align:E,labels:A}=c,R=Vn.color,L=Oc(c.rtl,this.left,this.width),z=Lo(A.font),{color:Y,padding:rt}=A,lt=z.size,ut=lt/2;let bt;this.drawTitle(),_.textAlign=L.textAlign("left"),_.textBaseline="middle",_.lineWidth=.5,_.font=z.string;const{boxWidth:Ot,boxHeight:qt,itemHeight:Yt}=Wd(A,lt),de=function(un,$n,On){if(isNaN(Ot)||Ot<=0||isNaN(qt)||qt<0)return;_.save();const os=tt(On.lineWidth,1);if(_.fillStyle=tt(On.fillStyle,R),_.lineCap=tt(On.lineCap,"butt"),_.lineDashOffset=tt(On.lineDashOffset,0),_.lineJoin=tt(On.lineJoin,"miter"),_.lineWidth=os,_.strokeStyle=tt(On.strokeStyle,R),_.setLineDash(tt(On.lineDash,[])),A.usePointStyle){const ss={radius:qt*Math.SQRT2/2,pointStyle:On.pointStyle,rotation:On.rotation,borderWidth:os},Wn=L.xPlus(un,Ot/2),Gr=$n+ut;gs(_,ss,Wn,Gr,A.pointStyleWidth&&Ot)}else{const ss=$n+Math.max((lt-qt)/2,0),Wn=L.leftForLtr(un,Ot),Gr=Di(On.borderRadius);_.beginPath(),Object.values(Gr).some(kr=>kr!==0)?Tc(_,{x:Wn,y:ss,w:Ot,h:qt,radius:Gr}):_.rect(Wn,ss,Ot,qt),_.fill(),os!==0&&_.stroke()}_.restore()},De=function(un,$n,On){ol(_,On.text,un,$n+Yt/2,z,{strikethrough:On.hidden,textAlign:L.textAlign(On.textAlign)})},je=this.isHorizontal(),$e=this._computeTitleHeight();je?bt={x:ys(E,this.left+rt,this.right-b[0]),y:this.top+rt+$e,line:0}:bt={x:this.left+rt,y:ys(E,this.top+$e+rt,this.bottom-d[0].height),line:0},jh(this.ctx,c.textDirection);const Cn=Yt+rt;this.legendItems.forEach((un,$n)=>{_.strokeStyle=un.fontColor||Y,_.fillStyle=un.fontColor||Y;const On=_.measureText(un.text).width,os=L.textAlign(un.textAlign||(un.textAlign=A.textAlign)),ss=Ot+ut+On;let Wn=bt.x,Gr=bt.y;L.setWidth(this.width),je?$n>0&&Wn+ss+rt>this.right&&(Gr=bt.y+=Cn,bt.line++,Wn=bt.x=ys(E,this.left+rt,this.right-b[bt.line])):$n>0&&Gr+Cn>this.bottom&&(Wn=bt.x=Wn+d[bt.line].width+rt,bt.line++,Gr=bt.y=ys(E,this.top+$e+rt,this.bottom-d[bt.line].height));const kr=L.x(Wn);de(kr,Gr,un),Wn=dr(os,Wn+Ot+ut,je?Wn+ss:this.right,c.rtl),De(L.x(Wn),Gr,un),je?bt.x+=ss+rt:bt.y+=Cn}),jl(this.ctx,c.textDirection)}drawTitle(){const c=this.options,d=c.title,b=Lo(d.font),_=Er(d.padding);if(!d.display)return;const E=Oc(c.rtl,this.left,this.width),A=this.ctx,R=d.position,L=b.size/2,z=_.top+L;let Y,rt=this.left,lt=this.width;if(this.isHorizontal())lt=Math.max(...this.lineWidths),Y=this.top+z,rt=ys(c.align,rt,this.right-lt);else{const bt=this.columnSizes.reduce((Ot,qt)=>Math.max(Ot,qt.height),0);Y=z+ys(c.align,this.top,this.bottom-bt-c.labels.padding-this._computeTitleHeight())}const ut=ys(R,rt,rt+lt);A.textAlign=E.textAlign(Co(R)),A.textBaseline="middle",A.strokeStyle=d.color,A.fillStyle=d.color,A.font=b.string,ol(A,d.text,ut,Y,b)}_computeTitleHeight(){const c=this.options.title,d=Lo(c.font),b=Er(c.padding);return c.display?d.lineHeight+b.height:0}_getLegendItemAt(c,d){let b,_,E;if(kn(c,this.left,this.right)&&kn(d,this.top,this.bottom)){for(E=this.legendHitBoxes,b=0;b<E.length;++b)if(_=E[b],kn(c,_.left,_.left+_.width)&&kn(d,_.top,_.top+_.height))return this.legendItems[b]}return null}handleEvent(c){const d=this.options;if(!Jf(c.type,d))return;const b=this._getLegendItemAt(c.x,c.y);if(c.type==="mousemove"||c.type==="mouseout"){const _=this._hoveredItem,E=N0(_,b);_&&!E&&Tt(d.onLeave,[c,_,this],this),this._hoveredItem=b,b&&!E&&Tt(d.onHover,[c,b,this],this)}else b&&Tt(d.onClick,[c,b,this],this)}}function Jf(h,c){return!!((h==="mousemove"||h==="mouseout")&&(c.onHover||c.onLeave)||c.onClick&&(h==="click"||h==="mouseup"))}var Vc={id:"legend",_element:eu,start(h,c,d){const b=h.legend=new eu({ctx:h.ctx,options:d,chart:h});Pi.configure(h,b,d),Pi.addBox(h,b)},stop(h){Pi.removeBox(h,h.legend),delete h.legend},beforeUpdate(h,c,d){const b=h.legend;Pi.configure(h,b,d),b.options=d},afterUpdate(h){const c=h.legend;c.buildLabels(),c.adjustHitBoxes()},afterEvent(h,c){c.replay||h.legend.handleEvent(c.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(h,c,d){const b=c.datasetIndex,_=d.chart;_.isDatasetVisible(b)?(_.hide(b),c.hidden=!0):(_.show(b),c.hidden=!1)},onHover:null,onLeave:null,labels:{color:h=>h.chart.options.color,boxWidth:40,padding:10,generateLabels(h){const c=h.data.datasets,{labels:{usePointStyle:d,pointStyle:b,textAlign:_,color:E}}=h.legend.options;return h._getSortedDatasetMetas().map(A=>{const R=A.controller.getStyle(d?0:void 0),L=Er(R.borderWidth);return{text:c[A.index].label,fillStyle:R.backgroundColor,fontColor:E,hidden:!A.visible,lineCap:R.borderCapStyle,lineDash:R.borderDash,lineDashOffset:R.borderDashOffset,lineJoin:R.borderJoinStyle,lineWidth:(L.width+L.height)/4,strokeStyle:R.borderColor,pointStyle:b||R.pointStyle,rotation:R.rotation,textAlign:_||R.textAlign,borderRadius:0,datasetIndex:A.index}},this)}},title:{color:h=>h.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:h=>!h.startsWith("on"),labels:{_scriptable:h=>!["generateLabels","filter","sort"].includes(h)}}};class b1 extends Ea{constructor(c){super(),this.chart=c.chart,this.options=c.options,this.ctx=c.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,d){const b=this.options;if(this.left=0,this.top=0,!b.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=c,this.height=this.bottom=d;const _=M(b.text)?b.text.length:1;this._padding=Er(b.padding);const E=_*Lo(b.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=E:this.width=E}isHorizontal(){const c=this.options.position;return c==="top"||c==="bottom"}_drawArgs(c){const{top:d,left:b,bottom:_,right:E,options:A}=this,R=A.align;let L=0,z,Y,rt;return this.isHorizontal()?(Y=ys(R,b,E),rt=d+c,z=E-b):(A.position==="left"?(Y=b+c,rt=ys(R,_,d),L=jn*-.5):(Y=E-c,rt=ys(R,d,_),L=jn*.5),z=_-d),{titleX:Y,titleY:rt,maxWidth:z,rotation:L}}draw(){const c=this.ctx,d=this.options;if(!d.display)return;const b=Lo(d.font),E=b.lineHeight/2+this._padding.top,{titleX:A,titleY:R,maxWidth:L,rotation:z}=this._drawArgs(E);ol(c,d.text,0,0,b,{color:d.color,maxWidth:L,rotation:z,textAlign:Co(d.align),textBaseline:"middle",translation:[A,R]})}}function lm(h,c){const d=new b1({ctx:h.ctx,options:c,chart:h});Pi.configure(h,d,c),Pi.addBox(h,d),h.titleBlock=d}var ps={id:"title",_element:b1,start(h,c,d){lm(h,d)},stop(h){const c=h.titleBlock;Pi.removeBox(h,c),delete h.titleBlock},beforeUpdate(h,c,d){const b=h.titleBlock;Pi.configure(h,b,d),b.options=d},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mc=new WeakMap;var L0={id:"subtitle",start(h,c,d){const b=new b1({ctx:h.ctx,options:d,chart:h});Pi.configure(h,b,d),Pi.addBox(h,b),mc.set(h,b)},stop(h){Pi.removeBox(h,mc.get(h)),mc.delete(h)},beforeUpdate(h,c,d){const b=mc.get(h);Pi.configure(h,b,d),b.options=d},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Oa={average(h){if(!h.length)return!1;let c,d,b=0,_=0,E=0;for(c=0,d=h.length;c<d;++c){const A=h[c].element;if(A&&A.hasValue()){const R=A.tooltipPosition();b+=R.x,_+=R.y,++E}}return{x:b/E,y:_/E}},nearest(h,c){if(!h.length)return!1;let d=c.x,b=c.y,_=Number.POSITIVE_INFINITY,E,A,R;for(E=0,A=h.length;E<A;++E){const L=h[E].element;if(L&&L.hasValue()){const z=L.getCenterPoint(),Y=Vt(c,z);Y<_&&(_=Y,R=L)}}if(R){const L=R.tooltipPosition();d=L.x,b=L.y}return{x:d,y:b}}};function nu(h,c){return c&&(M(c)?Array.prototype.push.apply(h,c):h.push(c)),h}function gl(h){return(typeof h=="string"||h instanceof String)&&h.indexOf(`
`)>-1?h.split(`
`):h}function Xu(h,c){const{element:d,datasetIndex:b,index:_}=c,E=h.getDatasetMeta(b).controller,{label:A,value:R}=E.getLabelAndValue(_);return{chart:h,label:A,parsed:E.getParsed(_),raw:h.data.datasets[b].data[_],formattedValue:R,dataset:E.getDataset(),dataIndex:_,datasetIndex:b,element:d}}function Qf(h,c){const d=h.chart.ctx,{body:b,footer:_,title:E}=h,{boxWidth:A,boxHeight:R}=c,L=Lo(c.bodyFont),z=Lo(c.titleFont),Y=Lo(c.footerFont),rt=E.length,lt=_.length,ut=b.length,bt=Er(c.padding);let Ot=bt.height,qt=0,Yt=b.reduce((je,$e)=>je+$e.before.length+$e.lines.length+$e.after.length,0);if(Yt+=h.beforeBody.length+h.afterBody.length,rt&&(Ot+=rt*z.lineHeight+(rt-1)*c.titleSpacing+c.titleMarginBottom),Yt){const je=c.displayColors?Math.max(R,L.lineHeight):L.lineHeight;Ot+=ut*je+(Yt-ut)*L.lineHeight+(Yt-1)*c.bodySpacing}lt&&(Ot+=c.footerMarginTop+lt*Y.lineHeight+(lt-1)*c.footerSpacing);let de=0;const De=function(je){qt=Math.max(qt,d.measureText(je).width+de)};return d.save(),d.font=z.string,Lt(h.title,De),d.font=L.string,Lt(h.beforeBody.concat(h.afterBody),De),de=c.displayColors?A+2+c.boxPadding:0,Lt(b,je=>{Lt(je.before,De),Lt(je.lines,De),Lt(je.after,De)}),de=0,d.font=Y.string,Lt(h.footer,De),d.restore(),qt+=bt.width,{width:qt,height:Ot}}function B0(h,c){const{y:d,height:b}=c;return d<b/2?"top":d>h.height-b/2?"bottom":"center"}function th(h,c,d,b){const{x:_,width:E}=b,A=d.caretSize+d.caretPadding;if(h==="left"&&_+E+A>c.width||h==="right"&&_-E-A<0)return!0}function Fp(h,c,d,b){const{x:_,width:E}=d,{width:A,chartArea:{left:R,right:L}}=h;let z="center";return b==="center"?z=_<=(R+L)/2?"left":"right":_<=E/2?z="left":_>=A-E/2&&(z="right"),th(z,h,c,d)&&(z="center"),z}function ou(h,c,d){const b=d.yAlign||c.yAlign||B0(h,d);return{xAlign:d.xAlign||c.xAlign||Fp(h,c,d,b),yAlign:b}}function su(h,c){let{x:d,width:b}=h;return c==="right"?d-=b:c==="center"&&(d-=b/2),d}function I0(h,c,d){let{y:b,height:_}=h;return c==="top"?b+=d:c==="bottom"?b-=_+d:b-=_/2,b}function Hp(h,c,d,b){const{caretSize:_,caretPadding:E,cornerRadius:A}=h,{xAlign:R,yAlign:L}=d,z=_+E,{topLeft:Y,topRight:rt,bottomLeft:lt,bottomRight:ut}=Di(A);let bt=su(c,R);const Ot=I0(c,L,z);return L==="center"?R==="left"?bt+=z:R==="right"&&(bt-=z):R==="left"?bt-=Math.max(Y,lt)+_:R==="right"&&(bt+=Math.max(rt,ut)+_),{x:wt(bt,0,b.width-c.width),y:wt(Ot,0,b.height-c.height)}}function Vp(h,c,d){const b=Er(d.padding);return c==="center"?h.x+h.width/2:c==="right"?h.x+h.width-b.right:h.x+b.left}function Ud(h){return nu([],gl(h))}function Ue(h,c,d){return kc(h,{tooltip:c,tooltipItems:d,type:"tooltip"})}function jd(h,c){const d=c&&c.dataset&&c.dataset.tooltip&&c.dataset.tooltip.callbacks;return d?h.override(d):h}class zp extends Ea{constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart||c._chart,this._chart=this.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const d=this.chart,b=this.options.setContext(this.getContext()),_=b.enabled&&d.options.animation&&b.animations,E=new si(this.chart,_);return _._cacheable&&(this._cachedAnimations=Object.freeze(E)),E}getContext(){return this.$context||(this.$context=Ue(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,d){const{callbacks:b}=d,_=b.beforeTitle.apply(this,[c]),E=b.title.apply(this,[c]),A=b.afterTitle.apply(this,[c]);let R=[];return R=nu(R,gl(_)),R=nu(R,gl(E)),R=nu(R,gl(A)),R}getBeforeBody(c,d){return Ud(d.callbacks.beforeBody.apply(this,[c]))}getBody(c,d){const{callbacks:b}=d,_=[];return Lt(c,E=>{const A={before:[],lines:[],after:[]},R=jd(b,E);nu(A.before,gl(R.beforeLabel.call(this,E))),nu(A.lines,R.label.call(this,E)),nu(A.after,gl(R.afterLabel.call(this,E))),_.push(A)}),_}getAfterBody(c,d){return Ud(d.callbacks.afterBody.apply(this,[c]))}getFooter(c,d){const{callbacks:b}=d,_=b.beforeFooter.apply(this,[c]),E=b.footer.apply(this,[c]),A=b.afterFooter.apply(this,[c]);let R=[];return R=nu(R,gl(_)),R=nu(R,gl(E)),R=nu(R,gl(A)),R}_createItems(c){const d=this._active,b=this.chart.data,_=[],E=[],A=[];let R=[],L,z;for(L=0,z=d.length;L<z;++L)R.push(Xu(this.chart,d[L]));return c.filter&&(R=R.filter((Y,rt,lt)=>c.filter(Y,rt,lt,b))),c.itemSort&&(R=R.sort((Y,rt)=>c.itemSort(Y,rt,b))),Lt(R,Y=>{const rt=jd(c.callbacks,Y);_.push(rt.labelColor.call(this,Y)),E.push(rt.labelPointStyle.call(this,Y)),A.push(rt.labelTextColor.call(this,Y))}),this.labelColors=_,this.labelPointStyles=E,this.labelTextColors=A,this.dataPoints=R,R}update(c,d){const b=this.options.setContext(this.getContext()),_=this._active;let E,A=[];if(!_.length)this.opacity!==0&&(E={opacity:0});else{const R=Oa[b.position].call(this,_,this._eventPosition);A=this._createItems(b),this.title=this.getTitle(A,b),this.beforeBody=this.getBeforeBody(A,b),this.body=this.getBody(A,b),this.afterBody=this.getAfterBody(A,b),this.footer=this.getFooter(A,b);const L=this._size=Qf(this,b),z=Object.assign({},R,L),Y=ou(this.chart,b,z),rt=Hp(b,z,Y,this.chart);this.xAlign=Y.xAlign,this.yAlign=Y.yAlign,E={opacity:1,x:rt.x,y:rt.y,width:L.width,height:L.height,caretX:R.x,caretY:R.y}}this._tooltipItems=A,this.$context=void 0,E&&this._resolveAnimations().update(this,E),c&&b.external&&b.external.call(this,{chart:this.chart,tooltip:this,replay:d})}drawCaret(c,d,b,_){const E=this.getCaretPosition(c,b,_);d.lineTo(E.x1,E.y1),d.lineTo(E.x2,E.y2),d.lineTo(E.x3,E.y3)}getCaretPosition(c,d,b){const{xAlign:_,yAlign:E}=this,{caretSize:A,cornerRadius:R}=b,{topLeft:L,topRight:z,bottomLeft:Y,bottomRight:rt}=Di(R),{x:lt,y:ut}=c,{width:bt,height:Ot}=d;let qt,Yt,de,De,je,$e;return E==="center"?(je=ut+Ot/2,_==="left"?(qt=lt,Yt=qt-A,De=je+A,$e=je-A):(qt=lt+bt,Yt=qt+A,De=je-A,$e=je+A),de=qt):(_==="left"?Yt=lt+Math.max(L,Y)+A:_==="right"?Yt=lt+bt-Math.max(z,rt)-A:Yt=this.caretX,E==="top"?(De=ut,je=De-A,qt=Yt-A,de=Yt+A):(De=ut+Ot,je=De+A,qt=Yt+A,de=Yt-A),$e=De),{x1:qt,x2:Yt,x3:de,y1:De,y2:je,y3:$e}}drawTitle(c,d,b){const _=this.title,E=_.length;let A,R,L;if(E){const z=Oc(b.rtl,this.x,this.width);for(c.x=Vp(this,b.titleAlign,b),d.textAlign=z.textAlign(b.titleAlign),d.textBaseline="middle",A=Lo(b.titleFont),R=b.titleSpacing,d.fillStyle=b.titleColor,d.font=A.string,L=0;L<E;++L)d.fillText(_[L],z.x(c.x),c.y+A.lineHeight/2),c.y+=A.lineHeight+R,L+1===E&&(c.y+=b.titleMarginBottom-R)}}_drawColorBox(c,d,b,_,E){const A=this.labelColors[b],R=this.labelPointStyles[b],{boxHeight:L,boxWidth:z,boxPadding:Y}=E,rt=Lo(E.bodyFont),lt=Vp(this,"left",E),ut=_.x(lt),bt=L<rt.lineHeight?(rt.lineHeight-L)/2:0,Ot=d.y+bt;if(E.usePointStyle){const qt={radius:Math.min(z,L)/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:1},Yt=_.leftForLtr(ut,z)+z/2,de=Ot+L/2;c.strokeStyle=E.multiKeyBackground,c.fillStyle=E.multiKeyBackground,eg(c,qt,Yt,de),c.strokeStyle=A.borderColor,c.fillStyle=A.backgroundColor,eg(c,qt,Yt,de)}else{c.lineWidth=$(A.borderWidth)?Math.max(...Object.values(A.borderWidth)):A.borderWidth||1,c.strokeStyle=A.borderColor,c.setLineDash(A.borderDash||[]),c.lineDashOffset=A.borderDashOffset||0;const qt=_.leftForLtr(ut,z-Y),Yt=_.leftForLtr(_.xPlus(ut,1),z-Y-2),de=Di(A.borderRadius);Object.values(de).some(De=>De!==0)?(c.beginPath(),c.fillStyle=E.multiKeyBackground,Tc(c,{x:qt,y:Ot,w:z,h:L,radius:de}),c.fill(),c.stroke(),c.fillStyle=A.backgroundColor,c.beginPath(),Tc(c,{x:Yt,y:Ot+1,w:z-2,h:L-2,radius:de}),c.fill()):(c.fillStyle=E.multiKeyBackground,c.fillRect(qt,Ot,z,L),c.strokeRect(qt,Ot,z,L),c.fillStyle=A.backgroundColor,c.fillRect(Yt,Ot+1,z-2,L-2))}c.fillStyle=this.labelTextColors[b]}drawBody(c,d,b){const{body:_}=this,{bodySpacing:E,bodyAlign:A,displayColors:R,boxHeight:L,boxWidth:z,boxPadding:Y}=b,rt=Lo(b.bodyFont);let lt=rt.lineHeight,ut=0;const bt=Oc(b.rtl,this.x,this.width),Ot=function($n){d.fillText($n,bt.x(c.x+ut),c.y+lt/2),c.y+=lt+E},qt=bt.textAlign(A);let Yt,de,De,je,$e,Cn,un;for(d.textAlign=A,d.textBaseline="middle",d.font=rt.string,c.x=Vp(this,qt,b),d.fillStyle=b.bodyColor,Lt(this.beforeBody,Ot),ut=R&&qt!=="right"?A==="center"?z/2+Y:z+2+Y:0,je=0,Cn=_.length;je<Cn;++je){for(Yt=_[je],de=this.labelTextColors[je],d.fillStyle=de,Lt(Yt.before,Ot),De=Yt.lines,R&&De.length&&(this._drawColorBox(d,c,je,bt,b),lt=Math.max(rt.lineHeight,L)),$e=0,un=De.length;$e<un;++$e)Ot(De[$e]),lt=rt.lineHeight;Lt(Yt.after,Ot)}ut=0,lt=rt.lineHeight,Lt(this.afterBody,Ot),c.y-=E}drawFooter(c,d,b){const _=this.footer,E=_.length;let A,R;if(E){const L=Oc(b.rtl,this.x,this.width);for(c.x=Vp(this,b.footerAlign,b),c.y+=b.footerMarginTop,d.textAlign=L.textAlign(b.footerAlign),d.textBaseline="middle",A=Lo(b.footerFont),d.fillStyle=b.footerColor,d.font=A.string,R=0;R<E;++R)d.fillText(_[R],L.x(c.x),c.y+A.lineHeight/2),c.y+=A.lineHeight+b.footerSpacing}}drawBackground(c,d,b,_){const{xAlign:E,yAlign:A}=this,{x:R,y:L}=c,{width:z,height:Y}=b,{topLeft:rt,topRight:lt,bottomLeft:ut,bottomRight:bt}=Di(_.cornerRadius);d.fillStyle=_.backgroundColor,d.strokeStyle=_.borderColor,d.lineWidth=_.borderWidth,d.beginPath(),d.moveTo(R+rt,L),A==="top"&&this.drawCaret(c,d,b,_),d.lineTo(R+z-lt,L),d.quadraticCurveTo(R+z,L,R+z,L+lt),A==="center"&&E==="right"&&this.drawCaret(c,d,b,_),d.lineTo(R+z,L+Y-bt),d.quadraticCurveTo(R+z,L+Y,R+z-bt,L+Y),A==="bottom"&&this.drawCaret(c,d,b,_),d.lineTo(R+ut,L+Y),d.quadraticCurveTo(R,L+Y,R,L+Y-ut),A==="center"&&E==="left"&&this.drawCaret(c,d,b,_),d.lineTo(R,L+rt),d.quadraticCurveTo(R,L,R+rt,L),d.closePath(),d.fill(),_.borderWidth>0&&d.stroke()}_updateAnimationTarget(c){const d=this.chart,b=this.$animations,_=b&&b.x,E=b&&b.y;if(_||E){const A=Oa[c.position].call(this,this._active,this._eventPosition);if(!A)return;const R=this._size=Qf(this,c),L=Object.assign({},A,this._size),z=ou(d,c,L),Y=Hp(c,L,z,d);(_._to!==Y.x||E._to!==Y.y)&&(this.xAlign=z.xAlign,this.yAlign=z.yAlign,this.width=R.width,this.height=R.height,this.caretX=A.x,this.caretY=A.y,this._resolveAnimations().update(this,Y))}}_willRender(){return!!this.opacity}draw(c){const d=this.options.setContext(this.getContext());let b=this.opacity;if(!b)return;this._updateAnimationTarget(d);const _={width:this.width,height:this.height},E={x:this.x,y:this.y};b=Math.abs(b)<.001?0:b;const A=Er(d.padding),R=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;d.enabled&&R&&(c.save(),c.globalAlpha=b,this.drawBackground(E,c,_,d),jh(c,d.textDirection),E.y+=A.top,this.drawTitle(E,c,d),this.drawBody(E,c,d),this.drawFooter(E,c,d),jl(c,d.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,d){const b=this._active,_=c.map(({datasetIndex:R,index:L})=>{const z=this.chart.getDatasetMeta(R);if(!z)throw new Error("Cannot find a dataset at index "+R);return{datasetIndex:R,element:z.data[L],index:L}}),E=!Le(b,_),A=this._positionChanged(_,d);(E||A)&&(this._active=_,this._eventPosition=d,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,d,b=!0){if(d&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const _=this.options,E=this._active||[],A=this._getActiveElements(c,E,d,b),R=this._positionChanged(A,c),L=d||!Le(A,E)||R;return L&&(this._active=A,(_.enabled||_.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,d))),L}_getActiveElements(c,d,b,_){const E=this.options;if(c.type==="mouseout")return[];if(!_)return d;const A=this.chart.getElementsAtEventForMode(c,E.mode,E,b);return E.reverse&&A.reverse(),A}_positionChanged(c,d){const{caretX:b,caretY:_,options:E}=this,A=Oa[E.position].call(this,c,d);return A!==!1&&(b!==A.x||_!==A.y)}}zp.positioners=Oa;var ax={id:"tooltip",_element:zp,positioners:Oa,afterInit(h,c,d){d&&(h.tooltip=new zp({chart:h,options:d}))},beforeUpdate(h,c,d){h.tooltip&&h.tooltip.initialize(d)},reset(h,c,d){h.tooltip&&h.tooltip.initialize(d)},afterDraw(h){const c=h.tooltip;if(c&&c._willRender()){const d={tooltip:c};if(h.notifyPlugins("beforeTooltipDraw",d)===!1)return;c.draw(h.ctx),h.notifyPlugins("afterTooltipDraw",d)}},afterEvent(h,c){if(h.tooltip){const d=c.replay;h.tooltip.handleEvent(c.event,d,c.inChartArea)&&(c.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(h,c)=>c.bodyFont.size,boxWidth:(h,c)=>c.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:v,title(h){if(h.length>0){const c=h[0],d=c.chart.data.labels,b=d?d.length:0;if(this&&this.options&&this.options.mode==="dataset")return c.dataset.label||"";if(c.label)return c.label;if(b>0&&c.dataIndex<b)return d[c.dataIndex]}return""},afterTitle:v,beforeBody:v,beforeLabel:v,label(h){if(this&&this.options&&this.options.mode==="dataset")return h.label+": "+h.formattedValue||h.formattedValue;let c=h.dataset.label||"";c&&(c+=": ");const d=h.formattedValue;return C(d)||(c+=d),c},labelColor(h){const d=h.chart.getDatasetMeta(h.datasetIndex).controller.getStyle(h.dataIndex);return{borderColor:d.borderColor,backgroundColor:d.backgroundColor,borderWidth:d.borderWidth,borderDash:d.borderDash,borderDashOffset:d.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(h){const d=h.chart.getDatasetMeta(h.datasetIndex).controller.getStyle(h.dataIndex);return{pointStyle:d.pointStyle,rotation:d.rotation}},afterLabel:v,afterBody:v,beforeFooter:v,footer:v,afterFooter:v}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:h=>h!=="filter"&&h!=="itemSort"&&h!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},eh=Object.freeze({__proto__:null,Decimation:Mp,Filler:P0,Legend:Vc,SubTitle:L0,Title:ps,Tooltip:ax});const cx=(h,c,d,b)=>(typeof c=="string"?(d=h.push(c)-1,b.unshift({index:d,label:c})):isNaN(c)&&(d=null),d);function Zo(h,c,d,b){const _=h.indexOf(c);if(_===-1)return cx(h,c,d,b);const E=h.lastIndexOf(c);return _!==E?d:_}const nh=(h,c)=>h===null?null:wt(Math.round(h),0,c);class Ju extends zs{constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const d=this._addedLabels;if(d.length){const b=this.getLabels();for(const{index:_,label:E}of d)b[_]===E&&b.splice(_,1);this._addedLabels=[]}super.init(c)}parse(c,d){if(C(c))return null;const b=this.getLabels();return d=isFinite(d)&&b[d]===c?d:Zo(b,c,tt(d,c),this._addedLabels),nh(d,b.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:d}=this.getUserBounds();let{min:b,max:_}=this.getMinMax(!0);this.options.bounds==="ticks"&&(c||(b=0),d||(_=this.getLabels().length-1)),this.min=b,this.max=_}buildTicks(){const c=this.min,d=this.max,b=this.options.offset,_=[];let E=this.getLabels();E=c===0&&d===E.length-1?E:E.slice(c,d+1),this._valueRange=Math.max(E.length-(b?0:1),1),this._startValue=this.min-(b?.5:0);for(let A=c;A<=d;A++)_.push({value:A});return _}getLabelForValue(c){const d=this.getLabels();return c>=0&&c<d.length?d[c]:c}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return typeof c!="number"&&(c=this.parse(c)),c===null?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const d=this.ticks;return c<0||c>d.length-1?null:this.getPixelForValue(d[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}}Ju.id="category",Ju.defaults={ticks:{callback:Ju.prototype.getLabelForValue}};function v1(h,c){const d=[],{bounds:_,step:E,min:A,max:R,precision:L,count:z,maxTicks:Y,maxDigits:rt,includeBounds:lt}=h,ut=E||1,bt=Y-1,{min:Ot,max:qt}=c,Yt=!C(A),de=!C(R),De=!C(z),je=(qt-Ot)/(rt+1);let $e=Cr((qt-Ot)/bt/ut)*ut,Cn,un,$n,On;if($e<1e-14&&!Yt&&!de)return[{value:Ot},{value:qt}];On=Math.ceil(qt/$e)-Math.floor(Ot/$e),On>bt&&($e=Cr(On*$e/bt/ut)*ut),C(L)||(Cn=Math.pow(10,L),$e=Math.ceil($e*Cn)/Cn),_==="ticks"?(un=Math.floor(Ot/$e)*$e,$n=Math.ceil(qt/$e)*$e):(un=Ot,$n=qt),Yt&&de&&E&&Ae((R-A)/E,$e/1e3)?(On=Math.round(Math.min((R-A)/$e,Y)),$e=(R-A)/On,un=A,$n=R):De?(un=Yt?A:un,$n=de?R:$n,On=z-1,$e=($n-un)/On):(On=($n-un)/$e,Gt(On,Math.round(On),$e/1e3)?On=Math.round(On):On=Math.ceil(On));const os=Math.max(hs($e),hs(un));Cn=Math.pow(10,C(L)?os:L),un=Math.round(un*Cn)/Cn,$n=Math.round($n*Cn)/Cn;let ss=0;for(Yt&&(lt&&un!==A?(d.push({value:A}),un<A&&ss++,Gt(Math.round((un+ss*$e)*Cn)/Cn,A,Zd(A,je,h))&&ss++):un<A&&ss++);ss<On;++ss)d.push({value:Math.round((un+ss*$e)*Cn)/Cn});return de&&lt&&$n!==R?d.length&&Gt(d[d.length-1].value,R,Zd(R,je,h))?d[d.length-1].value=R:d.push({value:R}):(!de||$n===R)&&d.push({value:$n}),d}function Zd(h,c,{horizontal:d,minRotation:b}){const _=tr(b),E=(d?Math.sin(_):Math.cos(_))||.001,A=.75*c*(""+h).length;return Math.min(c/E,A)}class Cg extends zs{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(c,d){return C(c)||(typeof c=="number"||c instanceof Number)&&!isFinite(+c)?null:+c}handleTickRangeOptions(){const{beginAtZero:c}=this.options,{minDefined:d,maxDefined:b}=this.getUserBounds();let{min:_,max:E}=this;const A=L=>_=d?_:L,R=L=>E=b?E:L;if(c){const L=go(_),z=go(E);L<0&&z<0?R(0):L>0&&z>0&&A(0)}if(_===E){let L=1;(E>=Number.MAX_SAFE_INTEGER||_<=Number.MIN_SAFE_INTEGER)&&(L=Math.abs(E*.05)),R(E+L),c||A(_-L)}this.min=_,this.max=E}getTickLimit(){const c=this.options.ticks;let{maxTicksLimit:d,stepSize:b}=c,_;return b?(_=Math.ceil(this.max/b)-Math.floor(this.min/b)+1,_>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${b} would result generating up to ${_} ticks. Limiting to 1000.`),_=1e3)):(_=this.computeTickLimit(),d=d||11),d&&(_=Math.min(d,_)),_}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const c=this.options,d=c.ticks;let b=this.getTickLimit();b=Math.max(2,b);const _={maxTicks:b,bounds:c.bounds,min:c.min,max:c.max,precision:d.precision,step:d.stepSize,count:d.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:d.minRotation||0,includeBounds:d.includeBounds!==!1},E=this._range||this,A=v1(_,E);return c.bounds==="ticks"&&X(A,this,"value"),c.reverse?(A.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),A}configure(){const c=this.ticks;let d=this.min,b=this.max;if(super.configure(),this.options.offset&&c.length){const _=(b-d)/Math.max(c.length-1,1)/2;d-=_,b+=_}this._startValue=d,this._endValue=b,this._valueRange=b-d}getLabelForValue(c){return Ul(c,this.chart.options.locale,this.options.ticks.format)}}class Ui extends Cg{determineDataLimits(){const{min:c,max:d}=this.getMinMax(!0);this.min=W(c)?c:0,this.max=W(d)?d:1,this.handleTickRangeOptions()}computeTickLimit(){const c=this.isHorizontal(),d=c?this.width:this.height,b=tr(this.options.ticks.minRotation),_=(c?Math.sin(b):Math.cos(b))||.001,E=this._resolveTickFontOptions(0);return Math.ceil(d/Math.min(40,E.lineHeight/_))}getPixelForValue(c){return c===null?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getValueForPixel(c){return this._startValue+this.getDecimalForPixel(c)*this._valueRange}}Ui.id="linear",Ui.defaults={ticks:{callback:Ya.formatters.numeric}};function Gs(h){return h/Math.pow(10,Math.floor(Kt(h)))===1}function y1(h,c){const d=Math.floor(Kt(c.max)),b=Math.ceil(c.max/Math.pow(10,d)),_=[];let E=G(h.min,Math.pow(10,Math.floor(Kt(c.min)))),A=Math.floor(Kt(E)),R=Math.floor(E/Math.pow(10,A)),L=A<0?Math.pow(10,Math.abs(A)):1;do _.push({value:E,major:Gs(E)}),++R,R===10&&(R=1,++A,L=A>=0?1:L),E=Math.round(R*Math.pow(10,A)*L)/L;while(A<d||A===d&&R<b);const z=G(h.max,E);return _.push({value:z,major:Gs(E)}),_}class _1 extends zs{constructor(c){super(c),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(c,d){const b=Cg.prototype.parse.apply(this,[c,d]);if(b===0){this._zero=!0;return}return W(b)&&b>0?b:null}determineDataLimits(){const{min:c,max:d}=this.getMinMax(!0);this.min=W(c)?Math.max(0,c):null,this.max=W(d)?Math.max(0,d):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:c,maxDefined:d}=this.getUserBounds();let b=this.min,_=this.max;const E=L=>b=c?b:L,A=L=>_=d?_:L,R=(L,z)=>Math.pow(10,Math.floor(Kt(L))+z);b===_&&(b<=0?(E(1),A(10)):(E(R(b,-1)),A(R(_,1)))),b<=0&&E(R(_,-1)),_<=0&&A(R(b,1)),this._zero&&this.min!==this._suggestedMin&&b===R(this.min,0)&&E(R(b,-1)),this.min=b,this.max=_}buildTicks(){const c=this.options,d={min:this._userMin,max:this._userMax},b=y1(d,this);return c.bounds==="ticks"&&X(b,this,"value"),c.reverse?(b.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),b}getLabelForValue(c){return c===void 0?"0":Ul(c,this.chart.options.locale,this.options.ticks.format)}configure(){const c=this.min;super.configure(),this._startValue=Kt(c),this._valueRange=Kt(this.max)-Kt(c)}getPixelForValue(c){return(c===void 0||c===0)&&(c=this.min),c===null||isNaN(c)?NaN:this.getPixelForDecimal(c===this.min?0:(Kt(c)-this._startValue)/this._valueRange)}getValueForPixel(c){const d=this.getDecimalForPixel(c);return Math.pow(10,this._startValue+d*this._valueRange)}}_1.id="logarithmic",_1.defaults={ticks:{callback:Ya.formatters.logarithmic,major:{enabled:!0}}};function um(h){const c=h.ticks;if(c.display&&h.display){const d=Er(c.backdropPadding);return tt(c.font&&c.font.size,Vn.font.size)+d.height}return 0}function oh(h,c,d){return d=M(d)?d:[d],{w:hp(h,c.string,d),h:d.length*c.lineHeight}}function Wp(h,c,d,b,_){return h===b||h===_?{start:c-d/2,end:c+d/2}:h<b||h>_?{start:c-d,end:c}:{start:c,end:c+d}}function Sg(h){const c={l:h.left+h._padding.left,r:h.right-h._padding.right,t:h.top+h._padding.top,b:h.bottom-h._padding.bottom},d=Object.assign({},c),b=[],_=[],E=h._pointLabels.length,A=h.options.pointLabels,R=A.centerPointLabels?jn/E:0;for(let L=0;L<E;L++){const z=A.setContext(h.getPointLabelContext(L));_[L]=z.padding;const Y=h.getPointPosition(L,h.drawingArea+_[L],R),rt=Lo(z.font),lt=oh(h.ctx,rt,h._pointLabels[L]);b[L]=lt;const ut=_t(h.getIndexAngle(L)+R),bt=Math.round(oo(ut)),Ot=Wp(bt,Y.x,lt.w,0,180),qt=Wp(bt,Y.y,lt.h,90,270);zc(d,c,ut,Ot,qt)}h.setCenterPoint(c.l-d.l,d.r-c.r,c.t-d.t,d.b-c.b),h._pointLabelItems=ru(h,b,_)}function zc(h,c,d,b,_){const E=Math.abs(Math.sin(d)),A=Math.abs(Math.cos(d));let R=0,L=0;b.start<c.l?(R=(c.l-b.start)/E,h.l=Math.min(h.l,c.l-R)):b.end>c.r&&(R=(b.end-c.r)/E,h.r=Math.max(h.r,c.r+R)),_.start<c.t?(L=(c.t-_.start)/A,h.t=Math.min(h.t,c.t-L)):_.end>c.b&&(L=(_.end-c.b)/A,h.b=Math.max(h.b,c.b+L))}function ru(h,c,d){const b=[],_=h._pointLabels.length,E=h.options,A=um(E)/2,R=h.drawingArea,L=E.pointLabels.centerPointLabels?jn/_:0;for(let z=0;z<_;z++){const Y=h.getPointPosition(z,R+A+d[z],L),rt=Math.round(oo(_t(Y.angle+re))),lt=c[z],ut=BS(Y.y,lt.h,rt),bt=gc(rt),Ot=LS(Y.x,lt.w,bt);b.push({x:Y.x,y:ut,textAlign:bt,left:Ot,top:ut,right:Ot+lt.w,bottom:ut+lt.h})}return b}function gc(h){return h===0||h===180?"center":h<180?"left":"right"}function LS(h,c,d){return d==="right"?h-=c:d==="center"&&(h-=c/2),h}function BS(h,c,d){return d===90||d===270?h-=c/2:(d>270||d<90)&&(h-=c),h}function IS(h,c){const{ctx:d,options:{pointLabels:b}}=h;for(let _=c-1;_>=0;_--){const E=b.setContext(h.getPointLabelContext(_)),A=Lo(E.font),{x:R,y:L,textAlign:z,left:Y,top:rt,right:lt,bottom:ut}=h._pointLabelItems[_],{backdropColor:bt}=E;if(!C(bt)){const Ot=Di(E.borderRadius),qt=Er(E.backdropPadding);d.fillStyle=bt;const Yt=Y-qt.left,de=rt-qt.top,De=lt-Y+qt.width,je=ut-rt+qt.height;Object.values(Ot).some($e=>$e!==0)?(d.beginPath(),Tc(d,{x:Yt,y:de,w:De,h:je,radius:Ot}),d.fill()):d.fillRect(Yt,de,De,je)}ol(d,h._pointLabels[_],R,L+A.lineHeight/2,A,{color:E.color,textAlign:z,textBaseline:"middle"})}}function dm(h,c,d,b){const{ctx:_}=h;if(d)_.arc(h.xCenter,h.yCenter,c,0,pn);else{let E=h.getPointPosition(0,c);_.moveTo(E.x,E.y);for(let A=1;A<b;A++)E=h.getPointPosition(A,c),_.lineTo(E.x,E.y)}}function Ar(h,c,d,b){const _=h.ctx,E=c.circular,{color:A,lineWidth:R}=c;!E&&!b||!A||!R||d<0||(_.save(),_.strokeStyle=A,_.lineWidth=R,_.setLineDash(c.borderDash),_.lineDashOffset=c.borderDashOffset,_.beginPath(),dm(h,d,E,b),_.closePath(),_.stroke(),_.restore())}function Ii(h,c,d){return kc(h,{label:d,index:c,type:"pointLabel"})}class fm extends Cg{constructor(c){super(c),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const c=this._padding=Er(um(this.options)/2),d=this.width=this.maxWidth-c.width,b=this.height=this.maxHeight-c.height;this.xCenter=Math.floor(this.left+d/2+c.left),this.yCenter=Math.floor(this.top+b/2+c.top),this.drawingArea=Math.floor(Math.min(d,b)/2)}determineDataLimits(){const{min:c,max:d}=this.getMinMax(!1);this.min=W(c)&&!isNaN(c)?c:0,this.max=W(d)&&!isNaN(d)?d:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/um(this.options))}generateTickLabels(c){Cg.prototype.generateTickLabels.call(this,c),this._pointLabels=this.getLabels().map((d,b)=>{const _=Tt(this.options.pointLabels.callback,[d,b],this);return _||_===0?_:""}).filter((d,b)=>this.chart.getDataVisibility(b))}fit(){const c=this.options;c.display&&c.pointLabels.display?Sg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(c,d,b,_){this.xCenter+=Math.floor((c-d)/2),this.yCenter+=Math.floor((b-_)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(c,d,b,_))}getIndexAngle(c){const d=pn/(this._pointLabels.length||1),b=this.options.startAngle||0;return _t(c*d+tr(b))}getDistanceFromCenterForValue(c){if(C(c))return NaN;const d=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-c)*d:(c-this.min)*d}getValueForDistanceFromCenter(c){if(C(c))return NaN;const d=c/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-d:this.min+d}getPointLabelContext(c){const d=this._pointLabels||[];if(c>=0&&c<d.length){const b=d[c];return Ii(this.getContext(),c,b)}}getPointPosition(c,d,b=0){const _=this.getIndexAngle(c)-re+b;return{x:Math.cos(_)*d+this.xCenter,y:Math.sin(_)*d+this.yCenter,angle:_}}getPointPositionForValue(c,d){return this.getPointPosition(c,this.getDistanceFromCenterForValue(d))}getBasePosition(c){return this.getPointPositionForValue(c||0,this.getBaseValue())}getPointLabelPosition(c){const{left:d,top:b,right:_,bottom:E}=this._pointLabelItems[c];return{left:d,top:b,right:_,bottom:E}}drawBackground(){const{backgroundColor:c,grid:{circular:d}}=this.options;if(c){const b=this.ctx;b.save(),b.beginPath(),dm(this,this.getDistanceFromCenterForValue(this._endValue),d,this._pointLabels.length),b.closePath(),b.fillStyle=c,b.fill(),b.restore()}}drawGrid(){const c=this.ctx,d=this.options,{angleLines:b,grid:_}=d,E=this._pointLabels.length;let A,R,L;if(d.pointLabels.display&&IS(this,E),_.display&&this.ticks.forEach((z,Y)=>{if(Y!==0){R=this.getDistanceFromCenterForValue(z.value);const rt=_.setContext(this.getContext(Y-1));Ar(this,rt,R,E)}}),b.display){for(c.save(),A=E-1;A>=0;A--){const z=b.setContext(this.getPointLabelContext(A)),{color:Y,lineWidth:rt}=z;!rt||!Y||(c.lineWidth=rt,c.strokeStyle=Y,c.setLineDash(z.borderDash),c.lineDashOffset=z.borderDashOffset,R=this.getDistanceFromCenterForValue(d.ticks.reverse?this.min:this.max),L=this.getPointPosition(A,R),c.beginPath(),c.moveTo(this.xCenter,this.yCenter),c.lineTo(L.x,L.y),c.stroke())}c.restore()}}drawBorder(){}drawLabels(){const c=this.ctx,d=this.options,b=d.ticks;if(!b.display)return;const _=this.getIndexAngle(0);let E,A;c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(_),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach((R,L)=>{if(L===0&&!d.reverse)return;const z=b.setContext(this.getContext(L)),Y=Lo(z.font);if(E=this.getDistanceFromCenterForValue(this.ticks[L].value),z.showLabelBackdrop){c.font=Y.string,A=c.measureText(R.label).width,c.fillStyle=z.backdropColor;const rt=Er(z.backdropPadding);c.fillRect(-A/2-rt.left,-E-Y.size/2-rt.top,A+rt.width,Y.size+rt.height)}ol(c,R.label,0,-E,Y,{color:z.color})}),c.restore()}drawTitle(){}}fm.id="radialLinear",fm.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ya.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(h){return h},padding:5,centerPointLabels:!1}},fm.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},fm.descriptors={angleLines:{_fallback:"grid"}};const Up={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zr=Object.keys(Up);function jp(h,c){return h-c}function Zp(h,c){if(C(c))return null;const d=h._adapter,{parser:b,round:_,isoWeekday:E}=h._parseOpts;let A=c;return typeof b=="function"&&(A=b(A)),W(A)||(A=typeof b=="string"?d.parse(A,b):d.parse(A)),A===null?null:(_&&(A=_==="week"&&(Bo(E)||E===!0)?d.startOf(A,"isoWeek",E):d.startOf(A,_)),+A)}function sh(h,c,d,b){const _=Zr.length;for(let E=Zr.indexOf(h);E<_-1;++E){const A=Up[Zr[E]],R=A.steps?A.steps:Number.MAX_SAFE_INTEGER;if(A.common&&Math.ceil((d-c)/(R*A.size))<=b)return Zr[E]}return Zr[_-1]}function hm(h,c,d,b,_){for(let E=Zr.length-1;E>=Zr.indexOf(d);E--){const A=Zr[E];if(Up[A].common&&h._adapter.diff(_,b,A)>=c-1)return A}return Zr[d?Zr.indexOf(d):0]}function Gd(h){for(let c=Zr.indexOf(h)+1,d=Zr.length;c<d;++c)if(Up[Zr[c]].common)return Zr[c]}function iu(h,c,d){if(!d)h[c]=!0;else if(d.length){const{lo:b,hi:_}=Se(d,c),E=d[b]>=c?d[b]:d[_];h[E]=!0}}function Eg(h,c,d,b){const _=h._adapter,E=+_.startOf(c[0].value,b),A=c[c.length-1].value;let R,L;for(R=E;R<=A;R=+_.add(R,1,b))L=d[R],L>=0&&(c[L].major=!0);return c}function rh(h,c,d){const b=[],_={},E=c.length;let A,R;for(A=0;A<E;++A)R=c[A],_[R]=A,b.push({value:R,major:!1});return E===0||!d?b:Eg(h,b,_,d)}class pl extends zs{constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,d){const b=c.time||(c.time={}),_=this._adapter=new kp._date(c.adapters.date);_.init(d),Je(b.displayFormats,_.formats()),this._parseOpts={parser:b.parser,round:b.round,isoWeekday:b.isoWeekday},super.init(c),this._normalized=d.normalized}parse(c,d){return c===void 0?null:Zp(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,d=this._adapter,b=c.time.unit||"day";let{min:_,max:E,minDefined:A,maxDefined:R}=this.getUserBounds();function L(z){!A&&!isNaN(z.min)&&(_=Math.min(_,z.min)),!R&&!isNaN(z.max)&&(E=Math.max(E,z.max))}(!A||!R)&&(L(this._getLabelBounds()),(c.bounds!=="ticks"||c.ticks.source!=="labels")&&L(this.getMinMax(!1))),_=W(_)&&!isNaN(_)?_:+d.startOf(Date.now(),b),E=W(E)&&!isNaN(E)?E:+d.endOf(Date.now(),b)+1,this.min=Math.min(_,E-1),this.max=Math.max(_+1,E)}_getLabelBounds(){const c=this.getLabelTimestamps();let d=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;return c.length&&(d=c[0],b=c[c.length-1]),{min:d,max:b}}buildTicks(){const c=this.options,d=c.time,b=c.ticks,_=b.source==="labels"?this.getLabelTimestamps():this._generate();c.bounds==="ticks"&&_.length&&(this.min=this._userMin||_[0],this.max=this._userMax||_[_.length-1]);const E=this.min,A=this.max,R=Ms(_,E,A);return this._unit=d.unit||(b.autoSkip?sh(d.minUnit,this.min,this.max,this._getLabelCapacity(E)):hm(this,R.length,d.minUnit,this.min,this.max)),this._majorUnit=!b.major.enabled||this._unit==="year"?void 0:Gd(this._unit),this.initOffsets(_),c.reverse&&R.reverse(),rh(this,R,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c){let d=0,b=0,_,E;this.options.offset&&c.length&&(_=this.getDecimalForValue(c[0]),c.length===1?d=1-_:d=(this.getDecimalForValue(c[1])-_)/2,E=this.getDecimalForValue(c[c.length-1]),c.length===1?b=E:b=(E-this.getDecimalForValue(c[c.length-2]))/2);const A=c.length<3?.5:.25;d=wt(d,0,A),b=wt(b,0,A),this._offsets={start:d,end:b,factor:1/(d+1+b)}}_generate(){const c=this._adapter,d=this.min,b=this.max,_=this.options,E=_.time,A=E.unit||sh(E.minUnit,d,b,this._getLabelCapacity(d)),R=tt(E.stepSize,1),L=A==="week"?E.isoWeekday:!1,z=Bo(L)||L===!0,Y={};let rt=d,lt,ut;if(z&&(rt=+c.startOf(rt,"isoWeek",L)),rt=+c.startOf(rt,z?"day":A),c.diff(b,d,A)>1e5*R)throw new Error(d+" and "+b+" are too far apart with stepSize of "+R+" "+A);const bt=_.ticks.source==="data"&&this.getDataTimestamps();for(lt=rt,ut=0;lt<b;lt=+c.add(lt,R,A),ut++)iu(Y,lt,bt);return(lt===b||_.bounds==="ticks"||ut===1)&&iu(Y,lt,bt),Object.keys(Y).sort((Ot,qt)=>Ot-qt).map(Ot=>+Ot)}getLabelForValue(c){const d=this._adapter,b=this.options.time;return b.tooltipFormat?d.format(c,b.tooltipFormat):d.format(c,b.displayFormats.datetime)}_tickFormatFunction(c,d,b,_){const E=this.options,A=E.time.displayFormats,R=this._unit,L=this._majorUnit,z=R&&A[R],Y=L&&A[L],rt=b[d],lt=L&&Y&&rt&&rt.major,ut=this._adapter.format(c,_||(lt?Y:z)),bt=E.ticks.callback;return bt?Tt(bt,[ut,d,b],this):ut}generateTickLabels(c){let d,b,_;for(d=0,b=c.length;d<b;++d)_=c[d],_.label=this._tickFormatFunction(_.value,d,c)}getDecimalForValue(c){return c===null?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const d=this._offsets,b=this.getDecimalForValue(c);return this.getPixelForDecimal((d.start+b)*d.factor)}getValueForPixel(c){const d=this._offsets,b=this.getDecimalForPixel(c)/d.factor-d.end;return this.min+b*(this.max-this.min)}_getLabelSize(c){const d=this.options.ticks,b=this.ctx.measureText(c).width,_=tr(this.isHorizontal()?d.maxRotation:d.minRotation),E=Math.cos(_),A=Math.sin(_),R=this._resolveTickFontOptions(0).size;return{w:b*E+R*A,h:b*A+R*E}}_getLabelCapacity(c){const d=this.options.time,b=d.displayFormats,_=b[d.unit]||b.millisecond,E=this._tickFormatFunction(c,0,rh(this,[c],this._majorUnit),_),A=this._getLabelSize(E),R=Math.floor(this.isHorizontal()?this.width/A.w:this.height/A.h)-1;return R>0?R:1}getDataTimestamps(){let c=this._cache.data||[],d,b;if(c.length)return c;const _=this.getMatchingVisibleMetas();if(this._normalized&&_.length)return this._cache.data=_[0].controller.getAllParsedValues(this);for(d=0,b=_.length;d<b;++d)c=c.concat(_[d].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let d,b;if(c.length)return c;const _=this.getLabels();for(d=0,b=_.length;d<b;++d)c.push(Zp(this,_[d]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return Ps(c.sort(jp))}}pl.id="time",pl.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function qd(h,c,d){let b=0,_=h.length-1,E,A,R,L;d?(c>=h[b].pos&&c<=h[_].pos&&({lo:b,hi:_}=vo(h,"pos",c)),{pos:E,time:R}=h[b],{pos:A,time:L}=h[_]):(c>=h[b].time&&c<=h[_].time&&({lo:b,hi:_}=vo(h,"time",c)),{time:E,pos:R}=h[b],{time:A,pos:L}=h[_]);const z=A-E;return z?R+(L-R)*(c-E)/z:R}class ih extends pl{constructor(c){super(c),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const c=this._getTimestampsForTable(),d=this._table=this.buildLookupTable(c);this._minPos=qd(d,this.min),this._tableRange=qd(d,this.max)-this._minPos,super.initOffsets(c)}buildLookupTable(c){const{min:d,max:b}=this,_=[],E=[];let A,R,L,z,Y;for(A=0,R=c.length;A<R;++A)z=c[A],z>=d&&z<=b&&_.push(z);if(_.length<2)return[{time:d,pos:0},{time:b,pos:1}];for(A=0,R=_.length;A<R;++A)Y=_[A+1],L=_[A-1],z=_[A],Math.round((Y+L)/2)!==z&&E.push({time:z,pos:A/(R-1)});return E}_getTimestampsForTable(){let c=this._cache.all||[];if(c.length)return c;const d=this.getDataTimestamps(),b=this.getLabelTimestamps();return d.length&&b.length?c=this.normalize(d.concat(b)):c=d.length?d:b,c=this._cache.all=c,c}getDecimalForValue(c){return(qd(this._table,c)-this._minPos)/this._tableRange}getValueForPixel(c){const d=this._offsets,b=this.getDecimalForPixel(c)/d.factor-d.end;return qd(this._table,b*this._tableRange+this._minPos,!0)}}ih.id="timeseries",ih.defaults=pl.defaults;var bl=Object.freeze({__proto__:null,CategoryScale:Ju,LinearScale:Ui,LogarithmicScale:_1,RadialLinearScale:fm,TimeScale:pl,TimeSeriesScale:ih});return $o.register(Gf,bl,$c,eh),$o.helpers={...ht},$o._adapters=kp,$o.Animation=zf,$o.Animations=si,$o.animator=Wa,$o.controllers=Cs.controllers.items,$o.DatasetController=dc,$o.Element=Ea,$o.elements=$c,$o.Interaction=Mi,$o.layouts=Pi,$o.platforms=Md,$o.Scale=zs,$o.Ticks=Ya,Object.assign($o,Gf,bl,$c,eh,Md),$o.Chart=$o,typeof window<"u"&&(window.Chart=$o),$o});(function(){var v=function(ie,Vt){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Mt,_t){Mt.__proto__=_t}||function(Mt,_t){for(var Ht in _t)Object.prototype.hasOwnProperty.call(_t,Ht)&&(Mt[Ht]=_t[Ht])},v(ie,Vt)},m=!(typeof window>"u"||!window.document||!window.document.createElement),C=typeof global=="object"&&global&&global.Object===Object&&global,M=typeof self=="object"&&self&&self.Object===Object&&self,$=C||M||Function("return this")(),W=$.Symbol,G=Object.prototype,tt=G.hasOwnProperty,gt=G.toString,Bt=W?W.toStringTag:void 0,Tt=Object.prototype.toString,Lt=W?W.toStringTag:void 0;function Le(ie){return ie==null?ie===void 0?"[object Undefined]":"[object Null]":Lt&&Lt in Object(ie)?function(Vt){var Mt=tt.call(Vt,Bt),_t=Vt[Bt];try{Vt[Bt]=void 0;var Ht=!0}catch{}var wt=gt.call(Vt);return Ht&&(Mt?Vt[Bt]=_t:delete Vt[Bt]),wt}(ie):function(Vt){return Tt.call(Vt)}(ie)}var He=/\s/,ze=/^\s+/;function _e(ie){return ie&&ie.slice(0,function(Vt){for(var Mt=Vt.length;Mt--&&He.test(Vt.charAt(Mt)););return Mt}(ie)+1).replace(ze,"")}function $t(ie){var Vt=typeof ie;return ie!=null&&(Vt=="object"||Vt=="function")}var Je=/^[-+]0x[0-9a-f]+$/i,Nn=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,We=parseInt;function to(ie){if(typeof ie=="number")return ie;if(function(_t){return typeof _t=="symbol"||function(Ht){return Ht!=null&&typeof Ht=="object"}(_t)&&Le(_t)=="[object Symbol]"}(ie))return NaN;if($t(ie)){var Vt=typeof ie.valueOf=="function"?ie.valueOf():ie;ie=$t(Vt)?Vt+"":Vt}if(typeof ie!="string")return ie===0?ie:+ie;ie=_e(ie);var Mt=Nn.test(ie);return Mt||ft.test(ie)?We(ie.slice(2),Mt?2:8):Je.test(ie)?NaN:+ie}var ln=function(){return $.Date.now()},vt=Math.max,wn=Math.min;function Hn(ie,Vt,Mt){var _t,Ht,wt,Gn,kn,Se,vo=0,yo=!1,Ms=!1,co=!0;if(typeof ie!="function")throw new TypeError("Expected a function");function ks(Oo){var Co=_t,ys=Ht;return _t=Ht=void 0,vo=Oo,Gn=ie.apply(ys,Co)}function Ei(Oo){return vo=Oo,kn=setTimeout(vs,Vt),yo?ks(Oo):Gn}function Ps(Oo){var Co=Oo-Se;return Se===void 0||Co>=Vt||Co<0||Ms&&Oo-vo>=wt}function vs(){var Oo=ln();if(Ps(Oo))return Qo(Oo);kn=setTimeout(vs,function(Co){var ys=Vt-(Co-Se);return Ms?wn(ys,wt-(Co-vo)):ys}(Oo))}function Qo(Oo){return kn=void 0,co&&_t?ks(Oo):(_t=Ht=void 0,Gn)}function ic(){var Oo=ln(),Co=Ps(Oo);if(_t=arguments,Ht=this,Se=Oo,Co){if(kn===void 0)return Ei(Se);if(Ms)return clearTimeout(kn),kn=setTimeout(vs,Vt),ks(Se)}return kn===void 0&&(kn=setTimeout(vs,Vt)),Gn}return Vt=to(Vt)||0,$t(Mt)&&(yo=!!Mt.leading,wt=(Ms="maxWait"in Mt)?vt(to(Mt.maxWait)||0,Vt):wt,co="trailing"in Mt?!!Mt.trailing:co),ic.cancel=function(){kn!==void 0&&clearTimeout(kn),vo=0,_t=Se=Ht=kn=void 0},ic.flush=function(){return kn===void 0?Gn:Qo(ln())},ic}var sn=function(){return sn=Object.assign||function(ie){for(var Vt,Mt=1,_t=arguments.length;Mt<_t;Mt++)for(var Ht in Vt=arguments[Mt])Object.prototype.hasOwnProperty.call(Vt,Ht)&&(ie[Ht]=Vt[Ht]);return ie},sn.apply(this,arguments)},Zt=null,pt=null;function jn(){if(Zt===null){if(typeof document>"u")return Zt=0;var ie=document.body,Vt=document.createElement("div");Vt.classList.add("simplebar-hide-scrollbar"),ie.appendChild(Vt);var Mt=Vt.getBoundingClientRect().right;ie.removeChild(Vt),Zt=Mt}return Zt}function pn(ie){return ie&&ie.ownerDocument&&ie.ownerDocument.defaultView?ie.ownerDocument.defaultView:window}function Ye(ie){return ie&&ie.ownerDocument?ie.ownerDocument:document}m&&window.addEventListener("resize",function(){pt!==window.devicePixelRatio&&(pt=window.devicePixelRatio,Zt=null)});var F=function(ie){return Array.prototype.reduce.call(ie,function(Vt,Mt){var _t=Mt.name.match(/data-simplebar-(.+)/);if(_t){var Ht=_t[1].replace(/\W+(.)/g,function(wt,Gn){return Gn.toUpperCase()});switch(Mt.value){case"true":Vt[Ht]=!0;break;case"false":Vt[Ht]=!1;break;case void 0:Vt[Ht]=!0;break;default:Vt[Ht]=Mt.value}}return Vt},{})};function Po(ie,Vt){var Mt;ie&&(Mt=ie.classList).add.apply(Mt,Vt.split(" "))}function re(ie,Vt){ie&&Vt.split(" ").forEach(function(Mt){ie.classList.remove(Mt)})}function wo(ie){return".".concat(ie.split(" ").join("."))}var bn=Object.freeze({__proto__:null,getElementWindow:pn,getElementDocument:Ye,getOptions:F,addClasses:Po,removeClasses:re,classNamesToQuery:wo}),Kt=pn,go=Ye,Cr=F,ko=Po,Bo=re,Gt=wo,Ae=function(){function ie(Vt,Mt){Mt===void 0&&(Mt={});var _t=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var Ht=Kt(_t.el);_t.scrollXTicking||(Ht.requestAnimationFrame(_t.scrollX),_t.scrollXTicking=!0),_t.scrollYTicking||(Ht.requestAnimationFrame(_t.scrollY),_t.scrollYTicking=!0),_t.isScrolling||(_t.isScrolling=!0,ko(_t.el,_t.classNames.scrolling)),_t.showScrollbar("x"),_t.showScrollbar("y"),_t.onStopScrolling()},this.scrollX=function(){_t.axis.x.isOverflowing&&_t.positionScrollbar("x"),_t.scrollXTicking=!1},this.scrollY=function(){_t.axis.y.isOverflowing&&_t.positionScrollbar("y"),_t.scrollYTicking=!1},this._onStopScrolling=function(){Bo(_t.el,_t.classNames.scrolling),_t.options.autoHide&&(_t.hideScrollbar("x"),_t.hideScrollbar("y")),_t.isScrolling=!1},this.onMouseEnter=function(){_t.isMouseEntering||(ko(_t.el,_t.classNames.mouseEntered),_t.showScrollbar("x"),_t.showScrollbar("y"),_t.isMouseEntering=!0),_t.onMouseEntered()},this._onMouseEntered=function(){Bo(_t.el,_t.classNames.mouseEntered),_t.options.autoHide&&(_t.hideScrollbar("x"),_t.hideScrollbar("y")),_t.isMouseEntering=!1},this._onMouseMove=function(Ht){_t.mouseX=Ht.clientX,_t.mouseY=Ht.clientY,(_t.axis.x.isOverflowing||_t.axis.x.forceVisible)&&_t.onMouseMoveForAxis("x"),(_t.axis.y.isOverflowing||_t.axis.y.forceVisible)&&_t.onMouseMoveForAxis("y")},this.onMouseLeave=function(){_t.onMouseMove.cancel(),(_t.axis.x.isOverflowing||_t.axis.x.forceVisible)&&_t.onMouseLeaveForAxis("x"),(_t.axis.y.isOverflowing||_t.axis.y.forceVisible)&&_t.onMouseLeaveForAxis("y"),_t.mouseX=-1,_t.mouseY=-1},this._onWindowResize=function(){_t.scrollbarWidth=_t.getScrollbarWidth(),_t.hideNativeScrollbar()},this.onPointerEvent=function(Ht){var wt,Gn;_t.axis.x.track.el&&_t.axis.y.track.el&&_t.axis.x.scrollbar.el&&_t.axis.y.scrollbar.el&&(_t.axis.x.track.rect=_t.axis.x.track.el.getBoundingClientRect(),_t.axis.y.track.rect=_t.axis.y.track.el.getBoundingClientRect(),(_t.axis.x.isOverflowing||_t.axis.x.forceVisible)&&(wt=_t.isWithinBounds(_t.axis.x.track.rect)),(_t.axis.y.isOverflowing||_t.axis.y.forceVisible)&&(Gn=_t.isWithinBounds(_t.axis.y.track.rect)),(wt||Gn)&&(Ht.stopPropagation(),Ht.type==="pointerdown"&&Ht.pointerType!=="touch"&&(wt&&(_t.axis.x.scrollbar.rect=_t.axis.x.scrollbar.el.getBoundingClientRect(),_t.isWithinBounds(_t.axis.x.scrollbar.rect)?_t.onDragStart(Ht,"x"):_t.onTrackClick(Ht,"x")),Gn&&(_t.axis.y.scrollbar.rect=_t.axis.y.scrollbar.el.getBoundingClientRect(),_t.isWithinBounds(_t.axis.y.scrollbar.rect)?_t.onDragStart(Ht,"y"):_t.onTrackClick(Ht,"y")))))},this.drag=function(Ht){var wt,Gn,kn,Se,vo,yo,Ms,co,ks,Ei,Ps;if(_t.draggedAxis&&_t.contentWrapperEl){var vs=_t.axis[_t.draggedAxis].track,Qo=(Gn=(wt=vs.rect)===null||wt===void 0?void 0:wt[_t.axis[_t.draggedAxis].sizeAttr])!==null&&Gn!==void 0?Gn:0,ic=_t.axis[_t.draggedAxis].scrollbar,Oo=(Se=(kn=_t.contentWrapperEl)===null||kn===void 0?void 0:kn[_t.axis[_t.draggedAxis].scrollSizeAttr])!==null&&Se!==void 0?Se:0,Co=parseInt((yo=(vo=_t.elStyles)===null||vo===void 0?void 0:vo[_t.axis[_t.draggedAxis].sizeAttr])!==null&&yo!==void 0?yo:"0px",10);Ht.preventDefault(),Ht.stopPropagation();var ys=(_t.draggedAxis==="y"?Ht.pageY:Ht.pageX)-((co=(Ms=vs.rect)===null||Ms===void 0?void 0:Ms[_t.axis[_t.draggedAxis].offsetAttr])!==null&&co!==void 0?co:0)-_t.axis[_t.draggedAxis].dragOffset,dr=(ys=_t.draggedAxis==="x"&&_t.isRtl?((Ei=(ks=vs.rect)===null||ks===void 0?void 0:ks[_t.axis[_t.draggedAxis].sizeAttr])!==null&&Ei!==void 0?Ei:0)-ic.size-ys:ys)/(Qo-ic.size)*(Oo-Co);_t.draggedAxis==="x"&&_t.isRtl&&(dr=!((Ps=ie.getRtlHelpers())===null||Ps===void 0)&&Ps.isScrollingToNegative?-dr:dr),_t.contentWrapperEl[_t.axis[_t.draggedAxis].scrollOffsetAttr]=dr}},this.onEndDrag=function(Ht){var wt=go(_t.el),Gn=Kt(_t.el);Ht.preventDefault(),Ht.stopPropagation(),Bo(_t.el,_t.classNames.dragging),wt.removeEventListener("mousemove",_t.drag,!0),wt.removeEventListener("mouseup",_t.onEndDrag,!0),_t.removePreventClickId=Gn.setTimeout(function(){wt.removeEventListener("click",_t.preventClick,!0),wt.removeEventListener("dblclick",_t.preventClick,!0),_t.removePreventClickId=null})},this.preventClick=function(Ht){Ht.preventDefault(),Ht.stopPropagation()},this.el=Vt,this.options=sn(sn({},ie.defaultOptions),Mt),this.classNames=sn(sn({},ie.defaultOptions.classNames),Mt.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=function(Ht,wt,Gn){var kn=!0,Se=!0;if(typeof Ht!="function")throw new TypeError("Expected a function");return $t(Gn)&&(kn="leading"in Gn?!!Gn.leading:kn,Se="trailing"in Gn?!!Gn.trailing:Se),Hn(Ht,wt,{leading:kn,maxWait:wt,trailing:Se})}(this._onMouseMove,64),this.onWindowResize=Hn(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=Hn(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=Hn(this._onMouseEntered,this.stopScrollDelay),this.init()}return ie.getRtlHelpers=function(){if(ie.rtlHelpers)return ie.rtlHelpers;var Vt=document.createElement("div");Vt.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var Mt=Vt.firstElementChild,_t=Mt==null?void 0:Mt.firstElementChild;if(!_t)return null;document.body.appendChild(Mt),Mt.scrollLeft=0;var Ht=ie.getOffset(Mt),wt=ie.getOffset(_t);Mt.scrollLeft=-999;var Gn=ie.getOffset(_t);return document.body.removeChild(Mt),ie.rtlHelpers={isScrollOriginAtZero:Ht.left!==wt.left,isScrollingToNegative:wt.left!==Gn.left},ie.rtlHelpers},ie.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:jn()}catch{return jn()}},ie.getOffset=function(Vt){var Mt=Vt.getBoundingClientRect(),_t=go(Vt),Ht=Kt(Vt);return{top:Mt.top+(Ht.pageYOffset||_t.documentElement.scrollTop),left:Mt.left+(Ht.pageXOffset||_t.documentElement.scrollLeft)}},ie.prototype.init=function(){m&&(this.initDOM(),this.rtlHelpers=ie.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},ie.prototype.initDOM=function(){var Vt,Mt;this.wrapperEl=this.el.querySelector(Gt(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(Gt(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(Gt(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(Gt(this.classNames.offset)),this.maskEl=this.el.querySelector(Gt(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,Gt(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(Gt(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(Gt(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(Gt(this.classNames.track)).concat(Gt(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(Gt(this.classNames.track)).concat(Gt(this.classNames.vertical))),this.axis.x.scrollbar.el=((Vt=this.axis.x.track.el)===null||Vt===void 0?void 0:Vt.querySelector(Gt(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((Mt=this.axis.y.track.el)===null||Mt===void 0?void 0:Mt.querySelector(Gt(this.classNames.scrollbar)))||null,this.options.autoHide||(ko(this.axis.x.scrollbar.el,this.classNames.visible),ko(this.axis.y.scrollbar.el,this.classNames.visible))},ie.prototype.initListeners=function(){var Vt,Mt=this,_t=Kt(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(Vt=this.contentWrapperEl)===null||Vt===void 0||Vt.addEventListener("scroll",this.onScroll),_t.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var Ht=!1,wt=_t.ResizeObserver||ResizeObserver;this.resizeObserver=new wt(function(){Ht&&_t.requestAnimationFrame(function(){Mt.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),_t.requestAnimationFrame(function(){Ht=!0})}this.mutationObserver=new _t.MutationObserver(function(){_t.requestAnimationFrame(function(){Mt.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},ie.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var Vt=Kt(this.el);this.elStyles=Vt.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var Mt=this.contentEl.offsetWidth,_t=this.heightAutoObserverEl.offsetHeight<=1,Ht=this.heightAutoObserverEl.offsetWidth<=1||Mt>0,wt=this.contentWrapperEl.offsetWidth,Gn=this.elStyles.overflowX,kn=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var Se=this.contentEl.scrollHeight,vo=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=_t?"auto":"100%",this.placeholderEl.style.width=Ht?"".concat(Mt||vo,"px"):"auto",this.placeholderEl.style.height="".concat(Se,"px");var yo=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=Mt!==0&&vo>Mt,this.axis.y.isOverflowing=Se>yo,this.axis.x.isOverflowing=Gn!=="hidden"&&this.axis.x.isOverflowing,this.axis.y.isOverflowing=kn!=="hidden"&&this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var Ms=this.axis.x.isOverflowing?this.scrollbarWidth:0,co=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&vo>wt-co,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&Se>yo-Ms,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},ie.prototype.getScrollbarSize=function(Vt){var Mt,_t;if(Vt===void 0&&(Vt="y"),!this.axis[Vt].isOverflowing||!this.contentEl)return 0;var Ht,wt=this.contentEl[this.axis[Vt].scrollSizeAttr],Gn=(_t=(Mt=this.axis[Vt].track.el)===null||Mt===void 0?void 0:Mt[this.axis[Vt].offsetSizeAttr])!==null&&_t!==void 0?_t:0,kn=Gn/wt;return Ht=Math.max(~~(kn*Gn),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(Ht=Math.min(Ht,this.options.scrollbarMaxSize)),Ht},ie.prototype.positionScrollbar=function(Vt){var Mt,_t,Ht;Vt===void 0&&(Vt="y");var wt=this.axis[Vt].scrollbar;if(this.axis[Vt].isOverflowing&&this.contentWrapperEl&&wt.el&&this.elStyles){var Gn=this.contentWrapperEl[this.axis[Vt].scrollSizeAttr],kn=((Mt=this.axis[Vt].track.el)===null||Mt===void 0?void 0:Mt[this.axis[Vt].offsetSizeAttr])||0,Se=parseInt(this.elStyles[this.axis[Vt].sizeAttr],10),vo=this.contentWrapperEl[this.axis[Vt].scrollOffsetAttr];vo=Vt==="x"&&this.isRtl&&(!((_t=ie.getRtlHelpers())===null||_t===void 0)&&_t.isScrollOriginAtZero)?-vo:vo,Vt==="x"&&this.isRtl&&(vo=!((Ht=ie.getRtlHelpers())===null||Ht===void 0)&&Ht.isScrollingToNegative?vo:-vo);var yo=vo/(Gn-Se),Ms=~~((kn-wt.size)*yo);Ms=Vt==="x"&&this.isRtl?-Ms+(kn-wt.size):Ms,wt.el.style.transform=Vt==="x"?"translate3d(".concat(Ms,"px, 0, 0)"):"translate3d(0, ".concat(Ms,"px, 0)")}},ie.prototype.toggleTrackVisibility=function(Vt){Vt===void 0&&(Vt="y");var Mt=this.axis[Vt].track.el,_t=this.axis[Vt].scrollbar.el;Mt&&_t&&this.contentWrapperEl&&(this.axis[Vt].isOverflowing||this.axis[Vt].forceVisible?(Mt.style.visibility="visible",this.contentWrapperEl.style[this.axis[Vt].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(Vt))):(Mt.style.visibility="hidden",this.contentWrapperEl.style[this.axis[Vt].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(Vt))),this.axis[Vt].isOverflowing?_t.style.display="block":_t.style.display="none")},ie.prototype.showScrollbar=function(Vt){Vt===void 0&&(Vt="y"),this.axis[Vt].isOverflowing&&!this.axis[Vt].scrollbar.isVisible&&(ko(this.axis[Vt].scrollbar.el,this.classNames.visible),this.axis[Vt].scrollbar.isVisible=!0)},ie.prototype.hideScrollbar=function(Vt){Vt===void 0&&(Vt="y"),this.axis[Vt].isOverflowing&&this.axis[Vt].scrollbar.isVisible&&(Bo(this.axis[Vt].scrollbar.el,this.classNames.visible),this.axis[Vt].scrollbar.isVisible=!1)},ie.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},ie.prototype.onMouseMoveForAxis=function(Vt){Vt===void 0&&(Vt="y");var Mt=this.axis[Vt];Mt.track.el&&Mt.scrollbar.el&&(Mt.track.rect=Mt.track.el.getBoundingClientRect(),Mt.scrollbar.rect=Mt.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(Mt.track.rect)?(this.showScrollbar(Vt),ko(Mt.track.el,this.classNames.hover),this.isWithinBounds(Mt.scrollbar.rect)?ko(Mt.scrollbar.el,this.classNames.hover):Bo(Mt.scrollbar.el,this.classNames.hover)):(Bo(Mt.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(Vt)))},ie.prototype.onMouseLeaveForAxis=function(Vt){Vt===void 0&&(Vt="y"),Bo(this.axis[Vt].track.el,this.classNames.hover),Bo(this.axis[Vt].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(Vt)},ie.prototype.onDragStart=function(Vt,Mt){var _t;Mt===void 0&&(Mt="y");var Ht=go(this.el),wt=Kt(this.el),Gn=this.axis[Mt].scrollbar,kn=Mt==="y"?Vt.pageY:Vt.pageX;this.axis[Mt].dragOffset=kn-(((_t=Gn.rect)===null||_t===void 0?void 0:_t[this.axis[Mt].offsetAttr])||0),this.draggedAxis=Mt,ko(this.el,this.classNames.dragging),Ht.addEventListener("mousemove",this.drag,!0),Ht.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(Ht.addEventListener("click",this.preventClick,!0),Ht.addEventListener("dblclick",this.preventClick,!0)):(wt.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},ie.prototype.onTrackClick=function(Vt,Mt){var _t,Ht,wt,Gn,kn=this;Mt===void 0&&(Mt="y");var Se=this.axis[Mt];if(this.options.clickOnTrack&&Se.scrollbar.el&&this.contentWrapperEl){Vt.preventDefault();var vo=Kt(this.el);this.axis[Mt].scrollbar.rect=Se.scrollbar.el.getBoundingClientRect();var yo=(Ht=(_t=this.axis[Mt].scrollbar.rect)===null||_t===void 0?void 0:_t[this.axis[Mt].offsetAttr])!==null&&Ht!==void 0?Ht:0,Ms=parseInt((Gn=(wt=this.elStyles)===null||wt===void 0?void 0:wt[this.axis[Mt].sizeAttr])!==null&&Gn!==void 0?Gn:"0px",10),co=this.contentWrapperEl[this.axis[Mt].scrollOffsetAttr],ks=(Mt==="y"?this.mouseY-yo:this.mouseX-yo)<0?-1:1,Ei=ks===-1?co-Ms:co+Ms,Ps=function(){kn.contentWrapperEl&&(ks===-1?co>Ei&&(co-=40,kn.contentWrapperEl[kn.axis[Mt].scrollOffsetAttr]=co,vo.requestAnimationFrame(Ps)):co<Ei&&(co+=40,kn.contentWrapperEl[kn.axis[Mt].scrollOffsetAttr]=co,vo.requestAnimationFrame(Ps)))};Ps()}},ie.prototype.getContentElement=function(){return this.contentEl},ie.prototype.getScrollElement=function(){return this.contentWrapperEl},ie.prototype.removeListeners=function(){var Vt=Kt(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),Vt.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},ie.prototype.unMount=function(){this.removeListeners()},ie.prototype.isWithinBounds=function(Vt){return this.mouseX>=Vt.left&&this.mouseX<=Vt.left+Vt.width&&this.mouseY>=Vt.top&&this.mouseY<=Vt.top+Vt.height},ie.prototype.findChild=function(Vt,Mt){var _t=Vt.matches||Vt.webkitMatchesSelector||Vt.mozMatchesSelector||Vt.msMatchesSelector;return Array.prototype.filter.call(Vt.children,function(Ht){return _t.call(Ht,Mt)})[0]},ie.rtlHelpers=null,ie.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},ie.getOptions=Cr,ie.helpers=bn,ie}(),X=Ae.helpers,tr=X.getOptions,oo=X.addClasses,hs=function(ie){function Vt(){for(var Mt=[],_t=0;_t<arguments.length;_t++)Mt[_t]=arguments[_t];var Ht=ie.apply(this,Mt)||this;return Vt.instances.set(Mt[0],Ht),Ht}return function(Mt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Class extends value "+String(_t)+" is not a constructor or null");function Ht(){this.constructor=Mt}v(Mt,_t),Mt.prototype=_t===null?Object.create(_t):(Ht.prototype=_t.prototype,new Ht)}(Vt,ie),Vt.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(Mt){Mt.getAttribute("data-simplebar")==="init"||Vt.instances.has(Mt)||new Vt(Mt,tr(Mt.attributes))})},Vt.removeObserver=function(){var Mt;(Mt=Vt.globalObserver)===null||Mt===void 0||Mt.disconnect()},Vt.prototype.initDOM=function(){var Mt,_t,Ht,wt=this;if(!Array.prototype.filter.call(this.el.children,function(Se){return Se.classList.contains(wt.classNames.wrapper)}).length){for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),oo(this.wrapperEl,this.classNames.wrapper),oo(this.contentWrapperEl,this.classNames.contentWrapper),oo(this.offsetEl,this.classNames.offset),oo(this.maskEl,this.classNames.mask),oo(this.contentEl,this.classNames.contentEl),oo(this.placeholderEl,this.classNames.placeholder),oo(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl),oo(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl),(Mt=this.contentWrapperEl)===null||Mt===void 0||Mt.setAttribute("tabindex","0"),(_t=this.contentWrapperEl)===null||_t===void 0||_t.setAttribute("role","region"),(Ht=this.contentWrapperEl)===null||Ht===void 0||Ht.setAttribute("aria-label",this.options.ariaLabel)}if(!this.axis.x.track.el||!this.axis.y.track.el){var Gn=document.createElement("div"),kn=document.createElement("div");oo(Gn,this.classNames.track),oo(kn,this.classNames.scrollbar),Gn.appendChild(kn),this.axis.x.track.el=Gn.cloneNode(!0),oo(this.axis.x.track.el,this.classNames.horizontal),this.axis.y.track.el=Gn.cloneNode(!0),oo(this.axis.y.track.el,this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}Ae.prototype.initDOM.call(this),this.el.setAttribute("data-simplebar","init")},Vt.prototype.unMount=function(){Ae.prototype.unMount.call(this),Vt.instances.delete(this.el)},Vt.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver<"u"&&(this.globalObserver=new MutationObserver(Vt.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},Vt.handleMutations=function(Mt){Mt.forEach(function(_t){_t.addedNodes.forEach(function(Ht){Ht.nodeType===1&&(Ht.hasAttribute("data-simplebar")?!Vt.instances.has(Ht)&&document.documentElement.contains(Ht)&&new Vt(Ht,tr(Ht.attributes)):Ht.querySelectorAll("[data-simplebar]").forEach(function(wt){wt.getAttribute("data-simplebar")!=="init"&&!Vt.instances.has(wt)&&document.documentElement.contains(wt)&&new Vt(wt,tr(wt.attributes))}))}),_t.removedNodes.forEach(function(Ht){Ht.nodeType===1&&(Ht.getAttribute("data-simplebar")==="init"?Vt.instances.has(Ht)&&!document.documentElement.contains(Ht)&&Vt.instances.get(Ht).unMount():Array.prototype.forEach.call(Ht.querySelectorAll('[data-simplebar="init"]'),function(wt){Vt.instances.has(wt)&&!document.documentElement.contains(wt)&&Vt.instances.get(wt).unMount()}))})})},Vt.instances=new WeakMap,Vt}(Ae);return m&&hs.initHtmlApi(),hs})();for(const v of document.querySelectorAll(".theme-color")){const m=getComputedStyle(v,null).getPropertyValue("background-color"),C=document.createElement("table");C.classList.add("w-100"),C.innerHTML=`
      <table class="w-100">
        <tr>
          <td class="text-muted">HEX:</td>
          <td class="font-weight-bold">${coreui.Utils.rgbToHex(m)}</td>
        </tr>
        <tr>
          <td class="text-muted">RGB:</td>
          <td class="font-weight-bold">${m}</td>
        </tr>
      </table>
    `,v.parentNode.append(C)}for(const v of document.querySelectorAll('[data-coreui-toggle="popover"]'))new coreui.Popover(v);const LQ=document.getElementById("liveToastBtn"),Mlt=document.getElementById("liveToast");LQ&&LQ.addEventListener("click",()=>{new coreui.Toast(Mlt).show()});window.coreui=Rlt;window.axios=ust;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Plt={exports:{}};(function(v){(function(){var m=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var n=typeof t;return n==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":n},C=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},M=function(t,n){var o=Array.prototype.slice.call(t);return o.sort(n)},$=function(t,n){return W(function(o,r){return t.eq(n(o),n(r))})},W=function(t){return{eq:t}},G=W(function(t,n){return t===n}),tt=G,gt=function(t){return W(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!t.eq(n[a],o[a]))return!1;return!0})},Bt=function(t,n){return $(gt(t),function(o){return M(o,n)})},Tt=function(t){return W(function(n,o){var r=Object.keys(n),a=Object.keys(o);if(!Bt(tt).eq(r,a))return!1;for(var f=r.length,y=0;y<f;y++){var T=r[y];if(!t.eq(n[T],o[T]))return!1}return!0})},Lt=W(function(t,n){if(t===n)return!0;var o=m(t),r=m(n);return o!==r?!1:C(o)?t===n:o==="array"?gt(Lt).eq(t,n):o==="object"?Tt(Lt).eq(t,n):!1});const Le=Object.getPrototypeOf,He=(t,n,o)=>{var r;return o(t,n.prototype)?!0:((r=t.constructor)===null||r===void 0?void 0:r.name)===n.name},ze=t=>{const n=typeof t;return t===null?"null":n==="object"&&Array.isArray(t)?"array":n==="object"&&He(t,String,(o,r)=>r.isPrototypeOf(o))?"string":n},_e=t=>n=>ze(n)===t,$t=t=>n=>typeof n===t,Je=t=>n=>t===n,Nn=(t,n)=>We(t)&&He(t,n,(o,r)=>Le(o)===r),ft=_e("string"),We=_e("object"),to=t=>Nn(t,Object),ln=_e("array"),vt=Je(null),wn=$t("boolean"),Hn=Je(void 0),sn=t=>t==null,Zt=t=>!sn(t),pt=$t("function"),jn=$t("number"),pn=(t,n)=>{if(ln(t)){for(let o=0,r=t.length;o<r;++o)if(!n(t[o]))return!1;return!0}return!1},Ye=()=>{},F=(t,n)=>(...o)=>t(n.apply(null,o)),Po=(t,n)=>o=>t(n(o)),re=t=>()=>t,wo=t=>t,bn=(t,n)=>t===n;function Kt(t,...n){return(...o)=>{const r=n.concat(o);return t.apply(null,r)}}const go=t=>n=>!t(n),Cr=t=>()=>{throw new Error(t)},ko=t=>t(),Bo=t=>{t()},Gt=re(!1),Ae=re(!0);class X{constructor(n,o){this.tag=n,this.value=o}static some(n){return new X(!0,n)}static none(){return X.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?X.some(n(this.value)):X.none()}bind(n){return this.tag?n(this.value):X.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:X.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Zt(n)?X.some(n):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}X.singletonNone=new X(!1);const tr=Array.prototype.slice,oo=Array.prototype.indexOf,hs=Array.prototype.push,ie=(t,n)=>oo.call(t,n),Vt=(t,n)=>{const o=ie(t,n);return o===-1?X.none():X.some(o)},Mt=(t,n)=>ie(t,n)>-1,_t=(t,n)=>{for(let o=0,r=t.length;o<r;o++){const a=t[o];if(n(a,o))return!0}return!1},Ht=(t,n)=>{const o=t.length,r=new Array(o);for(let a=0;a<o;a++){const f=t[a];r[a]=n(f,a)}return r},wt=(t,n)=>{for(let o=0,r=t.length;o<r;o++){const a=t[o];n(a,o)}},Gn=(t,n)=>{for(let o=t.length-1;o>=0;o--){const r=t[o];n(r,o)}},kn=(t,n)=>{const o=[],r=[];for(let a=0,f=t.length;a<f;a++){const y=t[a];(n(y,a)?o:r).push(y)}return{pass:o,fail:r}},Se=(t,n)=>{const o=[];for(let r=0,a=t.length;r<a;r++){const f=t[r];n(f,r)&&o.push(f)}return o},vo=(t,n,o)=>(Gn(t,(r,a)=>{o=n(o,r,a)}),o),yo=(t,n,o)=>(wt(t,(r,a)=>{o=n(o,r,a)}),o),Ms=(t,n,o)=>{for(let r=0,a=t.length;r<a;r++){const f=t[r];if(n(f,r))return X.some(f);if(o(f,r))break}return X.none()},co=(t,n)=>Ms(t,n,Gt),ks=(t,n)=>{for(let o=0,r=t.length;o<r;o++){const a=t[o];if(n(a,o))return X.some(o)}return X.none()},Ei=t=>{const n=[];for(let o=0,r=t.length;o<r;++o){if(!ln(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);hs.apply(n,t[o])}return n},Ps=(t,n)=>Ei(Ht(t,n)),vs=(t,n)=>{for(let o=0,r=t.length;o<r;++o){const a=t[o];if(n(a,o)!==!0)return!1}return!0},Qo=t=>{const n=tr.call(t,0);return n.reverse(),n},ic=(t,n)=>Se(t,o=>!Mt(n,o)),Oo=(t,n)=>{const o={};for(let r=0,a=t.length;r<a;r++){const f=t[r];o[String(f)]=n(f,r)}return o},Co=(t,n)=>{const o=tr.call(t,0);return o.sort(n),o},ys=(t,n)=>n>=0&&n<t.length?X.some(t[n]):X.none(),dr=t=>ys(t,0),Qc=t=>ys(t,t.length-1),Vi=pt(Array.from)?Array.from:t=>tr.call(t),Tf=(t,n)=>{for(let o=0;o<t.length;o++){const r=n(t[o],o);if(r.isSome())return r}return X.none()},Wa=(t,n)=>{const o=[],r=pt(n)?a=>_t(o,f=>n(f,a)):a=>Mt(o,a);for(let a=0,f=t.length;a<f;a++){const y=t[a];r(y)||o.push(y)}return o},zr=Object.keys,Il=Object.hasOwnProperty,Me=(t,n)=>{const o=zr(t);for(let r=0,a=o.length;r<a;r++){const f=o[r],y=t[f];n(y,f)}},ho=(t,n)=>Wr(t,(o,r)=>({k:r,v:n(o,r)})),Wr=(t,n)=>{const o={};return Me(t,(r,a)=>{const f=n(r,a);o[f.k]=f.v}),o},va=t=>(n,o)=>{t[o]=n},ya=(t,n,o,r)=>{Me(t,(a,f)=>{(n(a,f)?o:r)(a,f)})},ku=(t,n)=>{const o={},r={};return ya(t,n,va(o),va(r)),{t:o,f:r}},Os=(t,n)=>{const o={};return ya(t,n,va(o),Ye),o},Td=(t,n)=>{const o=[];return Me(t,(r,a)=>{o.push(n(r,a))}),o},Ou=t=>Td(t,wo),ms=(t,n)=>Sn(t,n)?X.from(t[n]):X.none(),Sn=(t,n)=>Il.call(t,n),_a=(t,n)=>Sn(t,n)&&t[n]!==void 0&&t[n]!==null,Af=(t,n,o=Lt)=>Tt(o).eq(t,n),cp=t=>{const n={};return wt(t,o=>{n[o]={}}),zr(n)},lp=t=>t.length!==void 0,Xi=Array.isArray,Ti=t=>{if(Xi(t))return t;{const n=[];for(let o=0,r=t.length;o<r;o++)n[o]=t[o];return n}},Sr=(t,n,o)=>{if(!t)return!1;if(o=o||t,lp(t)){for(let r=0,a=t.length;r<a;r++)if(n.call(o,t[r],r,t)===!1)return!1}else for(const r in t)if(Sn(t,r)&&n.call(o,t[r],r,t)===!1)return!1;return!0},wc=(t,n)=>{const o=[];return Sr(t,(r,a)=>{o.push(n(r,a,t))}),o},Fh=(t,n)=>{const o=[];return Sr(t,(r,a)=>{(!n||n(r,a,t))&&o.push(r)}),o},tl=(t,n)=>{if(t){for(let o=0,r=t.length;o<r;o++)if(t[o]===n)return o}return-1},Ua=(t,n,o,r)=>{let a=Hn(o)?t[0]:o;for(let f=0;f<t.length;f++)a=n.call(r,a,t[f],f);return a},Ns=(t,n,o)=>{for(let r=0,a=t.length;r<a;r++)if(n.call(o,t[r],r,t))return r;return-1},ac=t=>t[t.length-1],$l=t=>{let n=!1,o;return(...r)=>(n||(n=!0,o=t.apply(null,r)),o)},Y_=(t,n,o,r)=>{const a=t.isiOS()&&/ipad/i.test(o)===!0,f=t.isiOS()&&!a,y=t.isiOS()||t.isAndroid(),T=y||r("(pointer:coarse)"),O=a||!f&&y&&r("(min-device-width:768px)"),B=f||y&&!O,U=n.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,j=!B&&!O&&!U;return{isiPad:re(a),isiPhone:re(f),isTablet:re(O),isPhone:re(B),isTouch:re(T),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:re(U),isDesktop:re(j)}},X_=(t,n)=>{for(let o=0;o<t.length;o++){const r=t[o];if(r.test(n))return r}},Fl=(t,n)=>{const o=X_(t,n);if(!o)return{major:0,minor:0};const r=a=>Number(n.replace(o,"$"+a));return Ai(r(1),r(2))},PS=(t,n)=>{const o=String(n).toLowerCase();return t.length===0?At():Fl(t,o)},At=()=>Ai(0,0),Ai=(t,n)=>({major:t,minor:n}),Hh={nu:Ai,detect:PS,unknown:At},u0=(t,n)=>Tf(n.brands,o=>{const r=o.brand.toLowerCase();return co(t,a=>{var f;return r===((f=a.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(a=>({current:a.name,version:Hh.nu(parseInt(o.version,10),0)}))}),Ub=(t,n)=>{const o=String(n).toLowerCase();return co(t,r=>r.search(o))},_s=(t,n)=>Ub(t,n).map(o=>{const r=Hh.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Jm=(t,n)=>Ub(t,n).map(o=>{const r=Hh.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Vh=(t,n)=>t.substring(n),Qm=(t,n,o)=>n===""||t.length>=n.length&&t.substr(o,o+n.length)===n,Du=(t,n)=>er(t,n)?Vh(t,n.length):t,Xr=(t,n,o=0,r)=>{const a=t.indexOf(n,o);return a!==-1?Hn(r)?!0:a+n.length<=r:!1},er=(t,n)=>Qm(t,n,0),Ru=(t,n)=>Qm(t,n,t.length-n.length),xa=t=>n=>n.replace(t,""),Ad=xa(/^\s+|\s+$/g),kf=xa(/^\s+/g),kd=xa(/\s+$/g),Wo=t=>t.length>0,Jr=t=>!Wo(t),jb=(t,n)=>n<=0?"":new Array(n+1).join(t),el=(t,n=10)=>{const o=parseInt(t,n);return isNaN(o)?X.none():X.some(o)},Hl=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ji=t=>n=>Xr(n,t),Vn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Xr(t,"edge/")&&Xr(t,"chrome")&&Xr(t,"safari")&&Xr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hl],search:t=>Xr(t,"chrome")&&!Xr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Xr(t,"msie")||Xr(t,"trident")},{name:"Opera",versionRegexes:[Hl,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ji("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ji("firefox")},{name:"Safari",versionRegexes:[Hl,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Xr(t,"safari")||Xr(t,"mobile/"))&&Xr(t,"applewebkit")}],Zb=[{name:"Windows",search:Ji("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Xr(t,"iphone")||Xr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ji("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ji("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ji("linux"),versionRegexes:[]},{name:"Solaris",search:Ji("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ji("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ji("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],zh={browsers:re(Vn),oses:re(Zb)},No="Edge",Qi="Chromium",wa="IE",hi="Opera",Vl="Firefox",Of="Safari",Cc=()=>ja({current:void 0,version:Hh.unknown()}),ja=t=>{const n=t.current,o=t.version,r=a=>()=>n===a;return{current:n,version:o,isEdge:r(No),isChromium:r(Qi),isIE:r(wa),isOpera:r(hi),isFirefox:r(Vl),isSafari:r(Of)}},nl={unknown:Cc,nu:ja,edge:re(No),chromium:re(Qi),ie:re(wa),opera:re(hi),firefox:re(Vl),safari:re(Of)},up="Windows",dp="iOS",fp="Android",Sc="Linux",zl="macOS",tg="Solaris",Od="FreeBSD",hp="ChromeOS",Wl=()=>Df({current:void 0,version:Hh.unknown()}),Df=t=>{const n=t.current,o=t.version,r=a=>()=>n===a;return{current:n,version:o,isWindows:r(up),isiOS:r(dp),isAndroid:r(fp),isMacOS:r(zl),isLinux:r(Sc),isSolaris:r(tg),isFreeBSD:r(Od),isChromeOS:r(hp)}},eg={unknown:Wl,nu:Df,windows:re(up),ios:re(dp),android:re(fp),linux:re(Sc),macos:re(zl),solaris:re(tg),freebsd:re(Od),chromeos:re(hp)},zi={detect:(t,n,o)=>{const r=zh.browsers(),a=zh.oses(),f=n.bind(O=>u0(r,O)).orThunk(()=>_s(r,t)).fold(nl.unknown,nl.nu),y=Jm(a,t).fold(eg.unknown,eg.nu),T=Y_(y,f,t,o);return{browser:f,os:y,deviceType:T}}},ng=t=>window.matchMedia(t).matches;let Rf=$l(()=>zi.detect(navigator.userAgent,X.from(navigator.userAgentData),ng));const Ec=()=>Rf(),d0=navigator.userAgent,ol=Ec(),Ur=ol.browser,ki=ol.os,Tc=ol.deviceType,og=d0.indexOf("Windows Phone")!==-1,Ee={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ur.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ur.isIE(),windowsPhone:og,browser:{current:Ur.current,version:Ur.version,isChromium:Ur.isChromium,isEdge:Ur.isEdge,isFirefox:Ur.isFirefox,isIE:Ur.isIE,isOpera:Ur.isOpera,isSafari:Ur.isSafari},os:{current:ki.current,version:ki.version,isAndroid:ki.isAndroid,isChromeOS:ki.isChromeOS,isFreeBSD:ki.isFreeBSD,isiOS:ki.isiOS,isLinux:ki.isLinux,isMacOS:ki.isMacOS,isSolaris:ki.isSolaris,isWindows:ki.isWindows},deviceType:{isDesktop:Tc.isDesktop,isiPad:Tc.isiPad,isiPhone:Tc.isiPhone,isPhone:Tc.isPhone,isTablet:Tc.isTablet,isTouch:Tc.isTouch,isWebView:Tc.isWebView}},mp=/^\s*|\s*$/g,$s=t=>sn(t)?"":(""+t).replace(mp,""),Pr=(t,n)=>n?n==="array"&&Xi(t)?!0:typeof t===n:t!==void 0,gp=(t,n,o={})=>{const r=ft(t)?t.split(n||","):t||[];let a=r.length;for(;a--;)o[r[a]]={};return o},js=Sn,J_=(t,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const a in r)if(Sn(r,a)){const f=r[a];f!==void 0&&(t[a]=f)}}return t},sg=function(t,n,o,r){r=r||this,t&&(o&&(t=t[o]),Sr(t,(a,f)=>n.call(r,a,f,o)===!1?!1:(sg(a,n,o,r),!0)))},fe={trim:$s,isArray:Xi,is:Pr,toArray:Ti,makeMap:gp,each:Sr,map:wc,grep:Fh,inArray:tl,hasOwn:js,extend:J_,walk:sg,resolve:(t,n=window)=>{const o=t.split(".");for(let r=0,a=o.length;r<a&&(n=n[o[r]],!!n);r++);return n},explode:(t,n)=>ln(t)?t:t===""?[]:wc(t.split(n||","),$s),_addCacheSuffix:t=>{const n=Ee.cacheSuffix;return n&&(t+=(t.indexOf("?")===-1?"?":"&")+n),t}},Fs=(t,n,o=bn)=>t.exists(r=>o(r,n)),rg=(t,n,o=bn)=>ti(t,n,o).getOr(t.isNone()&&n.isNone()),Qr=t=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<t.length;r++)t[r].each(o);return n},ti=(t,n,o)=>t.isSome()&&n.isSome()?X.some(o(t.getOrDie(),n.getOrDie())):X.none(),Mu=(t,n,o,r)=>t.isSome()&&n.isSome()&&o.isSome()?X.some(r(t.getOrDie(),n.getOrDie(),o.getOrDie())):X.none(),_o=(t,n)=>t?X.some(n):X.none(),sl=typeof window<"u"?window:Function("return this;")(),ei=(t,n)=>{let o=n??sl;for(let r=0;r<t.length&&o!==void 0&&o!==null;++r)o=o[t[r]];return o},rl=(t,n)=>{const o=t.split(".");return ei(o,n)},fr=(t,n)=>rl(t,n),Pu=(t,n)=>{const o=fr(t,n);if(o==null)throw new Error(t+" not available on this browser");return o},Gb=Object.getPrototypeOf,f0=t=>Pu("HTMLElement",t),xs=t=>{const n=rl("ownerDocument.defaultView",t);return We(t)&&(f0(n).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Gb(t).constructor.name))},ig=8,Oi=9,ta=11,Za=1,ag=3,xo=t=>t.dom.nodeName.toLowerCase(),ni=t=>t.dom.nodeType,ea=t=>n=>ni(n)===t,Mf=t=>ni(t)===ig||xo(t)==="#comment",cc=t=>Sa(t)&&xs(t.dom),Sa=ea(Za),ws=ea(ag),Ul=ea(Oi),Pf=ea(ta),Uh=t=>n=>Sa(n)&&xo(n)===t,Nf=(t,n,o)=>{if(ft(o)||wn(o)||jn(o))t.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},is=(t,n,o)=>{Nf(t.dom,n,o)},Ac=(t,n)=>{const o=t.dom;Me(n,(r,a)=>{Nf(o,a,r)})},nr=(t,n)=>{const o=t.dom.getAttribute(n);return o===null?void 0:o},Di=(t,n)=>X.from(nr(t,n)),Er=(t,n)=>{const o=t.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Lo=(t,n)=>{t.dom.removeAttribute(n)},Wi=t=>{const n=t.dom.attributes;return n==null||n.length===0},Lf=t=>yo(t.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),kc=(t,n)=>{const o=nr(t,n);return o===void 0||o===""?[]:o.split(" ")},cg=(t,n,o)=>{const a=kc(t,n).concat([o]);return is(t,n,a.join(" ")),!0},pp=(t,n,o)=>{const r=Se(kc(t,n),a=>a!==o);return r.length>0?is(t,n,r.join(" ")):Lo(t,n),!1},Oc=t=>t.dom.classList!==void 0,jh=t=>kc(t,"class"),jl=(t,n)=>cg(t,"class",n),Zh=(t,n)=>pp(t,"class",n),na=(t,n)=>Mt(jh(t),n)?Zh(t,n):jl(t,n),Bf=(t,n)=>{Oc(t)?t.dom.classList.add(n):jl(t,n)},Gh=t=>{(Oc(t)?t.dom.classList:jh(t)).length===0&&Lo(t,"class")},Nu=(t,n)=>{Oc(t)?t.dom.classList.remove(n):Zh(t,n),Gh(t)},h0=(t,n)=>{const o=Oc(t)?t.dom.classList.toggle(n):na(t,n);return Gh(t),o},lg=(t,n)=>Oc(t)&&t.dom.classList.contains(n),qb=(t,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,t),new Error(a)}return $f(r.childNodes[0])},If=(t,n)=>{const r=(n||document).createElement(t);return $f(r)},m0=(t,n)=>{const r=(n||document).createTextNode(t);return $f(r)},$f=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ht={fromHtml:qb,fromTag:If,fromText:m0,fromDom:$f,fromPoint:(t,n,o)=>X.from(t.dom.elementFromPoint(n,o)).map($f)},Kb=(t,n)=>{const o=[],r=f=>(o.push(f),n(f));let a=n(t);do a=a.bind(r);while(a.isSome());return o},Ri=(t,n)=>{const o=t.dom;if(o.nodeType!==Za)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Ff=t=>t.nodeType!==Za&&t.nodeType!==Oi&&t.nodeType!==ta||t.childElementCount===0,g0=(t,n)=>{const o=n===void 0?document:n.dom;return Ff(o)?[]:Ht(o.querySelectorAll(t),ht.fromDom)},p0=(t,n)=>{const o=n===void 0?document:n.dom;return Ff(o)?X.none():X.from(o.querySelector(t)).map(ht.fromDom)},Io=(t,n)=>t.dom===n.dom,il=(t,n)=>{const o=t.dom,r=n.dom;return o===r?!1:o.contains(r)},lc=t=>ht.fromDom(t.dom.ownerDocument),Mi=t=>Ul(t)?t:lc(t),Yb=t=>ht.fromDom(Mi(t).dom.documentElement),Lu=t=>ht.fromDom(Mi(t).dom.defaultView),Ga=t=>X.from(t.dom.parentNode).map(ht.fromDom),Bu=t=>X.from(t.dom.parentElement).map(ht.fromDom),Xb=(t,n)=>{const o=pt(n)?n:Gt;let r=t.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const f=r.parentNode,y=ht.fromDom(f);if(a.push(y),o(y)===!0)break;r=f}return a},b0=t=>{const n=o=>Se(o,r=>!Io(t,r));return Ga(t).map(mi).map(n).getOr([])},Dc=t=>X.from(t.dom.previousSibling).map(ht.fromDom),qh=t=>X.from(t.dom.nextSibling).map(ht.fromDom),bp=t=>Qo(Kb(t,Dc)),qa=t=>Kb(t,qh),mi=t=>Ht(t.dom.childNodes,ht.fromDom),Dd=(t,n)=>{const o=t.dom.childNodes;return X.from(o[n]).map(ht.fromDom)},Kh=t=>Dd(t,0),oa=t=>Dd(t,t.dom.childNodes.length-1),oi=t=>t.dom.childNodes.length,ug=t=>t.dom.hasChildNodes(),Pi=t=>{const n=t.dom.head;if(n==null)throw new Error("Head is not available yet");return ht.fromDom(n)},Hf=t=>Pf(t)&&Zt(t.dom.host),Yh=pt(Element.prototype.attachShadow)&&pt(Node.prototype.getRootNode),Vf=re(Yh),Iu=Yh?t=>ht.fromDom(t.dom.getRootNode()):Mi,dg=t=>Hf(t)?t:Pi(Mi(t)),tx=t=>Hf(t)?t:ht.fromDom(Mi(t).dom.body),NS=t=>{const n=Iu(t);return Hf(n)?X.some(n):X.none()},ex=t=>ht.fromDom(t.dom.host),vp=t=>{if(Vf()&&Zt(t.target)){const n=ht.fromDom(t.target);if(Sa(n)&&nx(n)&&t.composed&&t.composedPath){const o=t.composedPath();if(o)return dr(o)}}return X.from(t.target)},nx=t=>Zt(t.dom.shadowRoot),Zl=t=>{const n=ws(t)?t.dom.parentNode:t.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return NS(ht.fromDom(n)).fold(()=>o.body.contains(n),Po(Zl,ex))};var hr=(t,n,o,r,a)=>t(o,r)?X.some(o):pt(a)&&a(o)?X.none():n(o,r,a);const Hs=(t,n,o)=>{let r=t.dom;const a=pt(o)?o:Gt;for(;r.parentNode;){r=r.parentNode;const f=ht.fromDom(r);if(n(f))return X.some(f);if(a(f))break}return X.none()},Nr=(t,n,o)=>hr((a,f)=>f(a),Hs,t,n,o),yp=(t,n)=>{const o=t.dom;return o.parentNode?v0(ht.fromDom(o.parentNode),r=>!Io(t,r)&&n(r)):X.none()},v0=(t,n)=>{const o=a=>n(ht.fromDom(a));return co(t.dom.childNodes,o).map(ht.fromDom)},Ni=(t,n)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const f=ht.fromDom(r.childNodes[a]);if(n(f))return X.some(f);const y=o(r.childNodes[a]);if(y.isSome())return y}return X.none()};return o(t.dom)},fg=(t,n,o)=>Hs(t,r=>Ri(r,n),o),hg=(t,n)=>p0(n,t),Gl=(t,n,o)=>hr((a,f)=>Ri(a,f),fg,t,n,o),Rd=t=>Gl(t,"[contenteditable]"),Ln=(t,n=!1)=>Zl(t)?t.dom.isContentEditable:Rd(t).fold(re(n),o=>sa(o)==="true"),sa=t=>t.dom.contentEditable,Md=t=>t.style!==void 0&&pt(t.style.getPropertyValue),mg=(t,n,o)=>{if(!ft(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Md(t)&&t.style.setProperty(n,o)},y0=(t,n)=>{Md(t)&&t.style.removeProperty(n)},zf=(t,n,o)=>{const r=t.dom;mg(r,n,o)},gg=(t,n)=>{const o=t.dom;Me(n,(r,a)=>{mg(o,a,r)})},ql=(t,n)=>{const o=t.dom,a=window.getComputedStyle(o).getPropertyValue(n);return a===""&&!Zl(t)?Ka(o,n):a},Ka=(t,n)=>Md(t)?t.style.getPropertyValue(n):"",si=(t,n)=>{const o=t.dom,r=Ka(o,n);return X.from(r).filter(a=>a.length>0)},uc=t=>{const n={},o=t.dom;if(Md(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);n[a]=o.style[a]}return n},ri=(t,n)=>{const o=t.dom;y0(o,n),Fs(Di(t,"style").map(Ad),"")&&Lo(t,"style")},Zs=t=>t.dom.offsetWidth,gi=(t,n)=>{Ga(t).each(r=>{r.dom.insertBefore(n.dom,t.dom)})},$u=(t,n)=>{qh(t).fold(()=>{Ga(t).each(a=>{Ks(a,n)})},r=>{gi(r,n)})},Rc=(t,n)=>{Kh(t).fold(()=>{Ks(t,n)},r=>{t.dom.insertBefore(n.dom,r.dom)})},Ks=(t,n)=>{t.dom.appendChild(n.dom)},_0=(t,n)=>{gi(t,n),Ks(n,t)},Jb=(t,n)=>{wt(n,(o,r)=>{const a=r===0?t:n[r-1];$u(a,o)})},ts=(t,n)=>{wt(n,o=>{Ks(t,o)})},Wf=t=>{t.dom.textContent="",wt(mi(t),n=>{Do(n)})},Do=t=>{const n=t.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},al=t=>{const n=mi(t);n.length>0&&Jb(t,n),Do(t)},_p=(t,n)=>{const r=(n||document).createElement("div");return r.innerHTML=t,mi(ht.fromDom(r))},Xh=t=>Ht(t,ht.fromDom),Qb=t=>t.dom.innerHTML,t1=(t,n)=>{const r=lc(t).dom,a=ht.fromDom(r.createDocumentFragment()),f=_p(n,r);ts(a,f),Wf(t),Ks(t,a)},Qn=t=>{const n=ht.fromTag("div"),o=ht.fromDom(t.dom.cloneNode(!0));return Ks(n,o),Qb(n)},Jh=(t,n,o,r,a,f,y)=>({target:t,x:n,y:o,stop:r,prevent:a,kill:f,raw:y}),x0=t=>{const n=ht.fromDom(vp(t).getOr(t.target)),o=()=>t.stopPropagation(),r=()=>t.preventDefault(),a=F(r,o);return Jh(n,t.clientX,t.clientY,o,r,a,t)},ox=(t,n)=>o=>{t(o)&&n(x0(o))},dc=(t,n,o,r,a)=>{const f=ox(o,r);return t.dom.addEventListener(n,f,a),{unbind:Kt(w0,t,n,f,a)}},Ea=(t,n,o,r)=>dc(t,n,o,r,!1),w0=(t,n,o,r)=>{t.dom.removeEventListener(n,o,r)},Uf=(t,n)=>({left:t,top:n,translate:(r,a)=>Uf(t+r,n+a)}),Ya=Uf,C0=t=>{const n=t.getBoundingClientRect();return Ya(n.left,n.top)},xp=(t,n)=>t!==void 0?t:n!==void 0?n:0,S0=t=>{const n=t.dom.ownerDocument,o=n.body,r=n.defaultView,a=n.documentElement;if(o===t.dom)return Ya(o.offsetLeft,o.offsetTop);const f=xp(r==null?void 0:r.pageYOffset,a.scrollTop),y=xp(r==null?void 0:r.pageXOffset,a.scrollLeft),T=xp(a.clientTop,o.clientTop),O=xp(a.clientLeft,o.clientLeft);return cl(t).translate(y-O,f-T)},cl=t=>{const n=t.dom,r=n.ownerDocument.body;return r===n?Ya(r.offsetLeft,r.offsetTop):Zl(t)?C0(n):Ya(0,0)},Pd=t=>{const n=t!==void 0?t.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Ya(o,r)},Fu=(t,n,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(t,n)},Qh=(t,n)=>{Ec().browser.isSafari()&&pt(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(n)},E0=t=>{const n=t===void 0?window:t;return Ec().browser.isFirefox()?X.none():X.from(n.visualViewport)},wp=(t,n,o,r)=>({x:t,y:n,width:o,height:r,right:t+o,bottom:n+r}),Cp=t=>{const n=t===void 0?window:t,o=n.document,r=Pd(ht.fromDom(o));return E0(n).fold(()=>{const a=n.document.documentElement,f=a.clientWidth,y=a.clientHeight;return wp(r.left,r.top,f,y)},a=>wp(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},T0=(t,n)=>Se(mi(t),n),e1=(t,n)=>{let o=[];return wt(mi(t),r=>{n(r)&&(o=o.concat([r])),o=o.concat(e1(r,n))}),o},mr=(t,n)=>g0(n,t),Sp=(t,n,o)=>Hs(t,n,o).isSome(),ra=(t,n)=>yp(t,n).isSome(),mn=(t,n)=>Ni(t,n).isSome();class Vs{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,a){if(n){if(!a&&n[o])return n[o];if(n!==this.rootNode){let f=n[r];if(f)return f;for(let y=n.parentNode;y&&y!==this.rootNode;y=y.parentNode)if(f=y[r],f)return f}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let f=r.lastChild;f;f=f.lastChild)if(!f.lastChild)return f}return r}const a=n.parentNode;if(a&&a!==this.rootNode)return a}}}const Hu="\uFEFF",zs=" ",Vu=t=>t===Hu,A0=t=>t.replace(/\uFEFF/g,""),Kl=/^[ \t\r\n]*$/,ll=t=>Kl.test(t),jf=t=>{for(const n of t)if(!Vu(n))return!1;return!0},Cs=t=>" \f	\v".indexOf(t)!==-1,tm=t=>t===`
`||t==="\r",n1=(t,n)=>n<t.length&&n>=0?tm(t[n]):!1,o1=(t,n=4,o=!0,r=!0)=>{const a=jb(" ",n),f=t.replace(/\t/g,a);return yo(f,(T,O)=>Cs(O)||O===zs?T.pcIsSpace||T.str===""&&o||T.str.length===f.length-1&&r||n1(f,T.str.length+1)?{pcIsSpace:!1,str:T.str+zs}:{pcIsSpace:!0,str:T.str+" "}:{pcIsSpace:tm(O),str:T.str+O},{pcIsSpace:!1,str:""}).str},Nd=t=>n=>!!n&&n.nodeType===t,Ep=t=>!!t&&!Object.getPrototypeOf(t),Ge=Nd(1),zu=t=>Ge(t)&&cc(ht.fromDom(t)),em=t=>Ge(t)&&t.namespaceURI==="http://www.w3.org/2000/svg",Zf=t=>{const n=t.toLowerCase();return o=>Zt(o)&&o.nodeName.toLowerCase()===n},Xa=t=>{const n=t.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return Mt(n,r)}return!1}},as=(t,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Ge(r)){const a=r.ownerDocument.defaultView;if(a)for(let f=0;f<o.length;f++){const y=a.getComputedStyle(r,null);if((y?y.getPropertyValue(t):null)===o[f])return!0}}return!1}},Mc=t=>n=>Ge(n)&&n.hasAttribute(t),Tr=t=>Ge(t)&&t.hasAttribute("data-mce-bogus"),nm=t=>Ge(t)&&t.getAttribute("data-mce-bogus")==="all",or=t=>Ge(t)&&t.tagName==="TABLE",Tp=t=>n=>!!(zu(n)&&(n.contentEditable===t||n.getAttribute("data-mce-contenteditable")===t)),sr=Xa(["textarea","input"]),se=Nd(3),Ld=Nd(4),oe=Nd(7),jr=Nd(8),om=Nd(9),Ys=Nd(11),es=Zf("br"),Ap=Zf("img"),gr=Tp("true"),cs=Tp("false"),Pc=Xa(["td","th"]),s1=Xa(["td","th","caption"]),Xs=Xa(["video","audio","object","embed"]),So=Zf("li"),Nc=Zf("details"),pg=Zf("summary"),$o={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},r1=(t,n,o)=>{const r=ht.fromDom(n),a=ht.fromDom(t),f=o.getWhitespaceElements();return Sp(a,T=>Sn(f,xo(T)),Kt(Io,r))},Ta=t=>Ge(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")),Bd=(t,n)=>Ge(t)&&Sn(n.getNonEmptyElements(),t.nodeName),Li=Mc("data-mce-bookmark"),kp=t=>Bu(ht.fromDom(t)).exists(n=>!Ln(n)),Rt=(t,n,o)=>ll(t.data)&&!r1(t,n,o),fc=(t,n,o,r)=>se(t)&&!Rt(t,n,o)&&(!r.includeZwsp||!jf(t.data)),bg=(t,n,o,r)=>pt(r.isContent)&&r.isContent(n)||Bd(n,t)||Li(n)||Ta(n)||fc(n,o,t,r)||cs(n)||gr(n)&&kp(n),pi=(t,n,o)=>{const r={...$o,...o};if(r.checkRootAsContent&&bg(t,n,n,r))return!1;let a=n.firstChild,f=0;if(!a)return!0;const y=new Vs(a,n);do{if(r.skipBogus&&Ge(a)){const T=a.getAttribute("data-mce-bogus");if(T){a=y.next(T==="all");continue}}if(jr(a)){a=y.next(!0);continue}if(es(a)){f++,a=y.next();continue}if(bg(t,a,n,r))return!1;a=y.next()}while(a);return f<=1},Ws=(t,n,o)=>pi(t,n.dom,{checkRootAsContent:!0,...o}),ii=(t,n,o)=>bg(t,n,n,{includeZwsp:$o.includeZwsp,...o}),Ss=t=>t.toLowerCase()==="svg",Id=t=>Ss(t.nodeName),Wu=t=>(t==null?void 0:t.nodeName)==="svg"?"svg":"html",Op=["svg"],an=()=>{let t=[];const n=()=>t[t.length-1];return{track:f=>{Id(f)&&t.push(f);let y=n();return y&&!y.contains(f)&&(t.pop(),y=n()),Wu(y)},current:()=>Wu(n()),reset:()=>{t=[]}}},Dp="data-mce-block",ul=t=>Se(zr(t),n=>!/[A-Z]/.test(n)),Uu=t=>Ht(ul(t),n=>`${n}:`+Ht(Op,o=>`not(${o} ${n})`).join(":")).join(","),k0=(t,n)=>Zt(n.querySelector(t))?(n.setAttribute(Dp,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Dp),!1),vg=(t,n)=>{const o=Uu(t.getTransparentElements()),r=Uu(t.getBlockElements());return Se(n.querySelectorAll(o),a=>k0(r,a))},yg=(t,n,o)=>{var r;const a=o?"lastChild":"firstChild";for(let f=n[a];f;f=f[a])if(pi(t,f,{checkRootAsContent:!0})){(r=f.parentNode)===null||r===void 0||r.removeChild(f);return}},sx=(t,n,o)=>{const r=document.createRange(),a=n.parentNode;if(a){r.setStartBefore(n),r.setEndBefore(o);const f=r.extractContents();yg(t,f,!0),r.setStartAfter(o),r.setEndAfter(n);const y=r.extractContents();yg(t,y,!1),pi(t,f,{checkRootAsContent:!0})||a.insertBefore(f,n),pi(t,o,{checkRootAsContent:!0})||a.insertBefore(o,n),pi(t,y,{checkRootAsContent:!0})||a.insertBefore(y,n),a.removeChild(n)}},Lc=(t,n,o)=>{const r=t.getBlockElements(),a=ht.fromDom(n),f=T=>xo(T)in r,y=T=>Io(T,a);wt(Xh(o),T=>{Hs(T,f,y).each(O=>{const B=T0(T,U=>f(U)&&!t.isValidChild(xo(O),xo(U)));if(B.length>0){const U=Bu(O);wt(B,j=>{Hs(j,f,y).each(q=>{sx(t,q.dom,j.dom)})}),U.each(j=>vg(t,j.dom))}})})},ju=(t,n,o)=>{wt([...o,...Fd(t,n)?[n]:[]],r=>wt(mr(ht.fromDom(r),r.nodeName.toLowerCase()),a=>{Hd(t,a.dom)&&al(a)}))},sm=(t,n)=>{const o=vg(t,n);Lc(t,n,o),ju(t,n,o)},i1=(t,n)=>{if($d(t,n)){const o=Uu(t.getBlockElements());k0(o,n)}},a1=(t,n,o)=>{const r=f=>Io(f,ht.fromDom(n)),a=Xb(ht.fromDom(o),r);ys(a,a.length-2).filter(Sa).fold(()=>sm(t,n),f=>sm(t,f.dom))},Zu=t=>t.hasAttribute(Dp),Gf=(t,n)=>Sn(t.getTransparentElements(),n),$d=(t,n)=>Ge(n)&&Gf(t,n.nodeName),Fd=(t,n)=>$d(t,n)&&Zu(n),Hd=(t,n)=>$d(t,n)&&!Zu(n),hc=(t,n)=>n.type===1&&Gf(t,n.name)&&ft(n.attr(Dp)),c1=Ec().browser,O0=t=>co(t,Sa),D0=t=>c1.isFirefox()&&xo(t)==="table"?O0(mi(t)).filter(n=>xo(n)==="caption").bind(n=>O0(qa(n)).map(o=>{const r=o.dom.offsetTop,a=n.dom.offsetTop,f=n.dom.offsetHeight;return r<=a?-f:0})).getOr(0):0,l1=(t,n)=>t.children&&Mt(t.children,n),pr=(t,n,o)=>{let r=0,a=0;const f=t.ownerDocument;if(o=o||t,n){if(o===t&&n.getBoundingClientRect&&ql(ht.fromDom(t),"position")==="static"){const T=n.getBoundingClientRect();return r=T.left+(f.documentElement.scrollLeft||t.scrollLeft)-f.documentElement.clientLeft,a=T.top+(f.documentElement.scrollTop||t.scrollTop)-f.documentElement.clientTop,{x:r,y:a}}let y=n;for(;y&&y!==o&&y.nodeType&&!l1(y,o);){const T=y;r+=T.offsetLeft||0,a+=T.offsetTop||0,y=T.offsetParent}for(y=n.parentNode;y&&y!==o&&y.nodeType&&!l1(y,o);)r-=y.scrollLeft||0,a-=y.scrollTop||0,y=y.parentNode;a+=D0(ht.fromDom(n))}return{x:r,y:a}},dl=(t,n={})=>{let o=0;const r={},a=ht.fromDom(t),f=Mi(a),y=xt=>{n.referrerPolicy=xt},T=xt=>{n.contentCssCors=xt},O=xt=>{Ks(dg(a),xt)},B=xt=>{const St=dg(a);hg(St,"#"+xt).each(Do)},U=xt=>ms(r,xt).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),j=xt=>new Promise((St,Et)=>{let Nt;const Jt=fe._addCacheSuffix(xt),ge=U(Jt);r[Jt]=ge,ge.count++;const Re=(Oe,tn)=>{wt(Oe,Bo),ge.status=tn,ge.passed=[],ge.failed=[],Nt&&(Nt.onload=null,Nt.onerror=null,Nt=null)},le=()=>Re(ge.passed,2),jt=()=>Re(ge.failed,3);if(St&&ge.passed.push(St),Et&&ge.failed.push(Et),ge.status===1)return;if(ge.status===2){le();return}if(ge.status===3){jt();return}ge.status=1;const Qt=ht.fromTag("link",f.dom);Ac(Qt,{rel:"stylesheet",type:"text/css",id:ge.id}),n.contentCssCors&&is(Qt,"crossOrigin","anonymous"),n.referrerPolicy&&is(Qt,"referrerpolicy",n.referrerPolicy),Nt=Qt.dom,Nt.onload=le,Nt.onerror=jt,O(Qt),is(Qt,"href",Jt)}),q=(xt,St)=>{const Et=U(xt);r[xt]=Et,Et.count++;const Nt=ht.fromTag("style",f.dom);Ac(Nt,{rel:"stylesheet",type:"text/css",id:Et.id}),Nt.dom.innerHTML=St,O(Nt)},nt=xt=>Promise.allSettled(Ht(xt,Et=>j(Et).then(re(Et)))).then(Et=>{const Nt=kn(Et,Jt=>Jt.status==="fulfilled");return Nt.fail.length>0?Promise.reject(Ht(Nt.fail,Jt=>Jt.reason)):Ht(Nt.pass,Jt=>Jt.value)}),at=xt=>{const St=fe._addCacheSuffix(xt);ms(r,St).each(Et=>{--Et.count===0&&(delete r[St],B(Et.id))})};return{load:j,loadRawCss:q,loadAll:nt,unload:at,unloadRawCss:xt=>{ms(r,xt).each(St=>{--St.count===0&&(delete r[xt],B(St.id))})},unloadAll:xt=>{wt(xt,St=>{at(St)})},_setReferrerPolicy:y,_setContentCssCors:T}},Yl=(()=>{const t=new WeakMap;return{forElement:(o,r)=>{const f=Iu(o).dom;return X.from(t.get(f)).getOrThunk(()=>{const y=dl(f,r);return t.set(f,y),y})}}})(),_g=t=>t.nodeName.toLowerCase()==="span",ia=(t,n)=>Zt(t)&&(ii(n,t)||n.isInline(t.nodeName.toLowerCase())),xg=(t,n,o)=>{const r=new Vs(t,n).prev(!1),a=new Vs(t,n).next(!1),f=Hn(r)||ia(r,o),y=Hn(a)||ia(a,o);return f&&y},qf=t=>_g(t)&&t.getAttribute("data-mce-type")==="bookmark",u1=(t,n,o)=>se(t)&&t.data.length>0&&xg(t,n,o),Xl=t=>Ge(t)?t.childNodes.length>0:!1,Bc=t=>Ys(t)||om(t),rm=(t,n,o,r)=>{var a;const f=r||n;if(Ge(n)&&qf(n))return n;const y=n.childNodes;for(let T=y.length-1;T>=0;T--)rm(t,y[T],o,f);if(Ge(n)){const T=n.childNodes;T.length===1&&qf(T[0])&&((a=n.parentNode)===null||a===void 0||a.insertBefore(T[0],n))}return!Bc(n)&&!ii(o,n)&&!Xl(n)&&!u1(n,f,o)&&t.remove(n),n},Ic=fe.makeMap,fl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Aa=/[<>&\"\']/g,Gu=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,qu={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ml={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},rx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ix=t=>{const n=ht.fromTag("div").dom;return n.innerHTML=t,n.textContent||n.innerText||t},Ds=(t,n)=>{const o={};if(t){const r=t.split(",");n=n||10;for(let a=0;a<r.length;a+=2){const f=String.fromCharCode(parseInt(r[a],n));if(!ml[f]){const y="&"+r[a+1]+";";o[f]=y,o[y]=f}}return o}else return},d1=Ds("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Jl=(t,n)=>t.replace(n?fl:hl,o=>ml[o]||o),Ku=t=>(""+t).replace(Aa,n=>ml[n]||n),Vd=(t,n)=>t.replace(n?fl:hl,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ml[o]||"&#"+o.charCodeAt(0)+";"),$c=(t,n,o)=>{const r=o||d1;return t.replace(n?fl:hl,a=>ml[a]||r[a]||a)},Bi={encodeRaw:Jl,encodeAllRaw:Ku,encodeNumeric:Vd,encodeNamed:$c,getEncodeFunc:(t,n)=>{const o=Ds(n)||d1,r=(y,T)=>y.replace(T?fl:hl,O=>ml[O]!==void 0?ml[O]:o[O]!==void 0?o[O]:O.length>1?"&#"+((O.charCodeAt(0)-55296)*1024+(O.charCodeAt(1)-56320)+65536)+";":"&#"+O.charCodeAt(0)+";"),a=(y,T)=>$c(y,T,o),f=Ic(t.replace(/\+/g,","));return f.named&&f.numeric?r:f.named?n?a:$c:f.numeric?Vd:Jl},decode:t=>t.replace(Gu,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):qu[o]||String.fromCharCode(o)):rx[n]||d1[n]||ix(n))},br=(t,n)=>(t=fe.trim(t),t?t.split(n||" "):[]),wg=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),Mp=t=>We(t)&&t.source&&Object.prototype.toString.call(t)==="[object RegExp]",Pp=t=>{const n=o=>ln(o)?Ht(o,n):Mp(o)?new RegExp(o.source,o.flags):We(o)?ho(o,n):o;return n(t)},f1=t=>{const n=/^(~)?(.+)$/;return Ps(br(t,","),o=>{const r=n.exec(o);if(r){const f=r[1]==="~"?"span":"div",y=r[2];return[{cloneName:f,name:y}]}else return[]})},R0=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),im=t=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},zd=t=>{const{blockContent:n,phrasingContent:o,flowContent:r}=im(t),a=f=>Object.freeze(f.split(" "));return Object.freeze({blockContent:a(n),phrasingContent:a(o),flowContent:a(r)})},aa={html4:$l(()=>zd("html4")),html5:$l(()=>zd("html5")),"html5-strict":$l(()=>zd("html5-strict"))},Fc=(t,n)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=aa[t]();return n==="blocks"?X.some(o):n==="phrasing"?X.some(r):n==="flow"?X.some(a):X.none()},Ql=t=>{const n=R0(t),{phrasingContent:o,flowContent:r}=im(t),a={},f=(O,B,U)=>{a[O]={attributes:Oo(B,re({})),attributesOrder:B,children:Oo(U,re({}))}},y=(O,B="",U="")=>{const j=br(U),q=br(O);let nt=q.length;const at=[...n,...br(B)];for(;nt--;)f(q[nt],at.slice(),j)},T=(O,B)=>{const U=br(O),j=br(B);let q=U.length;for(;q--;){const nt=a[U[q]];for(let at=0,st=j.length;at<st;at++)nt.attributes[j[at]]={},nt.attributesOrder.push(j[at])}};return t!=="html5-strict"&&(wt(br("acronym applet basefont big font strike tt"),U=>{y(U,"",o)}),wt(br("center dir isindex noframes"),U=>{y(U,"",r)})),y("html","manifest","head body"),y("head","","base command link meta noscript script style title"),y("title hr noscript br"),y("base","href target"),y("link","href rel media hreflang type sizes hreflang"),y("meta","name http-equiv content charset"),y("style","media type scoped"),y("script","src async defer type charset"),y("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),y("dd div","",r),y("address dt caption","",t==="html4"?o:r),y("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),y("blockquote","cite",r),y("ol","reversed start type","li"),y("ul","","li"),y("li","value",r),y("dl","","dt dd"),y("a","href target rel media hreflang type",t==="html4"?o:r),y("q","cite",o),y("ins del","cite datetime",r),y("img","src sizes srcset alt usemap ismap width height"),y("iframe","src name width height",r),y("embed","src type width height"),y("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),y("param","name value"),y("map","name",[r,"area"].join(" ")),y("area","alt coords shape href target rel media hreflang type"),y("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),y("colgroup","span","col"),y("col","span"),y("tbody thead tfoot","","tr"),y("tr","","td th"),y("td","colspan rowspan headers",r),y("th","colspan rowspan headers scope abbr",r),y("form","accept-charset action autocomplete enctype method name novalidate target",r),y("fieldset","disabled form name",[r,"legend"].join(" ")),y("label","form for",o),y("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),y("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?r:o),y("select","disabled form multiple name required size","option optgroup"),y("optgroup","disabled label","option"),y("option","disabled label selected value"),y("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),y("menu","type label",[r,"li"].join(" ")),y("noscript","",r),t!=="html4"&&(y("wbr"),y("ruby","",[o,"rt rp"].join(" ")),y("figcaption","",r),y("mark rt rp bdi","",o),y("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),y("canvas","width height",r),y("data","value",o),y("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),y("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),y("picture","","img source"),y("source","src srcset type media sizes"),y("track","kind src srclang label default"),y("datalist","",[o,"option"].join(" ")),y("article section nav aside main header footer","",r),y("hgroup","","h1 h2 h3 h4 h5 h6"),y("figure","",[r,"figcaption"].join(" ")),y("time","datetime",o),y("dialog","open",r),y("command","type label icon disabled checked radiogroup command"),y("output","for form name",o),y("progress","value max",o),y("meter","value min max low high optimum",o),y("details","open",[r,"summary"].join(" ")),y("keygen","autofocus challenge disabled form keytype name"),f("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),t!=="html5-strict"&&(T("script","language xml:space"),T("style","xml:space"),T("object","declare classid code codebase codetype archive standby align border hspace vspace"),T("embed","align name hspace vspace"),T("param","valuetype type"),T("a","charset name rev shape coords"),T("br","clear"),T("applet","codebase archive code object alt name width height align hspace vspace"),T("img","name longdesc align border hspace vspace"),T("iframe","longdesc frameborder marginwidth marginheight scrolling align"),T("font basefont","size color face"),T("input","usemap align"),T("select"),T("textarea"),T("h1 h2 h3 h4 h5 h6 div p legend caption","align"),T("ul","type compact"),T("li","type"),T("ol dl menu dir","compact"),T("pre","width xml:space"),T("hr","align noshade size width"),T("isindex","prompt"),T("table","summary width frame rules cellspacing cellpadding align bgcolor"),T("col","width align char charoff valign"),T("colgroup","width align char charoff valign"),T("thead","align char charoff valign"),T("tr","align char charoff valign bgcolor"),T("th","axis align char charoff valign nowrap bgcolor width height"),T("form","accept"),T("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),T("tfoot","align char charoff valign"),T("tbody","align char charoff valign"),T("area","nohref"),T("body","background bgcolor text link vlink alink")),t!=="html4"&&(T("input button select textarea","autofocus"),T("input textarea","placeholder"),T("a","download"),T("link script img","crossorigin"),T("img","loading"),T("iframe","sandbox seamless allow allowfullscreen loading")),t!=="html4"&&wt([a.video,a.audio],O=>{delete O.children.audio,delete O.children.video}),wt(br("a form meter progress dfn"),O=>{a[O]&&delete a[O].children[O]}),delete a.caption.children.table,delete a.script,a},Yf=t=>t==="-"?"remove":"add",Hc=t=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return X.from(n.exec(t)).map(o=>({preset:o[1]==="@",name:o[2]}))},am=t=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ps(br(t,","),o=>{const r=n.exec(o);if(r){const a=r[1],f=a?Yf(a):"replace",y=r[2],T=Ps(br(r[3],"|"),O=>Hc(O).toArray());return[{operation:f,name:y,validChildren:T}]}else return[]})},h1=(t,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:f}=n;return wt(br(t,"|"),y=>{const T=o.exec(y);if(T){const O={},B=T[1],U=T[2].replace(/[\\:]:/g,":"),j=T[3],q=T[4];if(B==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(U),O.required=!0),B==="-"){delete a[U],f.splice(fe.inArray(f,U),1);return}if(j&&(j==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:U,value:q}),O.defaultValue=q):j==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:U,value:q}),O.forcedValue=q):j==="<"&&(O.validValues=fe.makeMap(q,"?"))),r.test(U)){const nt=O;n.attributePatterns=n.attributePatterns||[],nt.pattern=wg(U),n.attributePatterns.push(nt)}else a[U]||f.push(U),a[U]=O}})},m1=(t,n)=>{Me(t.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...t.attributesOrder)},g1=(t,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ps(br(n,","),r=>{const a=o.exec(r);if(a){const f=a[1],y=a[2],T=a[3],O=a[4],B=a[5],U={attributes:{},attributesOrder:[]};if(t.each(j=>m1(j,U)),f==="#"?U.paddEmpty=!0:f==="-"&&(U.removeEmpty=!0),O==="!"&&(U.removeEmptyAttrs=!0),B&&h1(B,U),T&&(U.outputName=y),y==="@")if(t.isNone())t=X.some(U);else return[];return[T?{name:y,element:U,aliasName:T}:{name:y,element:U}]}else return[]})},cm={},Xf=fe.makeMap,zn=fe.each,on=fe.extend,tu=fe.explode,Np=(t,n={})=>{const o=Xf(t," ",Xf(t.toUpperCase()," "));return on(o,n)},Lp=t=>Np("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),p1=(t,n)=>{if(t){const o={};return ft(t)&&(t={"*":t}),zn(t,(r,a)=>{o[a]=o[a.toUpperCase()]=n==="map"?Xf(r,/[, ]/):tu(r,/[, ]/)}),o}else return},Yu=(t={})=>{var n;const o={},r={};let a=[];const f={},y={},T=(nn,fo,Bs)=>{const Qs=t[nn];if(Qs)return Xf(Qs,/[, ]/,Xf(Qs.toUpperCase(),/[, ]/));{let Mr=cm[nn];return Mr||(Mr=Np(fo,Bs),cm[nn]=Mr),Mr}},O=(n=t.schema)!==null&&n!==void 0?n:"html5",B=Ql(O);t.verify_html===!1&&(t.valid_elements="*[*]");const U=p1(t.valid_styles),j=p1(t.invalid_styles,"map"),q=p1(t.valid_classes,"map"),nt=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),at=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),st=T("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ct=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),xt="td th iframe video audio object script code",St=T("non_empty_elements",xt+" pre svg textarea summary",st),Et=T("move_caret_before_on_enter_elements",xt+" table",st),Nt="h1 h2 h3 h4 h5 h6",Jt=T("text_block_elements",Nt+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ge=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Jt),Re=T("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),le=T("transparent_elements","a ins del canvas map"),jt=T("wrap_block_elements","pre "+Nt);zn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),nn=>{y[nn]=new RegExp("</"+nn+"[^>]*>","gi")});const Qt=nn=>{const fo=X.from(o["@"]),Bs=/[*?+]/;wt(g1(fo,nn??""),({name:Qs,element:Mr,aliasName:wi})=>{if(wi&&(o[wi]=Mr),Bs.test(Qs)){const lr=Mr;lr.pattern=wg(Qs),a.push(lr)}else o[Qs]=Mr})},Oe=nn=>{a=[],wt(zr(o),fo=>{delete o[fo]}),Qt(nn)},tn=(nn,fo)=>{var Bs,Qs;delete cm.text_block_elements,delete cm.block_elements;const Mr=fo.extends?!Ll(fo.extends):!1,wi=fo.extends;if(r[nn]=wi?r[wi]:{},f[nn]=wi??nn,St[nn.toUpperCase()]={},St[nn]={},Mr||(ge[nn.toUpperCase()]={},ge[nn]={}),wi&&!o[nn]&&o[wi]){const lr=Pp(o[wi]);delete lr.removeEmptyAttrs,delete lr.removeEmpty,o[nn]=lr}else o[nn]={attributesOrder:[],attributes:{}};if(ln(fo.attributes)){const lr=Ha=>{wr.attributesOrder.push(Ha),wr.attributes[Ha]={}},wr=(Bs=o[nn])!==null&&Bs!==void 0?Bs:{};delete wr.attributesDefault,delete wr.attributesForced,delete wr.attributePatterns,delete wr.attributesRequired,wr.attributesOrder=[],wr.attributes={},wt(fo.attributes,Ha=>{const _d=R0(O);Hc(Ha).each(({preset:_f,name:xf})=>{_f?xf==="global"&&wt(_d,lr):lr(xf)})}),o[nn]=wr}if(wn(fo.padEmpty)){const lr=(Qs=o[nn])!==null&&Qs!==void 0?Qs:{};lr.paddEmpty=fo.padEmpty,o[nn]=lr}if(ln(fo.children)){const lr={},wr=_d=>{lr[_d]={}},Ha=_d=>{Fc(O,_d).each(_f=>{wt(_f,wr)})};wt(fo.children,_d=>{Hc(_d).each(({preset:_f,name:xf})=>{_f?Ha(xf):wr(xf)})}),r[nn]=lr}wi&&Me(r,(lr,wr)=>{lr[wi]&&(r[wr]=lr=on({},r[wr]),lr[nn]=lr[wi])})},Un=nn=>{wt(f1(nn??""),({name:fo,cloneName:Bs})=>{tn(fo,{extends:Bs})})},no=nn=>{We(nn)?Me(nn,(fo,Bs)=>tn(Bs,fo)):ft(nn)&&Un(nn)},Vo=nn=>{wt(am(nn??""),({operation:fo,name:Bs,validChildren:Qs})=>{const Mr=fo==="replace"?{"#comment":{}}:r[Bs],wi=wr=>{fo==="remove"?delete Mr[wr]:Mr[wr]={}},lr=wr=>{Fc(O,wr).each(Ha=>{wt(Ha,wi)})};wt(Qs,({preset:wr,name:Ha})=>{wr?lr(Ha):wi(Ha)}),r[Bs]=Mr})},Yo=nn=>{const fo=o[nn];if(fo)return fo;let Bs=a.length;for(;Bs--;){const Qs=a[Bs];if(Qs.pattern.test(nn))return Qs}},bs=()=>{t.valid_elements?(Oe(t.valid_elements),zn(B,(nn,fo)=>{r[fo]=nn.children})):(zn(B,(nn,fo)=>{o[fo]={attributes:nn.attributes,attributesOrder:nn.attributesOrder},r[fo]=nn.children}),zn(br("strong/b em/i"),nn=>{const fo=br(nn,"/");o[fo[1]].outputName=fo[0]}),zn(Re,(nn,fo)=>{o[fo]&&(t.padd_empty_block_inline_children&&(o[fo].paddInEmptyBlock=!0),o[fo].removeEmpty=!0)}),zn(br("ol ul blockquote a table tbody"),nn=>{o[nn]&&(o[nn].removeEmpty=!0)}),zn(br("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),nn=>{o[nn]&&(o[nn].paddEmpty=!0)}),zn(br("span"),nn=>{o[nn].removeEmptyAttrs=!0})),delete o.svg,no(t.custom_elements),Vo(t.valid_children),Qt(t.extended_valid_elements),Vo("+ol[ul|ol],+ul[ul|ol]"),zn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(nn,fo)=>{o[fo]&&(o[fo].parentsRequired=br(nn))}),t.invalid_elements&&zn(tu(t.invalid_elements),nn=>{o[nn]&&delete o[nn]}),Yo("span")||Qt("span[!data-mce-type|*]")},Ki=re(U),Xo=re(j),Ce=re(q),Qe=re(ct),so=re(ge),ke=re(Jt),hn=re(Re),Xn=re(Object.seal(st)),Ne=re(at),qn=re(St),Kn=re(Et),Fr=re(nt),zo=re(le),Hr=re(jt),Su=re(Object.seal(y)),Rh=(nn,fo)=>{const Bs=r[nn.toLowerCase()];return!!(Bs&&Bs[fo.toLowerCase()])},Fa=(nn,fo)=>{const Bs=Yo(nn);if(Bs)if(fo){if(Bs.attributes[fo])return!0;const Qs=Bs.attributePatterns;if(Qs){let Mr=Qs.length;for(;Mr--;)if(Qs[Mr].pattern.test(fo))return!0}}else return!0;return!1},Ll=nn=>Sn(so(),nn),vd=nn=>!er(nn,"#")&&Fa(nn)&&!Ll(nn),Bl=nn=>Sn(Hr(),nn)||vd(nn),yd=re(f);return bs(),{type:O,children:r,elements:o,getValidStyles:Ki,getValidClasses:Ce,getBlockElements:so,getInvalidStyles:Xo,getVoidElements:Xn,getTextBlockElements:ke,getTextInlineElements:hn,getBoolAttrs:Qe,getElementRule:Yo,getSelfClosingElements:Ne,getNonEmptyElements:qn,getMoveCaretBeforeOnEnterElements:Kn,getWhitespaceElements:Fr,getTransparentElements:zo,getSpecialElements:Su,isValidChild:Rh,isValid:Fa,isBlock:Ll,isInline:vd,isWrapper:Bl,getCustomElements:yd,addValidElements:Qt,setValidElements:Oe,addCustomElements:no,addValidChildren:Vo}},jo=t=>({value:M0(t)}),M0=t=>Du(t,"#").toUpperCase(),Bp=t=>{const n=t.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Ip=t=>{const n=Bp(t.red)+Bp(t.green)+Bp(t.blue);return jo(n)},Xt=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,$p=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,P0=(t,n,o,r)=>({red:t,green:n,blue:o,alpha:r}),Wd=(t,n,o,r)=>{const a=parseInt(t,10),f=parseInt(n,10),y=parseInt(o,10),T=parseFloat(r);return P0(a,f,y,T)},N0=t=>{if(t==="transparent")return X.some(P0(0,0,0,0));const n=Xt.exec(t);if(n!==null)return X.some(Wd(n[1],n[2],n[3],"1"));const o=$p.exec(t);return o!==null?X.some(Wd(o[1],o[2],o[3],o[4])):X.none()},eu=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,Jf=t=>N0(t).map(Ip).map(n=>"#"+n.value).getOr(t),Vc=(t={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,f=/rgba *\(/i,y={};let T,O;const B=Hu;n&&(T=n.getValidStyles(),O=n.getInvalidStyles());const U=(`\\" \\' \\; \\: ; : `+B).split(" ");for(let q=0;q<U.length;q++)y[U[q]]=B+q,y[B+q]=U[q];const j={parse:q=>{const nt={};let at=!1;const st=t.url_converter,ct=t.url_converter_scope||j,xt=(jt,Qt,Oe)=>{const tn=nt[jt+"-top"+Qt];if(!tn)return;const Un=nt[jt+"-right"+Qt];if(!Un)return;const no=nt[jt+"-bottom"+Qt];if(!no)return;const Vo=nt[jt+"-left"+Qt];if(!Vo)return;const Yo=[tn,Un,no,Vo];let bs=Yo.length-1;for(;bs--&&Yo[bs]===Yo[bs+1];);bs>-1&&Oe||(nt[jt+Qt]=bs===-1?Yo[0]:Yo.join(" "),delete nt[jt+"-top"+Qt],delete nt[jt+"-right"+Qt],delete nt[jt+"-bottom"+Qt],delete nt[jt+"-left"+Qt])},St=jt=>{const Qt=nt[jt];if(!Qt)return;const Oe=Qt.indexOf(",")>-1?[Qt]:Qt.split(" ");let tn=Oe.length;for(;tn--;)if(Oe[tn]!==Oe[0])return!1;return nt[jt]=Oe[0],!0},Et=(jt,Qt,Oe,tn)=>{St(Qt)&&St(Oe)&&St(tn)&&(nt[jt]=nt[Qt]+" "+nt[Oe]+" "+nt[tn],delete nt[Qt],delete nt[Oe],delete nt[tn])},Nt=jt=>(at=!0,y[jt]),Jt=(jt,Qt)=>(at&&(jt=jt.replace(/\uFEFF[0-9]/g,Oe=>y[Oe])),Qt||(jt=jt.replace(/\\([\'\";:])/g,"$1")),jt),ge=jt=>String.fromCharCode(parseInt(jt.slice(1),16)),Re=jt=>jt.replace(/\\[0-9a-f]+/gi,ge),le=(jt,Qt,Oe,tn,Un,no)=>{if(Un=Un||no,Un)return Un=Jt(Un),"'"+Un.replace(/\'/g,"\\'")+"'";if(Qt=Jt(Qt||Oe||tn||""),!t.allow_script_urls){const Vo=Qt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Vo)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Vo))return""}return st&&(Qt=st.call(ct,Qt,"style")),"url('"+Qt.replace(/\'/g,"\\'")+"')"};if(q){q=q.replace(/[\u0000-\u001F]/g,""),q=q.replace(/\\[\"\';:\uFEFF]/g,Nt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Qt=>Qt.replace(/[;:]/g,Nt));let jt;for(;jt=r.exec(q);){r.lastIndex=jt.index+jt[0].length;let Qt=jt[1].replace(a,"").toLowerCase(),Oe=jt[2].replace(a,"");if(Qt&&Oe){if(Qt=Re(Qt),Oe=Re(Oe),Qt.indexOf(B)!==-1||Qt.indexOf('"')!==-1||!t.allow_script_urls&&(Qt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Oe)))continue;Qt==="font-weight"&&Oe==="700"?Oe="bold":(Qt==="color"||Qt==="background-color")&&(Oe=Oe.toLowerCase()),f.test(Oe)||N0(Oe).each(tn=>{Oe=Jf(eu(tn)).toLowerCase()}),Oe=Oe.replace(o,le),nt[Qt]=at?Jt(Oe,!0):Oe}}xt("border","",!0),xt("border","-width"),xt("border","-color"),xt("border","-style"),xt("padding",""),xt("margin",""),Et("border","border-width","border-style","border-color"),nt.border==="medium none"&&delete nt.border,nt["border-image"]==="none"&&delete nt["border-image"]}return nt},serialize:(q,nt)=>{let at="";const st=(xt,St)=>{const Et=St[xt];if(Et)for(let Nt=0,Jt=Et.length;Nt<Jt;Nt++){const ge=Et[Nt],Re=q[ge];Re&&(at+=(at.length>0?" ":"")+ge+": "+Re+";")}},ct=(xt,St)=>{if(!O||!St)return!0;let Et=O["*"];return Et&&Et[xt]?!1:(Et=O[St],!(Et&&Et[xt]))};return nt&&T?(st("*",T),st(nt,T)):Me(q,(xt,St)=>{xt&&ct(St,nt)&&(at+=(at.length>0?" ":"")+St+": "+xt+";")}),at}};return j},b1={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},lm=t=>t instanceof Event||pt(t.initEvent),ps=t=>t.isDefaultPrevented===Ae||t.isDefaultPrevented===Gt,mc=t=>sn(t.preventDefault)||lm(t),L0=(t,n)=>{const o=n??{};for(const r in t)Sn(b1,r)||(o[r]=t[r]);return Zt(t.composedPath)&&(o.composedPath=()=>t.composedPath()),Zt(t.getModifierState)&&(o.getModifierState=r=>t.getModifierState(r)),Zt(t.getTargetRanges)&&(o.getTargetRanges=()=>t.getTargetRanges()),o},Oa=(t,n,o,r)=>{var a;const f=L0(n,r);return f.type=t,sn(f.target)&&(f.target=(a=f.srcElement)!==null&&a!==void 0?a:o),mc(n)&&(f.preventDefault=()=>{f.defaultPrevented=!0,f.isDefaultPrevented=Ae,pt(n.preventDefault)&&n.preventDefault()},f.stopPropagation=()=>{f.cancelBubble=!0,f.isPropagationStopped=Ae,pt(n.stopPropagation)&&n.stopPropagation()},f.stopImmediatePropagation=()=>{f.isImmediatePropagationStopped=Ae,f.stopPropagation()},ps(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Ae:Gt,f.isPropagationStopped=f.cancelBubble===!0?Ae:Gt,f.isImmediatePropagationStopped=Gt)),f},nu="mce-data-",gl=/^(?:mouse|contextmenu)|click/,Xu=(t,n,o,r)=>{t.addEventListener(n,o,r||!1)},Qf=(t,n,o,r)=>{t.removeEventListener(n,o,r||!1)},B0=t=>Zt(t)&&gl.test(t.type),th=(t,n)=>{const o=Oa(t.type,t,document,n);if(B0(t)&&Hn(t.pageX)&&!Hn(t.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,f=r.body,y=o;y.pageX=t.clientX+(a&&a.scrollLeft||f&&f.scrollLeft||0)-(a&&a.clientLeft||f&&f.clientLeft||0),y.pageY=t.clientY+(a&&a.scrollTop||f&&f.scrollTop||0)-(a&&a.clientTop||f&&f.clientTop||0)}return o},Fp=(t,n,o)=>{const r=t.document,a={type:"ready"};if(o.domLoaded){n(a);return}const f=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,y=()=>{Qf(t,"DOMContentLoaded",y),Qf(t,"load",y),o.domLoaded||(o.domLoaded=!0,n(a)),t=null};f()?y():Xu(t,"DOMContentLoaded",y),o.domLoaded||Xu(t,"load",y)};class ou{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=nu+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,a){const f=this;let y;const T=window,O=q=>{f.executeHandlers(th(q||T.event),B)};if(!n||se(n)||jr(n))return r;let B;n[f.expando]?B=n[f.expando]:(B=f.count++,n[f.expando]=B,f.events[B]={}),a=a||n;const U=o.split(" ");let j=U.length;for(;j--;){let q=U[j],nt=O,at=!1,st=!1;if(q==="DOMContentLoaded"&&(q="ready"),f.domLoaded&&q==="ready"&&n.readyState==="complete"){r.call(a,th({type:q}));continue}!f.hasFocusIn&&(q==="focusin"||q==="focusout")&&(at=!0,st=q==="focusin"?"focus":"blur",nt=ct=>{const xt=th(ct||T.event);xt.type=xt.type==="focus"?"focusin":"focusout",f.executeHandlers(xt,B)}),y=f.events[B][q],y?q==="ready"&&f.domLoaded?r(th({type:q})):y.push({func:r,scope:a}):(f.events[B][q]=y=[{func:r,scope:a}],y.fakeName=st,y.capture=at,y.nativeHandler=nt,q==="ready"?Fp(n,nt,f):Xu(n,st||q,nt,at))}return n=y=null,r}unbind(n,o,r){if(!n||se(n)||jr(n))return this;const a=n[this.expando];if(a){let f=this.events[a];if(o){const y=o.split(" ");let T=y.length;for(;T--;){const O=y[T],B=f[O];if(B){if(r){let U=B.length;for(;U--;)if(B[U].func===r){const j=B.nativeHandler,q=B.fakeName,nt=B.capture,at=B.slice(0,U).concat(B.slice(U+1));at.nativeHandler=j,at.fakeName=q,at.capture=nt,f[O]=at}}(!r||B.length===0)&&(delete f[O],Qf(n,B.fakeName||O,B.nativeHandler,B.capture))}}}else Me(f,(y,T)=>{Qf(n,y.fakeName||T,y.nativeHandler,y.capture)}),f={};for(const y in f)if(Sn(f,y))return this;delete this.events[a];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||se(n)||jr(n))return this;const a=th({type:o,target:n},r);do{const f=n[this.expando];f&&this.executeHandlers(a,f),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!a.isPropagationStopped());return this}clean(n){if(!n||se(n)||jr(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],a=r&&r[n.type];if(a)for(let f=0,y=a.length;f<y;f++){const T=a[f];if(T&&T.func.call(T.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}ou.Event=new ou;const su=fe.each,I0=fe.grep,Hp="data-mce-style",Vp=fe.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ud=(t,n,o)=>{sn(o)||o===""?Lo(t,n):is(t,n,o)},Ue=t=>t.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),jd=(t,n)=>{let o=0;if(t)for(let r=t.nodeType,a=t.previousSibling;a;a=a.previousSibling){const f=a.nodeType;n&&se(a)&&(f===r||!a.data.length)||(o++,r=f)}return o},zp=(t,n)=>{const o=nr(n,"style"),r=t.serialize(t.parse(o),xo(n));Ud(n,Hp,r)},ax=(t,n)=>jn(t)?Sn(Vp,n)?t+"":t+"px":t,eh=(t,n,o)=>{const r=Ue(n);sn(o)||o===""?ri(t,r):zf(t,r,ax(o,r))},cx=(t,n,o)=>{const r=n.keep_values,a={set:(y,T,O)=>{const B=ht.fromDom(y);pt(n.url_converter)&&Zt(T)&&(T=n.url_converter.call(n.url_converter_scope||o(),String(T),O,y));const U="data-mce-"+O;Ud(B,U,T),Ud(B,O,T)},get:(y,T)=>{const O=ht.fromDom(y);return nr(O,"data-mce-"+T)||nr(O,T)}},f={style:{set:(y,T)=>{const O=ht.fromDom(y);r&&Ud(O,Hp,T),Lo(O,"style"),ft(T)&&gg(O,t.parse(T))},get:y=>{const T=ht.fromDom(y),O=nr(T,Hp)||nr(T,"style");return t.serialize(t.parse(O),xo(T))}}};return r&&(f.href=f.src=a),f},Zo=(t,n={})=>{const o={},r=window,a={};let f=0;const y=!0,T=!0,O=Yl.forElement(ht.fromDom(t),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),B=[],U=n.schema?n.schema:Yu({}),j=Vc({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),q=n.ownEvents?new ou:ou.Event,nt=U.getBlockElements(),at=It=>ft(It)?Sn(nt,It):Ge(It)&&(Sn(nt,It.nodeName)||Fd(U,It)),st=It=>It&&t&&ft(It)?t.getElementById(It):It,ct=It=>{const Ft=st(It);return Zt(Ft)?ht.fromDom(Ft):null},xt=(It,Ft,ye="")=>{let he;const _n=ct(It);if(Zt(_n)&&Sa(_n)){const ro=fS[Ft];ro&&ro.get?he=ro.get(_n.dom,Ft):he=nr(_n,Ft)}return Zt(he)?he:ye},St=It=>{const Ft=st(It);return sn(Ft)?[]:Ft.attributes},Et=(It,Ft,ye)=>{Qe(It,he=>{if(Ge(he)){const _n=ht.fromDom(he),ro=ye===""?null:ye,Is=nr(_n,Ft),xd=fS[Ft];xd&&xd.set?xd.set(_n.dom,ro,Ft):Ud(_n,Ft,ro),Is!==ro&&n.onSetAttrib&&n.onSetAttrib({attrElm:_n.dom,attrName:Ft,attrValue:ro})}})},Nt=(It,Ft)=>It.cloneNode(Ft),Jt=()=>n.root_element||t.body,ge=It=>{const Ft=Cp(It);return{x:Ft.x,y:Ft.y,w:Ft.width,h:Ft.height}},Re=(It,Ft)=>pr(t.body,st(It),Ft),le=(It,Ft,ye)=>{Qe(It,he=>{const _n=ht.fromDom(he);eh(_n,Ft,ye),n.update_styles&&zp(j,_n)})},jt=(It,Ft)=>{Qe(It,ye=>{const he=ht.fromDom(ye);Me(Ft,(_n,ro)=>{eh(he,ro,_n)}),n.update_styles&&zp(j,he)})},Qt=(It,Ft,ye)=>{const he=st(It);if(!(sn(he)||!zu(he)&&!em(he)))return ye?ql(ht.fromDom(he),Ue(Ft)):(Ft=Ft.replace(/-(\D)/g,(_n,ro)=>ro.toUpperCase()),Ft==="float"&&(Ft="cssFloat"),he.style?he.style[Ft]:void 0)},Oe=It=>{const Ft=st(It);if(!Ft)return{w:0,h:0};let ye=Qt(Ft,"width"),he=Qt(Ft,"height");return(!ye||ye.indexOf("px")===-1)&&(ye="0"),(!he||he.indexOf("px")===-1)&&(he="0"),{w:parseInt(ye,10)||Ft.offsetWidth||Ft.clientWidth,h:parseInt(he,10)||Ft.offsetHeight||Ft.clientHeight}},tn=It=>{const Ft=st(It),ye=Re(Ft),he=Oe(Ft);return{x:ye.x,y:ye.y,w:he.w,h:he.h}},Un=(It,Ft)=>{if(!It)return!1;const ye=ln(It)?It:[It];return _t(ye,he=>Ri(ht.fromDom(he),Ft))},no=(It,Ft,ye,he)=>{const _n=[];let ro=st(It);he=he===void 0;const Is=ye||(Jt().nodeName!=="BODY"?Jt().parentNode:null);if(ft(Ft))if(Ft==="*")Ft=Ge;else{const xd=Ft;Ft=XA=>Un(XA,xd)}for(;ro&&!(ro===Is||sn(ro.nodeType)||om(ro)||Ys(ro));){if(!Ft||Ft(ro))if(he)_n.push(ro);else return[ro];ro=ro.parentNode}return he?_n:null},Vo=(It,Ft,ye)=>{const he=no(It,Ft,ye,!1);return he&&he.length>0?he[0]:null},Yo=(It,Ft,ye)=>{let he=Ft;if(It){ft(Ft)&&(he=_n=>Un(_n,Ft));for(let _n=It[ye];_n;_n=_n[ye])if(pt(he)&&he(_n))return _n}return null},bs=(It,Ft)=>Yo(It,Ft,"nextSibling"),Ki=(It,Ft)=>Yo(It,Ft,"previousSibling"),Xo=It=>pt(It.querySelectorAll),Ce=(It,Ft)=>{var ye,he;const _n=(he=(ye=st(Ft))!==null&&ye!==void 0?ye:n.root_element)!==null&&he!==void 0?he:t;return Xo(_n)?Vi(_n.querySelectorAll(It)):[]},Qe=function(It,Ft,ye){const he=ye??this;if(ln(It)){const _n=[];return su(It,(ro,Is)=>{const xd=st(ro);xd&&_n.push(Ft.call(he,xd,Is))}),_n}else{const _n=st(It);return _n?Ft.call(he,_n):!1}},so=(It,Ft)=>{Qe(It,ye=>{Me(Ft,(he,_n)=>{Et(ye,_n,he)})})},ke=(It,Ft)=>{Qe(It,ye=>{const he=ht.fromDom(ye);t1(he,Ft)})},hn=(It,Ft,ye,he,_n)=>Qe(It,ro=>{const Is=ft(Ft)?t.createElement(Ft):Ft;return Zt(ye)&&so(Is,ye),he&&(!ft(he)&&he.nodeType?Is.appendChild(he):ft(he)&&ke(Is,he)),_n?Is:ro.appendChild(Is)}),Xn=(It,Ft,ye)=>hn(t.createElement(It),It,Ft,ye,!0),Ne=Bi.decode,qn=Bi.encodeAllRaw,Kn=(It,Ft,ye="")=>{let he="<"+It;for(const _n in Ft)_a(Ft,_n)&&(he+=" "+_n+'="'+qn(Ft[_n])+'"');return Jr(ye)&&Sn(U.getVoidElements(),It)?he+" />":he+">"+ye+"</"+It+">"},Fr=It=>{const Ft=t.createElement("div"),ye=t.createDocumentFragment();ye.appendChild(Ft),It&&(Ft.innerHTML=It);let he;for(;he=Ft.firstChild;)ye.appendChild(he);return ye.removeChild(Ft),ye},zo=(It,Ft)=>Qe(It,ye=>{const he=ht.fromDom(ye);return Ft&&wt(mi(he),_n=>{ws(_n)&&_n.dom.length===0?Do(_n):gi(he,_n)}),Do(he),he.dom}),Hr=It=>Qe(It,Ft=>{const ye=Ft.attributes;for(let he=ye.length-1;he>=0;he--)Ft.removeAttributeNode(ye.item(he))}),Su=It=>j.parse(It),Rh=(It,Ft)=>j.serialize(It,Ft),Fa=It=>{if(Ph!==Zo.DOM&&t===document){if(o[It])return;o[It]=!0}let Ft=t.getElementById("mceDefaultStyles");if(!Ft){Ft=t.createElement("style"),Ft.id="mceDefaultStyles",Ft.type="text/css";const ye=t.head;ye.firstChild?ye.insertBefore(Ft,ye.firstChild):ye.appendChild(Ft)}Ft.styleSheet?Ft.styleSheet.cssText+=It:Ft.appendChild(t.createTextNode(It))},Ll=It=>{It||(It=""),wt(It.split(","),Ft=>{a[Ft]=!0,O.load(Ft).catch(Ye)})},vd=(It,Ft,ye)=>{Qe(It,he=>{if(Ge(he)){const _n=ht.fromDom(he),ro=Ft.split(" ");wt(ro,Is=>{Zt(ye)?(ye?Bf:Nu)(_n,Is):h0(_n,Is)})}})},Bl=(It,Ft)=>{vd(It,Ft,!0)},yd=(It,Ft)=>{vd(It,Ft,!1)},nn=(It,Ft)=>{const ye=ct(It),he=Ft.split(" ");return Zt(ye)&&vs(he,_n=>lg(ye,_n))},fo=It=>{Qe(It,Ft=>ri(ht.fromDom(Ft),"display"))},Bs=It=>{Qe(It,Ft=>zf(ht.fromDom(Ft),"display","none"))},Qs=It=>{const Ft=ct(It);return Zt(Ft)&&Fs(si(Ft,"display"),"none")},Mr=It=>(It||"mce_")+f++,wi=It=>{const Ft=ct(It);return Zt(Ft)?Ge(Ft.dom)?Ft.dom.outerHTML:Qn(Ft):""},lr=(It,Ft)=>{Qe(It,ye=>{Ge(ye)&&(ye.outerHTML=Ft)})},wr=(It,Ft)=>{const ye=st(Ft);return Qe(It,he=>{const _n=ye==null?void 0:ye.parentNode,ro=ye==null?void 0:ye.nextSibling;return _n&&(ro?_n.insertBefore(he,ro):_n.appendChild(he)),he})},Ha=(It,Ft,ye)=>Qe(Ft,he=>{var _n;const ro=ln(Ft)?It.cloneNode(!0):It;return ye&&su(I0(he.childNodes),Is=>{ro.appendChild(Is)}),(_n=he.parentNode)===null||_n===void 0||_n.replaceChild(ro,he),he}),_d=(It,Ft)=>{if(It.nodeName!==Ft.toUpperCase()){const ye=Xn(Ft);return su(St(It),he=>{Et(ye,he.nodeName,xt(It,he.nodeName))}),Ha(ye,It,!0),ye}else return It},_f=(It,Ft)=>{let ye=It;for(;ye;){let he=Ft;for(;he&&ye!==he;)he=he.parentNode;if(ye===he)break;ye=ye.parentNode}return!ye&&It.ownerDocument?It.ownerDocument.documentElement:ye},xf=(It,Ft,ye)=>to(Ft)?pi(U,It,{...ye,isContent:_n=>{const ro=_n.nodeName.toLowerCase();return!!Ft[ro]}}):pi(U,It,ye),Eu=()=>t.createRange(),sp=(It,Ft,ye)=>{let he=Eu(),_n,ro;if(It&&Ft&&It.parentNode&&Ft.parentNode){const Is=It.parentNode;return he.setStart(Is,jd(It)),he.setEnd(Ft.parentNode,jd(Ft)),_n=he.extractContents(),he=Eu(),he.setStart(Ft.parentNode,jd(Ft)+1),he.setEnd(Is,jd(It)+1),ro=he.extractContents(),Is.insertBefore(rm(Ph,_n,U),It),ye?Is.insertBefore(ye,It):Is.insertBefore(Ft,It),Is.insertBefore(rm(Ph,ro,U),It),zo(It),ye||Ft}else return},Jv=(It,Ft,ye,he)=>{if(ln(It)){let _n=It.length;const ro=[];for(;_n--;)ro[_n]=Jv(It[_n],Ft,ye,he);return ro}else return n.collect&&(It===t||It===r)&&B.push([It,Ft,ye,he]),q.bind(It,Ft,ye,he||Ph)},Qv=(It,Ft,ye)=>{if(ln(It)){let he=It.length;const _n=[];for(;he--;)_n[he]=Qv(It[he],Ft,ye);return _n}else{if(B.length>0&&(It===t||It===r)){let he=B.length;for(;he--;){const[_n,ro,Is]=B[he];It===_n&&(!Ft||Ft===ro)&&(!ye||ye===Is)&&q.unbind(_n,ro,Is)}}return q.unbind(It,Ft,ye)}},dS=(It,Ft,ye)=>q.dispatch(It,Ft,ye),Mh=(It,Ft,ye)=>q.dispatch(It,Ft,ye),t0=It=>{if(It&&zu(It)){const Ft=It.getAttribute("data-mce-contenteditable");return Ft&&Ft!=="inherit"?Ft:It.contentEditable!=="inherit"?It.contentEditable:null}else return null},Ph={doc:t,settings:n,win:r,files:a,stdMode:y,boxModel:T,styleSheetLoader:O,boundEvents:B,styles:j,schema:U,events:q,isBlock:at,root:null,clone:Nt,getRoot:Jt,getViewPort:ge,getRect:tn,getSize:Oe,getParent:Vo,getParents:no,get:st,getNext:bs,getPrev:Ki,select:Ce,is:Un,add:hn,create:Xn,createHTML:Kn,createFragment:Fr,remove:zo,setStyle:le,getStyle:Qt,setStyles:jt,removeAllAttribs:Hr,setAttrib:Et,setAttribs:so,getAttrib:xt,getPos:Re,parseStyle:Su,serializeStyle:Rh,addStyle:Fa,loadCSS:Ll,addClass:Bl,removeClass:yd,hasClass:nn,toggleClass:vd,show:fo,hide:Bs,isHidden:Qs,uniqueId:Mr,setHTML:ke,getOuterHTML:wi,setOuterHTML:lr,decode:Ne,encode:qn,insertAfter:wr,replace:Ha,rename:_d,findCommonAncestor:_f,run:Qe,getAttribs:St,isEmpty:xf,createRng:Eu,nodeIndex:jd,split:sp,bind:Jv,unbind:Qv,fire:Mh,dispatch:dS,getContentEditable:t0,getContentEditableParent:It=>{const Ft=Jt();let ye=null;for(let he=It;he&&he!==Ft&&(ye=t0(he),ye===null);he=he.parentNode);return ye},isEditable:It=>{if(Zt(It)){const Ft=Ge(It)?It:It.parentElement;return Zt(Ft)&&zu(Ft)&&Ln(ht.fromDom(Ft))}else return!1},destroy:()=>{if(B.length>0){let It=B.length;for(;It--;){const[Ft,ye,he]=B[It];q.unbind(Ft,ye,he)}}Me(a,(It,Ft)=>{O.unload(Ft),delete a[Ft]})},isChildOf:(It,Ft)=>It===Ft||Ft.contains(It),dumpRng:It=>"startContainer: "+It.startContainer.nodeName+", startOffset: "+It.startOffset+", endContainer: "+It.endContainer.nodeName+", endOffset: "+It.endOffset},fS=cx(j,n,re(Ph));return Ph};Zo.DOM=Zo(document),Zo.nodeIndex=jd;const nh=Zo.DOM,Ju=0,v1=1,Zd=2,Cg=3;class Ui{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const a=nh;let f;const y=()=>{a.remove(B),f&&(f.onerror=f.onload=f=null)},T=()=>{y(),o()},O=()=>{y(),r("Failed to load script: "+n)},B=a.uniqueId();f=document.createElement("script"),f.id=B,f.type="text/javascript",f.src=fe._addCacheSuffix(n),this.settings.referrerPolicy&&a.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=T,f.onerror=O,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)})}isDone(n){return this.states[n]===Zd}markDone(n){this.states[n]=Zd}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Ju),new Promise((a,f)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:a,reject:f})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(O,B)=>{ms(o.scriptLoadedCallbacks,B).each(U=>{wt(U,j=>j[O](B))}),delete o.scriptLoadedCallbacks[B]},a=O=>{const B=Se(O,U=>U.status==="rejected");return B.length>0?Promise.reject(Ps(B,({reason:U})=>ln(U)?U:[U])):Promise.resolve()},f=O=>Promise.allSettled(Ht(O,B=>o.states[B]===Zd?(r("resolve",B),Promise.resolve()):o.states[B]===Cg?(r("reject",B),Promise.reject(B)):(o.states[B]=v1,o.loadScript(B).then(()=>{o.states[B]=Zd,r("resolve",B);const U=o.queue;return U.length>0?(o.queue=[],f(U).then(a)):Promise.resolve()},()=>(o.states[B]=Cg,r("reject",B),Promise.reject(B)))))),y=O=>(o.loading=!0,f(O).then(B=>{o.loading=!1;const U=o.queueLoadedCallbacks.shift();return X.from(U).each(Bo),a(B)})),T=cp(n);return o.loading?new Promise((O,B)=>{o.queueLoadedCallbacks.push(()=>{y(T).then(O,B)})}):y(T)}}Ui.ScriptLoader=new Ui;const Gs=t=>{let n=t;return{get:()=>n,set:a=>{n=a}}},y1=(t,n)=>{const o=t.indexOf(n);return o!==-1&&t.indexOf(n,o+1)>o},_1=t=>We(t)&&Sn(t,"raw"),um=t=>ln(t)&&t.length>1,oh={},Wp=Gs("en"),Sg=()=>ms(oh,Wp.get()),Ar={getData:()=>ho(oh,t=>({...t})),setCode:t=>{t&&Wp.set(t)},getCode:()=>Wp.get(),add:(t,n)=>{let o=oh[t];o||(oh[t]=o={});const r=Ht(zr(n),a=>a.toLowerCase());Me(n,(a,f)=>{const y=f.toLowerCase();y!==f&&y1(r,y)?(Sn(n,y)||(o[y]=a),o[f]=a):o[y]=a})},translate:t=>{const n=Sg().getOr({}),o=y=>pt(y)?Object.prototype.toString.call(y):r(y)?"":""+y,r=y=>y===""||y===null||y===void 0,a=y=>{const T=o(y);return Sn(n,T)?o(n[T]):ms(n,T.toLowerCase()).map(o).getOr(T)},f=y=>y.replace(/{context:\w+}$/,"");if(r(t))return"";if(_1(t))return o(t.raw);if(um(t)){const y=t.slice(1),T=a(t[0]).replace(/\{([0-9]+)\}/g,(O,B)=>Sn(y,B)?o(y[B]):O);return f(T)}return f(a(t))},isRtl:()=>Sg().bind(t=>ms(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>Sn(oh,t)},Ii=()=>{const t=[],n={},o={},r=[],a=(st,ct)=>{const xt=Se(r,St=>St.name===st&&St.state===ct);wt(xt,St=>St.resolve())},f=st=>Sn(n,st),y=st=>Sn(o,st),T=st=>{if(o[st])return o[st].instance},O=(st,ct)=>{const xt=Ar.getCode(),St=","+(ct||"")+",";!xt||ct&&St.indexOf(","+xt+",")===-1||Ui.ScriptLoader.add(n[st]+"/langs/"+xt+".js")},B=(st,ct)=>{Ii.languageLoad!==!1&&(f(st)?O(st,ct):at(st,"loaded").then(()=>O(st,ct)))},U=(st,ct)=>(t.push(ct),o[st]={instance:ct},a(st,"added"),ct),j=st=>{delete n[st],delete o[st]},q=(st,ct)=>ft(ct)?ft(st)?{prefix:"",resource:ct,suffix:""}:{prefix:st.prefix,resource:ct,suffix:st.suffix}:ct,nt=(st,ct)=>{if(n[st])return Promise.resolve();let xt=ft(ct)?ct:ct.prefix+ct.resource+ct.suffix;xt.indexOf("/")!==0&&xt.indexOf("://")===-1&&(xt=Ii.baseURL+"/"+xt),n[st]=xt.substring(0,xt.lastIndexOf("/"));const St=()=>(a(st,"loaded"),Promise.resolve());return o[st]?St():Ui.ScriptLoader.add(xt).then(St)},at=(st,ct="added")=>ct==="added"&&y(st)||ct==="loaded"&&f(st)?Promise.resolve():new Promise(xt=>{r.push({name:st,state:ct,resolve:xt})});return{items:t,urls:n,lookup:o,get:T,requireLangPack:B,add:U,remove:j,createUrl:q,load:nt,waitFor:at}};Ii.languageLoad=!0,Ii.baseURL="",Ii.PluginManager=Ii(),Ii.ThemeManager=Ii(),Ii.ModelManager=Ii();const fm=t=>{const n=Gs(X.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(X.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:T=>{o(),n.set(X.some(T))}}},Up=t=>{const n=Gs(X.none()),o=()=>n.get().each(T=>clearInterval(T));return{clear:()=>{o(),n.set(X.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:T=>{o(),n.set(X.some(setInterval(T,t)))}}},Zr=()=>{const t=fm(Ye);return{...t,on:o=>t.get().each(o)}},jp=(t,n)=>{let o=null;return{cancel:()=>{vt(o)||(clearTimeout(o),o=null)},throttle:(...f)=>{vt(o)&&(o=setTimeout(()=>{o=null,t.apply(null,f)},n))}}},Zp=(t,n)=>{let o=null;const r=()=>{vt(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...f)=>{r(),o=setTimeout(()=>{o=null,t.apply(null,f)},n)}}},sh=(t,n,o)=>fg(t,n,o).isSome(),hm=re("mce-annotation"),Gd=re("data-mce-annotation"),iu=re("data-mce-annotation-uid"),Eg=re("data-mce-annotation-active"),rh=re("data-mce-annotation-classes"),pl=re("data-mce-annotation-attrs"),qd=t=>n=>Io(n,t),ih=(t,n)=>{const o=t.selection.getRng(),r=ht.fromDom(o.startContainer),a=ht.fromDom(t.getBody()),f=n.fold(()=>"."+hm(),O=>`[${Gd()}="${O}"]`),y=Dd(r,o.startOffset).getOr(r);return Gl(y,f,qd(a)).bind(O=>Di(O,`${iu()}`).bind(B=>Di(O,`${Gd()}`).map(U=>{const j=c(t,B);return{uid:B,name:U,elements:j}})))},bl=t=>Sa(t)&&lg(t,hm()),h=(t,n)=>Er(t,"data-mce-bogus")||sh(t,'[data-mce-bogus="all"]',qd(n)),c=(t,n)=>{const o=ht.fromDom(t.getBody()),r=mr(o,`[${iu()}="${n}"]`);return Se(r,a=>!h(a,o))},d=(t,n)=>{const o=ht.fromDom(t.getBody()),r=mr(o,`[${Gd()}="${n}"]`),a={};return wt(r,f=>{if(!h(f,o)){const y=nr(f,iu()),T=ms(a,y).getOr([]);a[y]=T.concat([f])}}),a},b=(t,n)=>{const o=Gs({}),r=()=>({listeners:[],previous:Zr()}),a=(j,q)=>{f(j,nt=>(q(nt),nt))},f=(j,q)=>{const nt=o.get(),at=ms(nt,j).getOrThunk(r),st=q(at);nt[j]=st,o.set(nt)},y=(j,q,nt)=>{a(j,at=>{wt(at.listeners,st=>st(!0,j,{uid:q,nodes:Ht(nt,ct=>ct.dom)}))})},T=j=>{a(j,q=>{wt(q.listeners,nt=>nt(!1,j))})},O=(j,q)=>{wt(c(t,j),nt=>{q?is(nt,Eg(),"true"):Lo(nt,Eg())})},B=Zp(()=>{const j=Co(n.getNames());wt(j,q=>{f(q,nt=>{const at=nt.previous.get();return ih(t,X.some(q)).fold(()=>{at.each(st=>{T(q),nt.previous.clear(),O(st,!1)})},({uid:st,name:ct,elements:xt})=>{Fs(at,st)||(at.each(St=>O(St,!1)),y(ct,st,xt),nt.previous.set(st),O(st,!0))}),{previous:nt.previous,listeners:nt.listeners}})})},30);return t.on("remove",()=>{B.cancel()}),t.on("NodeChange",()=>{B.throttle()}),{addListener:(j,q)=>{f(j,nt=>({previous:nt.previous,listeners:nt.listeners.concat([q])}))}}},_=(t,n)=>{const o=Gd(),r=f=>X.from(f.attr(o)).bind(n.lookup),a=f=>{var y,T;f.attr(iu(),null),f.attr(Gd(),null),f.attr(Eg(),null);const O=X.from(f.attr(pl())).map(q=>q.split(",")).getOr([]),B=X.from(f.attr(rh())).map(q=>q.split(",")).getOr([]);wt(O,q=>f.attr(q,null));const U=(T=(y=f.attr("class"))===null||y===void 0?void 0:y.split(" "))!==null&&T!==void 0?T:[],j=ic(U,[hm()].concat(B));f.attr("class",j.length>0?j.join(" "):null),f.attr(rh(),null),f.attr(pl(),null)};t.serializer.addTempAttr(Eg()),t.serializer.addAttributeFilter(o,f=>{for(const y of f)r(y).each(T=>{T.persistent===!1&&(y.name==="span"?y.unwrap():a(y))})})},E=()=>{const t={};return{register:(a,f)=>{t[a]={name:a,settings:f}},lookup:a=>ms(t,a).map(f=>f.settings),getNames:()=>zr(t)}};let A=0;const R=t=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return A++,t+"_"+r+A+String(o)},L=(t,n)=>{wt(n,o=>{Bf(t,o)})},z=(t,n)=>{wt(n,o=>{Nu(t,o)})},Y=(t,n)=>ht.fromDom(t.dom.cloneNode(n)),rt=t=>Y(t,!1),lt=t=>Y(t,!0),ut=(t,n)=>{const o=ht.fromTag(n),r=Lf(t);return Ac(o,r),o},bt=(t,n)=>{const o=ut(t,n);$u(t,o);const r=mi(t);return ts(o,r),Do(t),o},Ot=(t,n,o=Gt)=>{const r=new Vs(t,n),a=f=>{let y;do y=r[f]();while(y&&!se(y)&&!o(y));return X.from(y).filter(se)};return{current:()=>X.from(r.current()).filter(se),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},qt=(t,n)=>{const o=n||(y=>t.isBlock(y)||es(y)||cs(y)),r=(y,T,O,B)=>{if(se(y)){const U=B(y,T,y.data);if(U!==-1)return X.some({container:y,offset:U})}return O().bind(U=>r(U.container,U.offset,O,B))};return{backwards:(y,T,O,B)=>{const U=Ot(y,B??t.getRoot(),o);return r(y,T,()=>U.prev().map(j=>({container:j,offset:j.length})),O).getOrNull()},forwards:(y,T,O,B)=>{const U=Ot(y,B??t.getRoot(),o);return r(y,T,()=>U.next().map(j=>({container:j,offset:0})),O).getOrNull()}}},de=((t,n)=>{const o=f=>{if(!t(f))throw new Error("Can only get "+n+" value of a "+n+" node");return r(f).getOr("")},r=f=>t(f)?X.from(f.dom.nodeValue):X.none();return{get:o,getOption:r,set:(f,y)=>{if(!t(f))throw new Error("Can only set raw "+n+" value of a "+n+" node");f.dom.nodeValue=y}}})(ws,"text"),De=t=>de.get(t),je=t=>de.getOption(t),$e=(t,n)=>de.set(t,n),Cn=["td","th"],un=["thead","tbody","tfoot"],$n=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],On=["li","dd","dt"],os=["ul","ol","dl"],ss=["pre","script","textarea","style"],Wn=t=>{let n;return o=>(n=n||Oo(t,Ae),Sn(n,xo(o)))},Gr=t=>xo(t)==="table",kr=t=>Sa(t)&&xo(t)==="br",Eo=Wn($n),Or=Wn(os),ls=Wn(On),Da=Wn(un),ah=Wn(Cn),au=Wn(ss),Gp=t=>{const n=[];let o=t.dom;for(;o;)n.push(ht.fromDom(o)),o=o.lastChild;return n},mm=t=>{const n=mr(t,"br"),o=Se(Gp(t).slice(-1),kr);n.length===o.length&&wt(o,Do)},Qu=()=>{const t=ht.fromTag("br");return is(t,"data-mce-bogus","1"),t},vl=t=>{Wf(t),Ks(t,Qu())},x1=(t,n)=>{oa(t).each(o=>{Dc(o).each(r=>{n.isBlock(xo(t))&&kr(o)&&n.isBlock(xo(r))&&Do(o)})})},vr=Hu,$0=Vu,pc=A0,$S=t=>t.insertContent(vr,{preserve_zwsp:!0}),rr=Ge,Kd=se,qp=t=>(Kd(t)&&(t=t.parentNode),rr(t)&&t.hasAttribute("data-mce-caret")),ch=t=>Kd(t)&&$0(t.data),Ja=t=>qp(t)||ch(t),ai=t=>t.firstChild!==t.lastChild||!es(t.firstChild),yl=(t,n)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(vr),f=t.parentNode;if(n){const y=t.previousSibling;if(Kd(y)){if(Ja(y))return y;if(w1(y))return y.splitText(y.data.length-1)}f==null||f.insertBefore(a,t)}else{const y=t.nextSibling;if(Kd(y)){if(Ja(y))return y;if(V0(y))return y.splitText(1),y}t.nextSibling?f==null||f.insertBefore(a,t.nextSibling):f==null||f.appendChild(a)}return a},F0=t=>{const n=t.container();return se(n)?n.data.charAt(t.offset())===vr||t.isAtStart()&&ch(n.previousSibling):!1},H0=t=>{const n=t.container();return se(n)?n.data.charAt(t.offset()-1)===vr||t.isAtEnd()&&ch(n.nextSibling):!1},Kp=(t,n,o)=>{var r;const f=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(t);f.setAttribute("data-mce-caret",o?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(Qu().dom);const y=n.parentNode;return o?y==null||y.insertBefore(f,n):n.nextSibling?y==null||y.insertBefore(f,n.nextSibling):y==null||y.appendChild(f),f},V0=t=>Kd(t)&&t.data[0]===vr,w1=t=>Kd(t)&&t.data[t.data.length-1]===vr,Rk=t=>{var n;const o=t.getElementsByTagName("br"),r=o[o.length-1];Tr(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},C1=t=>t&&t.hasAttribute("data-mce-caret")?(Rk(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,FS=t=>qp(t.startContainer),Wc=Math.round,gm=t=>t?{left:Wc(t.left),top:Wc(t.top),bottom:Wc(t.bottom),right:Wc(t.right),width:Wc(t.width),height:Wc(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},z0=(t,n)=>(t=gm(t),n||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),Es=(t,n)=>t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right,td=(t,n,o)=>t>=0&&t<=Math.min(n.height,o.height)/2,Yd=(t,n)=>{const o=Math.min(n.height/2,t.height/2);return t.bottom-o<n.top?!0:t.top>n.bottom?!1:td(n.top-t.bottom,t,n)},S1=(t,n)=>t.top>n.bottom?!0:t.bottom<n.top?!1:td(n.bottom-t.top,t,n),HS=(t,n,o)=>n>=t.left&&n<=t.right&&o>=t.top&&o<=t.bottom,Mk=t=>yo(t,(n,o)=>n.fold(()=>X.some(o),r=>{const a=Math.min(o.left,r.left),f=Math.min(o.top,r.top),y=Math.max(o.right,r.right),T=Math.max(o.bottom,r.bottom);return X.some({top:f,right:y,bottom:T,left:a,width:y-a,height:T-f})}),X.none()),pm=(t,n,o)=>{const r=Math.max(Math.min(n,t.left+t.width),t.left),a=Math.max(Math.min(o,t.top+t.height),t.top);return Math.sqrt((n-r)*(n-r)+(o-a)*(o-a))},lx=(t,n)=>Math.max(0,Math.min(t.bottom,n.bottom)-Math.max(t.top,n.top)),Yp=(t,n,o)=>Math.min(Math.max(t,n),o),Xp=t=>{const n=t.startContainer,o=t.startOffset;return n===t.endContainer&&n.hasChildNodes()&&t.endOffset===o+1?n.childNodes[o]:null},lh=(t,n)=>{if(Ge(t)&&t.hasChildNodes()){const o=t.childNodes,r=Yp(n,0,o.length-1);return o[r]}else return t},Pk=(t,n)=>{if(!(n<0&&Ge(t)&&t.hasChildNodes()))return lh(t,n)},Nk=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ux=t=>ft(t)&&t.charCodeAt(0)>=768&&Nk.test(t),dx=(...t)=>n=>{for(let o=0;o<t.length;o++)if(t[o](n))return!0;return!1},W0=(...t)=>n=>{for(let o=0;o<t.length;o++)if(!t[o](n))return!1;return!0},VS=gr,fx=cs,hx=es,zS=se,aN=Xa(["script","style","textarea"]),bm=Xa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mx=Xa(["table"]),cu=Ja,Uc=t=>cu(t)?!1:zS(t)?!aN(t.parentNode):bm(t)||hx(t)||mx(t)||Ra(t),po=t=>Ge(t)&&t.getAttribute("unselectable")==="true",Ra=t=>!po(t)&&fx(t),Tg=(t,n)=>{for(let o=t.parentNode;o&&o!==n;o=o.parentNode){if(Ra(o))return!1;if(VS(o))return!0}return!0},gx=t=>Ra(t)?!yo(Vi(t.getElementsByTagName("*")),(n,o)=>n||VS(o),!1):!1,Ts=t=>bm(t)||gx(t),px=(t,n)=>Uc(t)&&Tg(t,n),bx=Ge,ci=Uc,Xd=as("display","block table"),WS=as("float","left right"),E1=W0(bx,ci,go(WS)),Lk=go(as("white-space","pre pre-line pre-wrap")),_l=se,Jp=es,T1=Zo.nodeIndex,Ag=Pk,U0=t=>t?t.createRange():Zo.DOM.createRng(),j0=t=>ft(t)&&/[\r\n\t ]/.test(t),vx=t=>!!t.setStart&&!!t.setEnd,A1=t=>{const n=t.startContainer,o=t.startOffset;if(j0(t.toString())&&Lk(n.parentNode)&&se(n)){const r=n.data;if(j0(r[o-1])||j0(r[o+1]))return!0}return!1},k1=t=>{const n=t.ownerDocument,o=U0(n),r=n.createTextNode(zs),a=t.parentNode;a.insertBefore(r,t),o.setStart(r,0),o.setEnd(r,1);const f=gm(o.getBoundingClientRect());return a.removeChild(r),f},Js=t=>{const n=t.startContainer,o=t.endContainer,r=t.startOffset,a=t.endOffset;if(n===o&&se(o)&&r===0&&a===1){const f=t.cloneRange();return f.setEndAfter(o),ir(f)}else return null},US=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,ir=t=>{var n;let o;const r=t.getClientRects();return r.length>0?o=gm(r[0]):o=gm(t.getBoundingClientRect()),!vx(t)&&Jp(t)&&US(o)?k1(t):US(o)&&vx(t)&&(n=Js(t))!==null&&n!==void 0?n:o},kg=(t,n)=>{const o=z0(t,n);return o.width=1,o.right=o.left+1,o},vm=t=>{const n=[],o=y=>{y.height!==0&&(n.length>0&&Es(y,n[n.length-1])||n.push(y))},r=(y,T)=>{const O=U0(y.ownerDocument);if(T<y.data.length){if(ux(y.data[T]))return;if(ux(y.data[T-1])&&(O.setStart(y,T),O.setEnd(y,T+1),!A1(O))){o(kg(ir(O),!1));return}}T>0&&(O.setStart(y,T-1),O.setEnd(y,T),A1(O)||o(kg(ir(O),!1))),T<y.data.length&&(O.setStart(y,T),O.setEnd(y,T+1),A1(O)||o(kg(ir(O),!0)))},a=t.container(),f=t.offset();if(_l(a))return r(a,f),n;if(bx(a))if(t.isAtEnd()){const y=Ag(a,f);_l(y)&&r(y,y.data.length),E1(y)&&!Jp(y)&&o(kg(ir(y),!1))}else{const y=Ag(a,f);if(_l(y)&&r(y,0),E1(y)&&t.isAtEnd())return o(kg(ir(y),!1)),n;const T=Ag(t.container(),t.offset()-1);E1(T)&&!Jp(T)&&(Xd(T)||Xd(y)||!E1(y))&&o(kg(ir(T),!1)),E1(y)&&o(kg(ir(y),!0))}return n},Ut=(t,n,o)=>{const r=()=>(_l(t),n===0),a=()=>_l(t)?n>=t.data.length:n>=t.childNodes.length,f=()=>{const U=U0(t.ownerDocument);return U.setStart(t,n),U.setEnd(t,n),U},y=()=>(o||(o=vm(Ut(t,n))),o),T=()=>y().length>0,O=U=>U&&t===U.container()&&n===U.offset(),B=U=>Ag(t,U?n-1:n);return{container:re(t),offset:re(n),toRange:f,getClientRects:y,isVisible:T,isAtStart:r,isAtEnd:a,isEqual:O,getNode:B}};Ut.fromRangeStart=t=>Ut(t.startContainer,t.startOffset),Ut.fromRangeEnd=t=>Ut(t.endContainer,t.endOffset),Ut.after=t=>Ut(t.parentNode,T1(t)+1),Ut.before=t=>Ut(t.parentNode,T1(t)),Ut.isAbove=(t,n)=>ti(dr(n.getClientRects()),Qc(t.getClientRects()),Yd).getOr(!1),Ut.isBelow=(t,n)=>ti(Qc(n.getClientRects()),dr(t.getClientRects()),S1).getOr(!1),Ut.isAtStart=t=>t?t.isAtStart():!1,Ut.isAtEnd=t=>t?t.isAtEnd():!1,Ut.isTextPosition=t=>t?se(t.container()):!1,Ut.isElementPosition=t=>!Ut.isTextPosition(t);const Og=(t,n)=>{se(n)&&n.data.length===0&&t.remove(n)},jS=(t,n,o)=>{n.insertNode(o),Og(t,o.previousSibling),Og(t,o.nextSibling)},yx=(t,n,o)=>{const r=X.from(o.firstChild),a=X.from(o.lastChild);n.insertNode(o),r.each(f=>Og(t,f.previousSibling)),a.each(f=>Og(t,f.nextSibling))},O1=(t,n,o)=>{Ys(o)?yx(t,n,o):jS(t,n,o)},xl=se,_x=Tr,D1=Zo.nodeIndex,Dr=t=>{const n=t.parentNode;return _x(n)?Dr(n):n},yr=t=>t?Ua(t.childNodes,(n,o)=>(_x(o)&&o.nodeName!=="BR"?n=n.concat(yr(o)):n.push(o),n),[]):[],us=(t,n)=>{let o=t;for(;(o=o.previousSibling)&&xl(o);)n+=o.data.length;return n},Lr=t=>n=>t===n,li=t=>{let n,o;n=yr(Dr(t)),o=Ns(n,Lr(t),t),n=n.slice(0,o+1);const r=Ua(n,(a,f,y)=>(xl(f)&&xl(n[y-1])&&a++,a),0);return n=Fh(n,Xa([t.nodeName])),o=Ns(n,Lr(t),t),o-r},ar=t=>(xl(t)?"text()":t.nodeName.toLowerCase())+"["+li(t)+"]",xx=(t,n,o)=>{const r=[];for(let a=n.parentNode;a&&a!==t&&!(o&&o(a));a=a.parentNode)r.push(a);return r},Z0=(t,n)=>{let o=[],r=n.container(),a=n.offset(),f;if(xl(r))f=us(r,a);else{const T=r.childNodes;a>=T.length?(f="after",a=T.length-1):f="before",r=T[a]}o.push(ar(r));let y=xx(t,r);return y=Fh(y,go(Tr)),o=o.concat(wc(y,T=>ar(T))),o.reverse().join("/")+","+f},ZS=(t,n,o)=>{let r=yr(t);return r=Fh(r,(a,f)=>!xl(a)||!xl(r[f-1])),r=Fh(r,Xa([n])),r[o]},GS=(t,n)=>{let o=t,r=0;for(;xl(o);){const a=o.data.length;if(n>=r&&n<=r+a){t=o,n=n-r;break}if(!xl(o.nextSibling)){t=o,n=a;break}r+=a,o=o.nextSibling}return xl(t)&&n>t.data.length&&(n=t.data.length),Ut(t,n)},wx=(t,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",f=Ua(r,(y,T)=>{const O=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(T);return O?(O[1]==="text()"&&(O[1]="#text"),ZS(y,O[1],parseInt(O[2],10))):null},t);if(!f)return null;if(!xl(f)&&f.parentNode){let y;return a==="after"?y=D1(f)+1:y=D1(f),Ut(f.parentNode,y)}return GS(f,parseInt(a,10))},R1=cs,M1=(t,n,o)=>{let r=t(n.data.slice(0,o)).length;for(let a=n.previousSibling;a&&se(a);a=a.previousSibling)r+=t(a.data).length;return r},G0=(t,n,o,r,a)=>{const f=a?r.startContainer:r.endContainer;let y=a?r.startOffset:r.endOffset;const T=[],O=t.getRoot();if(se(f))T.push(o?M1(n,f,y):y);else{let B=0;const U=f.childNodes;y>=U.length&&U.length&&(B=1,y=Math.max(0,U.length-1)),T.push(t.nodeIndex(U[y],o)+B)}for(let B=f;B&&B!==O;B=B.parentNode)T.push(t.nodeIndex(B,o));return T},Bk=(t,n,o,r)=>{const a=n.dom,f=G0(a,t,o,r,!0),y=n.isForward(),T=FS(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:f,forward:y,...T};{const O=G0(a,t,o,r,!1);return{start:f,end:O,forward:y,...T}}},qS=(t,n,o)=>{let r=0;return fe.each(t.select(n),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},KS=(t,n)=>{let o=n?t.startContainer:t.endContainer,r=n?t.startOffset:t.endOffset;if(Ge(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(n?r:r-1,a.length-1)],o&&(r=n?0:o.childNodes.length,n?t.setStart(o,r):t.setEnd(o,r))}},YS=t=>(KS(t,!0),KS(t,!1),t),XS=(t,n)=>{if(Ge(t)&&(t=lh(t,n),R1(t)))return t;if(Ja(t)){se(t)&&qp(t)&&(t=t.parentNode);let o=t.previousSibling;if(R1(o)||(o=t.nextSibling,R1(o)))return o}},Cx=t=>XS(t.startContainer,t.startOffset)||XS(t.endContainer,t.endOffset),JS=(t,n,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||R1(r)){const y=r.nodeName;return{name:y,index:qS(o.dom,y,r)}}const f=Cx(a);if(f){const y=f.tagName;return{name:y,index:qS(o.dom,y,f)}}return Bk(t,o,n,a)},q0=t=>{const n=t.getRng();return{start:Z0(t.dom.getRoot(),Ut.fromRangeStart(n)),end:Z0(t.dom.getRoot(),Ut.fromRangeEnd(n)),forward:t.isForward()}},Ik=t=>({rng:t.getRng(),forward:t.isForward()}),QS=(t,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?t.create("span",r,"&#xFEFF;"):t.create("span",r)},Sx=(t,n)=>{const o=t.dom;let r=t.getRng();const a=o.uniqueId(),f=t.isCollapsed(),y=t.getNode(),T=y.nodeName,O=t.isForward();if(T==="IMG")return{name:T,index:qS(o,T,y)};const B=YS(r.cloneRange());if(!f){B.collapse(!1);const j=QS(o,a+"_end",n);O1(o,B,j)}r=YS(r),r.collapse(!0);const U=QS(o,a+"_start",n);return O1(o,r,U),t.moveToBookmark({id:a,keep:!0,forward:O}),{id:a,forward:O}},pe=(t,n,o=!1)=>n===2?JS(pc,o,t):n===3?q0(t):n?Ik(t):Sx(t,!1),Ex=Kt(JS,wo,!0),ui=t=>{const n=f=>f(t),o=re(t),r=()=>a,a={tag:!0,inner:t,fold:(f,y)=>y(t),isValue:Ae,isError:Gt,map:f=>ca.value(f(t)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:f=>{f(t)},toOptional:()=>X.some(t)};return a},t2=t=>{const n=()=>o,o={tag:!1,inner:t,fold:(r,a)=>r(t),isValue:Gt,isError:Ae,map:n,mapError:r=>ca.error(r(t)),bind:n,exists:Gt,forall:Ae,getOr:wo,or:wo,getOrThunk:ko,orThunk:ko,getOrDie:Cr(String(t)),each:Ye,toOptional:X.none};return o},ca={value:ui,error:t2,fromOption:(t,n)=>t.fold(()=>t2(n),ui)},Jd={generate:t=>{if(!ln(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const n=[],o={};return wt(t,(r,a)=>{const f=zr(r);if(f.length!==1)throw new Error("one and only one name per case");const y=f[0],T=r[y];if(o[y]!==void 0)throw new Error("duplicate key detected:"+y);if(y==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ln(T))throw new Error("case arguments must be an array");n.push(y),o[y]=(...O)=>{const B=O.length;if(B!==T.length)throw new Error("Wrong number of arguments to case "+y+". Expected "+T.length+" ("+T+"), got "+B);return{fold:(...j)=>{if(j.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+j.length);return j[a].apply(null,O)},match:j=>{const q=zr(j);if(n.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+q.join(","));if(!vs(n,at=>Mt(q,at)))throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+n.join(", "));return j[y].apply(null,O)},log:j=>{console.log(j,{constructors:n,constructor:y,params:O})}}}}),o}};Jd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const e2=t=>{const n=[],o=[];return wt(t,r=>{r.fold(a=>{n.push(a)},a=>{o.push(a)})}),{errors:n,values:o}},wl=t=>t.type==="inline-command"||t.type==="inline-format",K0=t=>t.type==="block-command"||t.type==="block-format",Qp=(t,n)=>(t.type==="block-command"||t.type==="block-format")&&t.trigger===n,lu=t=>{var n;const o=a=>ca.error({message:a,pattern:t}),r=(a,f,y)=>{if(t.format!==void 0){let T;if(ln(t.format)){if(!vs(t.format,ft))return o(a+" pattern has non-string items in the `format` array");T=t.format}else if(ft(t.format))T=[t.format];else return o(a+" pattern has non-string `format` parameter");return ca.value(f(T))}else return t.cmd!==void 0?ft(t.cmd)?ca.value(y(t.cmd,t.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!We(t))return o("Raw pattern is not an object");if(!ft(t.start))return o("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!ft(t.end))return o("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=t.start,f=t.end;return f.length===0&&(f=a,a=""),r("Inline",y=>({type:"inline-format",start:a,end:f,format:y}),(y,T)=>({type:"inline-command",start:a,end:f,cmd:y,value:T}))}else{if(t.replacement!==void 0)return ft(t.replacement)?t.start.length===0?o("Replacement pattern has empty `start` parameter"):ca.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(n=t.trigger)!==null&&n!==void 0?n:"space";return t.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",f=>({type:"block-format",start:t.start,format:f[0],trigger:a}),(f,y)=>({type:"block-command",start:t.start,cmd:f,value:y,trigger:a}))}}},bi=t=>Se(t,K0),Y0=t=>Se(t,wl),uu=(t,n)=>({inlinePatterns:Y0(t),blockPatterns:bi(t),dynamicPatternsLookup:n}),Ax=(t,n)=>({...t,blockPatterns:Se(t.blockPatterns,o=>Qp(o,n))}),kx=t=>{const n=e2(Ht(t,lu));return wt(n.errors,o=>console.error(o.message,o.pattern)),n.values},Ox=t=>n=>{const o=t(n);return kx(o)},X0=Ec().deviceType,n2=X0.isTouch(),Dx=Zo.DOM,$k=t=>{const n=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return yo(n,(o,r)=>{const a=r.split("="),f=a[0],y=a.length>1?a[1]:f;return o[Ad(f)]=Ad(y),o},{})},Rx=t=>Nn(t,RegExp),Ve=t=>n=>n.options.get(t),J0=t=>ft(t)||We(t),o2=(t,n="")=>o=>{const r=ft(o);if(r)if(o.indexOf("=")!==-1){const a=$k(o);return{value:ms(a,t.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},Fk=t=>{const n=t.options.register;n("id",{processor:"string",default:t.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:t.documentBaseUrl}),n("body_id",{processor:o2(t,"tinymce"),default:"tinymce"}),n("body_class",{processor:o2(t),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ft(o)&&Wo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=Mt(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>wn(o)?{valid:!0,value:o}:ft(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ft(o)||pn(o,ft);return r?ft(o)?{value:Ht(o.split(","),Ad),valid:r}:ln(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Mg(t)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ft(o)||pn(o,ft);return r?{value:ln(o)?o:Ht(o.split(","),Ad),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=wn(o)||ft(o);return r?o===!1||X0.isiPhone()||X0.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!n2}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ft(o)||pt(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ft(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:t.convertURL}),n("url_converter_scope",{processor:"object",default:t}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:J0}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:J0}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:J0}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:J0}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ft(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>pn(o,We)||o===!1?{value:kx(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>pt(o)?{value:Ox(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>pn(o,Rx)?{value:o,valid:!0}:Rx(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=Mt(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=Mt(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),t.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Ar.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Dx.getAttrib(t.getElement(),"placeholder")})})},Hk=Ve("iframe_attrs"),Mx=Ve("doctype"),s2=Ve("document_base_url"),r2=Ve("body_id"),Vk=Ve("body_class"),P1=Ve("content_security_policy"),zk=Ve("br_in_pre"),la=Ve("forced_root_block"),N1=Ve("forced_root_block_attrs"),i2=Ve("newline_behavior"),a2=Ve("br_newline_selector"),uh=Ve("no_newline_selector"),Wk=Ve("keep_styles"),tb=Ve("end_container_on_empty_block"),ds=Ve("automatic_uploads"),Px=Ve("images_reuse_filename"),$i=Ve("images_replace_blob_uris"),Br=Ve("icons"),c2=Ve("icons_url"),Nx=Ve("images_upload_url"),Q0=Ve("images_upload_base_path"),l2=Ve("images_upload_credentials"),u2=Ve("images_upload_handler"),Uk=Ve("content_css_cors"),Lx=Ve("referrer_policy"),d2=Ve("language"),jk=Ve("language_url"),eb=Ve("indent_use_margin"),f2=Ve("indentation"),cN=Ve("content_css"),Dg=Ve("content_style"),h2=Ve("font_css"),Zk=Ve("directionality"),Gk=Ve("inline_boundaries_selector"),m2=Ve("object_resizing"),Bx=Ve("resize_img_proportional"),Ix=Ve("placeholder"),Rg=Ve("event_root"),g2=Ve("service_message"),nb=Ve("theme"),qk=Ve("theme_url"),$x=Ve("model"),du=Ve("model_url"),ym=Ve("inline_boundaries"),ty=Ve("formats"),L1=Ve("preview_styles"),p2=Ve("format_empty_lines"),Qd=Ve("format_noneditable_selector"),ey=Ve("custom_ui_selector"),Mg=Ve("inline"),fu=Ve("hidden_input"),ob=Ve("submit_patch"),Kk=Ve("add_form_submit_trigger"),b2=Ve("add_unload_trigger"),Yk=Ve("custom_undo_redo_levels"),Xk=Ve("disable_nodechange"),Fx=Ve("readonly"),Jk=Ve("editable_root"),v2=Ve("content_css_cors"),B1=Ve("plugins"),y2=Ve("external_plugins"),_2=Ve("block_unsupported_drop"),Qk=Ve("visual"),tO=Ve("visual_table_class"),x2=Ve("visual_anchor_class"),w2=Ve("iframe_aria_text"),Hx=Ve("setup"),C2=Ve("init_instance_callback"),eO=Ve("urlconverter_callback"),nO=Ve("auto_focus"),ny=Ve("browser_spellcheck"),S2=Ve("protect"),E2=Ve("paste_block_drop"),dh=Ve("paste_data_images"),oy=Ve("paste_preprocess"),Vx=Ve("paste_postprocess"),T2=Ve("newdocument_content"),A2=Ve("paste_webkit_styles"),k2=Ve("paste_remove_styles_if_webkit"),oO=Ve("paste_merge_formats"),O2=Ve("smart_paste"),I1=Ve("paste_as_text"),sO=Ve("paste_tab_spaces"),zx=Ve("allow_html_data_urls"),rO=Ve("text_patterns"),iO=Ve("text_patterns_lookup"),D2=Ve("noneditable_class"),Wx=Ve("editable_class"),aO=Ve("noneditable_regexp"),$1=Ve("preserve_cdata"),cO=Ve("highlight_on_focus"),R2=Ve("xss_sanitization"),M2=Ve("init_content_sync"),ua=t=>t.options.isSet("text_patterns_lookup"),lO=t=>fe.explode(t.options.get("font_size_style_values")),sb=t=>fe.explode(t.options.get("font_size_classes")),uO=t=>t.options.get("encoding")==="xml",rb=t=>fe.explode(t.options.get("images_file_types")),P2=Ve("table_tab_navigation"),dO=Ve("details_initial_state"),fO=Ve("details_serialized_state"),Ux=Ve("sandbox_iframes"),ib=t=>t.options.get("sandbox_iframes_exclusions"),N2=Ve("convert_unsafe_embeds"),Ma=Ve("license_key"),F1=Ve("api_key"),L2=Ge,B2=se,jx=t=>{const n=t.parentNode;n&&n.removeChild(t)},Zx=t=>{const n=pc(t);return{count:t.length-n.length,text:n}},sy=t=>{let n;for(;(n=t.data.lastIndexOf(vr))!==-1;)t.deleteData(n,1)},I2=(t,n)=>(Ng(t),n),H1=(t,n)=>{const o=Zx(t.data.substr(0,n.offset())),r=Zx(t.data.substr(n.offset()));return(o.text+r.text).length>0?(sy(t),Ut(t,n.offset()-o.count)):n},n7=(t,n)=>{const o=n.container(),r=Vt(Vi(o.childNodes),t).map(a=>a<n.offset()?Ut(o,n.offset()-1):n).getOr(n);return Ng(t),r},$2=(t,n)=>B2(t)&&n.container()===t?H1(t,n):I2(t,n),F2=(t,n)=>n.container()===t.parentNode?n7(t,n):I2(t,n),Pg=(t,n)=>Ut.isTextPosition(n)?$2(t,n):F2(t,n),Ng=t=>{L2(t)&&Ja(t)&&(ai(t)?t.removeAttribute("data-mce-caret"):jx(t)),B2(t)&&(sy(t),t.data.length===0&&jx(t))},Gx=cs,qx=Xs,ry=Pc,H2="*[contentEditable=false],video,audio,embed,object",Lg=(t,n,o)=>{const r=z0(n.getBoundingClientRect(),o);let a,f;if(t.tagName==="BODY"){const T=t.ownerDocument.documentElement;a=t.scrollLeft||T.scrollLeft,f=t.scrollTop||T.scrollTop}else{const T=t.getBoundingClientRect();a=t.scrollLeft-T.left,f=t.scrollTop-T.top}r.left+=a,r.right+=a,r.top+=f,r.bottom+=f,r.width=1;let y=n.offsetWidth-n.clientWidth;return y>0&&(o&&(y*=-1),r.left+=y,r.right+=y),r},_m=t=>{var n,o;const r=mr(ht.fromDom(t),H2);for(let a=0;a<r.length;a++){const f=r[a].dom;let y=f.previousSibling;if(w1(y)){const T=y.data;T.length===1?(n=y.parentNode)===null||n===void 0||n.removeChild(y):y.deleteData(T.length-1,1)}y=f.nextSibling,V0(y)&&(y.data.length===1?(o=y.parentNode)===null||o===void 0||o.removeChild(y):y.deleteData(0,1))}},V2=(t,n,o,r)=>{const a=Zr();let f,y;const T=la(t),O=t.dom,B=(st,ct)=>{let xt;if(U(),ry(ct))return null;if(o(ct)){const St=Kp(T,ct,st),Et=Lg(n,ct,st);O.setStyle(St,"top",Et.top),O.setStyle(St,"caret-color","transparent"),y=St;const Nt=O.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});O.setStyles(Nt,{...Et}),O.add(n,Nt),a.set({caret:Nt,element:ct,before:st}),st&&O.addClass(Nt,"mce-visual-caret-before"),j(),xt=ct.ownerDocument.createRange(),xt.setStart(St,0),xt.setEnd(St,0)}else return y=yl(ct,st),xt=ct.ownerDocument.createRange(),V1(y.nextSibling)?(xt.setStart(y,0),xt.setEnd(y,0)):(xt.setStart(y,1),xt.setEnd(y,1)),xt;return xt},U=()=>{_m(n),y&&(Ng(y),y=null),a.on(st=>{O.remove(st.caret),a.clear()}),f&&(clearInterval(f),f=void 0)},j=()=>{f=setInterval(()=>{a.on(st=>{r()?O.toggleClass(st.caret,"mce-visual-caret-hidden"):O.addClass(st.caret,"mce-visual-caret-hidden")})},500)};return{show:B,hide:U,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(st=>{const ct=Lg(n,st.element,st.before);O.setStyles(st.caret,{...ct})})},destroy:()=>clearInterval(f)}},iy=()=>Ee.browser.isFirefox(),V1=t=>Gx(t)||qx(t),z1=t=>(V1(t)||or(t)&&iy())&&Bu(ht.fromDom(t)).exists(Ln),Kx=gr,ab=cs,z2=Xs,Yx=as("display","block table table-cell table-caption list-item"),ay=Ja,Xx=qp,hO=Ge,W2=se,U2=Uc,fh=t=>t>0,xm=t=>t<0,W1=(t,n)=>{let o;for(;o=t(n);)if(!Xx(o))return o;return null},U1=(t,n,o,r,a)=>{const f=new Vs(t,r),y=ab(t)||Xx(t);let T;if(xm(n)){if(y&&(T=W1(f.prev.bind(f),!0),o(T)))return T;for(;T=W1(f.prev.bind(f),a);)if(o(T))return T}if(fh(n)){if(y&&(T=W1(f.next.bind(f),!0),o(T)))return T;for(;T=W1(f.next.bind(f),a);)if(o(T))return T}return null},mO=(t,n)=>{const o=a=>Kx(a.dom),r=a=>a.dom===n;return Hs(ht.fromDom(t),o,r).map(a=>a.dom).getOr(n)},wm=(t,n)=>{for(;t&&t!==n;){if(Yx(t))return t;t=t.parentNode}return null},Cl=(t,n,o)=>wm(t.container(),o)===wm(n.container(),o),cy=(t,n)=>{if(!n)return X.none();const o=n.container(),r=n.offset();return hO(o)?X.from(o.childNodes[r+t]):X.none()},gO=(t,n)=>{var o;const a=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return t?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},o7=(t,n,o)=>wm(n,t)===wm(o,t),pO=(t,n,o)=>{const r=t?"previousSibling":"nextSibling";let a=o;for(;a&&a!==n;){let f=a[r];if(f&&ay(f)&&(f=f[r]),ab(f)||z2(f)){if(o7(n,f,a))return f;break}if(U2(f))break;a=a.parentNode}return null},hh=Kt(gO,!0),j1=Kt(gO,!1),vi=(t,n,o)=>{let r;const a=Kt(pO,!0,n),f=Kt(pO,!1,n),y=o.startContainer,T=o.startOffset;if(qp(y)){const O=W2(y)?y.parentNode:y,B=O.getAttribute("data-mce-caret");if(B==="before"&&(r=O.nextSibling,z1(r)))return hh(r);if(B==="after"&&(r=O.previousSibling,z1(r)))return j1(r)}if(!o.collapsed)return o;if(se(y)){if(ay(y)){if(t===1){if(r=f(y),r)return hh(r);if(r=a(y),r)return j1(r)}if(t===-1){if(r=a(y),r)return j1(r);if(r=f(y),r)return hh(r)}return o}if(w1(y)&&T>=y.data.length-1)return t===1&&(r=f(y),r)?hh(r):o;if(V0(y)&&T<=1)return t===-1&&(r=a(y),r)?j1(r):o;if(T===y.data.length)return r=f(y),r?hh(r):o;if(T===0)return r=a(y),r?j1(r):o}return o},ly=(t,n)=>cy(t?0:-1,n).filter(ab),ed=(t,n,o)=>{const r=vi(t,n,o);return t===-1?Ut.fromRangeStart(r):Ut.fromRangeEnd(r)},tf=t=>X.from(t.getNode()).map(ht.fromDom),j2=t=>X.from(t.getNode(!0)).map(ht.fromDom),Z1=(t,n)=>{let o=n;for(;o=t(o);)if(o.isVisible())return o;return o},G1=(t,n)=>{const o=Cl(t,n);return!o&&es(t.getNode())?!0:o};var yi;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(yi||(yi={}));const bO=cs,Sl=se,nd=Ge,q1=es,Bg=Uc,ef=Ts,K1=px,cb=(t,n)=>{const o=[];let r=t;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},lb=(t,n)=>t.hasChildNodes()&&n<t.childNodes.length?t.childNodes[n]:null,uy=(t,n)=>{if(fh(t)){if(Bg(n.previousSibling)&&!Sl(n.previousSibling))return Ut.before(n);if(Sl(n))return Ut(n,0)}if(xm(t)){if(Bg(n.nextSibling)&&!Sl(n.nextSibling))return Ut.after(n);if(Sl(n))return Ut(n,n.data.length)}return xm(t)?q1(n)?Ut.before(n):Ut.after(n):Ut.before(n)},Z2=(t,n)=>{const o=n.nextSibling;return o&&Bg(o)?Sl(o)?Ut(o,0):Ut.before(o):nf(yi.Forwards,Ut.after(n),t)},nf=(t,n,o)=>{let r,a,f,y;if(!nd(o)||!n)return null;if(n.isEqual(Ut.after(o))&&o.lastChild){if(y=Ut.after(o.lastChild),xm(t)&&Bg(o.lastChild)&&nd(o.lastChild))return q1(o.lastChild)?Ut.before(o.lastChild):y}else y=n;const T=y.container();let O=y.offset();if(Sl(T)){if(xm(t)&&O>0)return Ut(T,--O);if(fh(t)&&O<T.length)return Ut(T,++O);r=T}else{if(xm(t)&&O>0&&(a=lb(T,O-1),Bg(a)))return!ef(a)&&(f=U1(a,t,K1,a),f)?Sl(f)?Ut(f,f.data.length):Ut.after(f):Sl(a)?Ut(a,a.data.length):Ut.before(a);if(fh(t)&&O<T.childNodes.length&&(a=lb(T,O),Bg(a)))return q1(a)?Z2(o,a):!ef(a)&&(f=U1(a,t,K1,a),f)?Sl(f)?Ut(f,0):Ut.before(f):Sl(a)?Ut(a,0):Ut.after(a);r=a||y.getNode()}if(r&&(fh(t)&&y.isAtEnd()||xm(t)&&y.isAtStart())&&(r=U1(r,t,Ae,o,!0),K1(r,o)))return uy(t,r);a=r&&U1(r,t,K1,o);const B=ac(Se(cb(T,o),bO));return B&&(!a||!B.contains(a))?(fh(t)?y=Ut.after(B):y=Ut.before(B),y):a?uy(t,a):null},od=t=>({next:n=>nf(yi.Forwards,n,t),prev:n=>nf(yi.Backwards,n,t)}),of=(t,n,o)=>{const r=t?Ut.before(o):Ut.after(o);return El(t,n,r)},vO=t=>es(t)?Ut.before(t):Ut.after(t),dy=t=>Ut.isTextPosition(t)?t.offset()===0:Uc(t.getNode()),Jx=t=>{if(Ut.isTextPosition(t)){const n=t.container();return t.offset()===n.data.length}else return Uc(t.getNode(!0))},yO=(t,n)=>!Ut.isTextPosition(t)&&!Ut.isTextPosition(n)&&t.getNode()===n.getNode(!0),_O=t=>!Ut.isTextPosition(t)&&es(t.getNode()),xO=(t,n,o)=>t?!yO(n,o)&&!_O(n)&&Jx(n)&&dy(o):!yO(o,n)&&dy(n)&&Jx(o),El=(t,n,o)=>{const r=od(n);return X.from(t?r.next(o):r.prev(o))},Ig=(t,n,o)=>El(t,n,o).bind(r=>Cl(o,r,n)&&xO(t,o,r)?El(t,n,r):X.some(r)),fy=(t,n,o,r)=>Ig(t,n,o).bind(a=>r(a)?fy(t,n,a,r):X.some(a)),$g=(t,n)=>{const o=t?n.firstChild:n.lastChild;return se(o)?X.some(Ut(o,t?0:o.data.length)):o?Uc(o)?X.some(t?Ut.before(o):vO(o)):of(t,n,o):X.none()},Pa=Kt(El,!0),Qa=Kt(El,!1),da=Kt($g,!0),hu=Kt($g,!1),hy="_mce_caret",jc=t=>Ge(t)&&t.id===hy,Yn=(t,n)=>{let o=n;for(;o&&o!==t;){if(jc(o))return o;o=o.parentNode}return null},Cm=t=>ft(t.start),ub=t=>Sn(t,"rng"),Qx=t=>Sn(t,"id"),tw=t=>Sn(t,"name"),Y1=t=>fe.isArray(t.start),my=t=>!tw(t)&&wn(t.forward)?t.forward:!0,gy=(t,n)=>(Ge(n)&&t.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),py=(t,n)=>{const o=X.from(wx(t.getRoot(),n.start)),r=X.from(wx(t.getRoot(),n.end));return ti(o,r,(a,f)=>{const y=t.createRng();return y.setStart(a.container(),a.offset()),y.setEnd(f.container(),f.offset()),{range:y,forward:my(n)}})},by=(t,n)=>{var o;const a=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(vr);t.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},lN=t=>!t.hasChildNodes(),ew=(t,n)=>hu(t).fold(Gt,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),G2=(t,n,o)=>lN(n)&&Yn(t,n)?(by(n,o),!0):!1,q2=(t,n,o,r)=>{const a=o[n?"start":"end"],f=t.getRoot();if(a){let y=f,T=a[0];for(let O=a.length-1;y&&O>=1;O--){const B=y.childNodes;if(G2(f,y,r))return!0;if(a[O]>B.length-1)return G2(f,y,r)?!0:ew(y,r);y=B[a[O]]}se(y)&&(T=Math.min(a[0],y.data.length)),Ge(y)&&(T=Math.min(a[0],y.childNodes.length)),n?r.setStart(y,T):r.setEnd(y,T)}return!0},K2=t=>se(t)&&t.data.length>0,nw=(t,n,o)=>{const r=t.get(o.id+"_"+n),a=r==null?void 0:r.parentNode,f=o.keep;if(r&&a){let y,T;if(n==="start"?f?r.hasChildNodes()?(y=r.firstChild,T=1):K2(r.nextSibling)?(y=r.nextSibling,T=0):K2(r.previousSibling)?(y=r.previousSibling,T=r.previousSibling.data.length):(y=a,T=t.nodeIndex(r)+1):(y=a,T=t.nodeIndex(r)):f?r.hasChildNodes()?(y=r.firstChild,T=1):K2(r.previousSibling)?(y=r.previousSibling,T=r.previousSibling.data.length):(y=a,T=t.nodeIndex(r)):(y=a,T=t.nodeIndex(r)),!f){const O=r.previousSibling,B=r.nextSibling;fe.each(fe.grep(r.childNodes),j=>{se(j)&&(j.data=j.data.replace(/\uFEFF/g,""))});let U;for(;U=t.get(o.id+"_"+n);)t.remove(U,!0);if(se(B)&&se(O)&&!Ee.browser.isOpera()){const j=O.data.length;O.appendData(B.data),t.remove(B),y=O,T=j}}return X.some(Ut(y,T))}else return X.none()},ow=(t,n)=>{const o=t.createRng();return q2(t,!0,n,o)&&q2(t,!1,n,o)?X.some({range:o,forward:my(n)}):X.none()},db=(t,n)=>{const o=nw(t,"start",n),r=nw(t,"end",n);return ti(o,r.or(o),(a,f)=>{const y=t.createRng();return y.setStart(gy(t,a.container()),a.offset()),y.setEnd(gy(t,f.container()),f.offset()),{range:y,forward:my(n)}})},vy=(t,n)=>X.from(t.select(n.name)[n.index]).map(o=>{const r=t.createRng();return r.selectNode(o),{range:r,forward:!0}}),sw=(t,n)=>{const o=t.dom;if(n){if(Y1(n))return ow(o,n);if(Cm(n))return py(o,n);if(Qx(n))return db(o,n);if(tw(n))return vy(o,n);if(ub(n))return X.some({range:n.rng,forward:my(n)})}return X.none()},fb=(t,n,o)=>pe(t,n,o),Y2=(t,n)=>{sw(t,n).each(({range:o,forward:r})=>{t.setRng(o,r)})},Tl=t=>Ge(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",yy=(t=>n=>t===n)(zs),mh=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,rw=t=>!mh(t)&&!yy(t)&&!Vu(t),iw=t=>{const n=[];if(t)for(let o=0;o<t.rangeCount;o++)n.push(t.getRangeAt(o));return n},wO=t=>Ps(t,n=>{const o=Xp(n);return o?[ht.fromDom(o)]:[]}),CO=t=>iw(t).length>1,SO=t=>Se(wO(t),ah),EO=t=>mr(t,"td[data-mce-selected],th[data-mce-selected]"),X2=(t,n)=>{const o=EO(n);return o.length>0?o:SO(t)},sd=t=>X2(iw(t.selection.getSel()),ht.fromDom(t.getBody())),X1=(t,n)=>fg(t,"table",n),TO=t=>{const n=t.startContainer,o=t.startOffset;return se(n)?o===0?X.some(ht.fromDom(n)):X.none():X.from(n.childNodes[o]).map(ht.fromDom)},Ie=t=>{const n=t.endContainer,o=t.endOffset;return se(n)?o===n.data.length?X.some(ht.fromDom(n)):X.none():X.from(n.childNodes[o-1]).map(ht.fromDom)},qr=t=>Kh(t).fold(re([t]),n=>[t].concat(qr(n))),gh=t=>oa(t).fold(re([t]),n=>xo(n)==="br"?Dc(n).map(o=>[t].concat(gh(o))).getOr([]):[t].concat(gh(n))),Kr=(t,n)=>ti(TO(n),Ie(n),(o,r)=>{const a=co(qr(t),Kt(Io,o)),f=co(gh(t),Kt(Io,r));return a.isSome()&&f.isSome()}).getOr(!1),Zc=(t,n,o,r)=>{const a=o,f=new Vs(o,a),y=Os(t.schema.getMoveCaretBeforeOnEnterElements(),(O,B)=>!Mt(["td","th","table"],B.toLowerCase()));let T=o;do{if(se(T)&&fe.trim(T.data).length!==0){r?n.setStart(T,0):n.setEnd(T,T.data.length);return}if(y[T.nodeName]){r?n.setStartBefore(T):T.nodeName==="BR"?n.setEndBefore(T):n.setEndAfter(T);return}}while(T=r?f.next():f.prev());a.nodeName==="BODY"&&(r?n.setStart(a,0):n.setEnd(a,a.childNodes.length))},J1=t=>{const n=t.selection.getSel();return Zt(n)&&n.rangeCount>0},hb=(t,n)=>{const o=sd(t);o.length>0?wt(o,r=>{const a=r.dom,f=t.dom.createRng();f.setStartBefore(a),f.setEndAfter(a),n(f,!0)}):n(t.selection.getRng(),!1)},Fg=(t,n,o)=>{const r=Sx(t,n);o(r),t.moveToBookmark(r)},mb=t=>jn(t==null?void 0:t.nodeType),Q1=t=>Ge(t)&&!Tl(t)&&!jc(t)&&!Tr(t),J2=(t,n)=>{if(Q1(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=t.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},aw=(t,n,o)=>{const{selection:r,dom:a}=t,f=r.getNode(),y=cs(f);Fg(r,!0,()=>{n()}),y&&cs(f)&&a.isChildOf(f,t.getBody())?t.selection.select(f):o(r.getStart())&&Q2(a,r)},Q2=(t,n)=>{var o,r;const a=n.getRng(),{startContainer:f,startOffset:y}=a,T=n.getNode();if(!J2(t,T)&&Ge(f)){const O=f.childNodes,B=t.getRoot();let U;if(y<O.length){const j=O[y];U=new Vs(j,(o=t.getParent(j,t.isBlock))!==null&&o!==void 0?o:B)}else{const j=O[O.length-1];U=new Vs(j,(r=t.getParent(j,t.isBlock))!==null&&r!==void 0?r:B),U.next(!0)}for(let j=U.current();j;j=U.next()){if(t.getContentEditable(j)==="false")return;if(se(j)&&!ev(j)){a.setStart(j,0),n.setRng(a);return}}}},cw=(t,n,o)=>{if(t){const r=n?"nextSibling":"previousSibling";for(t=o?t:t[r];t;t=t[r])if(Ge(t)||!ev(t))return t}},tv=(t,n)=>!!t.getTextBlockElements()[n.nodeName.toLowerCase()]||Fd(t,n),gb=(t,n,o)=>t.schema.isValidChild(n,o),ev=(t,n=!1)=>{if(Zt(t)&&se(t)){const o=n?t.data.replace(/ /g," "):t.data;return ll(o)}else return!1},_y=t=>Zt(t)&&se(t)&&t.length===0,nv=(t,n)=>{const o="[data-mce-cef-wrappable]",r=Qd(t),a=Jr(r)?o:`${o},${r}`;return Ri(ht.fromDom(n),a)},xy=(t,n)=>{const o=t.dom;return Q1(n)&&o.getContentEditable(n)==="false"&&nv(t,n)&&o.select('[contenteditable="true"]',n).length===0},rd=(t,n)=>pt(t)?t(n):(Zt(n)&&(t=t.replace(/%(\w+)/g,(o,r)=>n[r]||o)),t),ov=(t,n)=>(t=t||"",n=n||"",t=""+(t.nodeName||t),n=""+(n.nodeName||n),t.toLowerCase()===n.toLowerCase()),sv=(t,n)=>{if(sn(t))return null;{let o=String(t);return(n==="color"||n==="backgroundColor")&&(o=Jf(o)),n==="fontWeight"&&t===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},mu=(t,n,o)=>{const r=t.getStyle(n,o);return sv(r,o)},rv=(t,n)=>{let o;return t.getParent(n,r=>Ge(r)?(o=t.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},iv=(t,n,o)=>t.getParents(n,o,t.getRoot()),av=(t,n,o)=>{const r=t.formatter.get(n);return Zt(r)&&_t(r,o)},AO=(t,n)=>av(t,n,r=>{const a=f=>pt(f)||f.length>1&&f.charAt(0)==="%";return _t(["styles","attributes"],f=>ms(r,f).exists(y=>{const T=ln(y)?y:Ou(y);return _t(T,a)}))}),kO=(t,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=f=>Os(f,(y,T)=>_t(r,O=>O===T));return av(t,n,f=>{const y=a(f);return av(t,o,T=>{const O=a(T);return Af(y,O)})})},Al=t=>_a(t,"block"),tE=t=>Al(t)&&t.wrapper===!0,OO=t=>Al(t)&&t.wrapper!==!0,ji=t=>_a(t,"selector"),Uo=t=>_a(t,"inline"),gu=t=>ji(t)&&Uo(t)&&Fs(ms(t,"mixed"),!0),vc=t=>ji(t)&&t.expand!==!1&&!Uo(t),pu=t=>{const n=[];let o=t;for(;o;){if(se(o)&&o.data!==vr||o.childNodes.length>1)return[];Ge(o)&&n.push(o),o=o.firstChild}return n},wy=t=>pu(t).length>0,lw=t=>jc(t.dom)&&wy(t.dom),sf=Tl,eE=iv,Cy=ev,DO=tv,nE=t=>es(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling,oE=(t,n)=>{let o=n;for(;o;){if(Ge(o)&&t.getContentEditable(o))return t.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},uw=(t,n,o,r)=>{const a=n.data;if(t){for(let f=o;f>0;f--)if(r(a.charAt(f-1)))return f}else for(let f=o;f<a.length;f++)if(r(a.charAt(f)))return f;return-1},dw=(t,n,o)=>uw(t,n,o,r=>yy(r)||mh(r)),fw=(t,n,o)=>uw(t,n,o,rw),Go=(t,n,o,r,a,f)=>{let y;const T=t.getParent(o,t.isBlock)||n,O=(U,j,q)=>{const nt=qt(t),at=a?nt.backwards:nt.forwards;return X.from(at(U,j,(st,ct)=>sf(st.parentNode)?-1:(y=st,q(a,st,ct)),T))};return O(o,r,dw).bind(U=>f?O(U.container,U.offset+(a?-1:0),fw):X.some(U)).orThunk(()=>y?X.some({container:y,offset:a?0:y.length}):X.none())},ph=(t,n,o,r,a)=>{const f=r[a];se(r)&&Jr(r.data)&&f&&(r=f);const y=eE(t,r);for(let T=0;T<y.length;T++)for(let O=0;O<n.length;O++){const B=n[O];if(!(Zt(B.collapsed)&&B.collapsed!==o.collapsed)&&ji(B)&&t.is(y[T],B.selector))return y[T]}return r},hw=(t,n,o,r)=>{var a;let f=o;const y=t.getRoot(),T=n[0];if(Al(T)&&(f=T.wrapper?null:t.getParent(o,T.block,y)),!f){const O=(a=t.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:y;f=t.getParent(se(o)?o.parentNode:o,B=>B!==y&&DO(t.schema,B),O)}if(f&&Al(T)&&T.wrapper&&(f=eE(t,f,"ul,ol").reverse()[0]||f),!f)for(f=o;f&&f[r]&&!t.isBlock(f[r])&&(f=f[r],!ov(f,"br")););return f||o},mw=(t,n,o,r)=>{const a=o.parentNode;return Zt(o[r])?!1:a===n||sn(a)||t.isBlock(a)?!0:mw(t,n,a,r)},cv=(t,n,o,r,a)=>{let f=o;const y=a?"previousSibling":"nextSibling",T=t.getRoot();if(se(o)&&!Cy(o)&&(a?r>0:r<o.data.length))return o;for(;f;){if(!n[0].block_expand&&t.isBlock(f))return f;for(let O=f[y];O;O=O[y]){const B=se(O)&&!mw(t,T,O,y);if(!sf(O)&&!nE(O)&&!Cy(O,B))return f}if(f===T||f.parentNode===T){o=f;break}f=f.parentNode}return o},Sy=t=>sf(t.parentNode)||sf(t),Sm=(t,n,o,r=!1)=>{let{startContainer:a,startOffset:f,endContainer:y,endOffset:T}=n;const O=o[0];return Ge(a)&&a.hasChildNodes()&&(a=lh(a,f),se(a)&&(f=0)),Ge(y)&&y.hasChildNodes()&&(y=lh(y,n.collapsed?T:T-1),se(y)&&(T=y.data.length)),a=oE(t,a),y=oE(t,y),Sy(a)&&(a=sf(a)?a:a.parentNode,n.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,se(a)&&(f=n.collapsed?a.length:0)),Sy(y)&&(y=sf(y)?y:y.parentNode,n.collapsed?y=y.nextSibling||y:y=y.previousSibling||y,se(y)&&(T=n.collapsed?0:y.length)),n.collapsed&&(Go(t,t.getRoot(),a,f,!0,r).each(({container:j,offset:q})=>{a=j,f=q}),Go(t,t.getRoot(),y,T,!1,r).each(({container:j,offset:q})=>{y=j,T=q})),(Uo(O)||O.block_expand)&&((!Uo(O)||!se(a)||f===0)&&(a=cv(t,o,a,f,!0)),(!Uo(O)||!se(y)||T===y.data.length)&&(y=cv(t,o,y,T,!1))),vc(O)&&(a=ph(t,o,n,a,"previousSibling"),y=ph(t,o,n,y,"nextSibling")),(Al(O)||ji(O))&&(a=hw(t,o,a,"previousSibling"),y=hw(t,o,y,"nextSibling"),Al(O)&&(t.isBlock(a)||(a=cv(t,o,a,f,!0),se(a)&&(f=0)),t.isBlock(y)||(y=cv(t,o,y,T,!1),se(y)&&(T=y.data.length)))),Ge(a)&&a.parentNode&&(f=t.nodeIndex(a),a=a.parentNode),Ge(y)&&y.parentNode&&(T=t.nodeIndex(y)+1,y=y.parentNode),{startContainer:a,startOffset:f,endContainer:y,endOffset:T}},Em=(t,n,o)=>{var r;const a=n.startOffset,f=lh(n.startContainer,a),y=n.endOffset,T=lh(n.endContainer,y-1),O=ct=>{const xt=ct[0];se(xt)&&xt===f&&a>=xt.data.length&&ct.splice(0,1);const St=ct[ct.length-1];return y===0&&ct.length>0&&St===T&&se(St)&&ct.splice(ct.length-1,1),ct},B=(ct,xt,St)=>{const Et=[];for(;ct&&ct!==St;ct=ct[xt])Et.push(ct);return Et},U=(ct,xt)=>t.getParent(ct,St=>St.parentNode===xt,xt),j=(ct,xt,St)=>{const Et=St?"nextSibling":"previousSibling";for(let Nt=ct,Jt=Nt.parentNode;Nt&&Nt!==xt;Nt=Jt){Jt=Nt.parentNode;const ge=B(Nt===ct?Nt:Nt[Et],Et);ge.length&&(St||ge.reverse(),o(O(ge)))}};if(f===T)return o(O([f]));const q=(r=t.findCommonAncestor(f,T))!==null&&r!==void 0?r:t.getRoot();if(t.isChildOf(f,T))return j(f,q,!0);if(t.isChildOf(T,f))return j(T,q);const nt=U(f,q)||f,at=U(T,q)||T;j(f,nt,!0);const st=B(nt===f?nt:nt.nextSibling,"nextSibling",at===T?at.nextSibling:at);st.length&&o(O(st)),j(T,at)},RO=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],MO=t=>ws(t)&&De(t)===vr,sE=(t,n,o,r)=>Ga(n).fold(()=>"skipping",a=>r==="br"||MO(n)?"valid":bl(n)?"existing":jc(n.dom)?"caret":_t(RO,f=>Ri(n,f))?"valid-block":!gb(t,o,r)||!gb(t,xo(a),o)?"invalid-child":"valid"),PO=(t,n)=>{const o=Sm(t.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),t.selection.setRng(n)},Ey=(t,n,o,r,a,f)=>{const{uid:y=n,...T}=o;Bf(t,hm()),is(t,`${iu()}`,y),is(t,`${Gd()}`,r);const{attributes:O={},classes:B=[]}=a(y,T);if(Ac(t,O),L(t,B),f){B.length>0&&is(t,`${rh()}`,B.join(","));const U=zr(O);U.length>0&&is(t,`${pl()}`,U.join(","))}},pb=t=>{Nu(t,hm()),Lo(t,`${iu()}`),Lo(t,`${Gd()}`),Lo(t,`${Eg()}`);const n=Di(t,`${pl()}`).map(r=>r.split(",")).getOr([]),o=Di(t,`${rh()}`).map(r=>r.split(",")).getOr([]);wt(n,r=>Lo(t,r)),z(t,o),Lo(t,`${rh()}`),Lo(t,`${pl()}`)},Hg=(t,n,o,r,a)=>{const f=ht.fromTag("span",t);return Ey(f,n,o,r,a,!1),f},gw=(t,n,o,r,a,f)=>{const y=[],T=Hg(t.getDoc(),o,f,r,a),O=Zr(),B=()=>{O.clear()},U=()=>O.get().getOrThunk(()=>{const at=rt(T);return y.push(at),O.set(at),at}),j=at=>{wt(at,q)},q=at=>{switch(sE(t,at,"span",xo(at))){case"invalid-child":{B();const ct=mi(at);j(ct),B();break}case"valid-block":{B(),Ey(at,o,f,r,a,!0);break}case"valid":{const ct=U();_0(at,ct);break}}},nt=at=>{const st=Ht(at,ht.fromDom);j(st)};return Em(t.dom,n,at=>{B(),nt(at)}),y},NO=(t,n,o,r)=>{t.undoManager.transact(()=>{const a=t.selection,f=a.getRng(),y=sd(t).length>0,T=R("mce-annotation");if(f.collapsed&&!y&&PO(t,f),a.getRng().collapsed&&!y){const O=Hg(t.getDoc(),T,r,n,o.decorate);t1(O,zs),a.getRng().insertNode(O.dom),a.select(O.dom)}else Fg(a,!1,()=>{hb(t,O=>{gw(t,O,T,n,o.decorate,r)})})})},kl=t=>{const n=E();_(t,n);const o=b(t,n),r=Uh("span"),a=f=>{wt(f,y=>{r(y)?al(y):pb(y)})};return{register:(f,y)=>{n.register(f,y)},annotate:(f,y)=>{n.lookup(f).each(T=>{NO(t,f,T,y)})},annotationChanged:(f,y)=>{o.addListener(f,y)},remove:f=>{ih(t,X.some(f)).each(({elements:y})=>{const T=t.selection.getBookmark();a(y),t.selection.moveToBookmark(T)})},removeAll:f=>{const y=t.selection.getBookmark();Me(d(t,f),(T,O)=>{a(T)}),t.selection.moveToBookmark(y)},getAll:f=>{const y=d(t,f);return ho(y,T=>Ht(T,O=>O.dom))}}},Ir=t=>({getBookmark:Kt(fb,t),moveToBookmark:Kt(Y2,t)});Ir.isBookmarkNode=Tl;const Zi=(t,n,o)=>o.collapsed?!1:_t(o.getClientRects(),r=>HS(r,t,n)),rf=(t,n)=>t.dispatch("PreProcess",n),dN=(t,n)=>t.dispatch("PostProcess",n),LO=t=>{t.dispatch("remove")},BO=t=>{t.dispatch("detach")},lo=(t,n)=>{t.dispatch("SwitchMode",{mode:n})},IO=(t,n,o,r,a)=>{t.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:a})},rE=(t,n,o,r,a)=>{t.dispatch("ObjectResized",{target:n,width:o,height:r,origin:a})},pw=t=>{t.dispatch("PreInit")},$O=t=>{t.dispatch("PostRender")},bw=t=>{t.dispatch("Init")},FO=(t,n)=>{t.dispatch("PlaceholderToggle",{state:n})},iE=(t,n,o)=>{t.dispatch(n,o)},aE=(t,n,o,r)=>{t.dispatch("FormatApply",{format:n,node:o,vars:r})},cE=(t,n,o,r)=>{t.dispatch("FormatRemove",{format:n,node:o,vars:r})},vw=(t,n)=>t.dispatch("BeforeSetContent",n),Ty=(t,n)=>t.dispatch("SetContent",n),lE=(t,n)=>t.dispatch("BeforeGetContent",n),uE=(t,n)=>t.dispatch("GetContent",n),fN=(t,n)=>{t.dispatch("AutocompleterStart",n)},HO=(t,n)=>{t.dispatch("AutocompleterUpdate",n)},dE=(t,n)=>{t.dispatch("AutocompleterUpdateActiveRange",n)},hN=t=>{t.dispatch("AutocompleterEnd")},mN=(t,n,o)=>t.dispatch("PastePreProcess",{content:n,internal:o}),En=(t,n,o)=>t.dispatch("PastePostProcess",{node:n,internal:o}),fE=(t,n)=>t.dispatch("PastePlainTextToggle",{state:n}),VO=(t,n)=>t.dispatch("EditableRootStateChange",{state:n}),Ze={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||Ze.metaKeyPressed(t),metaKeyPressed:t=>Ee.os.isMacOS()||Ee.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},af="data-mce-selected",Ay="table,img,figure.image,hr,video,span.mce-preview-object,details",hE=Math.abs,ky=Math.round,yw={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},_w=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Oy=(t,n)=>{const o=n.dom,r=n.getDoc(),a=document,f=n.getBody();let y,T,O,B,U,j,q,nt,at,st,ct,xt,St,Et,Nt,Jt,ge;const Re=Ne=>Zt(Ne)&&(Ap(Ne)||o.is(Ne,"figure.image")),le=Ne=>Xs(Ne)||o.hasClass(Ne,"mce-preview-object"),jt=(Ne,qn)=>{if(_w(Ne)){const Kn=Ne.touches[0];return Re(Ne.target)&&!Zi(Kn.clientX,Kn.clientY,qn)}else return Re(Ne.target)&&!Zi(Ne.clientX,Ne.clientY,qn)},Qt=Ne=>{const qn=Ne.target;jt(Ne,n.selection.getRng())&&!Ne.isDefaultPrevented()&&n.selection.select(qn)},Oe=Ne=>o.hasClass(Ne,"mce-preview-object")&&Zt(Ne.firstElementChild)?[Ne,Ne.firstElementChild]:o.is(Ne,"figure.image")?[Ne.querySelector("img")]:[Ne],tn=Ne=>{const qn=m2(n);return!qn||Ne.getAttribute("data-mce-resize")==="false"||Ne===n.getBody()?!1:o.hasClass(Ne,"mce-preview-object")&&Zt(Ne.firstElementChild)?Ri(ht.fromDom(Ne.firstElementChild),qn):Ri(ht.fromDom(Ne),qn)},Un=(Ne,qn)=>{if(le(qn))return Ne.create("img",{src:Ee.transparentSrc});if(or(qn)){const Fr=er(B.name,"n")?dr:Qc,zo=qn.cloneNode(!0);return Fr(Ne.select("tr",zo)).each(Hr=>{const Su=Ne.select("td,th",Hr);Ne.setStyle(Hr,"height",null),wt(Su,Rh=>Ne.setStyle(Rh,"height",null))}),zo}else return qn.cloneNode(!0)},no=(Ne,qn,Kn)=>{if(Zt(Kn)){const Fr=Oe(Ne);wt(Fr,zo=>{zo.style[qn]||!n.schema.isValid(zo.nodeName.toLowerCase(),qn)?o.setStyle(zo,qn,Kn):o.setAttrib(zo,qn,""+Kn)})}},Vo=(Ne,qn,Kn)=>{no(Ne,"width",qn),no(Ne,"height",Kn)},Yo=Ne=>{let qn,Kn,Fr,zo,Hr;qn=Ne.screenX-j,Kn=Ne.screenY-q,Et=qn*B[2]+st,Nt=Kn*B[3]+ct,Et=Et<5?5:Et,Nt=Nt<5?5:Nt,(Re(y)||le(y))&&Bx(n)!==!1?Fr=!Ze.modifierPressed(Ne):Fr=Ze.modifierPressed(Ne),Fr&&(hE(qn)>hE(Kn)?(Nt=ky(Et*xt),Et=ky(Nt/xt)):(Et=ky(Nt/xt),Nt=ky(Et*xt))),Vo(T,Et,Nt),zo=B.startPos.x+qn,Hr=B.startPos.y+Kn,zo=zo>0?zo:0,Hr=Hr>0?Hr:0,o.setStyles(O,{left:zo,top:Hr,display:"block"}),O.innerHTML=Et+" &times; "+Nt,B[2]<0&&T.clientWidth<=Et&&o.setStyle(T,"left",nt+(st-Et)),B[3]<0&&T.clientHeight<=Nt&&o.setStyle(T,"top",at+(ct-Nt)),qn=f.scrollWidth-Jt,Kn=f.scrollHeight-ge,qn+Kn!==0&&o.setStyles(O,{left:zo-qn,top:Hr-Kn}),St||(IO(n,y,st,ct,"corner-"+B.name),St=!0)},bs=()=>{const Ne=St;St=!1,Ne&&(no(y,"width",Et),no(y,"height",Nt)),o.unbind(r,"mousemove",Yo),o.unbind(r,"mouseup",bs),a!==r&&(o.unbind(a,"mousemove",Yo),o.unbind(a,"mouseup",bs)),o.remove(T),o.remove(O),o.remove(U),Ki(y),Ne&&(rE(n,y,Et,Nt,"corner-"+B.name),o.setAttrib(y,"style",o.getAttrib(y,"style"))),n.nodeChanged()},Ki=Ne=>{ke();const qn=o.getPos(Ne,f),Kn=qn.x,Fr=qn.y,zo=Ne.getBoundingClientRect(),Hr=zo.width||zo.right-zo.left,Su=zo.height||zo.bottom-zo.top;y!==Ne&&(Ce(),y=Ne,Et=Nt=0);const Rh=n.dispatch("ObjectSelected",{target:Ne});tn(Ne)&&!Rh.isDefaultPrevented()?Me(yw,(Fa,Ll)=>{const vd=yd=>{const nn=Oe(y)[0];j=yd.screenX,q=yd.screenY,st=nn.clientWidth,ct=nn.clientHeight,xt=ct/st,B=Fa,B.name=Ll,B.startPos={x:Hr*Fa[0]+Kn,y:Su*Fa[1]+Fr},Jt=f.scrollWidth,ge=f.scrollHeight,U=o.add(f,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(U,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=Un(o,y),o.addClass(T,"mce-clonedresizable"),o.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",o.setStyles(T,{left:Kn,top:Fr,margin:0}),Vo(T,Hr,Su),T.removeAttribute(af),f.appendChild(T),o.bind(r,"mousemove",Yo),o.bind(r,"mouseup",bs),a!==r&&(o.bind(a,"mousemove",Yo),o.bind(a,"mouseup",bs)),O=o.add(f,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},st+" &times; "+ct)};let Bl=o.get("mceResizeHandle"+Ll);Bl&&o.remove(Bl),Bl=o.add(f,"div",{id:"mceResizeHandle"+Ll,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ll+"-resize; margin:0; padding:0"}),o.bind(Bl,"mousedown",yd=>{yd.stopImmediatePropagation(),yd.preventDefault(),vd(yd)}),Fa.elm=Bl,o.setStyles(Bl,{left:Hr*Fa[0]+Kn-Bl.offsetWidth/2,top:Su*Fa[1]+Fr-Bl.offsetHeight/2})}):Ce(!1)},Xo=jp(Ki,0),Ce=(Ne=!0)=>{Xo.cancel(),ke(),y&&Ne&&y.removeAttribute(af),Me(yw,(qn,Kn)=>{const Fr=o.get("mceResizeHandle"+Kn);Fr&&(o.unbind(Fr),o.remove(Fr))})},Qe=(Ne,qn)=>o.isChildOf(Ne,qn),so=Ne=>{if(St||n.removed||n.composing)return;const qn=Ne.type==="mousedown"?Ne.target:t.getNode(),Kn=Gl(ht.fromDom(qn),Ay).map(zo=>zo.dom).filter(zo=>o.isEditable(zo.parentElement)||zo.nodeName==="IMG"&&o.isEditable(zo)).getOrUndefined(),Fr=Zt(Kn)?o.getAttrib(Kn,af,"1"):"1";if(wt(o.select(`img[${af}],hr[${af}]`),zo=>{zo.removeAttribute(af)}),Zt(Kn)&&Qe(Kn,f)&&n.hasFocus()){hn();const zo=t.getStart(!0);if(Qe(zo,Kn)&&Qe(t.getEnd(!0),Kn)){o.setAttrib(Kn,af,Fr),Xo.throttle(Kn);return}}Ce()},ke=()=>{Me(yw,Ne=>{Ne.elm&&(o.unbind(Ne.elm),delete Ne.elm)})},hn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{hn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",so),n.on("keyup compositionend",Ne=>{y&&y.nodeName==="TABLE"&&so(Ne)}),n.on("hide blur",Ce),n.on("contextmenu longpress",Qt,!0)}),n.on("remove",ke),{isResizable:tn,showResizeRect:Ki,hideResizeRect:Ce,updateResizeRect:so,destroy:()=>{Xo.cancel(),y=T=U=null}}},mE=(t,n)=>{n.fold(o=>{t.setStartBefore(o.dom)},(o,r)=>{t.setStart(o.dom,r)},o=>{t.setStartAfter(o.dom)})},xw=(t,n)=>{n.fold(o=>{t.setEndBefore(o.dom)},(o,r)=>{t.setEnd(o.dom,r)},o=>{t.setEndAfter(o.dom)})},Dy=(t,n,o)=>{const r=t.document.createRange();return mE(r,n),xw(r,o),r},Ry=(t,n,o,r,a)=>{const f=t.document.createRange();return f.setStart(n.dom,o),f.setEnd(r.dom,a),f},lv=Jd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),My=(t,n,o)=>n(ht.fromDom(o.startContainer),o.startOffset,ht.fromDom(o.endContainer),o.endOffset),ww=(t,n)=>n.match({domRange:o=>({ltr:re(o),rtl:X.none}),relative:(o,r)=>({ltr:$l(()=>Dy(t,o,r)),rtl:$l(()=>X.some(Dy(t,r,o)))}),exact:(o,r,a,f)=>({ltr:$l(()=>Ry(t,o,r,a,f)),rtl:$l(()=>X.some(Ry(t,a,f,o,r)))})}),zO=(t,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(a=>a.collapsed===!1).map(a=>lv.rtl(ht.fromDom(a.endContainer),a.endOffset,ht.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>My(t,lv.ltr,o)):My(t,lv.ltr,o)},WO=(t,n)=>{const o=ww(t,n);return zO(t,o)};lv.ltr,lv.rtl;const Py={create:(t,n,o,r)=>({start:t,soffset:n,finish:o,foffset:r})},cf=(t,n,o)=>{var r,a;return X.from((a=(r=t.dom).caretPositionFromPoint)===null||a===void 0?void 0:a.call(r,n,o)).bind(f=>{if(f.offsetNode===null)return X.none();const y=t.dom.createRange();return y.setStart(f.offsetNode,f.offset),y.collapse(),X.some(y)})},lf=(t,n,o)=>{var r,a;return X.from((a=(r=t.dom).caretRangeFromPoint)===null||a===void 0?void 0:a.call(r,n,o))},Ny=(()=>document.caretPositionFromPoint?cf:document.caretRangeFromPoint?lf:X.none)(),yc=(t,n,o)=>{const r=ht.fromDom(t.document);return Ny(r,n,o).map(a=>Py.create(ht.fromDom(a.startContainer),a.startOffset,ht.fromDom(a.endContainer),a.endOffset))},bb=Jd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),uv=(t,n,o,r)=>t.fold(n,o,r),Ly=t=>t.fold(wo,wo,wo),dv=bb.before,UO=bb.on,gN=bb.after,Tm={before:dv,on:UO,after:gN,cata:uv,getStart:Ly},Cw=Jd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uo=t=>Cw.exact(t.start,t.soffset,t.finish,t.foffset),id=t=>t.match({domRange:n=>ht.fromDom(n.startContainer),relative:(n,o)=>Tm.getStart(n),exact:(n,o,r,a)=>n}),Vg=Cw.domRange,jO=Cw.relative,vb=Cw.exact,mo=t=>{const n=id(t);return Lu(n)},ZO=Py.create,zg={domRange:Vg,relative:jO,exact:vb,exactFromRange:uo,getWin:mo,range:ZO},yb=(t,n)=>{const o=xo(t);return o==="input"?Tm.after(t):Mt(["br","img"],o)?n===0?Tm.before(t):Tm.after(t):Tm.on(t,n)},GO=(t,n)=>{const o=t.fold(Tm.before,yb,Tm.after),r=n.fold(Tm.before,yb,Tm.after);return zg.relative(o,r)},Wg=(t,n,o,r)=>{const a=yb(t,n),f=yb(o,r);return zg.relative(a,f)},Ug=t=>t.match({domRange:n=>{const o=ht.fromDom(n.startContainer),r=ht.fromDom(n.endContainer);return Wg(o,n.startOffset,r,n.endOffset)},relative:GO,exact:Wg}),By=(t,n)=>{const r=(n||document).createDocumentFragment();return wt(t,a=>{r.appendChild(a.dom)}),ht.fromDom(r)},qO=t=>{const n=zg.getWin(t).dom,o=(a,f,y,T)=>Ry(n,a,f,y,T),r=Ug(t);return WO(n,r).match({ltr:o,rtl:o})},u=(t,n,o)=>yc(t,n,o),p=(t,n,o)=>{const r=Lu(ht.fromDom(o));return u(r.dom,t,n).map(a=>{const f=o.createRange();return f.setStart(a.start.dom,a.soffset),f.setEnd(a.finish.dom,a.foffset),f}).getOrUndefined()},S=(t,n)=>Zt(t)&&Zt(n)&&t.startContainer===n.startContainer&&t.startOffset===n.startOffset&&t.endContainer===n.endContainer&&t.endOffset===n.endOffset,k=(t,n,o)=>{let r=t;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},N=(t,n,o)=>k(t,n,o)!==null,H=(t,n,o)=>N(t,n,r=>r.nodeName===o),K=(t,n)=>Ja(t)&&!N(t,n,jc),et=(t,n,o)=>{const r=n.parentNode;if(r){const a=new Vs(n,t.getParent(r,t.isBlock)||t.getRoot());let f;for(;f=a[o?"prev":"next"]();)if(es(f))return!0}return!1},it=(t,n)=>{var o;return((o=t.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},mt=(t,n)=>{let o=n;for(;o&&o!==t;){if(cs(o))return!0;o=o.parentNode}return!1},Dt=(t,n,o,r,a)=>{const f=t.getRoot(),y=t.schema.getNonEmptyElements(),T=a.parentNode;let O,B;if(!T)return X.none();const U=t.getParent(T,t.isBlock)||f;if(r&&es(a)&&n&&t.isEmpty(U))return X.some(Ut(T,t.nodeIndex(a)));const j=new Vs(a,U);for(;B=j[r?"prev":"next"]();){if(t.getContentEditableParent(B)==="false"||K(B,f))return X.none();if(se(B)&&B.data.length>0)return H(B,f,"A")?X.none():X.some(Ut(B,r?B.data.length:0));if(t.isBlock(B)||y[B.nodeName.toLowerCase()])return X.none();O=B}return jr(O)?X.none():o&&O?X.some(Ut(O,0)):X.none()},ue=(t,n,o,r)=>{const a=t.getRoot();let f,y=!1,T=o?r.startContainer:r.endContainer,O=o?r.startOffset:r.endOffset;const B=Ge(T)&&O===T.childNodes.length,U=t.schema.getNonEmptyElements();let j=o;if(Ja(T))return X.none();if(Ge(T)&&O>T.childNodes.length-1&&(j=!1),om(T)&&(T=a,O=0),T===a){if(j&&(f=T.childNodes[O>0?O-1:0],f&&(Ja(f)||U[f.nodeName]||or(f))))return X.none();if(T.hasChildNodes()){if(O=Math.min(!j&&O>0?O-1:O,T.childNodes.length-1),T=T.childNodes[O],O=se(T)&&B?T.data.length:0,!n&&T===a.lastChild&&or(T)||mt(a,T)||Ja(T)||Nc(T))return X.none();if(T.hasChildNodes()&&!or(T)){f=T;const q=new Vs(T,a);do{if(cs(f)||Ja(f)){y=!1;break}if(se(f)&&f.data.length>0){O=j?0:f.data.length,T=f,y=!0;break}if(U[f.nodeName.toLowerCase()]&&!s1(f)){O=t.nodeIndex(f),T=f.parentNode,j||O++,y=!0;break}}while(f=j?q.next():q.prev())}}}return n&&(se(T)&&O===0&&Dt(t,B,n,!0,T).each(q=>{T=q.container(),O=q.offset(),y=!0}),Ge(T)&&(f=T.childNodes[O],f||(f=T.childNodes[O-1]),f&&es(f)&&!it(f,"A")&&!et(t,f,!1)&&!et(t,f,!0)&&Dt(t,B,n,!0,f).each(q=>{T=q.container(),O=q.offset(),y=!0}))),j&&!n&&se(T)&&O===T.data.length&&Dt(t,B,n,!1,T).each(q=>{T=q.container(),O=q.offset(),y=!0}),y&&T?X.some(Ut(T,O)):X.none()},Te=(t,n)=>{const o=n.collapsed,r=n.cloneRange(),a=Ut.fromRangeStart(n);return ue(t,o,!0,r).each(f=>{(!o||!Ut.isAbove(a,f))&&r.setStart(f.container(),f.offset())}),o||ue(t,o,!1,r).each(f=>{r.setEnd(f.container(),f.offset())}),o&&r.collapse(!0),S(n,r)?X.none():X.some(r)},xe=(t,n)=>t.splitText(n),me=t=>{let n=t.startContainer,o=t.startOffset,r=t.endContainer,a=t.endOffset;if(n===r&&se(n)){if(o>0&&o<n.data.length)if(r=xe(n,o),n=r.previousSibling,a>o){a=a-o;const f=xe(r,a).previousSibling;n=r=f,a=f.data.length,o=0}else a=0}else if(se(n)&&o>0&&o<n.data.length&&(n=xe(n,o),o=0),se(r)&&a>0&&a<r.data.length){const f=xe(r,a).previousSibling;r=f,a=f.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:a}},Fe=t=>({walk:(f,y)=>Em(t,f,y),split:me,expand:(f,y={type:"word"})=>{if(y.type==="word"){const T=Sm(t,f,[{inline:"span"}]),O=t.createRng();return O.setStart(T.startContainer,T.startOffset),O.setEnd(T.endContainer,T.endOffset),O}return f},normalize:f=>Te(t,f).fold(Gt,y=>(f.setStart(y.startContainer,y.startOffset),f.setEnd(y.endContainer,y.endOffset),!0))});Fe.compareRanges=S,Fe.getCaretRangeFromPoint=p,Fe.getSelectedNode=Xp,Fe.getNode=lh;const be=((t,n)=>{const o=(T,O)=>{if(!jn(O)&&!O.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+O);const B=T.dom;Md(B)&&(B.style[t]=O+"px")},r=T=>{const O=n(T);if(O<=0||O===null){const B=ql(T,t);return parseFloat(B)||0}return O},a=r,f=(T,O)=>yo(O,(B,U)=>{const j=ql(T,U),q=j===void 0?0:parseInt(j,10);return isNaN(q)?B:B+q},0);return{set:o,get:r,getOuter:a,aggregate:f,max:(T,O,B)=>{const U=f(T,B);return O>U?O-U:0}}})("height",t=>{const n=t.dom;return Zl(t)?n.getBoundingClientRect().height:n.offsetHeight}),dn=t=>be.get(t),yn=()=>ht.fromDom(document),To=(t,n)=>t.view(n).fold(re([]),r=>{const a=t.owner(r),f=To(t,a);return[r].concat(f)}),Rs=(t,n)=>{const o=n.owner(t);return To(n,o)};var Ol=Object.freeze({__proto__:null,view:t=>{var n;return(t.dom===document?X.none():X.from((n=t.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ht.fromDom)},owner:t=>Mi(t)});const Am=t=>{const n=yn(),o=Pd(n),r=Rs(t,Ol),a=cl(t),f=vo(r,(y,T)=>{const O=cl(T);return{left:y.left+O.left,top:y.top+O.top}},{left:0,top:0});return Ya(f.left+a.left+o.left,f.top+a.top+o.top)},jg=t=>xo(t)==="textarea",Iy=(t,n)=>t.dispatch("ScrollIntoView",n).isDefaultPrevented(),ns=(t,n)=>{t.dispatch("AfterScrollIntoView",n)},Na=(t,n)=>{const o=mi(t);if(o.length===0||jg(t))return{element:t,offset:n};if(n<o.length&&!jg(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return jg(r)?{element:t,offset:n}:xo(r)==="img"?{element:r,offset:1}:ws(r)?{element:r,offset:De(r).length}:{element:r,offset:mi(r).length}}},fa=(t,n)=>{const o=S0(t),r=dn(t);return{element:t,bottom:o.top+r,height:r,pos:o,cleanup:n}},bu=(t,n)=>{const o=Na(t,n),r=ht.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+vr+"</span>");return gi(o.element,r),fa(r,()=>Do(r))},Dl=t=>fa(ht.fromDom(t),Ye),Zg=(t,n,o,r)=>{ad(t,(a,f)=>Sw(t,n,o,r),o)},ha=(t,n,o,r,a)=>{const f={elm:r.element.dom,alignToTop:a};if(Iy(t,f))return;const y=Pd(n).top;o(t,n,y,r,a),ns(t,f)},Sw=(t,n,o,r)=>{const a=ht.fromDom(t.getBody()),f=ht.fromDom(t.getDoc());Zs(a);const y=bu(ht.fromDom(o.startContainer),o.startOffset);ha(t,f,n,y,r),y.cleanup()},bh=(t,n,o,r)=>{const a=ht.fromDom(t.getDoc());ha(t,a,o,Dl(n),r)},ad=(t,n,o)=>{const r=o.startContainer,a=o.startOffset,f=o.endContainer,y=o.endOffset;n(ht.fromDom(r),ht.fromDom(f));const T=t.dom.createRng();T.setStart(r,a),T.setEnd(f,y),t.selection.setRng(o)},_i=(t,n,o,r,a)=>{const f=n.pos;if(r)Fu(f.left,f.top,a);else{const y=f.top-o+n.height;Fu(-t.getBody().getBoundingClientRect().left,y,a)}},Ew=(t,n,o,r,a,f)=>{const y=r+o,T=a.pos.top,O=a.bottom,B=O-T>=r;T<o?_i(t,a,r,f!==!1,n):T>y?_i(t,a,r,B?f!==!1:f===!0,n):O>y&&!B&&_i(t,a,r,f===!0,n)},Tw=(t,n,o,r,a)=>{const f=Lu(n).dom.innerHeight;Ew(t,n,o,f,r,a)},gE=(t,n,o,r,a)=>{const f=Lu(n).dom.innerHeight;Ew(t,n,o,f,r,a);const y=Am(r.element),T=Cp(window);y.top<T.y?Qh(r.element,a!==!1):y.top>T.bottom&&Qh(r.element,a===!0)},KO=(t,n,o)=>Zg(t,Tw,n,o),YO=(t,n,o)=>bh(t,n,Tw,o),Aw=(t,n,o)=>Zg(t,gE,n,o),XO=(t,n,o)=>bh(t,n,gE,o),_b=(t,n,o)=>{(t.inline?YO:XO)(t,n,o)},$y=(t,n,o)=>{(t.inline?KO:Aw)(t,n,o)},kw=(t,n=!1)=>t.dom.focus({preventScroll:n}),pN=t=>{const n=Iu(t).dom;return t.dom===n.activeElement},JO=(t=yn())=>X.from(t.dom.activeElement).map(ht.fromDom),QO=t=>JO(Iu(t)).filter(n=>t.dom.contains(n.dom)),bN=(t,n)=>{const o=ws(n)?De(n).length:mi(n).length+1;return t>o?o:t<0?0:t},vN=t=>zg.range(t.start,bN(t.soffset,t.start),t.finish,bN(t.foffset,t.finish)),tD=(t,n)=>!Ep(n.dom)&&(il(t,n)||Io(t,n)),eD=t=>n=>tD(t,n.start)&&tD(t,n.finish),s7=t=>t.inline||Ee.browser.isFirefox(),r7=t=>zg.range(ht.fromDom(t.startContainer),t.startOffset,ht.fromDom(t.endContainer),t.endOffset),i7=t=>{const n=t.getSelection();return(!n||n.rangeCount===0?X.none():X.from(n.getRangeAt(0))).map(r7)},a7=t=>{const n=Lu(t);return i7(n.dom).filter(eD(t))},pE=(t,n)=>X.from(n).filter(eD(t)).map(vN),yN=t=>{const n=document.createRange();try{return n.setStart(t.start.dom,t.soffset),n.setEnd(t.finish.dom,t.foffset),X.some(n)}catch{return X.none()}},Ow=t=>{const n=s7(t)?a7(ht.fromDom(t.getBody())):X.none();t.bookmark=n.isSome()?n:t.bookmark},bE=t=>(t.bookmark?t.bookmark:X.none()).bind(o=>pE(ht.fromDom(t.getBody()),o)).bind(yN),_N=t=>{bE(t).each(n=>t.selection.setRng(n))},xN={isEditorUIElement:t=>{const n=t.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},c7=(t,n)=>(jn(n)||(n=0),setTimeout(t,n)),l7=(t,n)=>(jn(n)||(n=0),setInterval(t,n)),cd={setEditorTimeout:(t,n,o)=>c7(()=>{t.removed||n()},o),setEditorInterval:(t,n,o)=>{const r=l7(()=>{t.removed?clearInterval(r):n()},o);return r}},u7=t=>t.type==="nodechange"&&t.selectionChange,d7=(t,n)=>{const o=()=>{n.throttle()};Zo.DOM.bind(document,"mouseup",o),t.on("remove",()=>{Zo.DOM.unbind(document,"mouseup",o)})},f7=(t,n)=>{t.on("mouseup touchend",o=>{n.throttle()})},h7=(t,n)=>{f7(t,n),t.on("keyup NodeChange AfterSetSelectionRange",o=>{u7(o)||Ow(t)})},m7=t=>{const n=jp(()=>{Ow(t)},0);t.on("init",()=>{t.inline&&d7(t,n),h7(t,n)}),t.on("remove",()=>{n.cancel()})};let Fy;const nD=Zo.DOM,vE=t=>Ge(t)&&xN.isEditorUIElement(t),yE=t=>{const n=t.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Dw=(t,n)=>{const o=ey(t);return nD.getParent(n,a=>vE(a)||(o?t.dom.is(a,o):!1))!==null},oD=t=>{try{const n=Iu(ht.fromDom(t.getElement()));return JO(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},g7=(t,n)=>{const o=n.editor;m7(o);const r=(a,f)=>{if(cO(a)&&a.inline!==!0){const y=ht.fromDom(a.getContainer());f(y,"tox-edit-focus")}};o.on("focusin",()=>{const a=t.focusedEditor;yE(oD(o))&&r(o,Bf),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),t.setActive(o),t.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{cd.setEditorTimeout(o,()=>{const a=t.focusedEditor;(!yE(oD(o))||a!==o)&&r(o,Nu),!Dw(o,oD(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Fy||(Fy=a=>{const f=t.activeEditor;f&&vp(a).each(y=>{const T=y;T.ownerDocument===document&&T!==document.body&&!Dw(f,T)&&t.focusedEditor===f&&(f.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},nD.bind(document,"focusin",Fy))},p7=(t,n)=>{t.focusedEditor===n.editor&&(t.focusedEditor=null),!t.activeEditor&&Fy&&(nD.unbind(document,"focusin",Fy),Fy=null)},b7=t=>{t.on("AddEditor",Kt(g7,t)),t.on("RemoveEditor",Kt(p7,t))},v7=(t,n)=>t.dom.getParent(n,o=>t.dom.getContentEditable(o)==="true"),y7=t=>t.collapsed?X.from(lh(t.startContainer,t.startOffset)).map(ht.fromDom):X.none(),wN=(t,n)=>y7(n).bind(o=>Da(o)?X.some(o):il(t,o)?X.none():X.some(t)),CN=(t,n)=>{wN(ht.fromDom(t.getBody()),n).bind(o=>da(o.dom)).fold(()=>{t.selection.normalize()},o=>t.selection.setRng(o.toRange()))},_E=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},SN=t=>pN(t)||QO(t).isSome(),_7=t=>Zt(t.iframeElement)&&pN(ht.fromDom(t.iframeElement)),x7=t=>{const n=t.getBody();return n&&SN(ht.fromDom(n))},w7=t=>{const n=Iu(ht.fromDom(t.getElement()));return JO(n).filter(o=>!yE(o.dom)&&Dw(t,o.dom)).isSome()},fv=t=>t.inline?x7(t):_7(t),EN=t=>fv(t)||w7(t),C7=t=>{const n=t.selection,o=t.getBody();let r=n.getRng();t.quirks.refreshContentEditable(),Zt(t.bookmark)&&!fv(t)&&bE(t).each(f=>{t.selection.setRng(f),r=f});const a=v7(t,n.getNode());if(a&&t.dom.isChildOf(a,o)){_E(a),CN(t,r),sD(t);return}t.inline||(Ee.browser.isOpera()||_E(o),t.getWin().focus()),(Ee.browser.isFirefox()||t.inline)&&(_E(o),CN(t,r)),sD(t)},sD=t=>t.editorManager.setActive(t),S7=(t,n)=>{t.removed||(n?sD(t):C7(t))},TN=(t,n)=>n.collapsed?t.isEditable(n.startContainer):t.isEditable(n.startContainer)&&t.isEditable(n.endContainer),AN=(t,n,o,r,a)=>{const f=o?n.startContainer:n.endContainer,y=o?n.startOffset:n.endOffset;return X.from(f).map(ht.fromDom).map(T=>!r||!n.collapsed?Dd(T,a(T,y)).getOr(T):T).bind(T=>Sa(T)?X.some(T):Ga(T).filter(Sa)).map(T=>T.dom).getOr(t)},kN=(t,n,o=!1)=>AN(t,n,!0,o,(r,a)=>Math.min(oi(r),a)),ON=(t,n,o=!1)=>AN(t,n,!1,o,(r,a)=>a>0?a-1:a),DN=(t,n)=>{const o=t;for(;t&&se(t)&&t.length===0;)t=n?t.nextSibling:t.previousSibling;return t||o},E7=(t,n)=>{if(!n)return t;let o=n.startContainer,r=n.endContainer;const a=n.startOffset,f=n.endOffset;let y=n.commonAncestorContainer;n.collapsed||(o===r&&f-a<2&&o.hasChildNodes()&&(y=o.childNodes[a]),se(o)&&se(r)&&(o.length===a?o=DN(o.nextSibling,!0):o=o.parentNode,f===0?r=DN(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(y=o)));const T=se(y)?y.parentNode:y;return zu(T)?T:t},T7=(t,n,o,r)=>{const a=[],f=t.getRoot(),y=t.getParent(o||kN(f,n,n.collapsed),t.isBlock),T=t.getParent(r||ON(f,n,n.collapsed),t.isBlock);if(y&&y!==f&&a.push(y),y&&T&&y!==T){let O;const B=new Vs(y,f);for(;(O=B.next())&&O!==T;)t.isBlock(O)&&a.push(O)}return T&&y!==T&&T!==f&&a.push(T),a},A7=(t,n,o)=>X.from(n).bind(r=>X.from(r.parentNode).map(a=>{const f=t.nodeIndex(r),y=t.createRng();return y.setStart(a,f),y.setEnd(a,f+1),o&&(Zc(t,y,r,!0),Zc(t,y,r,!1)),y})),rD=(t,n)=>Ht(n,o=>{const r=t.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),k7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},xE=(t,n,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(t[r])return t[r];if(t!==n){let f=t[a];if(f)return f;for(let y=t.parent;y&&y!==n;y=y.parent)if(f=y[a],f)return f}},fn=t=>{var n;const o=(n=t.value)!==null&&n!==void 0?n:"";if(!ll(o))return!1;const r=t.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},iD=t=>{const n=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||n};class tc{static create(n,o){const r=new tc(n,k7[n]||1);return o&&Me(o,(a,f)=>{r.attr(f,a)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ft(n))return Zt(n)&&Me(n,(f,y)=>{r.attr(y,f)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(n in a.map){delete a.map[n];let f=a.length;for(;f--;)if(a[f].name===n)return a.splice(f,1),r}return r}if(n in a.map){let f=a.length;for(;f--;)if(a[f].name===n){a[f].value=o;break}}else a.push({name:n,value:o});return a.map[n]=o,r}return a.map[n]}}clone(){const n=this,o=new tc(n.name,n.type),r=n.attributes;if(r){const a=[];a.map={};for(let f=0,y=r.length;f<y;f++){const T=r[f];T.name!=="id"&&(a[a.length]={name:T.name,value:T.value},a.map[T.name]=T.value)}o.attributes=a}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,a=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===n?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===a.lastChild?a.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=a,n}getAll(n){const o=this,r=[];for(let a=o.firstChild;a;a=xE(a,o))a.name===n&&r.push(a);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let a=n.firstChild;a;a=xE(a,n))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var a;const f=this;let y=f.firstChild;if(iD(f))return!1;if(y)do{if(y.type===1){if(y.attr("data-mce-bogus"))continue;if(n[y.name]||iD(y))return!1}if(y.type===8||y.type===3&&!fn(y)||y.type===3&&y.parent&&o[y.parent.name]&&ll((a=y.value)!==null&&a!==void 0?a:"")||r&&r(y))return!1}while(y=xE(y,f));return!0}walk(n){return xE(this,null,n)}}const O7=fe.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),wE=t=>ft(t.nodeValue)&&t.nodeValue.includes(vr),RN=t=>`${t.length===0?"":`${Ht(t,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,D7=(t,n)=>n.querySelectorAll(RN(t)),MN=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,n=>wE(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),PN=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,n=>{if(wE(n)){const o=n.parentNode;return o&&Sn(O7,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),R7=t=>MN(t).nextNode()!==null,CE=t=>PN(t).nextNode()!==null,NN=(t,n)=>n.querySelector(RN(t))!==null,dX=(t,n)=>{wt(D7(t,n),o=>{const r=ht.fromDom(o);nr(r,"data-mce-bogus")==="all"?Do(r):wt(t,a=>{Er(r,a)&&Lo(r,a)})})},LN=t=>{let n=t.nextNode();for(;n!==null;)n.nodeValue=null,n=t.nextNode()},Bn=F(LN,MN),M7=F(LN,PN),Fn=(t,n)=>{const o=[{condition:Kt(NN,n),action:Kt(dX,n)},{condition:R7,action:Bn},{condition:CE,action:M7}];let r=t,a=!1;return wt(o,({condition:f,action:y})=>{f(r)&&(a||(r=t.cloneNode(!0),a=!0),y(r))}),r},aD=t=>{const n=mr(t,"[data-mce-bogus]");wt(n,o=>{nr(o,"data-mce-bogus")==="all"?Do(o):kr(o)?(gi(o,ht.fromText(Hu)),Do(o)):al(o)})},P7=t=>{const n=mr(t,"input");wt(n,o=>{Lo(o,"name")})},fX=(t,n)=>{const o=la(t),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},N7=(t,n)=>{const o=t.getDoc(),r=Iu(ht.fromDom(t.getBody())),a=ht.fromTag("div",o);is(a,"data-mce-bogus","all"),gg(a,{position:"fixed",left:"-9999999px",top:"0"}),t1(a,n.innerHTML),aD(a),P7(a);const f=tx(r);Ks(f,a);const y=pc(a.dom.innerText);return Do(a),y},hX=(t,n,o)=>{let r;return n.format==="raw"?r=fe.trim(pc(Fn(o,t.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=N7(t,o):n.format==="tree"?r=t.serializer.serialize(o,n):r=fX(t,t.serializer.serialize(o,n)),n.format!=="text"&&!au(ht.fromDom(o))&&ft(r)?fe.trim(r):r},mX=(t,n)=>X.from(t.getBody()).fold(re(n.format==="tree"?new tc("body",11):""),o=>hX(t,n,o)),BN=fe.makeMap,IN=t=>{const n=[];t=t||{};const o=t.indent,r=BN(t.indent_before||""),a=BN(t.indent_after||""),f=Bi.getEncodeFunc(t.entity_encoding||"raw",t.entities),y=t.element_format!=="xhtml";return{start:(T,O,B)=>{if(o&&r[T]&&n.length>0){const U=n[n.length-1];U.length>0&&U!==`
`&&n.push(`
`)}if(n.push("<",T),O)for(let U=0,j=O.length;U<j;U++){const q=O[U];n.push(" ",q.name,'="',f(q.value,!0),'"')}if(!B||y?n[n.length]=">":n[n.length]=" />",B&&o&&a[T]&&n.length>0){const U=n[n.length-1];U.length>0&&U!==`
`&&n.push(`
`)}},end:T=>{let O;n.push("</",T,">"),o&&a[T]&&n.length>0&&(O=n[n.length-1],O.length>0&&O!==`
`&&n.push(`
`))},text:(T,O)=>{T.length>0&&(n[n.length]=O?T:f(T))},cdata:T=>{n.push("<![CDATA[",T,"]]>")},comment:T=>{n.push("<!--",T,"-->")},pi:(T,O)=>{O?n.push("<?",T," ",f(O),"?>"):n.push("<?",T,"?>"),o&&n.push(`
`)},doctype:T=>{n.push("<!DOCTYPE",T,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},gn=(t={},n=Yu())=>{const o=IN(t);return t.validate="validate"in t?t.validate:!0,{serialize:a=>{const f=t.validate,y={3:O=>{var B;o.text((B=O.value)!==null&&B!==void 0?B:"",O.raw)},8:O=>{var B;o.comment((B=O.value)!==null&&B!==void 0?B:"")},7:O=>{o.pi(O.name,O.value)},10:O=>{var B;o.doctype((B=O.value)!==null&&B!==void 0?B:"")},4:O=>{var B;o.cdata((B=O.value)!==null&&B!==void 0?B:"")},11:O=>{let B=O;if(B=B.firstChild)do T(B);while(B=B.next)}};o.reset();const T=O=>{var B;const U=y[O.type];if(U)U(O);else{const j=O.name,q=j in n.getVoidElements();let nt=O.attributes;if(f&&nt&&nt.length>1){const at=[];at.map={};const st=n.getElementRule(O.name);if(st){for(let ct=0,xt=st.attributesOrder.length;ct<xt;ct++){const St=st.attributesOrder[ct];if(St in nt.map){const Et=nt.map[St];at.map[St]=Et,at.push({name:St,value:Et})}}for(let ct=0,xt=nt.length;ct<xt;ct++){const St=nt[ct].name;if(!(St in at.map)){const Et=nt.map[St];at.map[St]=Et,at.push({name:St,value:Et})}}nt=at}}if(o.start(j,nt,q),Ss(j))ft(O.value)&&o.text(O.value,!0),o.end(j);else if(!q){let at=O.firstChild;if(at){(j==="pre"||j==="textarea")&&at.type===3&&((B=at.value)===null||B===void 0?void 0:B[0])===`
`&&o.text(`
`,!0);do T(at);while(at=at.next)}o.end(j)}}};return a.type===1&&!t.inner?T(a):a.type===3?y[3](a):y[11](a),o.getContent()}}},$N=new Set;wt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{$N.add(n)});const FN=["font","text-decoration","text-emphasis"],cD=(t,n)=>zr(t.parseStyle(t.getAttrib(n,"style"))),Rw=t=>$N.has(t),HN=(t,n)=>vs(cD(t,n),o=>!Rw(o)),L7=t=>Se(t,n=>_t(FN,o=>er(n,o))),B7=(t,n,o)=>{const r=cD(t,n),a=cD(t,o),f=y=>{var T,O;const B=(T=t.getStyle(n,y))!==null&&T!==void 0?T:"",U=(O=t.getStyle(o,y))!==null&&O!==void 0?O:"";return Wo(B)&&Wo(U)&&B!==U};return _t(r,y=>{const T=O=>_t(O,B=>B===y);if(!T(a)&&T(FN)){const O=L7(a);return _t(O,f)}else return f(y)})},VN=(t,n,o)=>X.from(o.container()).filter(se).exists(r=>{const a=t?0:-1;return n(r.data.charAt(o.offset()+a))}),SE=Kt(VN,!0,mh),lD=Kt(VN,!1,mh),gX=t=>{const n=t.container();return se(n)&&(n.data.length===0||$0(n.data)&&Ir.isBookmarkNode(n.parentNode))},hv=(t,n)=>o=>cy(t?0:-1,o).filter(n).isSome(),zN=t=>Ap(t)&&ql(ht.fromDom(t),"display")==="block",WN=t=>cs(t)&&!nm(t),I7=hv(!0,zN),$7=hv(!1,zN),Hy=hv(!0,Xs),Mw=hv(!1,Xs),Zn=hv(!0,or),uD=hv(!1,or),vh=hv(!0,WN),Gg=hv(!1,WN),UN=t=>t.slice(0,-1),jN=(t,n,o)=>il(n,t)?UN(Xb(t,r=>o(r)||Io(r,n))):[],dD=(t,n)=>jN(t,n,Gt),km=(t,n)=>[t].concat(dD(t,n)),fD=(t,n,o)=>fy(t,n,o,gX),ZN=t=>n=>t.isBlock(xo(n)),GN=(t,n,o)=>co(km(ht.fromDom(n.container()),t),ZN(o)),qN=(t,n,o,r)=>fD(t,n.dom,o).forall(a=>GN(n,o,r).fold(()=>!Cl(a,o,n.dom),f=>!Cl(a,o,n.dom)&&il(f,ht.fromDom(a.container())))),KN=(t,n,o,r)=>GN(n,o,r).fold(()=>fD(t,n.dom,o).forall(a=>!Cl(a,o,n.dom)),a=>fD(t,a.dom,o).isNone()),hD=Kt(KN,!1),YN=Kt(KN,!0),F7=Kt(qN,!1),H7=Kt(qN,!0),V7=t=>tf(t).exists(kr),Vy=(t,n,o,r)=>{const a=Se(km(ht.fromDom(o.container()),n),y=>r.isBlock(xo(y))),f=dr(a).getOr(n);return El(t,f.dom,o).filter(V7)},Pw=(t,n,o)=>tf(n).exists(kr)||Vy(!0,t,n,o).isSome(),mD=(t,n,o)=>j2(n).exists(kr)||Vy(!1,t,n,o).isSome(),z7=Kt(Vy,!1),W7=Kt(Vy,!0),XN=t=>Ut.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),JN=(t,n,o)=>{const r=Se(km(ht.fromDom(n.container()),t),a=>o.isBlock(xo(a)));return dr(r).getOr(t)},QN=(t,n,o)=>XN(n)?lD(n):lD(n)||Qa(JN(t,n,o).dom,n).exists(lD),t3=(t,n,o)=>XN(n)?SE(n):SE(n)||Pa(JN(t,n,o).dom,n).exists(SE),U7=t=>Mt(["pre","pre-wrap"],t),EE=t=>tf(t).bind(n=>Nr(n,Sa)).exists(n=>U7(ql(n,"white-space"))),j7=(t,n)=>Qa(t.dom,n).isNone(),Z7=(t,n)=>Pa(t.dom,n).isNone(),mv=(t,n,o)=>j7(t,n)||Z7(t,n)||hD(t,n,o)||YN(t,n,o)||mD(t,n,o)||Pw(t,n,o),G7=t=>Zt(t)&&cs(t)&&Yx(t),gD=(t,n)=>o=>G7(new Vs(o,t)[n]()),q7=(t,n)=>{const o=Pa(t.dom,n).getOr(n),r=gD(t.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},K7=(t,n)=>{const o=Qa(t.dom,n).getOr(n),r=gD(t.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},pD=(t,n,o)=>EE(n)?!1:mv(t,n,o)||QN(t,n,o)||t3(t,n,o),zy=(t,n,o)=>EE(n)?!1:hD(t,n,o)||F7(t,n,o)||mD(t,n,o)||QN(t,n,o)||K7(t,n),e3=t=>{const n=t.container(),o=t.offset();return se(n)&&o<n.data.length?Ut(n,o+1):t},Wy=(t,n,o)=>EE(n)?!1:YN(t,n,o)||H7(t,n,o)||Pw(t,n,o)||t3(t,n,o)||q7(t,n),La=(t,n,o)=>zy(t,n,o)||Wy(t,e3(n),o),n3=(t,n)=>yy(t.charAt(n)),o3=(t,n)=>mh(t.charAt(n)),Y7=t=>{const n=t.container();return se(n)&&Xr(n.data,zs)},X7=t=>{const n=t.split("");return Ht(n,(o,r)=>yy(o)&&r>0&&r<n.length-1&&rw(n[r-1])&&rw(n[r+1])?" ":o).join("")},s3=(t,n,o,r)=>{const a=n.data,f=Ut(n,0);return!o&&n3(a,0)&&!La(t,f,r)?(n.data=" "+a.slice(1),!0):o&&o3(a,0)&&zy(t,f,r)?(n.data=zs+a.slice(1),!0):!1},gv=t=>{const n=t.data,o=X7(n);return o!==n?(t.data=o,!0):!1},r3=(t,n,o,r)=>{const a=n.data,f=Ut(n,a.length-1);return!o&&n3(a,a.length-1)&&!La(t,f,r)?(n.data=a.slice(0,-1)+" ",!0):o&&o3(a,a.length-1)&&Wy(t,f,r)?(n.data=a.slice(0,-1)+zs,!0):!1},J7=(t,n,o)=>{const r=n.container();if(!se(r))return X.none();if(Y7(n)){const a=s3(t,r,!1,o)||gv(r)||r3(t,r,!1,o);return _o(a,n)}else if(La(t,n,o)){const a=s3(t,r,!0,o)||r3(t,r,!0,o);return _o(a,n)}else return X.none()},qs=t=>{const n=ht.fromDom(t.getBody());t.selection.isCollapsed()&&J7(n,Ut.fromRangeStart(t.selection.getRng()),t.schema).each(o=>{t.selection.setRng(o.toRange())})},Nw=(t,n,o,r)=>{if(o===0)return;const a=ht.fromDom(t),f=Hs(a,B=>r.isBlock(xo(B))).getOr(a),y=t.data.slice(n,n+o),T=n+o>=t.data.length&&Wy(f,Ut(t,t.data.length),r),O=n===0&&zy(f,Ut(t,0),r);t.replaceData(n,o,o1(y,4,O,T))},bD=(t,n,o)=>{const r=t.data.slice(n),a=r.length-kf(r).length;Nw(t,n,a,o)},xi=(t,n,o)=>{const r=t.data.slice(0,n),a=r.length-kd(r).length;Nw(t,n-a,a,o)},vD=(t,n,o,r,a=!0)=>{const f=kd(t.data).length,y=a?t:n,T=a?n:t;return a?y.appendData(T.data):y.insertData(0,T.data),Do(ht.fromDom(T)),r&&bD(y,f,o),y},Q7=(t,n)=>{const o=t.container(),r=t.offset();return!Ut.isTextPosition(t)&&o===n.parentNode&&r>Ut.before(n).offset()},qg=(t,n)=>Q7(n,t)?Ut(n.container(),n.offset()-1):n,Fo=t=>se(t)?Ut(t,0):Ut.before(t),i3=t=>se(t)?Ut(t,t.data.length):Ut.after(t),yD=t=>Uc(t.previousSibling)?X.some(i3(t.previousSibling)):t.previousSibling?hu(t.previousSibling):X.none(),a3=t=>Uc(t.nextSibling)?X.some(Fo(t.nextSibling)):t.nextSibling?da(t.nextSibling):X.none(),t8=(t,n)=>X.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Qa(t,Ut.before(o))).orThunk(()=>Pa(t,Ut.after(n))),e8=(t,n)=>Pa(t,Ut.after(n)).orThunk(()=>Qa(t,Ut.before(n))),Rl=(t,n)=>yD(n).orThunk(()=>a3(n)).orThunk(()=>t8(t,n)),yh=(t,n)=>a3(n).orThunk(()=>yD(n)).orThunk(()=>e8(t,n)),n8=(t,n,o)=>t?yh(n,o):Rl(n,o),_D=(t,n,o)=>n8(t,n,o).map(Kt(qg,o)),TE=(t,n,o)=>{o.fold(()=>{t.focus()},r=>{t.selection.setRng(r.toRange(),n)})},o8=t=>n=>n.dom===t,s8=(t,n)=>n&&Sn(t.schema.getBlockElements(),xo(n)),Lw=(t,n,o)=>{if(Ws(t,n)){const r=ht.fromHtml('<br data-mce-bogus="1">');return o?wt(mi(n),a=>{lw(a)||Do(a)}):Wf(n),Ks(n,r),X.some(Ut.before(r.dom))}else return X.none()},AE=(t,n,o,r)=>{const a=Dc(t).filter(ws),f=qh(t).filter(ws);return Do(t),Mu(a,f,n,(y,T,O)=>{const B=y.dom,U=T.dom,j=B.data.length;return vD(B,U,o,r),O.container()===U?Ut(B,j):O}).orThunk(()=>(r&&(a.each(y=>xi(y.dom,y.dom.length,o)),f.each(y=>bD(y.dom,0,o))),n))},xD=(t,n)=>Sn(t.schema.getTextInlineElements(),xo(n)),pv=(t,n,o,r=!0,a=!1)=>{const f=_D(n,t.getBody(),o.dom),y=Hs(o,Kt(s8,t),o8(t.getBody())),T=AE(o,f,t.schema,xD(t,o));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):y.bind(O=>Lw(t.schema,O,a)).fold(()=>{r&&TE(t,n,T)},O=>{r&&TE(t,n,X.some(O))})},_h=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,r8=t=>_h.test(t),bv=(t,n)=>Ri(ht.fromDom(n),Gk(t))&&!Fd(t.schema,n)&&t.dom.isEditable(n),vu=t=>{var n;return Zo.DOM.getStyle(t,"direction",!0)==="rtl"||r8((n=t.textContent)!==null&&n!==void 0?n:"")},Bw=(t,n,o)=>Se(Zo.DOM.getParents(o.container(),"*",n),t),Ba=(t,n,o)=>{const r=Bw(t,n,o);return X.from(r[r.length-1])},i8=(t,n,o)=>{const r=wm(n,t),a=wm(o,t);return Zt(r)&&r===a},qo=t=>F0(t)||H0(t),ec=(t,n)=>{const o=n.container(),r=n.offset();return t?ch(o)?se(o.nextSibling)?Ut(o.nextSibling,0):Ut.after(o):F0(n)?Ut(o,r+1):n:ch(o)?se(o.previousSibling)?Ut(o.previousSibling,o.previousSibling.data.length):Ut.before(o):H0(n)?Ut(o,r-1):n},Iw=Kt(ec,!0),wD=Kt(ec,!1),kE=(t,n)=>{const o=r=>r.stopImmediatePropagation();t.on("beforeinput input",o,!0),t.getDoc().execCommand(n),t.off("beforeinput input",o)},CD=t=>{t.execCommand("delete")},SD=t=>kE(t,"Delete"),ED=t=>kE(t,"ForwardDelete"),a8=t=>n=>Fs(Ga(n),t,Io),c3=t=>Eo(t)||ls(t),$w=(t,n)=>il(t,n)?Nr(n,c3,a8(t)):X.none(),Fw=(t,n=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!n})},TD=(t,n,o)=>ti(da(o),hu(o),(r,a)=>{const f=ec(!0,r),y=ec(!1,a),T=ec(!1,n);return t?Pa(o,T).exists(O=>O.isEqual(y)&&n.isEqual(f)):Qa(o,T).exists(O=>O.isEqual(f)&&n.isEqual(y))}).getOr(!0),Hw=t=>(Mf(t)?Dc(t):oa(t)).bind(Hw).orThunk(()=>X.some(t)),l3=(t,n,o,r=!0)=>{var a;n.deleteContents();const f=Hw(o).getOr(o),y=ht.fromDom((a=t.dom.getParent(f.dom,t.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(y.dom===t.getBody()?Fw(t,r):Ws(t.schema,y,{checkRootAsContent:!1})&&(vl(y),r&&t.selection.setCursorLocation(y.dom,0)),!Io(o,y)){const T=Fs(Ga(y),o)?[]:b0(y);wt(T.concat(mi(o)),O=>{!Io(O,y)&&!il(O,y)&&Ws(t.schema,O)&&Do(O)})}},c8=t=>n=>Io(t,n),AD=t=>mr(t,"td,th"),u3=(t,n)=>X1(ht.fromDom(t),n),l8=t=>ti(t.startTable,t.endTable,(n,o)=>{const r=mn(n,f=>Io(f,o)),a=mn(o,f=>Io(f,n));return!r&&!a?t:{...t,startTable:r?X.none():t.startTable,endTable:a?X.none():t.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(t),d3=t=>l8(t),u8=(t,n)=>{const o=u3(t.startContainer,n),r=u3(t.endContainer,n),a=o.isSome(),f=r.isSome(),y=ti(o,r,Io).getOr(!1);return d3({startTable:o,endTable:r,isStartInTable:a,isEndInTable:f,isSameTable:y,isMultiTable:!y&&a&&f})},kD=(t,n)=>({start:t,end:n}),f3=(t,n,o)=>({rng:t,table:n,cells:o}),Uy=Jd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),OE=(t,n)=>Gl(ht.fromDom(t),"td,th",n),h3=t=>!Io(t.start,t.end),OD=(t,n)=>X1(t.start,n).bind(o=>X1(t.end,n).bind(r=>_o(Io(o,r),o))),d8=(t,n)=>!h3(t)&&OD(t,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),m3=(t,n)=>{const o=OE(t.startContainer,n),r=OE(t.endContainer,n);return ti(o,r,kD)},yu=t=>n=>X1(n,t).bind(o=>Qc(AD(o)).map(r=>kD(n,r))),f8=t=>n=>X1(n,t).bind(o=>dr(AD(o)).map(r=>kD(r,n))),DE=t=>n=>OD(n,t).map(o=>f3(n,o,AD(o))),RE=(t,n,o,r)=>{if(o.collapsed||!t.forall(h3))return X.none();if(n.isSameTable){const a=t.bind(DE(r));return X.some({start:a,end:a})}else{const a=OE(o.startContainer,r),f=OE(o.endContainer,r),y=a.bind(yu(r)).bind(DE(r)),T=f.bind(f8(r)).bind(DE(r));return X.some({start:y,end:T})}},ME=(t,n)=>ks(t,o=>Io(o,n)),PE=t=>ti(ME(t.cells,t.rng.start),ME(t.cells,t.rng.end),(n,o)=>t.cells.slice(n,o+1)),g3=(t,n,o)=>t.exists(r=>d8(r,o)&&Kr(r.start,n)),p3=(t,n)=>{const{startTable:o,endTable:r}=n,a=t.cloneRange();return o.each(f=>a.setStartAfter(f.dom)),r.each(f=>a.setEndBefore(f.dom)),a},h8=(t,n,o,r)=>RE(t,n,o,r).bind(({start:a,end:f})=>a.or(f)).bind(a=>{const{isSameTable:f}=n,y=PE(a).getOr([]);if(f&&a.cells.length===y.length)return X.some(Uy.fullTable(a.table));if(y.length>0){if(f)return X.some(Uy.partialTable(y,X.none()));{const T=p3(o,n);return X.some(Uy.partialTable(y,X.some({...n,rng:T})))}}else return X.none()}),DD=(t,n,o,r)=>RE(t,n,o,r).bind(({start:a,end:f})=>{const y=a.bind(PE).getOr([]),T=f.bind(PE).getOr([]);if(y.length>0&&T.length>0){const O=p3(o,n);return X.some(Uy.multiTable(y,T,O))}else return X.none()}),b3=(t,n)=>{const o=c8(t),r=m3(n,o),a=u8(n,o);return g3(r,n,o)?r.map(f=>Uy.singleCellTable(n,f.start)):a.isMultiTable?DD(r,a,n,o):h8(r,a,n,o)},ld=t=>wt(t,n=>{Lo(n,"contenteditable"),vl(n)}),m8=(t,n)=>X.from(t.dom.getParent(n,t.dom.isBlock)).map(ht.fromDom),g8=(t,n,o)=>{o.each(r=>{n?Do(r):(vl(r),t.selection.setCursorLocation(r.dom,0))})},v3=(t,n,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(n.dom.lastChild)):(a.setStartBefore(n.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),RD(t,a,n,!1).each(f=>f())},NE=t=>{const n=sd(t),o=ht.fromDom(t.selection.getNode());Pc(o.dom)&&Ws(t.schema,o)?t.selection.setCursorLocation(o.dom,0):t.selection.collapse(!0),n.length>1&&_t(n,r=>Io(r,o))&&is(o,"data-mce-selected","1")},y3=(t,n,o)=>X.some(()=>{const r=t.selection.getRng(),a=o.bind(({rng:f,isStartInTable:y})=>{const T=m8(t,y?f.endContainer:f.startContainer);f.deleteContents(),g8(t,y,T.filter(Kt(Ws,t.schema)));const O=y?n[0]:n[n.length-1];return v3(t,O,r,y),Ws(t.schema,O)?X.none():X.some(y?n.slice(1):n.slice(0,-1))}).getOr(n);ld(a),NE(t)}),jy=(t,n,o,r)=>X.some(()=>{const a=t.selection.getRng(),f=n[0],y=o[o.length-1];v3(t,f,a,!0),v3(t,y,a,!1);const T=Ws(t.schema,f)?n:n.slice(1),O=Ws(t.schema,y)?o:o.slice(0,-1);ld(T.concat(O)),r.deleteContents(),NE(t)}),RD=(t,n,o,r=!0)=>X.some(()=>{l3(t,n,o,r)}),Zy=(t,n)=>X.some(()=>pv(t,!1,n)),ud=(t,n,o)=>b3(n,o).bind(r=>r.fold(Kt(RD,t),Kt(Zy,t),Kt(y3,t),Kt(jy,t))),Vw=(t,n)=>Gy(t,n),rs=(t,n,o,r)=>LE(n,r).fold(()=>ud(t,n,o),a=>Vw(t,a)),zw=(t,n,o)=>{const r=ht.fromDom(t.getBody()),a=t.selection.getRng();return o.length!==0?y3(t,o,X.none()):rs(t,r,a,n)},MD=(t,n)=>co(km(n,t),ah),LE=(t,n)=>co(km(n,t),Uh("caption")),PD=(t,n,o,r,a)=>Ig(o,t.getBody(),a).bind(f=>MD(n,ht.fromDom(f.getNode())).bind(y=>Io(y,r)?X.none():X.some(Ye))),Gy=(t,n)=>X.some(()=>{vl(n),t.selection.setCursorLocation(n.dom,0)}),ND=(t,n,o,r)=>da(t.dom).bind(a=>hu(t.dom).map(f=>n?o.isEqual(a)&&r.isEqual(f):o.isEqual(f)&&r.isEqual(a))).getOr(!0),LD=(t,n)=>Gy(t,n),BE=(t,n,o)=>LE(t,ht.fromDom(o.getNode())).fold(()=>X.some(Ye),r=>_o(!Io(r,n),Ye)),BD=(t,n,o,r,a)=>Ig(o,t.getBody(),a).fold(()=>X.some(Ye),f=>ND(r,o,a,f)?LD(t,r):BE(n,r,f)),_3=(t,n,o,r)=>{const a=Ut.fromRangeStart(t.selection.getRng());return MD(o,r).bind(f=>Ws(t.schema,f,{checkRootAsContent:!1})?Gy(t,f):PD(t,o,n,f,a))},x3=(t,n,o,r)=>{const a=Ut.fromRangeStart(t.selection.getRng());return Ws(t.schema,r)?Gy(t,r):BD(t,o,n,r,a)},ID=(t,n)=>t?Zn(n):uD(n),w3=(t,n)=>{const o=Ut.fromRangeStart(t.selection.getRng());return ID(n,o)||El(n,t.getBody(),o).exists(r=>ID(n,r))},C3=(t,n,o)=>{const r=ht.fromDom(t.getBody());return LE(r,o).fold(()=>_3(t,n,r,o).orThunk(()=>_o(w3(t,n),Ye)),a=>x3(t,n,r,a))},xb=(t,n)=>{const o=ht.fromDom(t.selection.getStart(!0)),r=sd(t);return t.selection.isCollapsed()&&r.length===0?C3(t,n,o):zw(t,o,r)},wb=(t,n)=>{let o=n;for(;o&&o!==t;){if(gr(o)||cs(o))return o;o=o.parentNode}return null},$D=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],p8=fe.each,FD=t=>{const n=t.dom,o=new Set(t.serializer.getTempAttrs()),r=(f,y)=>{if(f.nodeName!==y.nodeName||f.nodeType!==y.nodeType)return!1;const T=B=>{const U={};return p8(n.getAttribs(B),j=>{const q=j.nodeName.toLowerCase();q!=="style"&&!a(q)&&(U[q]=n.getAttrib(B,q))}),U},O=(B,U)=>{for(const j in B)if(Sn(B,j)){const q=U[j];if(Hn(q)||B[j]!==q)return!1;delete U[j]}for(const j in U)if(Sn(U,j))return!1;return!0};return Ge(f)&&Ge(y)&&(!O(T(f),T(y))||!O(n.parseStyle(n.getAttrib(f,"style")),n.parseStyle(n.getAttrib(y,"style"))))?!1:!Tl(f)&&!Tl(y)},a=f=>_t($D,y=>er(f,y))||o.has(f);return{compare:r,isAttributeInternal:a}},HD=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),S3=t=>t.name==="summary",E3=(t,n)=>{let o=t;for(;o=o.walk();)n(o)},Ww=(t,n,o,r)=>{const a=o.name;for(let f=0,y=t.length;f<y;f++){const T=t[f];if(T.name===a){const O=r.nodes[a];O?O.nodes.push(o):r.nodes[a]={filter:T,nodes:[o]}}}if(o.attributes)for(let f=0,y=n.length;f<y;f++){const T=n[f],O=T.name;if(O in o.attributes.map){const B=r.attributes[O];B?B.nodes.push(o):r.attributes[O]={filter:T,nodes:[o]}}}},T3=(t,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&E3(o,a=>{Ww(t,n,a,r)}),r},VD=(t,n)=>{const o=(r,a)=>{Me(r,f=>{const y=Vi(f.nodes);wt(f.filter.callbacks,T=>{for(let O=y.length-1;O>=0;O--){const B=y[O];(!(a?B.attr(f.filter.name)!==void 0:B.name===f.filter.name)||sn(B.parent))&&y.splice(O,1)}y.length>0&&T(y,f.filter.name,n)})})};o(t.nodes,!1),o(t.attributes,!0)},zD=(t,n,o,r={})=>{const a=T3(t,n,o);VD(a,r)},IE=(t,n,o,r)=>{if((t.pad_empty_with_br||n.insert)&&o(r)){const f=new tc("br",1);n.insert&&f.attr("data-mce-bogus","1"),r.empty().append(f)}else r.empty().append(new tc("#text",3)).value=zs},A3=t=>{var n;return WD(t,"#text")&&((n=t==null?void 0:t.firstChild)===null||n===void 0?void 0:n.value)===zs},WD=(t,n)=>{const o=t==null?void 0:t.firstChild;return Zt(o)&&o===t.lastChild&&o.name===n},k3=(t,n)=>{const o=t.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},qy=(t,n,o,r)=>r.isEmpty(n,o,a=>k3(t,a)),O3=(t,n)=>Zt(t)&&(n(t)||t.name==="br"),D3=t=>{let n;for(let o=t;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return X.from(n)},Uw=(t,n,o=t.parent)=>{if(n.getSpecialElements()[t.name])t.empty().remove();else{const r=t.children();for(const a of r)o&&!n.isValidChild(o.name,a.name)&&Uw(a,n,o);t.unwrap()}},$E=(t,n,o,r=Ye)=>{const a=n.getTextBlockElements(),f=n.getNonEmptyElements(),y=n.getWhitespaceElements(),T=fe.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),O=new Set,B=U=>U!==o&&!T[U.name];for(let U=0;U<t.length;U++){const j=t[U];let q,nt,at;if(!j.parent||O.has(j))continue;if(a[j.name]&&j.parent.name==="li"){let ct=j.next;for(;ct&&a[ct.name];){ct.name="li",O.add(ct),j.parent.insert(ct,j.parent);ct=ct.next}j.unwrap();continue}const st=[j];for(q=j.parent;q&&!n.isValidChild(q.name,j.name)&&B(q);q=q.parent)st.push(q);if(q&&st.length>1)if(FE(n,j,q))Uw(j,n);else{st.reverse(),nt=st[0].clone(),r(nt);let ct=nt;for(let xt=0;xt<st.length-1;xt++){n.isValidChild(ct.name,st[xt].name)&&xt>0?(at=st[xt].clone(),r(at),ct.append(at)):at=ct;for(let St=st[xt].firstChild;St&&St!==st[xt+1];){const Et=St.next;at.append(St),St=Et}ct=at}qy(n,f,y,nt)?q.insert(j,st[0],!0):(q.insert(nt,st[0],!0),q.insert(j,nt)),q=st[0],(qy(n,f,y,q)||WD(q,"br"))&&q.empty().remove()}else if(j.parent){if(j.name==="li"){let ct=j.prev;if(ct&&(ct.name==="ul"||ct.name==="ol")){ct.append(j);continue}if(ct=j.next,ct&&(ct.name==="ul"||ct.name==="ol")&&ct.firstChild){ct.insert(j,ct.firstChild,!0);continue}const xt=new tc("ul",1);r(xt),j.wrap(xt);continue}if(n.isValidChild(j.parent.name,"div")&&n.isValidChild("div",j.name)){const ct=new tc("div",1);r(ct),j.wrap(ct)}else Uw(j,n)}}},R3=(t,n)=>{let o=t;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},FE=(t,n,o=n.parent)=>o?t.children[n.name]&&!t.isValidChild(o.name,n.name)||n.name==="a"&&R3(o,"a")?!0:S3(o)&&HD(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,M3=(t,n,o,r)=>{const a=document.createRange();return a.setStart(t,n),a.setEnd(o,r),a},P3=t=>{const n=Ut.fromRangeStart(t),o=Ut.fromRangeEnd(t),r=t.commonAncestorContainer;return El(!1,r,o).map(a=>!Cl(n,o,r)&&Cl(n,a,r)?M3(n.container(),n.offset(),a.container(),a.offset()):t).getOr(t)},HE=t=>t.collapsed?t:P3(t),UD=t=>Zt(t.firstChild)&&t.firstChild===t.lastChild,VE=t=>t.name==="br"||t.value===zs,zE=(t,n)=>t.getBlockElements()[n.name]&&UD(n)&&VE(n.firstChild),WE=(t,n)=>{const o=t.getNonEmptyElements();return Zt(n)&&(n.isEmpty(o)||zE(t,n))},N3=(t,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),WE(t,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},UE=t=>{var n,o;const r=t.firstChild,a=t.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),t},jD=(t,n,o)=>{const r=n.serialize(o),a=t.createFragment(r);return UE(a)},jw=t=>{var n;return Se((n=t==null?void 0:t.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},ZD=t=>t.data===zs||es(t),L3=t=>Zt(t==null?void 0:t.firstChild)&&t.firstChild===t.lastChild&&ZD(t.firstChild),Ky=t=>!t.firstChild||L3(t),GD=t=>t.length>0&&Ky(t[t.length-1])?t.slice(0,-1):t,Zw=(t,n)=>{const o=t.getParent(n,t.isBlock);return o&&o.nodeName==="LI"?o:null},Gw=(t,n)=>!!Zw(t,n),Cb=(t,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(t),r.setEndAfter(t),[o.cloneContents(),r.cloneContents()]},B3=(t,n)=>{const o=Ut.before(t),a=od(n).next(o);return a?a.toRange():null},I3=(t,n)=>{const o=Ut.after(t),a=od(n).prev(o);return a?a.toRange():null},pX=(t,n,o,r)=>{const a=Cb(t,r),f=t.parentNode;return f&&(f.insertBefore(a[0],t),fe.each(n,y=>{f.insertBefore(y,t)}),f.insertBefore(a[1],t),f.removeChild(t)),I3(n[n.length-1],o)},b8=(t,n,o)=>{const r=t.parentNode;return r&&fe.each(n,a=>{r.insertBefore(a,t)}),B3(t,o)},qD=(t,n,o,r)=>(r.insertAfter(n.reverse(),t),I3(n[0],o)),xh=(t,n,o,r)=>{const a=jD(n,t,r),f=Zw(n,o.startContainer),y=GD(jw(a.firstChild)),T=1,O=2,B=n.getRoot(),U=j=>{const q=Ut.fromRangeStart(o),nt=od(n.getRoot()),at=j===T?nt.prev(q):nt.next(q),st=at==null?void 0:at.getNode();return st?Zw(n,st)!==f:!0};return f?U(T)?b8(f,y,B):U(O)?qD(f,y,B,n):pX(f,y,B,o):null},KD=["pre"],jE=(t,n,o,r)=>{var a;const f=n.firstChild,y=n.lastChild,T=y.attr("data-mce-type")==="bookmark"?y.prev:y,O=f===T,B=Mt(KD,f.name);if(O&&B){const U=f.attr("contenteditable")!=="false",j=((a=t.getParent(o,t.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===f.name,q=X.from(wb(r,o)).forall(gr);return U&&j&&q}else return!1},qw=Pc,v8=(t,n,o)=>{if(Zt(o)){const r=t.getParent(n.endContainer,qw);return o===r&&Kr(ht.fromDom(o),n)}else return!1},$3=(t,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(t.dom.createFragment(n),o);else{const a=o.firstChild,f=o.lastChild;!a||a===f&&a.nodeName==="BR"?t.dom.setHTML(o,n):t.selection.setContent(n,{no_events:!0})}},y8=(t,n,o)=>{X.from(t.getParent(n,"td,th")).map(ht.fromDom).each(r=>x1(r,o))},F3=(t,n)=>{const o=t.schema.getTextInlineElements(),r=t.dom;if(n){const a=t.getBody(),f=FD(t);fe.each(r.select("*[data-mce-fragment]"),y=>{if(Zt(o[y.nodeName.toLowerCase()])&&HN(r,y)){for(let O=y.parentElement;Zt(O)&&O!==a&&!B7(r,y,O);O=O.parentElement)if(f.compare(O,y)){r.remove(y,!0);break}}})}},YD=t=>{let n=t;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},_8=t=>{fe.each(t.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},H3=t=>!!t.getAttribute("data-mce-fragment"),x8=(t,n)=>Zt(n)&&!t.schema.getVoidElements()[n.nodeName],vv=(t,n)=>{var o,r,a;let f;const y=t.dom,T=t.selection;if(!n)return;T.scrollIntoView(n);const O=wb(t.getBody(),n);if(O&&y.getContentEditable(O)==="false"){y.remove(n),T.select(O);return}let B=y.createRng();const U=n.previousSibling;if(se(U)){B.setStart(U,(r=(o=U.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const nt=n.nextSibling;se(nt)&&(U.appendData(nt.data),(a=nt.parentNode)===null||a===void 0||a.removeChild(nt))}else B.setStartBefore(n),B.setEndBefore(n);const j=nt=>{let at=Ut.fromRangeStart(nt);return at=od(t.getBody()).next(at),at==null?void 0:at.toRange()},q=y.getParent(n,y.isBlock);if(y.remove(n),q&&y.isEmpty(q)){const nt=qw(q);Wf(ht.fromDom(q)),B.setStart(q,0),B.setEnd(q,0),!nt&&!H3(q)&&(f=j(B))?(B=f,y.remove(q)):y.add(q,y.create("br",nt?{}:{"data-mce-bogus":"1"}))}T.setRng(B)},V3=t=>{const n=t.dom,o=HE(t.selection.getRng());t.selection.setRng(o);const r=n.getParent(o.startContainer,qw);v8(n,o,r)?RD(t,o,ht.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&se(o.startContainer.childNodes[o.startOffset])?o.deleteContents():t.getDoc().execCommand("Delete",!1)},w8=t=>{for(let n=t;n;n=n.walk())if(n.attr("id")==="mce_marker")return X.some(n);return X.none()},z3=(t,n,o)=>{var r;return _t(o.children(),HD)&&((r=t.getParent(n,t.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},C8=(t,n,o)=>{var r,a;const f=t.selection,y=t.dom,T=t.parser,O=o.merge,B=gn({validate:!0},t.schema),U='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=pc(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,U);let j=f.getRng();const q=j.startContainer,nt=t.getBody();q===nt&&f.isCollapsed()&&y.isBlock(nt.firstChild)&&x8(t,nt.firstChild)&&y.isEmpty(nt.firstChild)&&(j=y.createRng(),j.setStart(nt.firstChild,0),j.setEnd(nt.firstChild,0),f.setRng(j)),f.isCollapsed()||V3(t);const at=f.getNode(),st={context:at.nodeName.toLowerCase(),data:o.data,insert:!0},ct=T.parse(n,st);if(o.paste===!0&&N3(t.schema,ct)&&Gw(y,at))return j=xh(B,y,f.getRng(),ct),j&&f.setRng(j),n;o.paste===!0&&jE(y,ct,at,t.getBody())&&((r=ct.firstChild)===null||r===void 0||r.unwrap()),YD(ct);let xt=ct.lastChild;if(xt&&xt.attr("id")==="mce_marker"){const St=xt;for(xt=xt.prev;xt;xt=xt.walk(!0))if(xt.type===3||!y.isBlock(xt.name)){xt.parent&&t.schema.isValidChild(xt.parent.name,"span")&&xt.parent.insert(St,xt,xt.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(at),!st.invalid&&!z3(y,at,ct))n=B.serialize(ct),$3(t,n,at);else{t.selection.setContent(U);let St=f.getNode(),Et;const Nt=t.getBody();for(om(St)?St=Et=Nt:Et=St;Et&&Et!==Nt;)St=Et,Et=Et.parentNode;n=St===Nt?Nt.innerHTML:y.getOuterHTML(St);const Jt=T.parse(n),ge=w8(Jt),Re=ge.bind(D3).getOr(Jt);ge.each(Oe=>Oe.replace(ct));const le=ct.children(),jt=(a=ct.parent)!==null&&a!==void 0?a:Jt;ct.unwrap();const Qt=Se(le,Oe=>FE(t.schema,Oe,jt));$E(Qt,t.schema,Re),zD(T.getNodeFilters(),T.getAttributeFilters(),Jt),n=B.serialize(Jt),St===Nt?y.setHTML(Nt,n):y.setOuterHTML(St,n)}return F3(t,O),vv(t,y.get("mce_marker")),_8(t.getBody()),y8(y,f.getStart(),t.schema),a1(t.schema,t.getBody(),f.getStart()),n},ZE=t=>t instanceof tc,S8=t=>{fv(t)&&da(t.getBody()).each(n=>{const o=n.getNode(),r=or(o)?da(o).getOr(n):n;t.selection.setRng(r.toRange())})},XD=(t,n,o)=>{t.dom.setHTML(t.getBody(),n),o!==!0&&S8(t)},E8=(t,n,o,r)=>{if(o=pc(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+a+"</li>");const f=la(t);return t.schema.isValidChild(n.nodeName.toLowerCase(),f.toLowerCase())?(o=a,o=t.dom.createHTML(f,N1(t),o)):o||(o=a),XD(t,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=gn({validate:!1},t.schema).serialize(t.parser.parse(o,{isRootContent:!0,insert:!0})));const a=au(ht.fromDom(n))?o:fe.trim(o);return XD(t,a,r.no_selection),{content:a,html:a}}},W3=(t,n,o,r)=>{zD(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),o);const a=gn({validate:!1},t.schema).serialize(o),f=pc(au(ht.fromDom(n))?a:fe.trim(a));return XD(t,f,r.no_selection),{content:o,html:f}},T8=(t,n,o)=>X.from(t.getBody()).map(r=>ZE(n)?W3(t,r,n,o):E8(t,r,n,o)).getOr({content:n,html:ZE(o.content)?"":o.content}),GE=t=>pt(t)?t:Gt,yv=(t,n,o)=>{let r=t.dom;const a=GE(o);for(;r.parentNode;){r=r.parentNode;const f=ht.fromDom(r),y=n(f);if(y.isSome())return y;if(a(f))break}return X.none()},JD=(t,n,o)=>{const r=n(t),a=GE(o);return r.orThunk(()=>a(t)?X.none():yv(t,n,a))},QD=ov,Kw=(t,n,o)=>{const r=t.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const f=r[a];if(ji(f)&&f.inherit===!1&&t.dom.is(n,f.selector))return!0}return!1},qE=(t,n,o,r,a)=>{const f=t.dom.getRoot();if(n===f)return!1;const y=t.dom.getParent(n,T=>Kw(t,T,o)?!0:T.parentNode===f||!!wh(t,T,o,r,!0));return!!wh(t,y,o,r,a)},Yw=(t,n,o)=>Uo(o)&&QD(n,o.inline)||Al(o)&&QD(n,o.block)?!0:ji(o)?Ge(n)&&t.is(n,o.selector):!1,U3=(t,n,o,r,a,f)=>{const y=o[r],T=r==="attributes";if(pt(o.onmatch))return o.onmatch(n,o,r);if(y){if(lp(y)){for(let O=0;O<y.length;O++)if(T?t.getAttrib(n,y[O]):mu(t,n,y[O]))return!0}else for(const O in y)if(Sn(y,O)){const B=T?t.getAttrib(n,O):mu(t,n,O),U=rd(y[O],f),j=sn(B)||Jr(B);if(j&&sn(U))continue;if(a&&j&&!o.exact||(!a||o.exact)&&!QD(B,sv(U,O)))return!1}}return!0},wh=(t,n,o,r,a)=>{const f=t.formatter.get(o),y=t.dom;if(f&&Ge(n))for(let T=0;T<f.length;T++){const O=f[T];if(Yw(t.dom,n,O)&&U3(y,n,O,"attributes",a,r)&&U3(y,n,O,"styles",a,r)){const B=O.classes;if(B){for(let U=0;U<B.length;U++)if(!t.dom.hasClass(n,rd(B[U],r)))return}return O}}},tR=(t,n,o,r,a)=>{if(r)return qE(t,r,n,o,a);if(r=t.selection.getNode(),qE(t,r,n,o,a))return!0;const f=t.selection.getStart();return!!(f!==r&&qE(t,f,n,o,a))},_v=(t,n,o)=>{const r=[],a={},f=t.selection.getStart();return t.dom.getParent(f,y=>{for(let T=0;T<n.length;T++){const O=n[T];!a[O]&&wh(t,y,O,o)&&(a[O]=!0,r.push(O))}},t.dom.getRoot()),r},j3=(t,n)=>{const o=a=>Io(a,ht.fromDom(t.getBody())),r=(a,f)=>wh(t,a.dom,f)?X.some(f):X.none();return X.from(t.selection.getStart(!0)).bind(a=>JD(ht.fromDom(a),f=>Tf(n,y=>r(f,y)),o)).getOrNull()},Z3=(t,n)=>{const o=t.formatter.get(n),r=t.dom;if(o&&t.selection.isEditable()){const a=t.selection.getStart(),f=iv(r,a);for(let y=o.length-1;y>=0;y--){const T=o[y];if(!ji(T))return!0;for(let O=f.length-1;O>=0;O--)if(r.is(f[O],T.selector))return!0}}return!1},G3=(t,n,o)=>yo(o,(r,a)=>{const f=AO(t,a);return t.formatter.matchNode(n,a,{},f)?r.concat([a]):r},[]),Sb=vr,q3=(t,n)=>t.importNode(n,!0),K3=t=>{if(t){const n=new Vs(t,t);for(let o=n.current();o;o=n.next())if(se(o))return o}return null},KE=t=>{const n=ht.fromTag("span");return Ac(n,{id:hy,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Ks(n,ht.fromText(Sb)),n},A8=t=>{const n=K3(t);return n&&n.data.charAt(0)===Sb&&n.deleteData(0,1),n},eR=(t,n,o)=>{const r=t.dom,a=t.selection;if(wy(n))pv(t,!1,ht.fromDom(n),o,!0);else{const f=a.getRng(),y=r.getParent(n,r.isBlock),T=f.startContainer,O=f.startOffset,B=f.endContainer,U=f.endOffset,j=A8(n);r.remove(n,!0),T===j&&O>0&&f.setStart(j,O-1),B===j&&U>0&&f.setEnd(j,U-1),y&&r.isEmpty(y)&&vl(ht.fromDom(y)),a.setRng(f)}},Yy=(t,n,o)=>{const r=t.dom,a=t.selection;if(n)eR(t,n,o);else if(n=Yn(t.getBody(),a.getStart()),!n)for(;n=r.get(hy);)eR(t,n,o)},Y3=(t,n,o)=>{var r,a;const f=t.dom,y=f.getParent(o,Kt(tv,t.schema));y&&f.isEmpty(y)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(mm(ht.fromDom(o)),f.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):f.insertAfter(n,o))},YE=(t,n)=>(t.appendChild(n),n),X3=(t,n)=>{var o;const r=vo(t,(f,y)=>YE(f,y.cloneNode(!1)),n),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return YE(r,a.createTextNode(Sb))},k8=(t,n,o,r,a,f)=>{const y=t.formatter,T=t.dom,O=Se(zr(y.get()),j=>j!==r&&!Xr(j,"removeformat")),B=G3(t,o,O);if(Se(B,j=>!kO(t,j,r)).length>0){const j=o.cloneNode(!1);return T.add(n,j),y.remove(r,a,j,f),T.remove(j),X.some(j)}else return X.none()},J3=(t,n,o)=>{let r;const a=t.selection,f=t.formatter.get(n);if(!f)return;const y=a.getRng();let T=y.startOffset;const B=y.startContainer.nodeValue;r=Yn(t.getBody(),a.getStart());const U=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(B&&T>0&&T<B.length&&U.test(B.charAt(T))&&U.test(B.charAt(T-1))){const j=a.getBookmark();y.collapse(!0);let q=Sm(t.dom,y,f);q=me(q),t.formatter.apply(n,o,q),a.moveToBookmark(j)}else{let j=r?K3(r):null;(!r||(j==null?void 0:j.data)!==Sb)&&(r=q3(t.getDoc(),KE(!0).dom),j=r.firstChild,y.insertNode(r),T=1),t.formatter.apply(n,o,r),a.setCursorLocation(j,T)}},nR=(t,n,o,r)=>{const a=t.dom,f=t.selection;let y=!1;const T=t.formatter.get(n);if(!T)return;const O=f.getRng(),B=O.startContainer,U=O.startOffset;let j=B;se(B)&&(U!==B.data.length&&(y=!0),j=j.parentNode);const q=[];let nt;for(;j;){if(wh(t,j,n,o,r)){nt=j;break}j.nextSibling&&(y=!0),q.push(j),j=j.parentNode}if(nt)if(y){const at=f.getBookmark();O.collapse(!0);let st=Sm(a,O,T,!0);st=me(st),t.formatter.remove(n,o,st,r),f.moveToBookmark(at)}else{const at=Yn(t.getBody(),nt),st=Zt(at)?a.getParents(nt.parentNode,Ae,at):[],ct=KE(!1).dom;Y3(t,ct,at??nt);const xt=k8(t,ct,nt,n,o,r),St=X3([...q,...xt.toArray(),...st],ct);at&&eR(t,at,Zt(at)),f.setCursorLocation(St,1),a.isEmpty(nt)&&a.remove(nt)}},Q3=(t,n,o)=>{const r=t.selection,a=t.getBody();Yy(t,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Sb&&Yy(t,Yn(a,r.getStart()),!0),(n===37||n===39)&&Yy(t,Yn(a,r.getStart()),!0)},O8=t=>se(t)&&Ru(t.data,zs),D8=t=>{t.on("mouseup keydown",n=>{Q3(t,n.keyCode,O8(t.selection.getRng().endContainer))})},tL=t=>{const n=KE(!1),o=X3(t,n.dom);return{caretContainer:n,caretPosition:Ut(o,0)}},Xw=(t,n)=>{const{caretContainer:o,caretPosition:r}=tL(n);return gi(ht.fromDom(t),o),Do(ht.fromDom(t)),r},Kg=(t,n)=>{const{caretContainer:o,caretPosition:r}=tL(n);return t.insertNode(o.dom),r},eL=(t,n)=>{if(jc(n.dom))return!1;const o=t.schema.getTextInlineElements();return Sn(o,xo(n))&&!jc(n.dom)&&!Tr(n.dom)},xv={},_r=Xa(["pre"]),oR=(t,n)=>{xv[t]||(xv[t]=[]),xv[t].push(n)},sR=(t,n)=>{Sn(xv,t)&&wt(xv[t],o=>{o(n)})};oR("pre",t=>{const n=t.selection.getRng(),o=a=>f=>{const y=f.previousSibling;return _r(y)&&Mt(a,y)},r=(a,f)=>{const y=ht.fromDom(f),T=Mi(y).dom;Do(y),ts(ht.fromDom(a),[ht.fromTag("br",T),ht.fromTag("br",T),...mi(y)])};if(!n.collapsed){const a=t.selection.getSelectedBlocks(),f=Se(Se(a,_r),o(a));wt(f,y=>{r(y.previousSibling,y)})}});const Om=["fontWeight","fontStyle","color","fontSize","fontFamily"],nL=t=>We(t.styles)&&_t(zr(t.styles),n=>Mt(Om,n)),oL=t=>co(t,n=>Uo(n)&&n.inline==="span"&&nL(n)),Xy=(t,n)=>{const o=t.get(n);return ln(o)?oL(o):X.none()},sL=(t,n)=>Qa(n,Ut.fromRangeStart(t)).isNone(),rL=(t,n)=>Pa(n,Ut.fromRangeEnd(t)).exists(o=>!es(o.getNode())||Pa(n,o).isSome())===!1,wv=t=>n=>So(n)&&t.isEditable(n),R8=t=>{const n=t.getSelectedBlocks(),o=t.getRng();if(t.isCollapsed())return[];if(n.length===1)return sL(o,n[0])&&rL(o,n[0])?n:[];{const r=dr(n).filter(y=>sL(o,y)).toArray(),a=Qc(n).filter(y=>rL(o,y)).toArray(),f=n.slice(1,-1);return r.concat(f).concat(a)}},Cv=t=>Se(R8(t),wv(t.dom)),iL=t=>Se(t.getSelectedBlocks(),wv(t.dom)),Dm=fe.each,Ml=t=>Ge(t)&&!Tl(t)&&!jc(t)&&!Tr(t),Jy=(t,n)=>{for(let o=t;o;o=o[n]){if(se(o)&&Wo(o.data))return t;if(Ge(o)&&!Tl(o))return o}return t},XE=(t,n,o)=>{const r=FD(t),a=zu(n)&&t.dom.isEditable(n),f=zu(o)&&t.dom.isEditable(o);if(a&&f){const y=Jy(n,"previousSibling"),T=Jy(o,"nextSibling");if(r.compare(y,T)){for(let O=y.nextSibling;O&&O!==T;){const B=O;O=O.nextSibling,y.appendChild(B)}return t.dom.remove(T),fe.each(fe.grep(T.childNodes),O=>{y.appendChild(O)}),y}}return o},JE=(t,n,o,r)=>{var a;if(r&&n.merge_siblings!==!1){const f=(a=XE(t,cw(r),r))!==null&&a!==void 0?a:r;XE(t,f,cw(f,!0))}},M8=(t,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";Dm(t.select(r,o),a=>{Ml(a)&&t.isEditable(a)&&Dm(n.styles,(f,y)=>{t.setStyle(a,y,"")})})}},Qy=(t,n,o)=>{Dm(t.childNodes,r=>{Ml(r)&&(n(r)&&o(r),r.hasChildNodes()&&Qy(r,n,o))})},P8=(t,n)=>{n.nodeName==="SPAN"&&t.getAttribs(n).length===0&&t.remove(n,!0)},dd=(t,n)=>o=>!!(o&&mu(t,o,n)),Jw=(t,n,o)=>r=>{t.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),P8(t,r)},Eb=Jd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),rR=/^(src|href|style)$/,Qw=fe.each,Rm=ov,iR=t=>/^(TR|TH|TD)$/.test(t.nodeName),aL=(t,n,o)=>t.isChildOf(n,o)&&n!==o&&!t.isBlock(o),aR=(t,n,o)=>{let r=n[o?"startContainer":"endContainer"],a=n[o?"startOffset":"endOffset"];if(Ge(r)){const f=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>f?f:a]}return se(r)&&o&&a>=r.data.length&&(r=new Vs(r,t.getBody()).next()||r),se(r)&&!o&&a===0&&(r=new Vs(r,t.getBody()).prev()||r),r},cL=(t,n)=>{const o=n?"firstChild":"lastChild",r=t[o];return iR(t)&&r?t.nodeName==="TR"&&r[o]||r:t},cR=(t,n,o,r)=>{var a;const f=t.create(o,r);return(a=n.parentNode)===null||a===void 0||a.insertBefore(f,n),f.appendChild(n),f},lL=(t,n,o,r,a)=>{const f=ht.fromDom(n),y=ht.fromDom(t.create(r,a)),T=o?qa(f):bp(f);return ts(y,T),o?(gi(f,y),Rc(y,f)):($u(f,y),Ks(y,f)),y.dom},N8=(t,n)=>n.links&&t.nodeName==="A",t_=(t,n,o)=>{const r=n.parentNode;let a;const f=t.dom,y=la(t);Al(o)&&r===f.getRoot()&&(!o.list_block||!Rm(n,o.list_block))&&wt(Vi(n.childNodes),T=>{gb(t,y,T.nodeName.toLowerCase())?a?a.appendChild(T):(a=cR(f,T,y),f.setAttribs(a,N1(t))):a=null}),!(gu(o)&&!Rm(o.inline,n))&&f.remove(n,!0)},uL=(t,n,o)=>jn(t)?{name:n,value:null}:{name:t,value:rd(n,o)},lR=(t,n)=>{t.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},QE=(t,n,o,r,a)=>{let f=!1;Qw(o.styles,(y,T)=>{const{name:O,value:B}=uL(T,y,r),U=sv(B,O);(o.remove_similar||vt(B)||!Ge(a)||Rm(mu(t,a,O),U))&&t.setStyle(n,O,""),f=!0}),f&&lR(t,n)},L8=(t,n,o)=>{n==="removeformat"?wt(iL(t.selection),r=>{wt(Om,a=>t.dom.setStyle(r,a,"")),lR(t.dom,r)}):Xy(t.formatter,n).each(r=>{wt(iL(t.selection),a=>QE(t.dom,a,r,o,null))})},uR=(t,n,o,r,a)=>{const f=t.dom,y=FD(t),T=t.schema;if(Uo(n)&&Gf(T,n.inline)&&Fd(T,r)&&r.parentElement===t.getBody())return t_(t,r,n),Eb.removed();if(!n.ceFalseOverride&&r&&f.getContentEditableParent(r)==="false"||r&&!Yw(f,r,n)&&!N8(r,n))return Eb.keep();const O=r,B=n.preserve_attributes;if(Uo(n)&&n.remove==="all"&&ln(B)){const U=Se(f.getAttribs(O),j=>Mt(B,j.name.toLowerCase()));if(f.removeAllAttribs(O),wt(U,j=>f.setAttrib(O,j.name,j.value)),U.length>0)return Eb.rename("span")}if(n.remove!=="all"){QE(f,O,n,o,a),Qw(n.attributes,(j,q)=>{const{name:nt,value:at}=uL(q,j,o);if(n.remove_similar||vt(at)||!Ge(a)||Rm(f.getAttrib(a,nt),at)){if(nt==="class"){const st=f.getAttrib(O,nt);if(st){let ct="";if(wt(st.split(/\s+/),xt=>{/mce\-\w+/.test(xt)&&(ct+=(ct?" ":"")+xt)}),ct){f.setAttrib(O,nt,ct);return}}}if(rR.test(nt)&&O.removeAttribute("data-mce-"+nt),nt==="style"&&Xa(["li"])(O)&&f.getStyle(O,"list-style-type")==="none"){O.removeAttribute(nt),f.setStyle(O,"list-style-type","none");return}nt==="class"&&O.removeAttribute("className"),O.removeAttribute(nt)}}),Qw(n.classes,j=>{j=rd(j,o),(!Ge(a)||f.hasClass(a,j))&&f.removeClass(O,j)});const U=f.getAttribs(O);for(let j=0;j<U.length;j++){const q=U[j].nodeName;if(!y.isAttributeInternal(q))return Eb.keep()}}return n.remove!=="none"?(t_(t,O,n),Eb.removed()):Eb.keep()},dL=(t,n,o,r,a)=>{let f;return n.parentNode&&wt(iv(t.dom,n.parentNode).reverse(),y=>{if(!f&&Ge(y)&&y.id!=="_start"&&y.id!=="_end"){const T=wh(t,y,o,r,a);T&&T.split!==!1&&(f=y)}}),f},B8=(t,n,o,r)=>uR(t,n,o,r,r).fold(re(r),a=>(t.dom.createFragment().appendChild(r),t.dom.rename(r,a)),re(null)),I8=(t,n,o,r,a,f,y,T)=>{var O,B;let U,j;const q=t.dom;if(o){const nt=o.parentNode;for(let at=r.parentNode;at&&at!==nt;at=at.parentNode){let st=q.clone(at,!1);for(let ct=0;ct<n.length&&(st=B8(t,n[ct],T,st),st!==null);ct++);st&&(U&&st.appendChild(U),j||(j=st),U=st)}f&&(!y.mixed||!q.isBlock(o))&&(r=(O=q.split(o,r))!==null&&O!==void 0?O:r),U&&j&&((B=a.parentNode)===null||B===void 0||B.insertBefore(U,a),j.appendChild(a),Uo(y)&&JE(t,y,T,U))}return r},$8=(t,n,o,r,a)=>{const f=t.formatter.get(n),y=f[0],T=t.dom,O=t.selection,B=st=>{const ct=dL(t,st,n,o,a);return I8(t,f,ct,st,st,!0,y,o)},U=st=>Tl(st)&&Ge(st)&&(st.id==="_start"||st.id==="_end"),j=st=>_t(f,ct=>tC(t,ct,o,st,st)),q=st=>{const ct=Vi(st.childNodes),St=j(st)||_t(f,Jt=>Yw(T,st,Jt)),Et=st.parentNode;if(!St&&Zt(Et)&&vc(y)&&j(Et),y.deep&&ct.length)for(let Jt=0;Jt<ct.length;Jt++)q(ct[Jt]);wt(["underline","line-through","overline"],Jt=>{Ge(st)&&t.dom.getStyle(st,"text-decoration")===Jt&&st.parentNode&&rv(T,st.parentNode)===Jt&&tC(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Jt}},void 0,st)})},nt=st=>{const ct=T.get(st?"_start":"_end");if(ct){let xt=ct[st?"firstChild":"lastChild"];return U(xt)&&(xt=xt[st?"firstChild":"lastChild"]),se(xt)&&xt.data.length===0&&(xt=st?ct.previousSibling||ct.nextSibling:ct.nextSibling||ct.previousSibling),T.remove(ct,!0),xt}else return null},at=st=>{let ct,xt,St=Sm(T,st,f,st.collapsed);if(y.split){if(St=me(St),ct=aR(t,St,!0),xt=aR(t,St),ct!==xt){if(ct=cL(ct,!0),xt=cL(xt,!1),aL(T,ct,xt)){const Nt=X.from(ct.firstChild).getOr(ct);B(lL(T,Nt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),nt(!0);return}if(aL(T,xt,ct)){const Nt=X.from(xt.lastChild).getOr(xt);B(lL(T,Nt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),nt(!1);return}ct=cR(T,ct,"span",{id:"_start","data-mce-type":"bookmark"}),xt=cR(T,xt,"span",{id:"_end","data-mce-type":"bookmark"});const Et=T.createRng();Et.setStartAfter(ct),Et.setEndBefore(xt),Em(T,Et,Nt=>{wt(Nt,Jt=>{!Tl(Jt)&&!Tl(Jt.parentNode)&&B(Jt)})}),B(ct),B(xt),ct=nt(!0),xt=nt()}else ct=xt=B(ct);St.startContainer=ct.parentNode?ct.parentNode:ct,St.startOffset=T.nodeIndex(ct),St.endContainer=xt.parentNode?xt.parentNode:xt,St.endOffset=T.nodeIndex(xt)+1}Em(T,St,Et=>{wt(Et,q)})};if(r){if(mb(r)){const st=T.createRng();st.setStartBefore(r),st.setEndAfter(r),at(st)}else at(r);cE(t,n,r,o);return}!O.isCollapsed()||!Uo(y)||sd(t).length?(aw(t,()=>hb(t,at),st=>Uo(y)&&tR(t,n,o,st)),t.nodeChanged()):nR(t,n,o,a),L8(t,n,o),cE(t,n,r,o)},fL=(t,n,o,r,a)=>{(r||t.selection.isEditable())&&$8(t,n,o,r,a)},tC=(t,n,o,r,a)=>uR(t,n,o,r,a).fold(Gt,f=>(t.dom.rename(r,f),!0),Ae),hL=fe.each,F8=(t,n,o,r)=>{const a=f=>{if(zu(f)&&Ge(f.parentNode)&&t.isEditable(f)){const y=rv(t,f.parentNode);t.getStyle(f,"color")&&y?t.setStyle(f,"text-decoration",y):t.getStyle(f,"text-decoration")===y&&t.setStyle(f,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(fe.walk(r,a,"childNodes"),a(r))},H8=(t,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const a=dd(t,"fontSize");Qy(r,f=>a(f)&&t.isEditable(f),Jw(t,"backgroundColor",rd(n.styles.backgroundColor,o)))}},V8=(t,n,o,r)=>{if(Uo(n)&&(n.inline==="sub"||n.inline==="sup")){const a=dd(t,"fontSize");Qy(r,y=>a(y)&&t.isEditable(y),Jw(t,"fontSize",""));const f=Se(t.select(n.inline==="sup"?"sub":"sup",r),t.isEditable);t.remove(f,!0)}},z8=(t,n,o,r)=>{hL(n,a=>{Uo(a)&&hL(t.dom.select(a.inline,r),f=>{Ml(f)&&tC(t,a,o,f,a.exact?f:null)}),M8(t.dom,a,r)})},W8=(t,n,o,r,a)=>{const f=a.parentNode;wh(t,f,o,r)&&tC(t,n,r,a)||n.merge_with_parents&&f&&t.dom.getParent(f,y=>wh(t,y,o,r)?(tC(t,n,r,a),!0):!1)},tT=fe.each,U8=(t,n,o,r)=>{if(p2(t)&&Uo(n)&&o.parentNode){const a=Lp(t.schema),f=ra(ht.fromDom(o),y=>jc(y.dom));return _a(a,r)&&pi(t.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!f}else return!1},dR=(t,n,o,r)=>{if(tT(o.styles,(a,f)=>{t.setStyle(n,f,rd(a,r))}),o.styles){const a=t.getAttrib(n,"style");a&&t.setAttrib(n,"data-mce-style",a)}},j8=(t,n,o,r)=>{const a=t.formatter.get(n),f=a[0],y=!r&&t.selection.isCollapsed(),T=t.dom,O=t.selection,B=(at,st=f)=>{pt(st.onformat)&&st.onformat(at,st,o,r),dR(T,at,st,o),tT(st.attributes,(ct,xt)=>{T.setAttrib(at,xt,rd(ct,o))}),tT(st.classes,ct=>{const xt=rd(ct,o);T.hasClass(at,xt)||T.addClass(at,xt)})},U=(at,st)=>{let ct=!1;return tT(at,xt=>ji(xt)?T.getContentEditable(st)==="false"&&!xt.ceFalseOverride||Zt(xt.collapsed)&&xt.collapsed!==y?!0:T.is(st,xt.selector)&&!jc(st)?(B(st,xt),ct=!0,!1):!0:!1),ct},j=at=>{if(ft(at)){const st=T.create(at);return B(st),st}else return null},q=(at,st,ct)=>{const xt=[];let St=!0;const Et=f.inline||f.block,Nt=j(Et),Jt=le=>tE(f)&&wh(t,le,n,o),ge=(le,jt,Qt)=>{const Oe=OO(f)&&tv(t.schema,le)&&gb(t,jt,Et);return Qt&&Oe},Re=(le,jt,Qt,Oe)=>{const tn=le.nodeName.toLowerCase(),Un=gb(t,Et,tn)&&gb(t,jt,Et),no=!ct&&se(le)&&$0(le.data),Vo=jc(le),Yo=!Uo(f)||!at.isBlock(le);return(Qt||Oe)&&Un&&!no&&!Vo&&Yo};Em(at,st,le=>{let jt;const Qt=Oe=>{let tn=!1,Un=St,no=!1;const Vo=Oe.parentNode,Yo=Vo.nodeName.toLowerCase(),bs=at.getContentEditable(Oe);Zt(bs)&&(Un=St,St=bs==="true",tn=!0,no=xy(t,Oe));const Ki=St&&!tn;if(es(Oe)&&!U8(t,f,Oe,Yo)){jt=null,Al(f)&&at.remove(Oe);return}if(Jt(Oe)){jt=null;return}if(ge(Oe,Yo,Ki)){const Xo=at.rename(Oe,Et);B(Xo),xt.push(Xo),jt=null;return}if(ji(f)){let Xo=U(a,Oe);if(!Xo&&Zt(Vo)&&vc(f)&&(Xo=U(a,Vo)),!Uo(f)||Xo){jt=null;return}}Zt(Nt)&&Re(Oe,Yo,Ki,no)?(jt||(jt=at.clone(Nt,!1),Vo.insertBefore(jt,Oe),xt.push(jt)),no&&tn&&(St=Un),jt.appendChild(Oe)):(jt=null,wt(Vi(Oe.childNodes),Qt),tn&&(St=Un),jt=null)};wt(le,Qt)}),f.links===!0&&wt(xt,le=>{const jt=Qt=>{Qt.nodeName==="A"&&B(Qt,f),wt(Vi(Qt.childNodes),jt)};jt(le)}),wt(xt,le=>{const jt=tn=>{let Un=0;return wt(tn.childNodes,no=>{!_y(no)&&!Tl(no)&&Un++}),Un},Qt=tn=>co(tn.childNodes,Q1).filter(no=>at.getContentEditable(no)!=="false"&&Yw(at,no,f)).map(no=>{const Vo=at.clone(no,!1);return B(Vo),at.replace(Vo,tn,!0),at.remove(no,!0),Vo}).getOr(tn),Oe=jt(le);if((xt.length>1||!at.isBlock(le))&&Oe===0){at.remove(le,!0);return}(Uo(f)||Al(f)&&f.wrapper)&&(!f.exact&&Oe===1&&(le=Qt(le)),z8(t,a,o,le),W8(t,f,n,o,le),H8(at,f,o,le),F8(at,f,o,le),V8(at,f,o,le),JE(t,f,o,le))})},nt=mb(r)?r:O.getNode();if(T.getContentEditable(nt)==="false"&&!xy(t,nt)){r=nt,U(a,r),aE(t,n,r,o);return}if(f){if(r)if(mb(r)){if(!U(a,r)){const at=T.createRng();at.setStartBefore(r),at.setEndAfter(r),q(T,Sm(T,at,a),!0)}}else q(T,r,!0);else!y||!Uo(f)||sd(t).length?(O.setRng(HE(O.getRng())),aw(t,()=>{hb(t,(at,st)=>{const ct=st?at:Sm(T,at,a);q(T,ct,!1)})},Ae),t.nodeChanged()):J3(t,n,o),Xy(t.formatter,n).each(at=>{wt(Cv(t.selection),st=>dR(T,st,at,o))});sR(n,t)}aE(t,n,r,o)},Sv=(t,n,o,r)=>{(r||t.selection.isEditable())&&j8(t,n,o,r)},mL=t=>Sn(t,"vars"),Z8=(t,n)=>{t.set({}),n.on("NodeChange",o=>{bL(n,o.element,t.get())}),n.on("FormatApply FormatRemove",o=>{const r=X.from(o.node).map(a=>mb(a)?a:a.startContainer).bind(a=>Ge(a)?X.some(a):X.from(a.parentElement)).getOrThunk(()=>gL(n));bL(n,r,t.get())})},gL=t=>t.selection.getStart(),pL=(t,n,o,r,a)=>Ms(n,T=>{const O=t.formatter.matchNode(T,o,a??{},r);return!Hn(O)},T=>Kw(t,T,o)?!0:r?!1:Zt(t.formatter.matchNode(T,o,a,!0))),fR=(t,n)=>{const o=n??gL(t);return Se(iv(t.dom,o),r=>Ge(r)&&!Tr(r))},bL=(t,n,o)=>{const r=fR(t,n);Me(o,(a,f)=>{const y=T=>{const O=pL(t,r,f,T.similar,mL(T)?T.vars:void 0),B=O.isSome();if(T.state.get()!==B){T.state.set(B);const U=O.getOr(n);mL(T)?T.callback(B,{node:U,format:f,parents:r}):wt(T.callbacks,j=>j(B,{node:U,format:f,parents:r}))}};wt([a.withSimilar,a.withoutSimilar],y),wt(a.withVars,y)})},G8=(t,n,o,r,a,f)=>{const y=n.get();wt(o.split(","),T=>{const O=ms(y,T).getOrThunk(()=>{const U={withSimilar:{state:Gs(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Gs(!1),similar:!1,callbacks:[]},withVars:[]};return y[T]=U,U}),B=()=>{const U=fR(t);return pL(t,U,T,a,f).isSome()};if(Hn(f)){const U=a?O.withSimilar:O.withoutSimilar;U.callbacks.push(r),U.callbacks.length===1&&U.state.set(B())}else O.withVars.push({state:Gs(B()),similar:a,vars:f,callback:r})}),n.set(y)},q8=(t,n,o)=>{const r=t.get();wt(n.split(","),a=>ms(r,a).each(f=>{r[a]={withSimilar:{...f.withSimilar,callbacks:Se(f.withSimilar.callbacks,y=>y!==o)},withoutSimilar:{...f.withoutSimilar,callbacks:Se(f.withoutSimilar.callbacks,y=>y!==o)},withVars:Se(f.withVars,y=>y.callback!==o)}})),t.set(r)},K8=(t,n,o,r,a,f)=>(G8(t,n,o,r,a,f),{unbind:()=>q8(n,o,r)}),Y8=(t,n,o,r)=>{const a=t.formatter.get(n);a&&(tR(t,n,o,r)&&(!("toggle"in a[0])||a[0].toggle)?fL(t,n,o,r):Sv(t,n,o,r))},vL=fe.explode,yL=()=>{const t={};return{addFilter:(a,f)=>{wt(vL(a),y=>{Sn(t,y)||(t[y]={name:y,callbacks:[]}),t[y].callbacks.push(f)})},getFilters:()=>Ou(t),removeFilter:(a,f)=>{wt(vL(a),y=>{if(Sn(t,y))if(Zt(f)){const T=t[y],O=Se(T.callbacks,B=>B!==f);O.length>0?T.callbacks=O:delete t[y]}else delete t[y]})}}},X8=(t,n)=>{wt(n,o=>{t.attr(o,null)})},J8=(t,n,o)=>{t.addNodeFilter("font",r=>{wt(r,a=>{const f=n.parse(a.attr("style")),y=a.attr("color"),T=a.attr("face"),O=a.attr("size");y&&(f.color=y),T&&(f["font-family"]=T),O&&el(O).each(B=>{f["font-size"]=o[B-1]}),a.name="span",a.attr("style",n.serialize(f)),X8(a,["color","face","size"])})})},Q8=(t,n,o)=>{t.addNodeFilter("strike",r=>{const a=n.type!=="html4";wt(r,f=>{if(a)f.name="s";else{const y=o.parse(f.attr("style"));y["text-decoration"]="line-through",f.name="span",f.attr("style",o.serialize(y))}})})},hR=(t,n,o)=>{var r;const a=Vc();n.convert_fonts_to_spans&&J8(t,a,fe.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),Q8(t,o,a)},_L=(t,n,o)=>{n.inline_styles&&hR(t,n,o)},bX=t=>fetch(t).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),eC=t=>{const n=/([a-z0-9+\/=\s]+)/i.exec(t);return n?n[1]:""},eT=t=>{const[n,...o]=t.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(a){const f=a[2]===";base64",y=f?eC(r):decodeURIComponent(r);return X.some({type:a[1],data:y,base64Encoded:f})}else return X.none()},e_=(t,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return X.none()}const a=new Uint8Array(r.length);for(let f=0;f<a.length;f++)a[f]=r.charCodeAt(f);return X.some(new Blob([a],{type:t}))},nC=t=>new Promise((n,o)=>{eT(t).bind(({type:r,data:a,base64Encoded:f})=>e_(r,a,f)).fold(()=>o("Invalid data URI"),n)}),nT=t=>er(t,"blob:")?bX(t):er(t,"data:")?nC(t):Promise.reject("Unknown URI format"),oC=t=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(t)});let xL=0;const vX=t=>(t||"blobid")+xL++,wL=(t,n,o)=>eT(t).bind(({data:r,type:a,base64Encoded:f})=>{if(n&&!f)return X.none();{const y=f?r:btoa(r);return o(y,a)}}),tV=(t,n,o)=>{const r=t.create(vX(),n,o);return t.add(r),r},CL=(t,n,o=!1)=>wL(n,o,(r,a)=>X.from(t.getByData(r,a)).orThunk(()=>e_(a,r).map(f=>tV(t,f,r)))),eV=(t,n)=>{const o=()=>Promise.reject("Invalid data URI");if(er(n,"blob:")){const r=t.getByUri(n);return Zt(r)?Promise.resolve(r):nT(n).then(a=>oC(a).then(f=>wL(f,!1,y=>X.some(tV(t,a,y))).getOrThunk(o)))}else return er(n,"data:")?CL(t,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},yX=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,nV=t=>X.from(t.match(yX)).bind(n=>ys(n,1)).map(n=>er(n,"www.")?n.substring(4):n),qi=(t,n)=>{X.from(t.attr("src")).bind(nV).forall(o=>!Mt(n,o))&&t.attr("sandbox","")},mR=(t,n)=>er(t,`${n}/`),SL=t=>Hn(t)?"iframe":mR(t,"image")?"img":mR(t,"video")?"video":mR(t,"audio")?"audio":"iframe",oV=({type:t,src:n,width:o,height:r}={},a,f)=>{const y=SL(t),T=new tc(y,1);return T.attr(y==="audio"?{src:n}:{src:n,width:o,height:r}),(y==="audio"||y==="video")&&T.attr("controls",""),y==="iframe"&&a&&qi(T,f),T},oT=t=>Zt(t.attr("data-mce-bogus")),EL=t=>t.attr("src")===Ee.transparentSrc||Zt(t.attr("data-mce-placeholder")),di=(t,n)=>{const{blob_cache:o}=n;if(o){const r=a=>{const f=a.attr("src");EL(a)||oT(a)||sn(f)||CL(o,f,!0).each(y=>{a.attr("src",y.blobUri())})};t.addAttributeFilter("src",a=>wt(a,r))}},_X=(t,n)=>{var o,r;const a=t.schema;t.addAttributeFilter("href",O=>{let B=O.length;const U=q=>q.split(" ").filter(at=>at.length>0).concat(["noopener"]).sort().join(" "),j=q=>{const nt=q?fe.trim(q):"";return/\b(noopener)\b/g.test(nt)?nt:U(nt)};if(!n.allow_unsafe_link_target)for(;B--;){const q=O[B];q.name==="a"&&q.attr("target")==="_blank"&&q.attr("rel",j(q.attr("rel")))}}),n.allow_html_in_named_anchor||t.addAttributeFilter("id,name",O=>{let B=O.length,U,j,q,nt;for(;B--;)if(nt=O[B],nt.name==="a"&&nt.firstChild&&!nt.attr("href"))for(q=nt.parent,U=nt.lastChild;U&&q;)j=U.prev,q.insert(U,nt),U=j}),n.fix_list_elements&&t.addNodeFilter("ul,ol",O=>{let B=O.length,U,j;for(;B--;)if(U=O[B],j=U.parent,j&&(j.name==="ul"||j.name==="ol"))if(U.prev&&U.prev.name==="li")U.prev.append(U);else{const q=new tc("li",1);q.attr("style","list-style-type: none"),U.wrap(q)}});const f=a.getValidClasses();n.validate&&f&&t.addAttributeFilter("class",O=>{var B;let U=O.length;for(;U--;){const j=O[U],q=(B=j.attr("class"))!==null&&B!==void 0?B:"",nt=fe.explode(q," ");let at="";for(let st=0;st<nt.length;st++){const ct=nt[st];let xt=!1,St=f["*"];St&&St[ct]&&(xt=!0),St=f[j.name],!xt&&St&&St[ct]&&(xt=!0),xt&&(at&&(at+=" "),at+=ct)}at.length||(at=null),j.attr("class",at)}}),di(t,n);const y=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,T=Wa((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&t.addNodeFilter("object,embed",O=>wt(O,B=>{B.replace(oV({type:B.attr("type"),src:B.name==="object"?B.attr("data"):B.attr("src"),width:B.attr("width"),height:B.attr("height")},y,T))})),y&&t.addNodeFilter("iframe",O=>wt(O,B=>qi(B,T)))},{entries:sV,setPrototypeOf:rV,isFrozen:xX,getPrototypeOf:uf,getOwnPropertyDescriptor:sT}=Object;let{freeze:Fi,seal:nc,create:iV}=Object,{apply:gR,construct:Tb}=typeof Reflect<"u"&&Reflect;gR||(gR=function(n,o,r){return n.apply(o,r)}),Fi||(Fi=function(n){return n}),nc||(nc=function(n){return n}),Tb||(Tb=function(n,o){return new n(...o)});const n_=df(Array.prototype.forEach),o_=df(Array.prototype.pop),Ev=df(Array.prototype.push),s_=df(String.prototype.toLowerCase),rT=df(String.prototype.toString),TL=df(String.prototype.match),Ch=df(String.prototype.replace),aV=df(String.prototype.indexOf),AL=df(String.prototype.trim),fd=df(RegExp.prototype.test),sC=cV(TypeError);function df(t){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return gR(t,n,r)}}function cV(t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Tb(t,o)}}function Ko(t,n,o){var r;o=(r=o)!==null&&r!==void 0?r:s_,rV&&rV(t,null);let a=n.length;for(;a--;){let f=n[a];if(typeof f=="string"){const y=o(f);y!==f&&(xX(n)||(n[a]=y),f=y)}t[f]=!0}return t}function Tv(t){const n=iV(null);for(const[o,r]of sV(t))n[o]=r;return n}function iT(t,n){for(;t!==null;){const r=sT(t,n);if(r){if(r.get)return df(r.get);if(typeof r.value=="function")return df(r.value)}t=uf(t)}function o(r){return console.warn("fallback value for",r),null}return o}const r_=Fi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),aT=Fi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pR=Fi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),kL=Fi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bR=Fi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),OL=Fi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DL=Fi(["#text"]),RL=Fi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),cT=Fi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vR=Fi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rC=Fi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ML=nc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),PL=nc(/<%[\w\W]*|[\w\W]*%>/gm),NL=nc(/\${[\w\W]*}/gm),lV=nc(/^data-[\-\w.\u00B7-\uFFFF]/),uV=nc(/^aria-[\-\w]+$/),LL=nc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yR=nc(/^(?:\w+script|data):/i),iC=nc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_R=nc(/^html$/i);var xR=Object.freeze({__proto__:null,MUSTACHE_EXPR:ML,ERB_EXPR:PL,TMPLIT_EXPR:NL,DATA_ATTR:lV,ARIA_ATTR:uV,IS_ALLOWED_URI:LL,IS_SCRIPT_OR_DATA:yR,ATTR_WHITESPACE:iC,DOCTYPE_NAME:_R});const lT=()=>typeof window>"u"?null:window,dV=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const f="dompurify"+(r?"#"+r:"");try{return n.createPolicy(f,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function BL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lT();const n=eo=>BL(eo);if(n.version="3.0.5",n.removed=[],!t||!t.document||t.document.nodeType!==9)return n.isSupported=!1,n;const o=t.document,r=o.currentScript;let{document:a}=t;const{DocumentFragment:f,HTMLTemplateElement:y,Node:T,Element:O,NodeFilter:B,NamedNodeMap:U=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:j,DOMParser:q,trustedTypes:nt}=t,at=O.prototype,st=iT(at,"cloneNode"),ct=iT(at,"nextSibling"),xt=iT(at,"childNodes"),St=iT(at,"parentNode");if(typeof y=="function"){const eo=a.createElement("template");eo.content&&eo.content.ownerDocument&&(a=eo.content.ownerDocument)}let Et,Nt="";const{implementation:Jt,createNodeIterator:ge,createDocumentFragment:Re,getElementsByTagName:le}=a,{importNode:jt}=o;let Qt={};n.isSupported=typeof sV=="function"&&typeof St=="function"&&Jt&&Jt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Oe,ERB_EXPR:tn,TMPLIT_EXPR:Un,DATA_ATTR:no,ARIA_ATTR:Vo,IS_SCRIPT_OR_DATA:Yo,ATTR_WHITESPACE:bs}=xR;let{IS_ALLOWED_URI:Ki}=xR,Xo=null;const Ce=Ko({},[...r_,...aT,...pR,...bR,...DL]);let Qe=null;const so=Ko({},[...RL,...cT,...vR,...rC]);let ke=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hn=null,Xn=null,Ne=!0,qn=!0,Kn=!1,Fr=!0,zo=!1,Hr=!1,Su=!1,Rh=!1,Fa=!1,Ll=!1,vd=!1,Bl=!0,yd=!1;const nn="user-content-";let fo=!0,Bs=!1,Qs={},Mr=null;const wi=Ko({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lr=null;const wr=Ko({},["audio","video","img","source","image","track"]);let Ha=null;const _d=Ko({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_f="http://www.w3.org/1998/Math/MathML",xf="http://www.w3.org/2000/svg",Eu="http://www.w3.org/1999/xhtml";let sp=Eu,Jv=!1,Qv=null;const dS=Ko({},[_f,xf,Eu],rT);let Mh;const t0=["application/xhtml+xml","text/html"],A4="text/html";let pa,$b=null;const KA=a.createElement("form"),YA=function(zt){return zt instanceof RegExp||zt instanceof Function},Ph=function(zt){if(!($b&&$b===zt)){if((!zt||typeof zt!="object")&&(zt={}),zt=Tv(zt),Mh=t0.indexOf(zt.PARSER_MEDIA_TYPE)===-1?Mh=A4:Mh=zt.PARSER_MEDIA_TYPE,pa=Mh==="application/xhtml+xml"?rT:s_,Xo="ALLOWED_TAGS"in zt?Ko({},zt.ALLOWED_TAGS,pa):Ce,Qe="ALLOWED_ATTR"in zt?Ko({},zt.ALLOWED_ATTR,pa):so,Qv="ALLOWED_NAMESPACES"in zt?Ko({},zt.ALLOWED_NAMESPACES,rT):dS,Ha="ADD_URI_SAFE_ATTR"in zt?Ko(Tv(_d),zt.ADD_URI_SAFE_ATTR,pa):_d,lr="ADD_DATA_URI_TAGS"in zt?Ko(Tv(wr),zt.ADD_DATA_URI_TAGS,pa):wr,Mr="FORBID_CONTENTS"in zt?Ko({},zt.FORBID_CONTENTS,pa):wi,hn="FORBID_TAGS"in zt?Ko({},zt.FORBID_TAGS,pa):{},Xn="FORBID_ATTR"in zt?Ko({},zt.FORBID_ATTR,pa):{},Qs="USE_PROFILES"in zt?zt.USE_PROFILES:!1,Ne=zt.ALLOW_ARIA_ATTR!==!1,qn=zt.ALLOW_DATA_ATTR!==!1,Kn=zt.ALLOW_UNKNOWN_PROTOCOLS||!1,Fr=zt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,zo=zt.SAFE_FOR_TEMPLATES||!1,Hr=zt.WHOLE_DOCUMENT||!1,Fa=zt.RETURN_DOM||!1,Ll=zt.RETURN_DOM_FRAGMENT||!1,vd=zt.RETURN_TRUSTED_TYPE||!1,Rh=zt.FORCE_BODY||!1,Bl=zt.SANITIZE_DOM!==!1,yd=zt.SANITIZE_NAMED_PROPS||!1,fo=zt.KEEP_CONTENT!==!1,Bs=zt.IN_PLACE||!1,Ki=zt.ALLOWED_URI_REGEXP||LL,sp=zt.NAMESPACE||Eu,ke=zt.CUSTOM_ELEMENT_HANDLING||{},zt.CUSTOM_ELEMENT_HANDLING&&YA(zt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=zt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),zt.CUSTOM_ELEMENT_HANDLING&&YA(zt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=zt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),zt.CUSTOM_ELEMENT_HANDLING&&typeof zt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ke.allowCustomizedBuiltInElements=zt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),zo&&(qn=!1),Ll&&(Fa=!0),Qs&&(Xo=Ko({},[...DL]),Qe=[],Qs.html===!0&&(Ko(Xo,r_),Ko(Qe,RL)),Qs.svg===!0&&(Ko(Xo,aT),Ko(Qe,cT),Ko(Qe,rC)),Qs.svgFilters===!0&&(Ko(Xo,pR),Ko(Qe,cT),Ko(Qe,rC)),Qs.mathMl===!0&&(Ko(Xo,bR),Ko(Qe,vR),Ko(Qe,rC))),zt.ADD_TAGS&&(Xo===Ce&&(Xo=Tv(Xo)),Ko(Xo,zt.ADD_TAGS,pa)),zt.ADD_ATTR&&(Qe===so&&(Qe=Tv(Qe)),Ko(Qe,zt.ADD_ATTR,pa)),zt.ADD_URI_SAFE_ATTR&&Ko(Ha,zt.ADD_URI_SAFE_ATTR,pa),zt.FORBID_CONTENTS&&(Mr===wi&&(Mr=Tv(Mr)),Ko(Mr,zt.FORBID_CONTENTS,pa)),fo&&(Xo["#text"]=!0),Hr&&Ko(Xo,["html","head","body"]),Xo.table&&(Ko(Xo,["tbody"]),delete hn.tbody),zt.TRUSTED_TYPES_POLICY){if(typeof zt.TRUSTED_TYPES_POLICY.createHTML!="function")throw sC('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof zt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw sC('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Et=zt.TRUSTED_TYPES_POLICY,Nt=Et.createHTML("")}else Et===void 0&&(Et=dV(nt,r)),Et!==null&&typeof Nt=="string"&&(Nt=Et.createHTML(""));Fi&&Fi(zt),$b=zt}},fS=Ko({},["mi","mo","mn","ms","mtext"]),It=Ko({},["foreignobject","desc","title","annotation-xml"]),Ft=Ko({},["title","style","font","a","script"]),ye=Ko({},aT);Ko(ye,pR),Ko(ye,kL);const he=Ko({},bR);Ko(he,OL);const _n=function(zt){let Xe=St(zt);(!Xe||!Xe.tagName)&&(Xe={namespaceURI:sp,tagName:"template"});const Tn=s_(zt.tagName),ur=s_(Xe.tagName);return Qv[zt.namespaceURI]?zt.namespaceURI===xf?Xe.namespaceURI===Eu?Tn==="svg":Xe.namespaceURI===_f?Tn==="svg"&&(ur==="annotation-xml"||fS[ur]):!!ye[Tn]:zt.namespaceURI===_f?Xe.namespaceURI===Eu?Tn==="math":Xe.namespaceURI===xf?Tn==="math"&&It[ur]:!!he[Tn]:zt.namespaceURI===Eu?Xe.namespaceURI===xf&&!It[ur]||Xe.namespaceURI===_f&&!fS[ur]?!1:!he[Tn]&&(Ft[Tn]||!ye[Tn]):!!(Mh==="application/xhtml+xml"&&Qv[zt.namespaceURI]):!1},ro=function(zt){Ev(n.removed,{element:zt});try{zt.parentNode.removeChild(zt)}catch{zt.remove()}},Is=function(zt,Xe){try{Ev(n.removed,{attribute:Xe.getAttributeNode(zt),from:Xe})}catch{Ev(n.removed,{attribute:null,from:Xe})}if(Xe.removeAttribute(zt),zt==="is"&&!Qe[zt])if(Fa||Ll)try{ro(Xe)}catch{}else try{Xe.setAttribute(zt,"")}catch{}},xd=function(zt){let Xe,Tn;if(Rh)zt="<remove></remove>"+zt;else{const wf=TL(zt,/^[\r\n\t ]+/);Tn=wf&&wf[0]}Mh==="application/xhtml+xml"&&sp===Eu&&(zt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+zt+"</body></html>");const ur=Et?Et.createHTML(zt):zt;if(sp===Eu)try{Xe=new q().parseFromString(ur,Mh)}catch{}if(!Xe||!Xe.documentElement){Xe=Jt.createDocument(sp,"template",null);try{Xe.documentElement.innerHTML=Jv?Nt:ur}catch{}}const Va=Xe.body||Xe.documentElement;return zt&&Tn&&Va.insertBefore(a.createTextNode(Tn),Va.childNodes[0]||null),sp===Eu?le.call(Xe,Hr?"html":"body")[0]:Hr?Xe.documentElement:Va},XA=function(zt){return ge.call(zt.ownerDocument||zt,zt,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT,null,!1)},t6=function(zt){return zt instanceof j&&(typeof zt.nodeName!="string"||typeof zt.textContent!="string"||typeof zt.removeChild!="function"||!(zt.attributes instanceof U)||typeof zt.removeAttribute!="function"||typeof zt.setAttribute!="function"||typeof zt.namespaceURI!="string"||typeof zt.insertBefore!="function"||typeof zt.hasChildNodes!="function")},JA=function(zt){return typeof T=="object"?zt instanceof T:zt&&typeof zt=="object"&&typeof zt.nodeType=="number"&&typeof zt.nodeName=="string"},zm=function(zt,Xe,Tn){Qt[zt]&&n_(Qt[zt],ur=>{ur.call(n,Xe,Tn,$b)})},QA=function(zt){let Xe;if(zm("beforeSanitizeElements",zt,null),t6(zt))return ro(zt),!0;const Tn=pa(zt.nodeName);if(zm("uponSanitizeElement",zt,{tagName:Tn,allowedTags:Xo}),zt.hasChildNodes()&&!JA(zt.firstElementChild)&&(!JA(zt.content)||!JA(zt.content.firstElementChild))&&fd(/<[/\w]/g,zt.innerHTML)&&fd(/<[/\w]/g,zt.textContent))return ro(zt),!0;if(!Xo[Tn]||hn[Tn]){if(!hn[Tn]&&n6(Tn)&&(ke.tagNameCheck instanceof RegExp&&fd(ke.tagNameCheck,Tn)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(Tn)))return!1;if(fo&&!Mr[Tn]){const ur=St(zt)||zt.parentNode,Va=xt(zt)||zt.childNodes;if(Va&&ur){const wf=Va.length;for(let Ci=wf-1;Ci>=0;--Ci)ur.insertBefore(st(Va[Ci],!0),ct(zt))}}return ro(zt),!0}return zt instanceof O&&!_n(zt)||(Tn==="noscript"||Tn==="noembed"||Tn==="noframes")&&fd(/<\/no(script|embed|frames)/i,zt.innerHTML)?(ro(zt),!0):(zo&&zt.nodeType===3&&(Xe=zt.textContent,Xe=Ch(Xe,Oe," "),Xe=Ch(Xe,tn," "),Xe=Ch(Xe,Un," "),zt.textContent!==Xe&&(Ev(n.removed,{element:zt.cloneNode()}),zt.textContent=Xe)),zm("afterSanitizeElements",zt,null),!1)},e6=function(zt,Xe,Tn){if(Bl&&(Xe==="id"||Xe==="name")&&(Tn in a||Tn in KA))return!1;if(!(qn&&!Xn[Xe]&&fd(no,Xe))){if(!(Ne&&fd(Vo,Xe))){if(!Qe[Xe]||Xn[Xe]){if(!(n6(zt)&&(ke.tagNameCheck instanceof RegExp&&fd(ke.tagNameCheck,zt)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(zt))&&(ke.attributeNameCheck instanceof RegExp&&fd(ke.attributeNameCheck,Xe)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(Xe))||Xe==="is"&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&fd(ke.tagNameCheck,Tn)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(Tn))))return!1}else if(!Ha[Xe]){if(!fd(Ki,Ch(Tn,bs,""))){if(!((Xe==="src"||Xe==="xlink:href"||Xe==="href")&&zt!=="script"&&aV(Tn,"data:")===0&&lr[zt])){if(!(Kn&&!fd(Yo,Ch(Tn,bs,"")))){if(Tn)return!1}}}}}}return!0},n6=function(zt){return zt.indexOf("-")>0},k4=function(zt){let Xe,Tn,ur,Va;zm("beforeSanitizeAttributes",zt,null);const{attributes:wf}=zt;if(!wf)return;const Ci={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qe};for(Va=wf.length;Va--;){Xe=wf[Va];const{name:Cf,namespaceURI:O4}=Xe;Tn=Cf==="value"?Xe.value:AL(Xe.value);const e=Tn;if(ur=pa(Cf),Ci.attrName=ur,Ci.attrValue=Tn,Ci.keepAttr=!0,Ci.forceKeepAttr=void 0,zm("uponSanitizeAttribute",zt,Ci),Tn=Ci.attrValue,Ci.forceKeepAttr)continue;if(!Ci.keepAttr){Is(Cf,zt);continue}if(!Fr&&fd(/\/>/i,Tn)){Is(Cf,zt);continue}zo&&(Tn=Ch(Tn,Oe," "),Tn=Ch(Tn,tn," "),Tn=Ch(Tn,Un," "));const s=pa(zt.nodeName);if(!e6(s,ur,Tn)){Is(Cf,zt);continue}if(yd&&(ur==="id"||ur==="name")&&(Is(Cf,zt),Tn=nn+Tn),Et&&typeof nt=="object"&&typeof nt.getAttributeType=="function"&&!O4)switch(nt.getAttributeType(s,ur)){case"TrustedHTML":{Tn=Et.createHTML(Tn);break}case"TrustedScriptURL":{Tn=Et.createScriptURL(Tn);break}}if(Tn!==e)try{O4?zt.setAttributeNS(O4,Cf,Tn):zt.setAttribute(Cf,Tn)}catch{Is(Cf,zt)}}zm("afterSanitizeAttributes",zt,null)},cK=function eo(zt){let Xe;const Tn=XA(zt);for(zm("beforeSanitizeShadowDOM",zt,null);Xe=Tn.nextNode();)zm("uponSanitizeShadowNode",Xe,null),!QA(Xe)&&(Xe.content instanceof f&&eo(Xe.content),k4(Xe));zm("afterSanitizeShadowDOM",zt,null)};return n.sanitize=function(eo){let zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xe,Tn,ur,Va;if(Jv=!eo,Jv&&(eo="<!-->"),typeof eo!="string"&&!JA(eo))if(typeof eo.toString=="function"){if(eo=eo.toString(),typeof eo!="string")throw sC("dirty is not a string, aborting")}else throw sC("toString is not a function");if(!n.isSupported)return eo;if(Su||Ph(zt),n.removed=[],typeof eo=="string"&&(Bs=!1),Bs){if(eo.nodeName){const Cf=pa(eo.nodeName);if(!Xo[Cf]||hn[Cf])throw sC("root node is forbidden and cannot be sanitized in-place")}}else if(eo instanceof T)Xe=xd("<!---->"),Tn=Xe.ownerDocument.importNode(eo,!0),Tn.nodeType===1&&Tn.nodeName==="BODY"||Tn.nodeName==="HTML"?Xe=Tn:Xe.appendChild(Tn);else{if(!Fa&&!zo&&!Hr&&eo.indexOf("<")===-1)return Et&&vd?Et.createHTML(eo):eo;if(Xe=xd(eo),!Xe)return Fa?null:vd?Nt:""}Xe&&Rh&&ro(Xe.firstChild);const wf=XA(Bs?eo:Xe);for(;ur=wf.nextNode();)QA(ur)||(ur.content instanceof f&&cK(ur.content),k4(ur));if(Bs)return eo;if(Fa){if(Ll)for(Va=Re.call(Xe.ownerDocument);Xe.firstChild;)Va.appendChild(Xe.firstChild);else Va=Xe;return(Qe.shadowroot||Qe.shadowrootmode)&&(Va=jt.call(o,Va,!0)),Va}let Ci=Hr?Xe.outerHTML:Xe.innerHTML;return Hr&&Xo["!doctype"]&&Xe.ownerDocument&&Xe.ownerDocument.doctype&&Xe.ownerDocument.doctype.name&&fd(_R,Xe.ownerDocument.doctype.name)&&(Ci="<!DOCTYPE "+Xe.ownerDocument.doctype.name+`>
`+Ci),zo&&(Ci=Ch(Ci,Oe," "),Ci=Ch(Ci,tn," "),Ci=Ch(Ci,Un," ")),Et&&vd?Et.createHTML(Ci):Ci},n.setConfig=function(eo){Ph(eo),Su=!0},n.clearConfig=function(){$b=null,Su=!1},n.isValidAttribute=function(eo,zt,Xe){$b||Ph({});const Tn=pa(eo),ur=pa(zt);return e6(Tn,ur,Xe)},n.addHook=function(eo,zt){typeof zt=="function"&&(Qt[eo]=Qt[eo]||[],Ev(Qt[eo],zt))},n.removeHook=function(eo){if(Qt[eo])return o_(Qt[eo])},n.removeHooks=function(eo){Qt[eo]&&(Qt[eo]=[])},n.removeAllHooks=function(){Qt={}},n}var Yg=BL();const uT=fe.each,IL=fe.trim,aC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],$L={ftp:21,http:80,https:443,mailto:25},wR=["img","video"],FL=(t,n)=>Zt(t)?!t:Zt(n)?!Mt(wR,n):!0,HL=t=>{try{return decodeURIComponent(t)}catch{return unescape(t)}},VL=(t,n,o)=>{const r=HL(n).replace(/\s/g,"");return t.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:t.allow_html_data_urls?!1:/^data:image\//i.test(r)?FL(t.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class ff{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const a=Bi.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!VL(r,a,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=IL(n),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){a.source=n;return}const f=n.indexOf("//")===0;if(n.indexOf("/")===0&&!f&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const T=r?r.path:new ff(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+a.toAbsPath(T,n);else{const O=/([^#?]*)([#?]?.*)/.exec(n);O&&(n=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(T,O[1])+O[2])}}n=n.replace(/@@/g,"(mce_at)");const y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);y&&uT(aC,(T,O)=>{let B=y[O];B&&(B=B.replace(/\(mce_at\)/g,"@@")),a[T]=B}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),f&&(a.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new ff(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let f=this.toRelPath(this.path,o.path);return o.query&&(f+="?"+o.query),o.anchor&&(f+="#"+o.anchor),f}toAbsolute(n,o){const r=new ff(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?$L[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,a="",f,y;const T=n.substring(0,n.lastIndexOf("/")).split("/"),O=o.split("/");if(T.length>=O.length){for(f=0,y=T.length;f<y;f++)if(f>=O.length||T[f]!==O[f]){r=f+1;break}}if(T.length<O.length){for(f=0,y=O.length;f<y;f++)if(f>=T.length||T[f]!==O[f]){r=f+1;break}}if(r===1)return o;for(f=0,y=T.length-(r-1);f<y;f++)a+="../";for(f=r-1,y=O.length;f<y;f++)f!==r-1?a+="/"+O[f]:a+=O[f];return a}toAbsPath(n,o){let r=0;const a=/\/$/.test(o)?"/":"",f=n.split("/"),y=o.split("/"),T=[];uT(f,j=>{j&&T.push(j)});const O=[];for(let j=y.length-1;j>=0;j--)if(!(y[j].length===0||y[j]===".")){if(y[j]===".."){r++;continue}if(r>0){r--;continue}O.push(y[j])}const B=T.length-r;let U;return B<=0?U=Qo(O).join("/"):U=T.slice(0,B).join("/")+"/"+Qo(O).join("/"),U.indexOf("/")!==0&&(U="/"+U),a&&U.lastIndexOf("/")!==U.length-1&&(U+=a),U}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const fV=fe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),cC="data-mce-type";let zL=0;const CR=(t,n,o,r,a)=>{var f,y,T,O;const B=n.validate,U=o.getSpecialElements();t.nodeType===ig&&!n.allow_conditional_comments&&/^\[if/i.test((f=t.nodeValue)!==null&&f!==void 0?f:"")&&(t.nodeValue=" "+t.nodeValue);const j=(y=a==null?void 0:a.tagName)!==null&&y!==void 0?y:t.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Zt(a)&&(a.allowedTags[j]=!0);return}if(t.nodeType!==Za||j==="body")return;const q=ht.fromDom(t),nt=Er(q,cC),at=nr(q,"data-mce-bogus");if(!nt&&ft(at)){at==="all"?Do(q):al(q);return}const st=o.getElementRule(j);if(B&&!st){Sn(U,j)?Do(q):al(q);return}else Zt(a)&&(a.allowedTags[j]=!0);if(B&&st&&!nt){if(wt((T=st.attributesForced)!==null&&T!==void 0?T:[],ct=>{is(q,ct.name,ct.value==="{$uid}"?`mce_${zL++}`:ct.value)}),wt((O=st.attributesDefault)!==null&&O!==void 0?O:[],ct=>{Er(q,ct.name)||is(q,ct.name,ct.value==="{$uid}"?`mce_${zL++}`:ct.value)}),st.attributesRequired&&!_t(st.attributesRequired,ct=>Er(q,ct))){al(q);return}if(st.removeEmptyAttrs&&Wi(q)){al(q);return}st.outputName&&st.outputName!==j&&bt(q,st.outputName)}},hV=(t,n,o,r,a)=>{const f=t.tagName.toLowerCase(),{attrName:y,attrValue:T}=a;a.keepAttr=WL(n,o,r,f,y,T),a.keepAttr?(a.allowedAttributes[y]=!0,jL(y,o)&&(a.attrValue=y),n.allow_svg_data_urls&&er(T,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):UL(t,y)&&(a.forceKeepAttr=!0)},WL=(t,n,o,r,a,f)=>o!=="html"&&!Ss(r)?!0:!(a in fV&&VL(t,f,r))&&(!t.validate||n.isValid(r,a)||er(a,"data-")||er(a,"aria-")),UL=(t,n)=>t.hasAttribute(cC)&&(n==="id"||n==="class"||n==="style"),jL=(t,n)=>t in n.getBoolAttrs(),mV=(t,n,o,r)=>{const{attributes:a}=t;for(let f=a.length-1;f>=0;f--){const y=a[f],T=y.name,O=y.value;!WL(n,o,r,t.tagName.toLowerCase(),T,O)&&!UL(t,T)?t.removeAttribute(T):jL(T,o)&&t.setAttribute(T,T)}},gV=(t,n,o)=>{const r=Yg();return r.addHook("uponSanitizeElement",(a,f)=>{CR(a,t,n,o.track(a),f)}),r.addHook("uponSanitizeAttribute",(a,f)=>{hV(a,t,n,o.current(),f)}),r},pV=(t,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,t.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},bV=t=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};return Yg().sanitize(t,o),t.innerHTML},vV=(t,n)=>{const o=an();if(t.sanitize){const r=gV(t,n,o);return{sanitizeHtmlElement:(f,y)=>{r.sanitize(f,pV(t,y)),r.removed=[],o.reset()},sanitizeNamespaceElement:bV}}else return{sanitizeHtmlElement:(f,y)=>{const T=document.createNodeIterator(f,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let O;for(;O=T.nextNode();){const B=o.track(O);CR(O,t,n,B),Ge(O)&&mV(O,t,n,B)}o.reset()},sanitizeNamespaceElement:Ye}},lC=fe.makeMap,Ia=fe.extend,ZL=(t,n,o,r)=>{const a=t.name,f=a in o&&a!=="title"&&a!=="textarea",y=n.childNodes;for(let T=0,O=y.length;T<O;T++){const B=y[T],U=new tc(B.nodeName.toLowerCase(),B.nodeType);if(Ge(B)){const j=B.attributes;for(let q=0,nt=j.length;q<nt;q++){const at=j[q];U.attr(at.name,at.value)}Ss(U.name)&&(r(B),U.value=B.innerHTML)}else se(B)?(U.value=B.data,f&&(U.raw=!0)):(jr(B)||Ld(B)||oe(B))&&(U.value=B.data);Ss(U.name)||ZL(U,B,o,r),t.append(U)}},dT=(t,n,o)=>{const r=[];for(let a=t,f=a;a;f=a,a=a.walk()){const y=a;wt(n,T=>T(y)),sn(y.parent)&&y!==t?a=f:r.push(y)}for(let a=r.length-1;a>=0;a--){const f=r[a];wt(o,y=>y(f))}},Av=(t,n,o,r)=>{const a=o.validate,f=n.getNonEmptyElements(),y=n.getWhitespaceElements(),T=Ia(lC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),O=Lp(n),B=/[ \t\r\n]+/g,U=/^[ \t\r\n]+/,j=/[ \t\r\n]+$/,q=St=>{let Et=St.parent;for(;Zt(Et);){if(Et.name in y)return!0;Et=Et.parent}return!1},nt=St=>{let Et=St;for(;Zt(Et);){if(Et.name in O)return qy(n,f,y,Et);Et=Et.parent}return!1},at=St=>St.name in T||hc(n,St)||Ss(St.name)&&St.parent===t,st=(St,Et)=>{const Nt=Et?St.prev:St.next;return Zt(Nt)||sn(St.parent)?!1:at(St.parent)&&(St.parent!==t||r.isRootContent===!0)};return[St=>{var Et;if(St.type===3&&!q(St)){let Nt=(Et=St.value)!==null&&Et!==void 0?Et:"";Nt=Nt.replace(B," "),(O3(St.prev,at)||st(St,!0))&&(Nt=Nt.replace(U,"")),Nt.length===0?St.remove():St.value=Nt}},St=>{var Et;if(St.type===1){const Nt=n.getElementRule(St.name);if(a&&Nt){const Jt=qy(n,f,y,St);Nt.paddInEmptyBlock&&Jt&&nt(St)?IE(o,r,at,St):Nt.removeEmpty&&Jt?at(St)?St.remove():St.unwrap():Nt.paddEmpty&&(Jt||A3(St))&&IE(o,r,at,St)}}else if(St.type===3&&!q(St)){let Nt=(Et=St.value)!==null&&Et!==void 0?Et:"";(St.next&&at(St.next)||st(St,!1))&&(Nt=Nt.replace(j,"")),Nt.length===0?St.remove():St.value=Nt}}]},GL=(t,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:t.forced_root_block;return r===!1?"":r===!0?"p":r},ma=(t={},n=Yu())=>{const o=yL(),r=yL(),a={validate:!0,root_name:"body",sanitize:!0,...t},f=new DOMParser,y=vV(a,n),T=(Et,Nt,Jt="html")=>{const ge=Jt==="xhtml"?"application/xhtml+xml":"text/html",Re=Sn(n.getSpecialElements(),Nt.toLowerCase()),le=Re?`<${Nt}>${Et}</${Nt}>`:Et,jt=Jt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${le}</body></html>`:`<body>${le}</body>`,Qt=f.parseFromString(jt,ge).body;return y.sanitizeHtmlElement(Qt,ge),Re?Qt.firstChild:Qt},O=o.addFilter,B=o.getFilters,U=o.removeFilter,j=r.addFilter,q=r.getFilters,nt=r.removeFilter,at=(Et,Nt)=>{FE(n,Et)&&Nt.push(Et)},st=(Et,Nt)=>{const Jt=ft(Nt.attr(cC)),ge=Nt.type===1&&!Sn(Et,Nt.name)&&!hc(n,Nt)&&!Ss(Nt.name);return Nt.type===3||ge&&!Jt},ct=(Et,Nt)=>{const Jt=Ia(lC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),ge=/^[ \t\r\n]+/,Re=/[ \t\r\n]+$/;let le=Et.firstChild,jt=null;const Qt=Oe=>{var tn,Un;Oe&&(le=Oe.firstChild,le&&le.type===3&&(le.value=(tn=le.value)===null||tn===void 0?void 0:tn.replace(ge,"")),le=Oe.lastChild,le&&le.type===3&&(le.value=(Un=le.value)===null||Un===void 0?void 0:Un.replace(Re,"")))};if(n.isValidChild(Et.name,Nt.toLowerCase())){for(;le;){const Oe=le.next;st(Jt,le)?(jt||(jt=new tc(Nt,1),jt.attr(a.forced_root_block_attrs),Et.insert(jt,le)),jt.append(le)):(Qt(jt),jt=null),le=Oe}Qt(jt)}},St={schema:n,addAttributeFilter:j,getAttributeFilters:q,removeAttributeFilter:nt,addNodeFilter:O,getNodeFilters:B,removeNodeFilter:U,parse:(Et,Nt={})=>{var Jt;const ge=a.validate,Re=(Jt=Nt.context)!==null&&Jt!==void 0?Jt:a.root_name,le=T(Et,Re,Nt.format);sm(n,le);const jt=new tc(Re,11);ZL(jt,le,n.getSpecialElements(),y.sanitizeNamespaceElement),le.innerHTML="";const[Qt,Oe]=Av(jt,n,a,Nt),tn=[],Un=ge?bs=>at(bs,tn):Ye,no={nodes:{},attributes:{}},Vo=bs=>Ww(B(),q(),bs,no);if(dT(jt,[Qt,Vo],[Oe,Un]),tn.reverse(),ge&&tn.length>0)if(Nt.context){const{pass:bs,fail:Ki}=kn(tn,Xo=>Xo.parent===jt);$E(Ki,n,jt,Vo),Nt.invalid=bs.length>0}else $E(tn,n,jt,Vo);const Yo=GL(a,Nt);return Yo&&(jt.name==="body"||Nt.isRootContent)&&ct(jt,Yo),Nt.invalid||VD(no,Nt),jt}};return _X(St,a),_L(St,a,n),St},kv=t=>ZE(t)?gn({validate:!1}).serialize(t):t,SR=(t,n,o)=>{const r=kv(t),a=n(r);if(a.isDefaultPrevented())return a;if(ZE(t))if(a.content!==r){const f=ma({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:t.name});return{...a,content:f}}else return{...a,content:t};else return a},qL=t=>({sanitize:R2(t),sandbox_iframes:Ux(t),sandbox_iframes_exclusions:ib(t)}),ER=(t,n)=>{if(n.no_events)return ca.value(n);{const o=lE(t,n);return o.isDefaultPrevented()?ca.error(uE(t,{content:"",...o}).content):ca.value(o)}},KL=(t,n,o)=>o.no_events?n:SR(n,a=>uE(t,{...o,content:a}),qL(t)).content,fT=(t,n)=>{if(n.no_events)return ca.value(n);{const o=SR(n.content,r=>vw(t,{...n,content:r}),qL(t));return o.isDefaultPrevented()?(Ty(t,o),ca.error(void 0)):ca.value(o)}},Ov=(t,n,o)=>{o.no_events||Ty(t,{...o,content:n})},uC=(t,n,o)=>({element:t,width:n,rows:o}),YL=(t,n)=>({element:t,cells:n}),XL=(t,n)=>({x:t,y:n}),JL=(t,n)=>Di(t,n).bind(el).getOr(1),TR=(t,n,o,r,a)=>{const f=JL(a,"rowspan"),y=JL(a,"colspan"),T=t.rows;for(let O=o;O<o+f;O++){T[O]||(T[O]=YL(lt(r),[]));for(let B=n;B<n+y;B++){const U=T[O].cells;U[B]=O===o&&B===n?a:rt(a)}}},AR=(t,n,o)=>{const r=t.rows;return!!(r[o]?r[o].cells:[])[n]},yV=(t,n,o)=>{for(;AR(t,n,o);)n++;return n},QL=t=>yo(t,(n,o)=>o.cells.length>n?o.cells.length:n,0),Sh=(t,n)=>{const o=t.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let f=0;f<a.length;f++)if(Io(a[f],n))return X.some(XL(f,r))}return X.none()},hT=(t,n,o,r,a)=>{const f=[],y=t.rows;for(let T=o;T<=a;T++){const O=y[T].cells,B=n<r?O.slice(n,r+1):O.slice(r,n+1);f.push(YL(y[T].element,B))}return f},_V=(t,n,o)=>{const r=n.x,a=n.y,f=o.x,y=o.y,T=a<y?hT(t,r,a,f,y):hT(t,r,y,f,a);return uC(t.element,QL(T),T)},mT=(t,n)=>{const o=rt(t.element),r=ht.fromTag("tbody");return ts(r,n),Ks(o,r),o},kR=t=>Ht(t.rows,n=>{const o=Ht(n.cells,a=>{const f=lt(a);return Lo(f,"colspan"),Lo(f,"rowspan"),f}),r=rt(n.element);return ts(r,o),r}),tB=t=>{const n=uC(rt(t),0,[]);return wt(mr(t,"tr"),(o,r)=>{wt(mr(o,"td,th"),(a,f)=>{TR(n,yV(n,f,r),r,o,a)})}),uC(n.element,QL(n.rows),n.rows)},eB=t=>mT(t,kR(t)),nB=(t,n,o)=>Sh(t,n).bind(r=>Sh(t,o).map(a=>_V(t,r,a))),xV=t=>co(t,n=>xo(n)==="ul"||xo(n)==="ol"),wV=(t,n)=>co(t,o=>xo(o)==="li"&&Kr(o,n)).fold(re([]),o=>xV(t).map(r=>{const a=ht.fromTag(xo(r)),f=Os(uc(r),(y,T)=>er(T,"list-style"));return gg(a,f),[ht.fromTag("li"),a]}).getOr([])),CV=(t,n)=>{const o=yo(n,(r,a)=>(Ks(a,r),a),t);return n.length>0?By([o]):o},SV=t=>ls(t)?Ga(t).filter(Or).fold(re([]),n=>[t,n]):Or(t)?[t]:[],EV=(t,n,o)=>{const r=ht.fromDom(n.commonAncestorContainer),a=km(r,t),f=Se(a,O=>o.isWrapper(xo(O))),y=wV(a,n),T=f.concat(y.length?y:SV(r));return Ht(T,rt)},OR=()=>By([]),TV=(t,n,o)=>CV(ht.fromDom(n.cloneContents()),EV(t,n,o)),AV=(t,n)=>fg(n,"table",Kt(Io,t)),kV=(t,n)=>AV(t,n[0]).bind(o=>{const r=n[0],a=n[n.length-1],f=tB(o);return nB(f,r,a).map(y=>By([eB(y)]))}).getOrThunk(OR),oB=(t,n,o)=>n.length>0&&n[0].collapsed?OR():TV(t,n[0],o),DR=(t,n,o)=>{const r=X2(n,t);return r.length>0?kV(t,r):oB(t,n,o)},i_=(t,n)=>n>=0&&n<t.length&&mh(t.charAt(n)),RR=t=>pc(t.innerText),MR=t=>t.map(n=>n.nodeName).getOr("div").toLowerCase(),sB=t=>X.from(t.selection.getRng()).map(n=>{var o;const r=X.from(t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock)),a=t.getBody(),f=MR(r),y=ht.fromDom(n.cloneContents());aD(y),P7(y);const T=t.dom.add(a,f,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},y.dom),O=RR(T),B=pc((o=T.textContent)!==null&&o!==void 0?o:"");if(t.dom.remove(T),i_(B,0)||i_(B,B.length-1)){const U=r.getOr(a),j=RR(U),q=j.indexOf(O);if(q===-1)return O;{const nt=i_(j,q-1),at=i_(j,q+O.length);return(nt?" ":"")+O+(at?" ":"")}}else return O}).getOr(""),rB=(t,n)=>{const o=t.selection.getRng(),r=t.dom.create("body"),a=t.selection.getSel(),f=rD(t,iw(a)),y=n.contextual?DR(ht.fromDom(t.getBody()),f,t.schema).dom:o.cloneContents();return y&&r.appendChild(y),t.selection.serializer.serialize(r,n)},PR=(t,n)=>{if(n.format==="text")return sB(t);{const o=rB(t,n);return n.format==="tree"?o:t.selection.isCollapsed()?"":o}},iB=(t,n)=>({...t,format:n,get:!0,selection:!0,getInner:!0}),aB=(t,n,o={})=>{const r=iB(o,n);return ER(t,r).fold(wo,a=>{const f=PR(t,a);return KL(t,f,a)})},gT=0,cB=1,pT=2,OV=(t,n)=>{const o=t.length+n.length+2,r=new Array(o),a=new Array(o),f=(U,j,q)=>({start:U,end:j,diag:q}),y=(U,j,q,nt,at)=>{const st=O(U,j,q,nt);if(st===null||st.start===j&&st.diag===j-nt||st.end===U&&st.diag===U-q){let ct=U,xt=q;for(;ct<j||xt<nt;)ct<j&&xt<nt&&t[ct]===n[xt]?(at.push([gT,t[ct]]),++ct,++xt):j-U>nt-q?(at.push([pT,t[ct]]),++ct):(at.push([cB,n[xt]]),++xt)}else{y(U,st.start,q,st.start-st.diag,at);for(let ct=st.start;ct<st.end;++ct)at.push([gT,t[ct]]);y(st.end,j,st.end-st.diag,nt,at)}},T=(U,j,q,nt)=>{let at=U;for(;at-j<nt&&at<q&&t[at]===n[at-j];)++at;return f(U,at,j)},O=(U,j,q,nt)=>{const at=j-U,st=nt-q;if(at===0||st===0)return null;const ct=at-st,xt=st+at,St=(xt%2===0?xt:xt+1)/2;r[1+St]=U,a[1+St]=j+1;let Et,Nt,Jt,ge,Re;for(Et=0;Et<=St;++Et){for(Nt=-Et;Nt<=Et;Nt+=2){for(Jt=Nt+St,Nt===-Et||Nt!==Et&&r[Jt-1]<r[Jt+1]?r[Jt]=r[Jt+1]:r[Jt]=r[Jt-1]+1,ge=r[Jt],Re=ge-U+q-Nt;ge<j&&Re<nt&&t[ge]===n[Re];)r[Jt]=++ge,++Re;if(ct%2!==0&&ct-Et<=Nt&&Nt<=ct+Et&&a[Jt-ct]<=r[Jt])return T(a[Jt-ct],Nt+U-q,j,nt)}for(Nt=ct-Et;Nt<=ct+Et;Nt+=2){for(Jt=Nt+St-ct,Nt===ct-Et||Nt!==ct+Et&&a[Jt+1]<=a[Jt-1]?a[Jt]=a[Jt+1]-1:a[Jt]=a[Jt-1],ge=a[Jt]-1,Re=ge-U+q-Nt;ge>=U&&Re>=q&&t[ge]===n[Re];)a[Jt]=ge--,Re--;if(ct%2===0&&-Et<=Nt&&Nt<=Et&&a[Jt]<=r[Jt+ct])return T(a[Jt],Nt+U-q,j,nt)}}return null},B=[];return y(0,t.length,0,n.length,B),B},a_=t=>Ge(t)?t.outerHTML:se(t)?Bi.encodeRaw(t.data,!1):jr(t)?"<!--"+t.data+"-->":"",DV=t=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(t&&(o.innerHTML=t);n=o.firstChild;)r.appendChild(n);return r},RV=(t,n,o)=>{const r=DV(n);if(t.hasChildNodes()&&o<t.childNodes.length){const a=t.childNodes[o];t.insertBefore(r,a)}else t.appendChild(r)},MV=(t,n)=>{if(t.hasChildNodes()&&n<t.childNodes.length){const o=t.childNodes[n];t.removeChild(o)}},lB=(t,n)=>{let o=0;wt(t,r=>{r[0]===gT?o++:r[0]===cB?(RV(n,r[1],o),o++):r[0]===pT&&MV(n,o)})},uB=(t,n)=>Se(Ht(Vi(t.childNodes),n?F(pc,a_):a_),o=>o.length>0),PV=(t,n)=>{const o=Ht(Vi(n.childNodes),a_);return lB(OV(o,t),n),n},NV=$l(()=>document.implementation.createHTMLDocument("undo")),LV=t=>t.querySelector("iframe")!==null,BV=t=>({type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}),IV=t=>({type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}),dC=t=>{const n=t.serializer.getTempAttrs(),o=Fn(t.getBody(),n);return LV(o)?BV(uB(o,!0)):IV(pc(o.innerHTML))},dB=(t,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?PV(n.fragments,t.getBody()):t.setContent(n.content,{format:"raw",no_selection:Zt(r)&&Y1(r)?!r.isFakeCaret:!0}),r&&(t.selection.moveToBookmark(r),t.selection.scrollIntoView())},NR=t=>t.type==="fragmented"?t.fragments.join(""):t.content,fB=t=>{const n=ht.fromTag("body",NV());return t1(n,NR(t)),wt(mr(n,"*[data-mce-bogus]"),al),Qb(n)},$V=(t,n)=>NR(t)===NR(n),FV=(t,n)=>fB(t)===fB(n),LR=(t,n)=>!t||!n?!1:$V(t,n)?!0:FV(t,n),BR=t=>t.get()===0,bT=(t,n,o)=>{BR(o)&&(t.typing=n)},IR=(t,n)=>{t.typing&&(bT(t,!1,n),t.add())},HV=t=>{t.typing&&(t.typing=!1,t.add())},VV=(t,n,o)=>{BR(n)&&o.set(Ex(t.selection))},zV=(t,n,o,r,a,f,y)=>{const T=dC(t),O=fe.extend(f||{},T);if(!BR(r)||t.removed)return null;const B=n.data[o.get()];if(t.dispatch("BeforeAddUndo",{level:O,lastLevel:B,originalEvent:y}).isDefaultPrevented()||B&&LR(B,O))return null;n.data[o.get()]&&a.get().each(q=>{n.data[o.get()].beforeBookmark=q});const U=Yk(t);if(U&&n.data.length>U){for(let q=0;q<n.data.length-1;q++)n.data[q]=n.data[q+1];n.data.length--,o.set(n.data.length)}O.bookmark=Ex(t.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(O),o.set(n.data.length-1);const j={level:O,lastLevel:B,originalEvent:y};return o.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",j),t.dispatch("change",j)):t.dispatch("AddUndo",j),O},WV=(t,n,o)=>{n.data=[],o.set(0),n.typing=!1,t.dispatch("ClearUndos")},UV=(t,n,o,r,a)=>{if(n.transact(r)){const f=n.data[o.get()].bookmark,y=n.data[o.get()-1];dB(t,y,!0),n.transact(a)&&(n.data[o.get()-1].beforeBookmark=f)}},wX=(t,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],dB(t,r,!1),t.setDirty(!0),t.dispatch("Redo",{level:r})),r},CX=(t,n,o,r)=>{let a;return n.typing&&(n.add(),n.typing=!1,bT(n,!1,o)),r.get()>0&&(r.set(r.get()-1),a=n.data[r.get()],dB(t,a,!0),t.setDirty(!0),t.dispatch("Undo",{level:a})),a},jV=t=>{t.clear(),t.add()},ZV=(t,n,o)=>o.get()>0||n.typing&&n.data[0]&&!LR(dC(t),n.data[0]),SX=(t,n)=>n.get()<t.data.length-1&&!t.typing,GV=(t,n,o)=>(IR(t,n),t.beforeChange(),t.ignore(o),t.add()),cr=(t,n)=>{try{t.set(t.get()+1),n()}finally{t.set(t.get()-1)}},$R=(t,n)=>{const o=t.dom,r=Zt(n)?n:t.getBody();wt(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const f=tO(t),y=o.getAttrib(a,"border");(!y||y==="0")&&t.hasVisual?o.addClass(a,f):o.removeClass(a,f);break;case"A":if(!o.getAttrib(a,"href")){const T=o.getAttrib(a,"name")||a.id,O=x2(t);T&&t.hasVisual?o.addClass(a,O):o.removeClass(a,O)}break}}),t.dispatch("VisualAid",{element:n,hasVisual:t.hasVisual})},qV=t=>({init:{bindEvents:Ye},undoManager:{beforeChange:(n,o)=>VV(t,n,o),add:(n,o,r,a,f,y)=>zV(t,n,o,r,a,f,y),undo:(n,o,r)=>CX(t,n,o,r),redo:(n,o)=>wX(t,n,o),clear:(n,o)=>WV(t,n,o),reset:n=>jV(n),hasUndo:(n,o)=>ZV(t,n,o),hasRedo:(n,o)=>SX(n,o),transact:(n,o,r)=>GV(n,o,r),ignore:(n,o)=>cr(n,o),extra:(n,o,r,a)=>UV(t,n,o,r,a)},formatter:{match:(n,o,r,a)=>tR(t,n,o,r,a),matchAll:(n,o)=>_v(t,n,o),matchNode:(n,o,r,a)=>wh(t,n,o,r,a),canApply:n=>Z3(t,n),closest:n=>j3(t,n),apply:(n,o,r)=>Sv(t,n,o,r),remove:(n,o,r,a)=>fL(t,n,o,r,a),toggle:(n,o,r)=>Y8(t,n,o,r),formatChanged:(n,o,r,a,f)=>K8(t,n,o,r,a,f)},editor:{getContent:n=>mX(t,n),setContent:(n,o)=>T8(t,n,o),insertContent:(n,o)=>C8(t,n,o),addVisual:n=>$R(t,n)},selection:{getContent:(n,o)=>aB(t,n,o)},autocompleter:{addDecoration:Ye,removeDecoration:Ye},raw:{getModel:()=>X.none()}}),KV=t=>{const n=B=>We(B)?B:{},{init:o,undoManager:r,formatter:a,editor:f,selection:y,autocompleter:T,raw:O}=t;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(B,U,j)=>r.transact(j),ignore:(B,U)=>r.ignore(U),extra:(B,U,j,q)=>r.extra(j,q)},formatter:{match:(B,U,j,q)=>a.match(B,n(U),q),matchAll:a.matchAll,matchNode:a.matchNode,canApply:B=>a.canApply(B),closest:B=>a.closest(B),apply:(B,U,j)=>a.apply(B,n(U)),remove:(B,U,j,q)=>a.remove(B,n(U)),toggle:(B,U,j)=>a.toggle(B,n(U)),formatChanged:(B,U,j,q,nt)=>a.formatChanged(U,j,q,nt)},editor:{getContent:B=>f.getContent(B),setContent:(B,U)=>({content:f.setContent(B,U),html:""}),insertContent:(B,U)=>(f.insertContent(B),""),addVisual:f.addVisual},selection:{getContent:(B,U)=>y.getContent(U)},autocompleter:{addDecoration:T.addDecoration,removeDecoration:T.removeDecoration},raw:{getModel:()=>X.some(O.getRawModel())}}},YV=()=>{const t=re(null),n=re("");return{init:{bindEvents:Ye},undoManager:{beforeChange:Ye,add:t,undo:t,redo:t,clear:Ye,reset:Ye,hasUndo:Gt,hasRedo:Gt,transact:t,ignore:Ye,extra:Ye},formatter:{match:Gt,matchAll:re([]),matchNode:re(void 0),canApply:Gt,closest:n,apply:Ye,remove:Ye,toggle:Ye,formatChanged:re({unbind:Ye})},editor:{getContent:n,setContent:re({content:"",html:""}),insertContent:re(""),addVisual:Ye},selection:{getContent:n},autocompleter:{addDecoration:Ye,removeDecoration:Ye},raw:{getModel:re(X.none())}}},Pl=t=>Sn(t.plugins,"rtc"),EX=t=>ms(t.plugins,"rtc").bind(n=>X.from(n.setup)),TX=t=>{const n=t;return EX(t).fold(()=>(n.rtcInstance=qV(t),X.none()),o=>(n.rtcInstance=YV(),X.some(()=>o().then(r=>(n.rtcInstance=KV(r),r.rtc.isRemote)))))},Hi=t=>t.rtcInstance?t.rtcInstance:qV(t),fi=t=>{const n=t.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},hB=(t,n,o)=>{fi(t).undoManager.beforeChange(n,o)},mB=(t,n,o,r,a,f,y)=>fi(t).undoManager.add(n,o,r,a,f,y),XV=(t,n,o,r)=>fi(t).undoManager.undo(n,o,r),JV=(t,n,o)=>fi(t).undoManager.redo(n,o),vT=(t,n,o)=>{fi(t).undoManager.clear(n,o)},QV=(t,n)=>{fi(t).undoManager.reset(n)},FR=(t,n,o)=>fi(t).undoManager.hasUndo(n,o),tz=(t,n,o)=>fi(t).undoManager.hasRedo(n,o),gB=(t,n,o,r)=>fi(t).undoManager.transact(n,o,r),pB=(t,n,o)=>{fi(t).undoManager.ignore(n,o)},HR=(t,n,o,r,a)=>{fi(t).undoManager.extra(n,o,r,a)},bB=(t,n,o,r,a)=>fi(t).formatter.match(n,o,r,a),VR=(t,n,o)=>fi(t).formatter.matchAll(n,o),ez=(t,n,o,r,a)=>fi(t).formatter.matchNode(n,o,r,a),nz=(t,n)=>fi(t).formatter.canApply(n),oz=(t,n)=>fi(t).formatter.closest(n),hd=(t,n,o,r)=>{fi(t).formatter.apply(n,o,r)},sz=(t,n,o,r,a)=>{fi(t).formatter.remove(n,o,r,a)},rz=(t,n,o,r)=>{fi(t).formatter.toggle(n,o,r)},iz=(t,n,o,r,a,f)=>fi(t).formatter.formatChanged(n,o,r,a,f),az=(t,n)=>Hi(t).editor.getContent(n),cz=(t,n,o)=>Hi(t).editor.setContent(n,o),vB=(t,n,o)=>Hi(t).editor.insertContent(n,o),lz=(t,n,o)=>fi(t).selection.getContent(n,o),uz=(t,n)=>fi(t).editor.addVisual(n),yB=t=>fi(t).init.bindEvents(),yT=(t,n={})=>{const o=n.format?n.format:"html";return lz(t,o,n)},_B=t=>t.dom.length===0?(Do(t),X.none()):X.some(t),dz=(t,n)=>t.filter(o=>Ir.isBookmarkNode(o.dom)).bind(n?qh:Dc),xB=(t,n,o,r,a)=>{const f=t.dom,y=n.dom,T=r?f.length:y.length;r?(vD(f,y,a,!1,!r),o.setStart(y,T)):(vD(y,f,a,!1,!r),o.setEnd(y,T))},zR=(t,n,o)=>{Ga(t).each(r=>{const a=t.dom;n&&zy(r,Ut(a,0),o)?bD(a,0,o):!n&&Wy(r,Ut(a,a.length),o)&&xi(a,a.length,o)})},wB=(t,n,o,r,a)=>{t.bind(f=>((r?xi:bD)(f.dom,r?f.dom.length:0,a),n.filter(ws).map(T=>xB(f,T,o,r,a)))).orThunk(()=>dz(n,r).or(n).filter(ws).map(y=>zR(y,r,a)))},fz=(t,n,o)=>{const r=X.from(n.firstChild).map(ht.fromDom),a=X.from(n.lastChild).map(ht.fromDom);t.deleteContents(),t.insertNode(n);const f=r.bind(Dc).filter(ws).bind(_B),y=a.bind(qh).filter(ws).bind(_B);wB(f,r,t,!0,o),wB(y,a,t,!1,o),t.collapse(!1)},AX=(t,n)=>({format:"html",...t,set:!0,selection:!0,content:n}),hz=(t,n)=>{if(n.format!=="raw"){const o=t.selection.getRng(),r=t.dom.getParent(o.commonAncestorContainer,t.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},f=t.parser.parse(n.content,{forced_root_block:!1,...a,...n});return gn({validate:!1},t.schema).serialize(f)}else return n.content},mz=(t,n,o={})=>{const r=AX(o,n);fT(t,r).each(a=>{const f=hz(t,a),y=t.selection.getRng();fz(y,y.createContextualFragment(f),t.schema),t.selection.setRng(y),$y(t,y),Ov(t,f,a)})},WR=(t,n,o)=>{if(Sn(t,n)){const r=Se(t[n],a=>a!==o);r.length===0?delete t[n]:t[n]=r}};var CB=(t,n)=>{let o,r;const a=(T,O)=>co(O,B=>t.is(B,T)),f=T=>t.getParents(T,void 0,t.getRoot()),y=()=>{o={},r={},n.on("NodeChange",T=>{const O=T.element,B=f(O),U={};Me(o,(j,q)=>{a(q,B).each(nt=>{r[q]||(wt(j,at=>{at(!0,{node:nt,selector:q,parents:B})}),r[q]=j),U[q]=j})}),Me(r,(j,q)=>{U[q]||(delete r[q],wt(j,nt=>{nt(!1,{node:O,selector:q,parents:B})}))})})};return{selectorChangedWithUnbind:(T,O)=>(o||y(),o[T]||(o[T]=[]),o[T].push(O),a(T,f(n.selection.getStart())).each(()=>{r[T]=o[T]}),{unbind:()=>{WR(o,T,O),WR(r,T,O)}})}};const SB=t=>!!(t&&t.ownerDocument)&&il(ht.fromDom(t.ownerDocument),ht.fromDom(t)),Dv=t=>t?SB(t.startContainer)&&SB(t.endContainer):!1,Rv=(t,n,o,r)=>{let a,f;const{selectorChangedWithUnbind:y}=CB(t,r),T=(Ce,Qe)=>{const so=t.createRng();Zt(Ce)&&Zt(Qe)?(so.setStart(Ce,Qe),so.setEnd(Ce,Qe),Nt(so),xt(!1)):(Zc(t,so,r.getBody(),!0),Nt(so))},O=Ce=>yT(r,Ce),B=(Ce,Qe)=>mz(r,Ce,Qe),U=Ce=>kN(r.getBody(),Et(),Ce),j=Ce=>ON(r.getBody(),Et(),Ce),q=(Ce,Qe)=>Ki.getBookmark(Ce,Qe),nt=Ce=>Ki.moveToBookmark(Ce),at=(Ce,Qe)=>(A7(t,Ce,Qe).each(Nt),Ce),st=()=>{const Ce=Et(),Qe=St();return!Ce||Ce.item?!1:Ce.compareEndPoints?Ce.compareEndPoints("StartToEnd",Ce)===0:!Qe||Ce.collapsed},ct=()=>{const Ce=Et(),Qe=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Qe.length>0?vs(Qe,so=>t.isEditable(so.parentElement)):TN(t,Ce)},xt=Ce=>{const Qe=Et();Qe.collapse(!!Ce),Nt(Qe)},St=()=>n.getSelection?n.getSelection():n.document.selection,Et=()=>{let Ce;const Qe=(ke,hn,Xn)=>{try{return hn.compareBoundaryPoints(ke,Xn)}catch{return-1}},so=n.document;if(Zt(r.bookmark)&&!fv(r)){const ke=bE(r);if(ke.isSome())return ke.map(hn=>rD(r,[hn])[0]).getOr(so.createRange())}try{const ke=St();ke&&!Ep(ke.anchorNode)&&(ke.rangeCount>0?Ce=ke.getRangeAt(0):Ce=so.createRange(),Ce=rD(r,[Ce])[0])}catch{}if(Ce||(Ce=so.createRange()),om(Ce.startContainer)&&Ce.collapsed){const ke=t.getRoot();Ce.setStart(ke,0),Ce.setEnd(ke,0)}return a&&f&&(Qe(Ce.START_TO_START,Ce,a)===0&&Qe(Ce.END_TO_END,Ce,a)===0?Ce=f:(a=null,f=null)),Ce},Nt=(Ce,Qe)=>{if(!Dv(Ce))return;const so=St();if(Ce=r.dispatch("SetSelectionRange",{range:Ce,forward:Qe}).range,so){f=Ce;try{so.removeAllRanges(),so.addRange(Ce)}catch{}Qe===!1&&so.extend&&(so.collapse(Ce.endContainer,Ce.endOffset),so.extend(Ce.startContainer,Ce.startOffset)),a=so.rangeCount>0?so.getRangeAt(0):null}if(!Ce.collapsed&&Ce.startContainer===Ce.endContainer&&(so!=null&&so.setBaseAndExtent)&&Ce.endOffset-Ce.startOffset<2&&Ce.startContainer.hasChildNodes()){const hn=Ce.startContainer.childNodes[Ce.startOffset];hn&&hn.nodeName==="IMG"&&(so.setBaseAndExtent(Ce.startContainer,Ce.startOffset,Ce.endContainer,Ce.endOffset),(so.anchorNode!==Ce.startContainer||so.focusNode!==Ce.endContainer)&&so.setBaseAndExtent(hn,0,hn,1))}r.dispatch("AfterSetSelectionRange",{range:Ce,forward:Qe})},Jt=Ce=>(B(t.getOuterHTML(Ce)),Ce),ge=()=>E7(r.getBody(),Et()),Re=(Ce,Qe)=>T7(t,Et(),Ce,Qe),le=()=>{const Ce=St(),Qe=Ce==null?void 0:Ce.anchorNode,so=Ce==null?void 0:Ce.focusNode;if(!Ce||!Qe||!so||Ep(Qe)||Ep(so))return!0;const ke=t.createRng(),hn=t.createRng();try{ke.setStart(Qe,Ce.anchorOffset),ke.collapse(!0),hn.setStart(so,Ce.focusOffset),hn.collapse(!0)}catch{return!0}return ke.compareBoundaryPoints(ke.START_TO_START,hn)<=0},bs={dom:t,win:n,serializer:o,editor:r,expand:(Ce={type:"word"})=>Nt(Fe(t).expand(Et(),Ce)),collapse:xt,setCursorLocation:T,getContent:O,setContent:B,getBookmark:q,moveToBookmark:nt,select:at,isCollapsed:st,isEditable:ct,isForward:le,setNode:Jt,getNode:ge,getSel:St,setRng:Nt,getRng:Et,getStart:U,getEnd:j,getSelectedBlocks:Re,normalize:()=>{const Ce=Et(),Qe=St();if(!CO(Qe)&&J1(r)){const so=Te(t,Ce);return so.each(ke=>{Nt(ke,le())}),so.getOr(Ce)}return Ce},selectorChanged:(Ce,Qe)=>(y(Ce,Qe),bs),selectorChangedWithUnbind:y,getScrollContainer:()=>{let Ce,Qe=t.getRoot();for(;Qe&&Qe.nodeName!=="BODY";){if(Qe.scrollHeight>Qe.clientHeight){Ce=Qe;break}Qe=Qe.parentNode}return Ce},scrollIntoView:(Ce,Qe)=>{Zt(Ce)?_b(r,Ce,Qe):$y(r,Et(),Qe)},placeCaretAt:(Ce,Qe)=>Nt(p(Ce,Qe,r.getDoc())),getBoundingClientRect:()=>{const Ce=Et();return Ce.collapsed?Ut.fromRangeStart(Ce).getClientRects()[0]:Ce.getBoundingClientRect()},destroy:()=>{n=a=f=null,Xo.destroy()}},Ki=Ir(bs),Xo=Oy(bs,r);return bs.bookmarkManager=Ki,bs.controlSelection=Xo,bs},fC=(t,n,o)=>{n.addNodeFilter("br",(r,a,f)=>{const y=fe.extend({},o.getBlockElements()),T=o.getNonEmptyElements(),O=o.getWhitespaceElements();y.body=1;const B=U=>U.name in y||hc(o,U);for(let U=0,j=r.length;U<j;U++){let q=r[U],nt=q.parent;if(nt&&B(nt)&&q===nt.lastChild){let at=q.prev;for(;at;){const st=at.name;if(st!=="span"||at.attr("data-mce-type")!=="bookmark"){st==="br"&&(q=null);break}at=at.prev}if(q&&(q.remove(),qy(o,T,O,nt))){const st=o.getElementRule(nt.name);st&&(st.removeEmpty?nt.remove():st.paddEmpty&&IE(t,f,B,nt))}}else{let at=q;for(;nt&&nt.firstChild===at&&nt.lastChild===at&&(at=nt,!y[nt.name]);)nt=nt.parent;if(at===nt){const st=new tc("#text",3);st.value=zs,q.replace(st)}}}})},EB=(t,n,o)=>{t.addAttributeFilter("data-mce-tabindex",(r,a)=>{let f=r.length;for(;f--;){const y=r[f];y.attr("tabindex",y.attr("data-mce-tabindex")),y.attr(a,null)}}),t.addAttributeFilter("src,href,style",(r,a)=>{const f="data-mce-"+a,y=n.url_converter,T=n.url_converter_scope;let O=r.length;for(;O--;){const B=r[O];let U=B.attr(f);U!==void 0?(B.attr(a,U.length>0?U:null),B.attr(f,null)):(U=B.attr(a),a==="style"?U=o.serializeStyle(o.parseStyle(U),B.name):y&&(U=y.call(T,U,a,B.name)),B.attr(a,U.length>0?U:null))}}),t.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const f=r[a];let y=f.attr("class");y&&(y=y.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",y.length>0?y:null))}}),t.addAttributeFilter("data-mce-type",(r,a,f)=>{let y=r.length;for(;y--;){const T=r[y];T.attr("data-mce-type")==="bookmark"&&!f.cleanup&&(X.from(T.firstChild).exists(B=>{var U;return!$0((U=B.value)!==null&&U!==void 0?U:"")})?T.unwrap():T.remove())}}),t.addNodeFilter("noscript",r=>{var a;let f=r.length;for(;f--;){const y=r[f].firstChild;y&&(y.value=Bi.decode((a=y.value)!==null&&a!==void 0?a:""))}}),t.addNodeFilter("script,style",(r,a)=>{var f;const y=O=>O.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let T=r.length;for(;T--;){const O=r[T],B=O.firstChild,U=(f=B==null?void 0:B.value)!==null&&f!==void 0?f:"";if(a==="script"){const j=O.attr("type");j&&O.attr("type",j==="mce-no/type"?null:j.replace(/^mce\-/,"")),n.element_format==="xhtml"&&B&&U.length>0&&(B.value=`// <![CDATA[
`+y(U)+`
// ]]>`)}else n.element_format==="xhtml"&&B&&U.length>0&&(B.value=`<!--
`+y(U)+`
-->`)}}),t.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const f=r[a],y=f.value;n.preserve_cdata&&(y==null?void 0:y.indexOf("[CDATA["))===0?(f.name="#cdata",f.type=4,f.value=o.decode(y.replace(/^\[CDATA\[|\]\]$/g,""))):(y==null?void 0:y.indexOf("mce:protected "))===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(y).substr(14))}}),t.addNodeFilter("xml:namespace,input",(r,a)=>{let f=r.length;for(;f--;){const y=r[f];y.type===7?y.remove():y.type===1&&a==="input"&&!y.attr("type")&&y.attr("type","text")}}),t.addAttributeFilter("data-mce-type",r=>{wt(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(t.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let f=r.length;for(;f--;)r[f].attr(a,null)}),n.remove_trailing_brs&&fC(n,t,t.schema)},TB=t=>{const n=r=>(r==null?void 0:r.name)==="br",o=t.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},gz=(t,n,o)=>{let r;const a=t.dom;let f=n.cloneNode(!0);const y=document.implementation;if(y.createHTMLDocument){const T=y.createHTMLDocument("");fe.each(f.nodeName==="BODY"?f.childNodes:[f],O=>{T.body.appendChild(T.importNode(O,!0))}),f.nodeName!=="BODY"?f=T.body.firstChild:f=T.body,r=a.doc,a.doc=T}return rf(t,{...o,node:f}),r&&(a.doc=r),f},AB=(t,n)=>Zt(t)&&t.hasEventListeners("PreProcess")&&!n.no_events,pz=(t,n,o)=>AB(t,o)?gz(t,n,o):n,bz=(t,n,o)=>{fe.inArray(n,o)===-1&&(t.addAttributeFilter(o,(r,a)=>{let f=r.length;for(;f--;)r[f].attr(a,null)}),n.push(o))},vz=(t,n,o)=>!n.no_events&&t?dN(t,{...n,content:o}).content:o,yz=(t,n,o)=>{const r=pc(o.getInner?n.innerHTML:t.getOuterHTML(n));return o.selection||au(ht.fromDom(n))?r:fe.trim(r)},kB=(t,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=t.parse(n,r);return TB(a),a},_z=(t,n,o)=>gn(t,n).serialize(o),xz=(t,n,o,r,a)=>{const f=_z(n,o,r);return vz(t,a,f)},hC=(t,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},a=n&&n.dom?n.dom:Zo.DOM,f=n&&n.schema?n.schema:Yu(r),y=ma(r,f);EB(y,r,a);const T=(O,B={})=>{const U={format:"html",...B},j=pz(n,O,U),q=yz(a,j,U),nt=kB(y,q,U);return U.format==="tree"?nt:xz(n,r,f,nt,U)};return{schema:f,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:T,addRules:f.addValidElements,setRules:f.setValidElements,addTempAttr:Kt(bz,y,o),getTempAttrs:re(o),getNodeFilters:y.getNodeFilters,getAttributeFilters:y.getAttributeFilters,removeNodeFilter:y.removeNodeFilter,removeAttributeFilter:y.removeAttributeFilter}},UR=(t,n)=>{const o=hC(t,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},OB="html",wz=(t,n)=>({...t,format:n,get:!0,getInner:!0}),Cz=(t,n={})=>{const o=n.format?n.format:OB,r=wz(n,o);return ER(t,r).fold(wo,a=>{const f=az(t,a);return KL(t,f,a)})},Sz="html",DB=(t,n)=>({format:Sz,...t,set:!0,content:n}),jR=(t,n,o={})=>{const r=DB(o,n);return fT(t,r).map(a=>{const f=cz(t,a.content,a);return Ov(t,f.html,a),f.content}).getOr(n)},Ez="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Tz=[],Az="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),kz=[],hf=(t,n)=>{const o=Se(n,r=>Sn(t,r));return Co(o)},ZR=t=>{const n=hf(t,Ez),o=t.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Co(n)},Oz=t=>hf(t,Tz),RB=(t,n)=>{const o=fe.makeMap(t.plugins," "),a=Se(n,f=>Sn(o,f));return Co(a)},Dz=t=>RB(t,Az),Rz=t=>RB(t,kz.map(n=>n.name)),Ho=(t,n)=>{const o=ZR(t),r=Dz(n),a=r.length>0,f=o.length>0,y=n.theme==="mobile";if(a||f||y){const T=`
- `,O=y?`

Themes:${T}mobile`:"",B=a?`

Plugins:${T}${r.join(T)}`:"",U=f?`

Options:${T}${o.join(T)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+O+B+U)}},kX=t=>co(kz,n=>n.name===t).fold(()=>t,n=>n.replacedWith?`${t}, replaced by ${n.replacedWith}`:t),Mz=(t,n)=>{const o=Oz(t),r=Rz(n),a=r.length>0,f=o.length>0;if(a||f){const y=`
- `,T=a?`

Plugins:${y}${r.map(kX).join(y)}`:"",O=f?`

Options:${y}${o.join(y)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+T+O)}},Pz=(t,n)=>{Ho(t,n),Mz(t,n)},As=Zo.DOM,Nz=t=>{As.setStyle(t.id,"display",t.orgDisplay)},Ab=t=>X.from(t).each(n=>n.destroy()),Lz=t=>{const n=t;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=t.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},Bz=t=>{const n=t.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),As.unbind(n,"submit reset",t.formEventDelegate))},Iz=t=>{if(!t.removed){const{_selectionOverrides:n,editorUpload:o}=t,r=t.getBody(),a=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Zt(a==null?void 0:a.nextSibling)&&As.remove(a.nextSibling),LO(t),t.editorManager.remove(t),!t.inline&&r&&Nz(t),BO(t),As.remove(t.getContainer()),Ab(n),Ab(o),t.destroy()}},MB=(t,n)=>{const{selection:o,dom:r}=t;if(!t.destroyed){if(!n&&!t.removed){t.remove();return}n||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Ab(o),Ab(r)),Bz(t),Lz(t),t.destroyed=!0}},oc=(()=>{const t={};return{add:(a,f)=>{t[a]=f},get:a=>t[a]?t[a]:{icons:{}},has:a=>Sn(t,a)}})(),Mm=Ii.ModelManager,Xg=(t,n)=>n.dom[t],Eh=(t,n)=>parseInt(ql(n,t),10),mC=Kt(Xg,"clientWidth"),GR=Kt(Xg,"clientHeight"),qR=Kt(Eh,"margin-top"),PB=Kt(Eh,"margin-left"),NB=t=>t.dom.getBoundingClientRect(),$z=(t,n,o)=>{const r=mC(t),a=GR(t);return n>=0&&o>=0&&n<=r&&o<=a},Fz=(t,n,o,r)=>{const a=NB(n),f=t?a.left+n.dom.clientLeft+PB(n):0,y=t?a.top+n.dom.clientTop+qR(n):0,T=o-f,O=r-y;return{x:T,y:O}},LB=(t,n,o)=>{const r=ht.fromDom(t.getBody()),a=t.inline?r:Yb(r),f=Fz(t.inline,a,n,o);return $z(a,f.x,f.y)},BB=t=>X.from(t).map(ht.fromDom),IB=t=>{const n=t.inline?t.getBody():t.getContentAreaContainer();return BB(n).map(Zl).getOr(!1)};var $B=()=>{const t=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}};const _T=t=>{const n=[],o=()=>{const q=t.theme;return q&&q.getNotificationManagerImpl?q.getNotificationManagerImpl():$B()},r=()=>X.from(n[0]),a=(q,nt)=>q.type===nt.type&&q.text===nt.text&&!q.progressBar&&!q.timeout&&!nt.progressBar&&!nt.timeout,f=()=>{wt(n,q=>{q.reposition()})},y=q=>{n.push(q)},T=q=>{ks(n,nt=>nt===q).each(nt=>{n.splice(nt,1)})},O=(q,nt=!0)=>t.removed||!IB(t)?{}:(nt&&t.dispatch("BeforeOpenNotification",{notification:q}),co(n,at=>a(o().getArgs(at),q)).getOrThunk(()=>{t.editorManager.setActive(t);const at=o().open(q,()=>{T(at),f(),EN(t)&&r().fold(()=>t.focus(),st=>kw(ht.fromDom(st.getEl())))});return y(at),f(),t.dispatch("OpenNotification",{notification:{...at}}),at})),B=()=>{r().each(q=>{o().close(q),T(q),f()})},U=re(n);return(q=>{q.on("SkinLoaded",()=>{const nt=g2(q);nt&&O({text:nt,type:"warning",timeout:0},!1),f()}),q.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(f)}),q.on("remove",()=>{wt(n.slice(),nt=>{o().close(nt)})})})(t),{open:O,close:B,getNotifications:U}},gC=Ii.PluginManager,Pv=Ii.ThemeManager;var OX=()=>{const t=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}};const FB=t=>{let n=[];const o=()=>{const st=t.theme;return st&&st.getWindowManagerImpl?st.getWindowManagerImpl():OX()},r=(st,ct)=>(...xt)=>ct?ct.apply(st,xt):void 0,a=st=>{t.dispatch("OpenWindow",{dialog:st})},f=st=>{t.dispatch("CloseWindow",{dialog:st})},y=st=>{n.push(st),a(st)},T=st=>{f(st),n=Se(n,ct=>ct!==st),n.length===0&&t.focus()},O=()=>X.from(n[n.length-1]),B=st=>{t.editorManager.setActive(t),Ow(t),t.ui.show();const ct=st();return y(ct),ct},U=(st,ct)=>B(()=>o().open(st,ct,T)),j=st=>B(()=>o().openUrl(st,T)),q=(st,ct,xt)=>{const St=o();St.alert(st,r(xt||St,ct))},nt=(st,ct,xt)=>{const St=o();St.confirm(st,r(xt||St,ct))},at=()=>{O().each(st=>{o().close(st),T(st)})};return t.on("remove",()=>{wt(n,st=>{o().close(st)})}),{open:U,openUrl:j,alert:q,confirm:nt,close:at}},HB=(t,n)=>{t.notificationManager.open({type:"error",text:n})},md=(t,n)=>{t._skinLoaded?HB(t,n):t.on("SkinLoaded",()=>{HB(t,n)})},DX=(t,n)=>{md(t,Ar.translate(["Failed to upload image: {0}",n]))},xT=(t,n,o)=>{iE(t,n,{message:o}),console.error(o)},pC=(t,n,o)=>o?`Failed to load ${t}: ${o} from url ${n}`:`Failed to load ${t} url: ${n}`,bC=(t,n,o)=>{xT(t,"PluginLoadError",pC("plugin",n,o))},Hz=(t,n,o)=>{xT(t,"IconsLoadError",pC("icons",n,o))},VB=(t,n,o)=>{xT(t,"LanguageLoadError",pC("language",n,o))},zB=(t,n,o)=>{xT(t,"ThemeLoadError",pC("theme",n,o))},WB=(t,n,o)=>{xT(t,"ModelLoadError",pC("model",n,o))},Vz=(t,n,o)=>{const r=Ar.translate(["Failed to initialize plugin: {0}",n]);iE(t,"PluginLoadError",{message:r}),wT(r,o),md(t,r)},wT=(t,...n)=>{const o=window.console;o&&(o.error?o.error(t,...n):o.log(t,...n))},kb=t=>/^[a-z0-9\-]+$/i.test(t),KR=t=>"content/"+t+"/content.css",zz=t=>tinymce.Resource.has(KR(t)),Wz=t=>UB(t,cN(t)),Uz=t=>UB(t,h2(t)),UB=(t,n)=>{const o=t.editorManager.baseURL+"/skins/content",a=`content${t.editorManager.suffix}.css`;return Ht(n,f=>zz(f)?f:kb(f)&&!t.inline?`${o}/${f}/${a}`:t.documentBaseURI.toAbsolute(f))},jz=t=>{t.contentCSS=t.contentCSS.concat(Wz(t),Uz(t))},Zz=t=>t?Vi(t.getElementsByTagName("img")):[],Gz=(t,n)=>{const o={};return{findAll:(a,f=Ae)=>{const y=Se(Zz(a),O=>{const B=O.src;return O.hasAttribute("data-mce-bogus")||O.hasAttribute("data-mce-placeholder")||!B||B===Ee.transparentSrc?!1:er(B,"blob:")?!t.isUploaded(B)&&f(O):er(B,"data:")?f(O):!1}),T=Ht(y,O=>{const B=O.src;if(Sn(o,B))return o[B].then(U=>ft(U)?U:{image:O,blobInfo:U.blobInfo});{const U=eV(n,B).then(j=>(delete o[B],{image:O,blobInfo:j})).catch(j=>(delete o[B],j));return o[B]=U,U}});return Promise.all(T)}}},jB=()=>{let o={};const r=(q,nt)=>({status:q,resultUri:nt}),a=q=>q in o;return{hasBlobUri:a,getResultUri:q=>{const nt=o[q];return nt?nt.resultUri:null},isPending:q=>a(q)?o[q].status===1:!1,isUploaded:q=>a(q)?o[q].status===2:!1,markPending:q=>{o[q]=r(1,null)},markUploaded:(q,nt)=>{o[q]=r(2,nt)},removeFailed:q=>{delete o[q]},destroy:()=>{o={}}}};let CT=0;const qz=()=>{const t=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+t()+t()+t()},Kz=t=>t+CT+++qz(),RX=()=>{let t=[];const n=j=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[j.toLowerCase()]||"dat",o=(j,q,nt,at,st)=>{if(ft(j))return r({id:j,name:at,filename:st,blob:q,base64:nt});if(We(j))return r(j);throw new Error("Unknown input type")},r=j=>{if(!j.blob||!j.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const q=j.id||Kz("blobid"),nt=j.name||q,at=j.blob;return{id:re(q),name:re(nt),filename:re(j.filename||nt+"."+n(at.type)),blob:re(at),base64:re(j.base64),blobUri:re(j.blobUri||URL.createObjectURL(at)),uri:re(j.uri)}},a=j=>{y(j.id())||t.push(j)},f=j=>co(t,j).getOrUndefined(),y=j=>f(q=>q.id()===j);return{create:o,add:a,get:y,getByUri:j=>f(q=>q.blobUri()===j),getByData:(j,q)=>f(nt=>nt.base64()===j&&nt.blob().type===q),findFirst:f,removeByUri:j=>{t=Se(t,q=>q.blobUri()===j?(URL.revokeObjectURL(q.blobUri()),!1):!0)},destroy:()=>{wt(t,j=>{URL.revokeObjectURL(j.blobUri())}),t=[]}}},vC=(t,n)=>{const o={},r=(st,ct)=>st?st.replace(/\/$/,"")+"/"+ct.replace(/^\//,""):ct,a=(st,ct)=>new Promise((xt,St)=>{const Et=new XMLHttpRequest;Et.open("POST",n.url),Et.withCredentials=n.credentials,Et.upload.onprogress=Jt=>{ct(Jt.loaded/Jt.total*100)},Et.onerror=()=>{St("Image upload failed due to a XHR Transport error. Code: "+Et.status)},Et.onload=()=>{if(Et.status<200||Et.status>=300){St("HTTP Error: "+Et.status);return}const Jt=JSON.parse(Et.responseText);if(!Jt||!ft(Jt.location)){St("Invalid JSON: "+Et.responseText);return}xt(r(n.basePath,Jt.location))};const Nt=new FormData;Nt.append("file",st.blob(),st.filename()),Et.send(Nt)}),f=pt(n.handler)?n.handler:a,y=()=>new Promise(st=>{st([])}),T=(st,ct)=>({url:ct,blobInfo:st,status:!0}),O=(st,ct)=>({url:"",blobInfo:st,status:!1,error:ct}),B=(st,ct)=>{fe.each(o[st],xt=>{xt(ct)}),delete o[st]},U=(st,ct,xt)=>(t.markPending(st.blobUri()),new Promise(St=>{let Et,Nt;try{const Jt=()=>{Et&&(Et.close(),Nt=Ye)},ge=le=>{Jt(),t.markUploaded(st.blobUri(),le),B(st.blobUri(),T(st,le)),St(T(st,le))},Re=le=>{Jt(),t.removeFailed(st.blobUri()),B(st.blobUri(),O(st,le)),St(O(st,le))};Nt=le=>{le<0||le>100||X.from(Et).orThunk(()=>X.from(xt).map(ko)).each(jt=>{Et=jt,jt.progressBar.value(le)})},ct(st,Nt).then(ge,le=>{Re(ft(le)?{message:le}:le)})}catch(Jt){St(O(st,Jt))}})),j=st=>st===a,q=st=>{const ct=st.blobUri();return new Promise(xt=>{o[ct]=o[ct]||[],o[ct].push(xt)})},nt=(st,ct)=>(st=fe.grep(st,xt=>!t.isUploaded(xt.blobUri())),Promise.all(fe.map(st,xt=>t.isPending(xt.blobUri())?q(xt):U(xt,f,ct))));return{upload:(st,ct)=>!n.url&&j(f)?y():nt(st,ct)}},ZB=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),ST=(t,n)=>vC(n,{url:Nx(t),basePath:Q0(t),credentials:l2(t),handler:u2(t)}),Yz=t=>{const n=jB(),o=ST(t,n);return{upload:(r,a=!0)=>o.upload(r,a?ZB(t):void 0)}},Xz=(t,n)=>t.dom.isEmpty(n.dom)&&Zt(t.schema.getTextBlockElements()[xo(n)]),Jz=t=>n=>{Xz(t,n)&&Ks(n,ht.fromHtml('<br data-mce-bogus="1" />'))},Qz=t=>{const n=RX();let o,r;const a=jB(),f=[],y=Et=>Nt=>t.selection?Et(Nt):[],T=Et=>Et+(Et.indexOf("?")===-1?"?":"&")+new Date().getTime(),O=(Et,Nt,Jt)=>{let ge=0;do ge=Et.indexOf(Nt,ge),ge!==-1&&(Et=Et.substring(0,ge)+Jt+Et.substr(ge+Nt.length),ge+=Jt.length-Nt.length+1);while(ge!==-1);return Et},B=(Et,Nt,Jt)=>{const ge=`src="${Jt}"${Jt===Ee.transparentSrc?' data-mce-placeholder="1"':""}`;return Et=O(Et,`src="${Nt}"`,ge),Et=O(Et,'data-mce-src="'+Nt+'"','data-mce-src="'+Jt+'"'),Et},U=(Et,Nt)=>{wt(t.undoManager.data,Jt=>{Jt.type==="fragmented"?Jt.fragments=Ht(Jt.fragments,ge=>B(ge,Et,Nt)):Jt.content=B(Jt.content,Et,Nt)})},j=(Et,Nt)=>{const Jt=t.convertURL(Nt,"src");U(Et.src,Nt),Ac(ht.fromDom(Et),{src:Px(t)?T(Nt):Nt,"data-mce-src":Jt})},q=()=>(o||(o=ST(t,a)),ct().then(y(Et=>{const Nt=Ht(Et,Jt=>Jt.blobInfo);return o.upload(Nt,ZB(t)).then(y(Jt=>{const ge=[];let Re=!1;const le=Ht(Jt,(jt,Qt)=>{const{blobInfo:Oe,image:tn}=Et[Qt];let Un=!1;return jt.status&&$i(t)?(jt.url&&!Xr(tn.src,jt.url)&&(Re=!0),n.removeByUri(tn.src),Pl(t)||j(tn,jt.url)):jt.error&&(jt.error.remove&&(U(tn.src,Ee.transparentSrc),ge.push(tn),Un=!0),DX(t,jt.error.message)),{element:tn,status:jt.status,uploadUri:jt.url,blobInfo:Oe,removed:Un}});return ge.length>0&&!Pl(t)?t.undoManager.transact(()=>{wt(Xh(ge),jt=>{const Qt=Ga(jt);Do(jt),Qt.each(Jz(t)),n.removeByUri(jt.dom.src)})}):Re&&t.undoManager.dispatchChange(),le}))}))),nt=()=>ds(t)?q():Promise.resolve([]),at=Et=>vs(f,Nt=>Nt(Et)),st=Et=>{f.push(Et)},ct=()=>(r||(r=Gz(a,n)),r.findAll(t.getBody(),at).then(y(Et=>{const Nt=Se(Et,Jt=>ft(Jt)?(md(t,Jt),!1):Jt.uriType!=="blob");return Pl(t)||wt(Nt,Jt=>{U(Jt.image.src,Jt.blobInfo.blobUri()),Jt.image.src=Jt.blobInfo.blobUri(),Jt.image.removeAttribute("data-mce-src")}),Nt}))),xt=()=>{n.destroy(),a.destroy(),r=o=null},St=Et=>Et.replace(/src="(blob:[^"]+)"/g,(Nt,Jt)=>{const ge=a.getResultUri(Jt);if(ge)return'src="'+ge+'"';let Re=n.getByUri(Jt);return Re||(Re=yo(t.editorManager.get(),(le,jt)=>le||jt.editorUpload&&jt.editorUpload.blobCache.getByUri(Jt),void 0)),Re?'src="data:'+Re.blob().type+";base64,"+Re.base64()+'"':Nt});return t.on("SetContent",()=>{ds(t)?nt():ct()}),t.on("RawSaveContent",Et=>{Et.content=St(Et.content)}),t.on("GetContent",Et=>{Et.source_view||Et.format==="raw"||Et.format==="tree"||(Et.content=St(Et.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",Et=>{wt(Et,Nt=>{const Jt=Nt.attr("src");if(!Jt||n.getByUri(Jt))return;const ge=a.getResultUri(Jt);ge&&Nt.attr("src",ge)})})}),{blobCache:n,addFilter:st,uploadImages:q,uploadImagesAuto:nt,scanForImages:ct,destroy:xt}},Nv=t=>{const n=t.dom,o=t.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},f={inline:"strike",remove:"all",preserve_attributes:["class","style"]},y={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[y,a,f]:[a,y,f]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,f,y)=>Ge(a)&&a.hasAttribute("href"),onformat:(a,f,y)=>{fe.each(y,(T,O)=>{n.setAttrib(a,O,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var f;return(f=a==null?void 0:a.customValue)!==null&&f!==void 0?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return fe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},Ob={remove_similar:!0,inherit:!1},Jg={selector:"td,th",...Ob},ET={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Jg},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Jg},tablecellbordercolor:{styles:{borderColor:"%value"},...Jg},tablecellclass:{classes:["%value"],...Jg},tableclass:{selector:"table",classes:["%value"],...Ob},tablecellborderstyle:{styles:{borderStyle:"%value"},...Jg},tablecellborderwidth:{styles:{borderWidth:"%value"},...Jg}},Lv=re(ET),Bv=t=>{const n={},o=y=>Zt(y)?n[y]:n,r=y=>Sn(n,y),a=(y,T)=>{y&&(ft(y)?(ln(T)||(T=[T]),wt(T,O=>{Hn(O.deep)&&(O.deep=!ji(O)),Hn(O.split)&&(O.split=!ji(O)||Uo(O)),Hn(O.remove)&&ji(O)&&!Uo(O)&&(O.remove="none"),ji(O)&&Uo(O)&&(O.mixed=!0,O.block_expand=!0),ft(O.classes)&&(O.classes=O.classes.split(/\s+/))}),n[y]=T):Me(y,(O,B)=>{a(B,O)}))},f=y=>(y&&n[y]&&delete n[y],n);return a(Nv(t)),a(Lv()),a(ty(t)),{get:o,has:r,register:a,unregister:f}},Iv=fe.each,Gc=Zo.DOM,TT=t=>Zt(t)&&We(t),AT=(t,n)=>{const o=n&&n.schema||Yu({}),r=(O,B)=>{B.classes.length>0&&Gc.addClass(O,B.classes.join(" ")),Gc.setAttribs(O,B.attrs)},a=O=>{const B=ft(O)?{name:O,classes:[],attrs:{}}:O,U=Gc.create(B.name);return r(U,B),U},f=(O,B)=>{const U=o.getElementRule(O.nodeName.toLowerCase()),j=U==null?void 0:U.parentsRequired;return j&&j.length?B&&Mt(j,B)?B:j[0]:!1},y=(O,B,U)=>{let j;const q=B[0],nt=TT(q)?q.name:void 0,at=f(O,nt);if(at)nt===at?(j=q,B=B.slice(1)):j=at;else if(q)j=q,B=B.slice(1);else if(!U)return O;const st=j?a(j):Gc.create("div");st.appendChild(O),U&&fe.each(U,xt=>{const St=a(xt);st.insertBefore(St,O)});const ct=TT(j)?j.siblings:void 0;return y(st,B,ct)},T=Gc.create("div");if(t.length>0){const O=t[0],B=a(O),U=TT(O)?O.siblings:void 0;T.appendChild(y(B,t.slice(1),U))}return T},YR=t=>{t=fe.trim(t);let n="div";const o={name:n,classes:[],attrs:{},selector:t};return t!=="*"&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,f,y,T)=>{switch(a){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":fe.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(y==="["){const O=T.match(/([\w\-]+)(?:\=\"([^\"]+))?/);O&&(o.attrs[O[1]]=O[2])}return""})),o.name=n||"div",o},GB=t=>ft(t)?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),fe.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=fe.map(n.split(/(?:~\+|~|\+)/),YR),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],qB=(t,n)=>{let o="",r=L1(t);if(r==="")return"";const a=q=>ft(q)?q.replace(/%(\w+)/g,""):"",f=(q,nt)=>Gc.getStyle(nt??t.getBody(),q,!0);if(ft(n)){const q=t.formatter.get(n);if(!q)return"";n=q[0]}if("preview"in n){const q=n.preview;if(q===!1)return"";r=q||r}let y=n.block||n.inline||"span",T;const O=GB(n.selector);O.length>0?(O[0].name||(O[0].name=y),y=n.selector,T=AT(O,t)):T=AT([y],t);const B=Gc.select(y,T)[0]||T.firstChild;Iv(n.styles,(q,nt)=>{const at=a(q);at&&Gc.setStyle(B,nt,at)}),Iv(n.attributes,(q,nt)=>{const at=a(q);at&&Gc.setAttrib(B,nt,at)}),Iv(n.classes,q=>{const nt=a(q);Gc.hasClass(B,nt)||Gc.addClass(B,nt)}),t.dispatch("PreviewFormats"),Gc.setStyles(T,{position:"absolute",left:-65535}),t.getBody().appendChild(T);const U=f("fontSize"),j=/px$/.test(U)?parseInt(U,10):0;return Iv(r.split(" "),q=>{let nt=f(q,B);if(!(q==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(nt)&&(nt=f(q),Jf(nt).toLowerCase()==="#ffffff"))&&!(q==="color"&&Jf(nt).toLowerCase()==="#000000")){if(q==="font-size"&&/em|%$/.test(nt)){if(j===0)return;nt=parseFloat(nt)/(/%$/.test(nt)?100:1)*j+"px"}q==="border"&&nt&&(o+="padding:0 2px;"),o+=q+":"+nt+";"}}),t.dispatch("AfterPreviewFormats"),Gc.remove(T),o},c_=t=>{t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)t.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},XR=t=>{const n=Bv(t),o=Gs({});return c_(t),D8(t),Pl(t)||Z8(o,t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,a,f)=>{hd(t,r,a,f)},remove:(r,a,f,y)=>{sz(t,r,a,f,y)},toggle:(r,a,f)=>{rz(t,r,a,f)},match:(r,a,f,y)=>bB(t,r,a,f,y),closest:r=>oz(t,r),matchAll:(r,a)=>VR(t,r,a),matchNode:(r,a,f,y)=>ez(t,r,a,f,y),canApply:r=>nz(t,r),formatChanged:(r,a,f,y)=>iz(t,o,r,a,f,y),getCssText:Kt(qB,t)}},JR=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},KB=(t,n,o)=>{const r=Gs(!1),a=O=>{bT(n,!1,o),n.add({},O)};t.on("init",()=>{n.add()}),t.on("BeforeExecCommand",O=>{const B=O.command;JR(B)||(IR(n,o),n.beforeChange())}),t.on("ExecCommand",O=>{const B=O.command;JR(B)||a(O)}),t.on("ObjectResizeStart cut",()=>{n.beforeChange()}),t.on("SaveContent ObjectResized blur",a),t.on("dragend",a),t.on("keyup",O=>{const B=O.keyCode;if(O.isDefaultPrevented())return;const U=Ee.os.isMacOS()&&O.key==="Meta";(B>=33&&B<=36||B>=37&&B<=40||B===45||O.ctrlKey||U)&&(a(),t.nodeChanged()),(B===46||B===8)&&t.nodeChanged(),r.get()&&n.typing&&!LR(dC(t),n.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),r.set(!1),t.nodeChanged())}),t.on("keydown",O=>{const B=O.keyCode;if(O.isDefaultPrevented())return;if(B>=33&&B<=36||B>=37&&B<=40||B===45){n.typing&&a(O);return}const U=O.ctrlKey&&!O.altKey||O.metaKey;if((B<16||B>20)&&B!==224&&B!==91&&!n.typing&&!U){n.beforeChange(),bT(n,!0,o),n.add({},O),r.set(!0);return}(Ee.os.isMacOS()?O.metaKey:O.ctrlKey&&!O.altKey)&&n.beforeChange()}),t.on("mousedown",O=>{n.typing&&a(O)});const f=O=>O.inputType==="insertReplacementText",y=O=>O.inputType==="insertText"&&O.data===null,T=O=>O.inputType==="insertFromPaste"||O.inputType==="insertFromDrop";t.on("input",O=>{O.inputType&&(f(O)||y(O)||T(O))&&a(O)}),t.on("AddUndo Undo Redo ClearUndos",O=>{O.isDefaultPrevented()||t.nodeChanged()})},kT=t=>{t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},QR=t=>{const n=Zr(),o=Gs(0),r=Gs(0),a={data:[],typing:!1,beforeChange:()=>{hB(t,o,n)},add:(f,y)=>mB(t,a,r,o,n,f,y),dispatchChange:()=>{t.setDirty(!0);const f=dC(t);f.bookmark=Ex(t.selection),t.dispatch("change",{level:f,lastLevel:ys(a.data,r.get()).getOrUndefined()})},undo:()=>XV(t,a,o,r),redo:()=>JV(t,r,a.data),clear:()=>{vT(t,a,r)},reset:()=>{QV(t,a)},hasUndo:()=>FR(t,a,r),hasRedo:()=>tz(t,a,r),transact:f=>gB(t,a,o,f),ignore:f=>{pB(t,o,f)},extra:(f,y)=>{HR(t,a,r,f,y)}};return Pl(t)||KB(t,a,o),kT(t),a},YB=[9,27,Ze.HOME,Ze.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ze.DOWN,Ze.UP,Ze.LEFT,Ze.RIGHT].concat(Ee.browser.isFirefox()?[224]:[]),tM="data-mce-placeholder",eM=t=>t.type==="keydown"||t.type==="keyup",Pm=t=>{const n=t.keyCode;return n===Ze.BACKSPACE||n===Ze.DELETE},Db=t=>{if(eM(t)){const n=t.keyCode;return!Pm(t)&&(Ze.metaKeyPressed(t)||t.altKey||n>=112&&n<=123||Mt(YB,n))}else return!1},mf=t=>eM(t)&&!(Pm(t)||t.type==="keyup"&&t.keyCode===229),tW=(t,n,o)=>{if(t.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?t.getStyle(n.firstElementChild,"padding-left")||t.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},eW=t=>{var n;const o=t.dom,r=la(t),a=(n=Ix(t))!==null&&n!==void 0?n:"",f=(y,T)=>{if(Db(y))return;const O=t.getBody(),B=mf(y)?!1:tW(o,O,r);(o.getAttrib(O,tM)!==""!==B||T)&&(o.setAttrib(O,tM,B?a:null),FO(t,B),t.on(B?"keydown":"keyup",f),t.off(B?"keyup":"keydown",f))};Wo(a)&&t.on("init",y=>{f(y,!0),t.on("change SetContent ExecCommand",f),t.on("paste",T=>cd.setEditorTimeout(t,()=>f(T)))})},nW=(t,n)=>({block:t,position:n}),oW=(t,n)=>({from:t,to:n}),nM=(t,n)=>{const o=ht.fromDom(t),r=ht.fromDom(n.container());return $w(o,r).map(a=>nW(a,n))},sW=t=>!Io(t.from.block,t.to.block),XB=(t,n)=>Nr(n,a=>ah(a)||gr(a.dom),a=>Io(a,t)).filter(Sa).getOr(t),rW=(t,n)=>{const o=ht.fromDom(t);return Io(XB(o,n.from.block),XB(o,n.to.block))},iW=t=>cs(t.from.block.dom)===!1&&cs(t.to.block.dom)===!1,aW=t=>{const n=o=>Eo(o)||Zu(o.dom);return n(t.from.block)&&n(t.to.block)},cW=(t,n,o,r)=>es(r.position.getNode())&&!Ws(t,r.block)?$g(!1,r.block.dom).bind(a=>a.isEqual(r.position)?El(o,n,a).bind(f=>nM(n,f)):X.some(r)).getOr(r):r,lW=(t,n,o,r)=>{const a=nM(n,Ut.fromRangeStart(r)),f=a.bind(y=>El(o,n,y.position).bind(T=>nM(n,T).map(O=>cW(t,n,o,O))));return ti(a,f,oW).filter(y=>sW(y)&&rW(n,y)&&iW(y)&&aW(y))},oM=(t,n,o,r)=>r.collapsed?lW(t,n,o,r):X.none(),sM=(t,n)=>{const o=mi(t);return ks(o,r=>n.isBlock(xo(r))).fold(re(o),r=>o.slice(0,r))},rM=(t,n)=>{const o=sM(t,n);return wt(o,Do),o},JB=(t,n,o)=>{const r=km(o,n);return co(r.reverse(),a=>Ws(t,a)).each(Do)},uW=(t,n)=>Se(bp(n),o=>!Ws(t,o)).length===0,QB=(t,n,o,r,a)=>{if(Ws(r,o))return vl(o),da(o.dom);uW(r,a)&&Ws(r,n)&&gi(a,ht.fromTag("br"));const f=Qa(o.dom,Ut.before(a.dom));return wt(rM(n,r),y=>{gi(a,y)}),JB(r,t,n),f},tI=(t,n)=>t.isInline(xo(n)),iM=(t,n,o,r)=>{if(Ws(r,o)){if(Ws(r,n)){const y=vo((T=>{const O=(B,U)=>Kh(B).fold(()=>U,j=>tI(r,j)?O(j,U.concat(rt(j))):U);return O(T,[])})(o),(T,O)=>(_0(T,O),O),Qu());Wf(n),Ks(n,y)}return Do(o),da(n.dom)}const a=hu(o.dom);return wt(rM(n,r),f=>{Ks(o,f)}),JB(r,t,n),a},eI=(t,n)=>{const o=km(n,t);return X.from(o[o.length-1])},nI=(t,n)=>il(n,t)?eI(n,t):X.none(),OT=(t,n)=>{$g(t,n.dom).bind(o=>X.from(o.getNode())).map(ht.fromDom).filter(kr).each(Do)},oI=(t,n,o,r)=>(OT(!0,n),OT(!1,o),nI(n,o).fold(Kt(iM,t,n,o,r),Kt(QB,t,n,o,r))),sI=(t,n,o,r,a)=>n?oI(t,r,o,a):oI(t,o,r,a),gf=(t,n)=>{const o=ht.fromDom(t.getBody());return oM(t.schema,o.dom,n,t.selection.getRng()).map(a=>()=>{sI(o,n,a.from.block,a.to.block,t.schema).each(f=>{t.selection.setRng(f.toRange())})})},pf=(t,n,o)=>{const r=n.getRng();return ti($w(t,ht.fromDom(r.startContainer)),$w(t,ht.fromDom(r.endContainer)),(a,f)=>Io(a,f)?X.none():X.some(()=>{r.deleteContents(),sI(t,!0,a,f,o).each(y=>{n.setRng(y.toRange())})})).getOr(X.none())},yC=(t,n)=>{const o=ht.fromDom(n),r=Kt(Io,t);return Hs(o,ah,r).isSome()},rI=(t,n)=>yC(t,n.startContainer)||yC(t,n.endContainer),DT=(t,n)=>{const o=Qa(t.dom,Ut.fromRangeStart(n)).isNone(),r=Pa(t.dom,Ut.fromRangeEnd(n)).isNone();return!rI(t,n)&&o&&r},iI=t=>X.some(()=>{t.setContent(""),t.selection.setCursorLocation()}),aI=t=>{const n=ht.fromDom(t.getBody()),o=t.selection.getRng();return DT(n,o)?iI(t):pf(n,t.selection,t.schema)},RT=(t,n)=>t.selection.isCollapsed()?X.none():aI(t),Nm=(t,n,o,r,a)=>X.from(n._selectionOverrides.showCaret(t,o,r,a)),cI=t=>{const n=t.ownerDocument.createRange();return n.selectNode(t),n},l_=(t,n)=>t.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?X.none():X.some(cI(n)),MT=(t,n,o)=>{const r=vi(1,t.getBody(),n),a=Ut.fromRangeStart(r),f=a.getNode();if(V1(f))return Nm(1,t,f,!a.isAtEnd(),!1);const y=a.getNode(!0);if(V1(y))return Nm(1,t,y,!1,!1);const T=wb(t.dom.getRoot(),a.getNode());return V1(T)?Nm(1,t,T,!1,o):X.none()},_C=(t,n,o)=>n.collapsed?MT(t,n,o).getOr(n):n,dW=t=>vh(t)||Hy(t),fW=t=>Gg(t)||Mw(t),hW=(t,n)=>{se(n)&&n.data.length===0&&t.remove(n)},lI=(t,n,o,r,a,f)=>{Nm(r,t,f.getNode(!a),a,!0).each(y=>{if(n.collapsed){const T=n.cloneRange();a?T.setEnd(y.startContainer,y.startOffset):T.setStart(y.endContainer,y.endOffset),T.deleteContents()}else n.deleteContents();t.selection.setRng(y)}),hW(t.dom,o)},uI=(t,n)=>{const o=t.selection.getRng();if(!se(o.commonAncestorContainer))return X.none();const r=n?yi.Forwards:yi.Backwards,a=od(t.getBody()),f=Kt(Z1,n?a.next:a.prev),y=n?dW:fW,T=ed(r,t.getBody(),o),O=f(T),B=O&&ec(n,O);if(!B||!G1(T,B))return X.none();if(y(B))return X.some(()=>lI(t,o,T.getNode(),r,n,B));const U=f(B);return U&&y(U)&&G1(B,U)?X.some(()=>lI(t,o,T.getNode(),r,n,U)):X.none()},aM=(t,n)=>uI(t,n),cM=(t,n)=>{const o=t.getBody();return n?da(o).filter(vh):hu(o).filter(Gg)},xC=t=>{const n=t.selection.getRng();return!n.collapsed&&(cM(t,!0).exists(o=>o.isEqual(Ut.fromRangeStart(n)))||cM(t,!1).exists(o=>o.isEqual(Ut.fromRangeEnd(n))))},mW=t=>Zt(t)&&(ah(ht.fromDom(t))||ls(ht.fromDom(t))),_u=Jd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),gW=(t,n)=>{const o=n.getNode(!t),r=t?"after":"before";return Ge(o)&&o.getAttribute("data-mce-caret")===r},pW=(t,n,o,r,a)=>{const f=y=>a.isInline(y.nodeName.toLowerCase())&&!Cl(o,r,t);return ly(!n,o).fold(()=>ly(n,r).fold(Gt,f),f)},dI=(t,n,o,r,a)=>{const f=a.getNode(!o);return $w(ht.fromDom(n),ht.fromDom(r.getNode())).map(y=>Ws(t,y)?_u.remove(y.dom):_u.moveToElement(f)).orThunk(()=>X.some(_u.moveToElement(f)))},fI=(t,n,o,r)=>El(n,t,o).bind(a=>mW(a.getNode())||pW(t,n,o,a,r)?X.none():n&&cs(a.getNode())||!n&&cs(a.getNode(!0))?dI(r,t,n,o,a):n&&Gg(o)||!n&&vh(o)?X.some(_u.moveToPosition(a)):X.none()),bW=(t,n)=>sn(n)?X.none():t&&cs(n.nextSibling)?X.some(_u.moveToElement(n.nextSibling)):!t&&cs(n.previousSibling)?X.some(_u.moveToElement(n.previousSibling)):X.none(),PT=(t,n,o)=>o.fold(r=>X.some(_u.remove(r)),r=>X.some(_u.moveToElement(r)),r=>Cl(n,r,t)?X.none():X.some(_u.moveToPosition(r))),lM=(t,n,o,r)=>gW(n,o)?bW(n,o.getNode(!n)).orThunk(()=>fI(t,n,o,r)):fI(t,n,o,r).bind(a=>PT(t,o,a)),vW=(t,n,o,r)=>{const a=vi(n?1:-1,t,o),f=Ut.fromRangeStart(a),y=ht.fromDom(t);return!n&&Gg(f)?X.some(_u.remove(f.getNode(!0))):n&&vh(f)?X.some(_u.remove(f.getNode())):!n&&vh(f)&&mD(y,f,r)?z7(y,f,r).map(T=>_u.remove(T.getNode())):n&&Gg(f)&&Pw(y,f,r)?W7(y,f,r).map(T=>_u.remove(T.getNode())):lM(t,n,f,r)},yW=(t,n)=>o=>(t._selectionOverrides.hideFakeCaret(),pv(t,n,ht.fromDom(o)),!0),_W=(t,n)=>o=>{const r=n?Ut.before(o):Ut.after(o);return t.selection.setRng(r.toRange()),!0},xW=t=>n=>(t.selection.setRng(n.toRange()),!0),uM=(t,n)=>X.from(wb(t.getBody(),n)),wW=(t,n)=>{const o=t.selection.getNode();return uM(t,o).filter(cs).fold(()=>vW(t.getBody(),n,t.selection.getRng(),t.schema).map(r=>()=>r.fold(yW(t,n),_W(t,n),xW(t))),()=>X.some(Ye))},CW=t=>{wt(mr(t,".mce-offscreen-selection"),Do)},dM=(t,n)=>{const o=t.selection.getNode();return cs(o)&&!Pc(o)?uM(t,o.parentNode).filter(cs).fold(()=>X.some(()=>{CW(ht.fromDom(t.getBody())),pv(t,n,ht.fromDom(t.selection.getNode())),Fw(t)}),()=>X.some(Ye)):xC(t)?X.some(()=>{l3(t,t.selection.getRng(),ht.fromDom(t.getBody()))}):X.none()},hI=t=>{const n=t.dom,o=t.selection,r=wb(t.getBody(),o.getNode());if(gr(r)&&n.isBlock(r)&&n.isEmpty(r)){const a=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(a),o.setRng(Ut.before(a).toRange())}return!0},fM=(t,n)=>t.selection.isCollapsed()?wW(t,n):dM(t,n),SW=(t,n)=>{const o=Ut.fromRangeStart(t.selection.getRng());return El(n,t.getBody(),o).filter(r=>n?I7(r):$7(r)).bind(r=>cy(n?0:-1,r)).map(r=>()=>t.selection.select(r))},hM=(t,n)=>t.selection.isCollapsed()?SW(t,n):X.none(),u_=se,mI=t=>u_(t)&&t.data[0]===vr,gI=t=>u_(t)&&t.data[t.data.length-1]===vr,wC=t=>{var n;return((n=t.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(vr)},NT=t=>{var n;if(u_(t.previousSibling))return gI(t.previousSibling)||t.previousSibling.appendData(vr),t.previousSibling;if(u_(t))return mI(t)||t.insertData(0,vr),t;{const o=wC(t);return(n=t.parentNode)===null||n===void 0||n.insertBefore(o,t),o}},EW=t=>{var n,o;if(u_(t.nextSibling))return mI(t.nextSibling)||t.nextSibling.insertData(0,vr),t.nextSibling;if(u_(t))return gI(t)||t.appendData(vr),t;{const r=wC(t);return t.nextSibling?(n=t.parentNode)===null||n===void 0||n.insertBefore(r,t.nextSibling):(o=t.parentNode)===null||o===void 0||o.appendChild(r),r}},LT=(t,n)=>t?NT(n):EW(n),BT=Kt(LT,!0),TW=Kt(LT,!1),pI=(t,n)=>se(t.container())?LT(n,t.container()):LT(n,t.getNode()),bI=(t,n)=>{const o=n.get();return o&&t.container()===o&&ch(o)},mM=(t,n)=>n.fold(o=>{Ng(t.get());const r=BT(o);return t.set(r),X.some(Ut(r,r.length-1))},o=>da(o).map(r=>{if(bI(r,t)){const a=t.get();return Ut(a,1)}else{Ng(t.get());const a=pI(r,!0);return t.set(a),Ut(a,1)}}),o=>hu(o).map(r=>{if(bI(r,t)){const a=t.get();return Ut(a,a.length-1)}else{Ng(t.get());const a=pI(r,!1);return t.set(a),Ut(a,a.length-1)}}),o=>{Ng(t.get());const r=TW(o);return t.set(r),X.some(Ut(r,1))}),vI=(t,n)=>{for(let o=0;o<t.length;o++){const r=t[o].apply(null,n);if(r.isSome())return r}return X.none()},_c=Jd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yI=(t,n)=>{const o=wm(n,t);return o||t},AW=(t,n,o)=>{const r=Iw(o),a=yI(n,r.container());return Ba(t,a,r).fold(()=>Pa(a,r).bind(Kt(Ba,t,a)).map(f=>_c.before(f)),X.none)},kW=(t,n)=>Yn(t,n)===null,_I=(t,n,o)=>Ba(t,n,o).filter(Kt(kW,n)),OW=(t,n,o)=>{const r=wD(o);return _I(t,n,r).bind(a=>Qa(a,r).isNone()?X.some(_c.start(a)):X.none())},MX=(t,n,o)=>{const r=Iw(o);return _I(t,n,r).bind(a=>Pa(a,r).isNone()?X.some(_c.end(a)):X.none())},bf=(t,n,o)=>{const r=wD(o),a=yI(n,r.container());return Ba(t,a,r).fold(()=>Qa(a,r).bind(Kt(Ba,t,a)).map(f=>_c.after(f)),X.none)},IT=t=>!vu($T(t)),Th=(t,n,o)=>vI([AW,OW,MX,bf],[t,n,o]).filter(IT),$T=t=>t.fold(wo,wo,wo,wo),xI=t=>t.fold(re("before"),re("start"),re("end"),re("after")),CC=t=>t.fold(_c.before,_c.before,_c.after,_c.after),gM=t=>t.fold(_c.start,_c.start,_c.end,_c.end),wI=(t,n)=>xI(t)===xI(n)&&$T(t)===$T(n),DW=(t,n,o,r,a,f)=>ti(Ba(n,o,r),Ba(n,o,a),(y,T)=>y!==T&&i8(o,y,T)?_c.after(t?y:T):f).getOr(f),RW=(t,n)=>t.fold(Ae,o=>!wI(o,n)),MW=(t,n,o,r,a)=>{const f=ec(t,a);return El(t,o,f).map(Kt(ec,t)).fold(()=>r.map(CC),O=>Th(n,o,O).map(Kt(DW,t,n,o,f,O)).filter(Kt(RW,r))).filter(IT)},d_=(t,n)=>t?n.fold(F(X.some,_c.start),X.none,F(X.some,_c.after),X.none):n.fold(X.none,F(X.some,_c.before),X.none,F(X.some,_c.end)),CI=(t,n,o,r)=>{const a=ec(t,r),f=Th(n,o,a);return Th(n,o,a).bind(Kt(d_,t)).orThunk(()=>MW(t,n,o,f,r))},SI=t=>pt(t.selection.getSel().modify),pM=(t,n,o)=>{const r=t?1:-1;return n.setRng(Ut(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",t?"forward":"backward","word"),!0},bM=(t,n)=>{const o=n.selection.getRng(),r=t?Ut.fromRangeEnd(o):Ut.fromRangeStart(o);return SI(n)?t&&F0(r)?pM(!0,n.selection,r):!t&&H0(r)?pM(!1,n.selection,r):!1:!1};var Lm;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Lm||(Lm={}));const FT=(t,n)=>t===yi.Backwards?Qo(n):n,PW=(t,n,o)=>t===yi.Forwards?n.next(o):n.prev(o),PX=(t,n,o,r)=>es(r.getNode(n===yi.Forwards))?Lm.Br:Cl(o,r)===!1?Lm.Block:Lm.Wrap,NW=(t,n,o,r)=>{const a=od(o);let f=r;const y=[];for(;f;){const T=PW(n,a,f);if(!T)break;if(es(T.getNode(!1)))return n===yi.Forwards?{positions:FT(n,y).concat([T]),breakType:Lm.Br,breakAt:X.some(T)}:{positions:FT(n,y),breakType:Lm.Br,breakAt:X.some(T)};if(!T.isVisible()){f=T;continue}if(t(f,T)){const O=PX(o,n,f,T);return{positions:FT(n,y),breakType:O,breakAt:X.some(T)}}y.push(T),f=T}return{positions:FT(n,y),breakType:Lm.Eol,breakAt:X.none()}},LW=(t,n,o,r)=>n(o,r).breakAt.map(a=>{const f=n(o,a).positions;return t===yi.Backwards?f.concat(a):[a].concat(f)}).getOr([]),xu=(t,n)=>yo(t,(o,r)=>o.fold(()=>X.some(r),a=>ti(dr(a.getClientRects()),dr(r.getClientRects()),(f,y)=>{const T=Math.abs(n-f.left);return Math.abs(n-y.left)<=T?r:a}).or(o)),X.none()),HT=(t,n)=>dr(n.getClientRects()).bind(o=>xu(t,o.left)),SC=Kt(NW,Ut.isAbove,-1),Ah=Kt(NW,Ut.isBelow,1),vM=Kt(LW,-1,SC),EI=Kt(LW,1,Ah),EC=(t,n)=>SC(t,n).breakAt.isNone(),TI=(t,n)=>Ah(t,n).breakAt.isNone(),BW=t=>da(t).map(n=>[n].concat(Ah(t,n).positions)).getOr([]),IW=t=>hu(t).map(n=>SC(t,n).positions.concat(n)).getOr([]),$W=(t,n)=>HT(vM(t,n),n),AI=(t,n)=>HT(EI(t,n),n),FW=cs,Bm=(t,n)=>Math.abs(t.left-n),kI=(t,n)=>Math.abs(t.right-n),HW=t=>_a(t,"node"),OI=(t,n)=>Ua(t,(o,r)=>{const a=Math.min(Bm(o,n),kI(o,n)),f=Math.min(Bm(r,n),kI(r,n));return f===a&&HW(r)&&FW(r.node)||f<a?r:o}),VW=t=>{const n=o=>Ht(o,r=>{const a=gm(r);return a.node=t,a});if(Ge(t))return n(t.getClientRects());if(se(t)){const o=t.ownerDocument.createRange();return o.setStart(t,0),o.setEnd(t,t.data.length),n(o.getClientRects())}else return[]},DI=t=>Ps(t,VW);var $v;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})($v||($v={}));const yM=(t,n,o,r)=>{let a=r;for(;a=U1(a,t,px,n);)if(o(a))return},VT=(t,n,o,r,a,f)=>{let y=0;const T=[],O=j=>{let q=DI([j]);t===-1&&(q=q.reverse());for(let nt=0;nt<q.length;nt++){const at=q[nt];if(!o(at,B)){if(T.length>0&&n(at,ac(T))&&y++,at.line=y,a(at))return!0;T.push(at)}}return!1},B=ac(f.getClientRects());if(!B)return T;const U=f.getNode();return U&&(O(U),yM(t,r,O,U)),T},RI=(t,n)=>n.line>t,MI=(t,n)=>n.line===t,PI=Kt(VT,$v.Up,Yd,S1),zW=Kt(VT,$v.Down,S1,Yd),f_=t=>ac(t.getClientRects()),zT=(t,n,o,r)=>{const a=od(n);let f,y,T,O;const B=[];let U=0;t===1?(f=a.next,y=S1,T=Yd,O=Ut.after(r)):(f=a.prev,y=Yd,T=S1,O=Ut.before(r));const j=f_(O);do{if(!O.isVisible())continue;const q=f_(O);if(T(q,j))continue;B.length>0&&y(q,ac(B))&&U++;const nt=gm(q);if(nt.position=O,nt.line=U,o(nt))return B;B.push(nt)}while(O=f(O));return B},_M=t=>n=>RI(t,n),WT=t=>n=>MI(t,n),Im=(t,n)=>{t.selection.setRng(n),$y(t,t.selection.getRng())},UT=(t,n,o)=>X.some(_C(t,n,o)),TC=(t,n,o,r,a,f)=>{const y=n===yi.Forwards,T=od(t.getBody()),O=Kt(Z1,y?T.next:T.prev),B=y?r:a;if(!o.collapsed){const at=Xp(o);if(f(at))return Nm(n,t,at,n===yi.Backwards,!1);if(xC(t)){const st=o.cloneRange();return st.collapse(n===yi.Backwards),X.from(st)}}const U=ed(n,t.getBody(),o);if(B(U))return l_(t,U.getNode(!y));let j=O(U);const q=FS(o);if(j)j=ec(y,j);else return q?X.some(o):X.none();if(B(j))return Nm(n,t,j.getNode(!y),y,!1);const nt=O(j);return nt&&B(nt)&&G1(j,nt)?Nm(n,t,nt.getNode(!y),y,!1):q?UT(t,j.toRange(),!1):X.none()},jT=(t,n,o,r,a,f)=>{const y=ed(n,t.getBody(),o),T=ac(y.getClientRects()),O=n===$v.Down,B=t.getBody();if(!T)return X.none();if(xC(t)){const ct=O?Ut.fromRangeEnd(o):Ut.fromRangeStart(o);return(O?AI:$W)(B,ct).orThunk(()=>X.from(ct)).map(St=>St.toRange())}const j=(O?zW:PI)(B,_M(1),y),q=Se(j,WT(1)),nt=T.left,at=OI(q,nt);if(at&&f(at.node)){const ct=Math.abs(nt-at.left),xt=Math.abs(nt-at.right);return Nm(n,t,at.node,ct<xt,!1)}let st;if(r(y)?st=y.getNode():a(y)?st=y.getNode(!0):st=Xp(o),st){const ct=zT(n,B,_M(1),st);let xt=OI(Se(ct,WT(1)),nt);if(xt||(xt=ac(Se(ct,WT(0))),xt))return UT(t,xt.position.toRange(),!1)}return q.length===0?Fv(t,O).filter(O?a:r).map(ct=>_C(t,ct.toRange(),!1)):X.none()},Fv=(t,n)=>{const o=t.selection.getRng(),r=n?Ut.fromRangeEnd(o):Ut.fromRangeStart(o),a=mO(r.container(),t.getBody());if(n){const f=Ah(a,r);return Qc(f.positions)}else{const f=SC(a,r);return dr(f.positions)}},NI=(t,n,o)=>Fv(t,n).filter(o).exists(r=>(t.selection.setRng(r.toRange()),!0)),AC=(t,n)=>{const o=t.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),t.selection.setRng(o)},LI=(t,n)=>{t?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},BI=(t,n,o)=>mM(n,o).map(r=>(AC(t,r),o)),II=(t,n,o)=>{const r=Ut.fromRangeStart(t);if(t.collapsed)return r;{const a=Ut.fromRangeEnd(t);return o?Qa(n,a).getOr(a):Pa(n,r).getOr(r)}},WW=(t,n,o)=>{const r=t.getBody(),a=II(t.selection.getRng(),r,o),f=Kt(bv,t);return CI(o,f,r,a).bind(T=>BI(t,n,T))},$I=(t,n,o)=>{const r=Ht(mr(ht.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),y=>y.dom),a=Se(r,t),f=Se(o,t);wt(ic(a,f),Kt(LI,!1)),wt(ic(f,a),Kt(LI,!0))},NX=(t,n)=>{const o=n.get();if(t.selection.isCollapsed()&&!t.composing&&o){const r=Ut.fromRangeStart(t.selection.getRng());Ut.isTextPosition(r)&&!qo(r)&&(AC(t,Pg(o,r)),n.set(null))}},UW=(t,n,o,r)=>{if(n.selection.isCollapsed()){const a=Se(r,t);wt(a,f=>{const y=Ut.fromRangeStart(n.selection.getRng());Th(t,n.getBody(),y).bind(T=>BI(n,o,T))})}},FI=(t,n,o)=>ym(t)?WW(t,n,o).isSome():!1,HI=(t,n,o)=>ym(n)?bM(t,n):!1,jW=t=>{const n=Gs(null),o=Kt(bv,t);return t.on("NodeChange",r=>{ym(t)&&($I(o,t.dom,r.parents),NX(t,n),UW(o,t,n,r.parents))}),n},ZW=Kt(HI,!0),GW=Kt(HI,!1),ZT=(t,n,o)=>{if(ym(t)){const r=Fv(t,n).getOrThunk(()=>{const a=t.selection.getRng();return n?Ut.fromRangeEnd(a):Ut.fromRangeStart(a)});return Th(Kt(bv,t),t.getBody(),r).exists(a=>{const f=CC(a);return mM(o,f).exists(y=>(AC(t,y),!0))})}else return!1},qW=(t,n)=>{const o=document.createRange();return o.setStart(t.container(),t.offset()),o.setEnd(n.container(),n.offset()),o},VI=t=>ti(da(t),hu(t),(n,o)=>{const r=ec(!0,n),a=ec(!1,o);return Pa(t,r).forall(f=>f.isEqual(a))}).getOr(!0),zI=(t,n)=>o=>mM(n,o).map(r=>()=>AC(t,r)),Rb=(t,n,o,r)=>{const a=t.getBody(),f=Kt(bv,t);t.undoManager.ignore(()=>{t.selection.setRng(qW(o,r)),SD(t),Th(f,a,Ut.fromRangeStart(t.selection.getRng())).map(gM).bind(zI(t,n)).each(Bo)}),t.nodeChanged()},WI=(t,n)=>{const o=wm(n,t);return o||t},xM=(t,n,o,r)=>{const a=WI(t.getBody(),r.container()),f=Kt(bv,t),y=Th(f,a,r);return y.bind(O=>o?O.fold(re(X.some(gM(O))),X.none,re(X.some(CC(O))),X.none):O.fold(X.none,re(X.some(CC(O))),X.none,re(X.some(gM(O))))).map(zI(t,n)).getOrThunk(()=>{const O=Ig(o,a,r),B=O.bind(U=>Th(f,a,U));return ti(y,B,()=>Ba(f,a,r).bind(U=>VI(U)?X.some(()=>{pv(t,o,ht.fromDom(U))}):X.none())).getOrThunk(()=>B.bind(()=>O.map(U=>()=>{o?Rb(t,n,r,U):Rb(t,n,U,r)})))})},GT=(t,n,o)=>{if(t.selection.isCollapsed()&&ym(t)){const r=Ut.fromRangeStart(t.selection.getRng());return xM(t,n,o,r)}return X.none()},wM=t=>oi(t)>1,Qg=(t,n)=>{const o=ht.fromDom(t.getBody()),r=ht.fromDom(t.selection.getStart()),a=km(r,o);return ks(a,n).fold(re(a),f=>a.slice(0,f))},UI=t=>oi(t)===1,gd=t=>Qg(t,n=>t.schema.isBlock(xo(n))||wM(n)),Hv=t=>Qg(t,n=>t.schema.isBlock(xo(n))),qT=(t,n)=>{const o=Kt(eL,t);return Ps(n,r=>o(r)?[r.dom]:[])},jI=t=>{const n=Hv(t);return qT(t,n)},ZI=(t,n,o,r)=>{const a=qT(n,r);if(a.length===0)pv(n,t,o);else{const f=Xw(o.dom,a);n.selection.setRng(f.toRange())}},KW=(t,n)=>{const o=Se(gd(t),UI);return Qc(o).bind(r=>{const a=Ut.fromRangeStart(t.selection.getRng());return TD(n,a,r.dom)&&!lw(r)?X.some(()=>ZI(n,t,r,o)):X.none()})},YW=(t,n)=>{const o=n.parentElement;return es(n)&&!vt(o)&&t.dom.isEmpty(o)},XW=t=>lw(ht.fromDom(t)),GI=(t,n)=>{const o=t.selection.getStart(),r=YW(t,o)||XW(o)?Xw(o,n):Kg(t.selection.getRng(),n);t.selection.setRng(r.toRange())},JW=(t,n)=>{const o=ic(n,jI(t));o.length>0&&GI(t,o)},CM=t=>se(t.startContainer),QW=t=>t.startOffset===0&&CM(t),t9=(t,n)=>{const o=n.startContainer.parentElement;return!vt(o)&&eL(t,ht.fromDom(o))},h_=t=>{const n=t.startContainer.parentNode,o=t.endContainer.parentNode;return!vt(n)&&!vt(o)&&n.isEqualNode(o)},SM=t=>{const n=t.endContainer;return t.endOffset===(se(n)?n.length:n.childNodes.length)},qI=t=>h_(t)&&SM(t),KI=t=>!t.endContainer.isEqualNode(t.commonAncestorContainer),EM=t=>qI(t)||KI(t),e9=t=>{const n=t.selection.getRng();return QW(n)&&t9(t,n)&&EM(n)},n9=t=>{if(e9(t)){const n=jI(t);return X.some(()=>{SD(t),JW(t,n)})}else return X.none()},TM=(t,n)=>t.selection.isCollapsed()?KW(t,n):n9(t),o9=(t,n)=>Sp(t,o=>jc(o.dom),o=>n.isBlock(xo(o))),s9=t=>o9(ht.fromDom(t.selection.getStart()),t.schema),r9=t=>{const n=t.selection.getRng();return n.collapsed&&(CM(n)||t.dom.isEmpty(n.startContainer))&&!s9(t)},kC=t=>(r9(t)&&GI(t,[]),!0),KT=(t,n,o)=>Zt(o)?X.some(()=>{t._selectionOverrides.hideFakeCaret(),pv(t,n,ht.fromDom(o))}):X.none(),i9=(t,n)=>{const o=n?Hy:Mw,r=n?yi.Forwards:yi.Backwards,a=ed(r,t.getBody(),t.selection.getRng());return o(a)?KT(t,n,a.getNode(!n)):X.from(ec(n,a)).filter(f=>o(f)&&G1(a,f)).bind(f=>KT(t,n,f.getNode(!n)))},a9=(t,n)=>{const o=t.selection.getNode();return Xs(o)?KT(t,n,o):X.none()},qc=(t,n)=>t.selection.isCollapsed()?i9(t,n):a9(t,n),c9=t=>Nr(t,n=>gr(n.dom)||cs(n.dom)).exists(n=>gr(n.dom)),OC=t=>el(t??"").getOr(0),AM=(t,n)=>{const o=t||Gr(n)?"margin":"padding",r=ql(n,"direction")==="rtl"?"-right":"-left";return o+r},kM=(t,n,o,r,a,f)=>{const y=AM(o,ht.fromDom(f)),T=OC(t.getStyle(f,y));if(n==="outdent"){const O=Math.max(0,T-r);t.setStyle(f,y,O?O+a:"")}else{const O=T+r+a;t.setStyle(f,y,O)}},l9=(t,n)=>vs(n,o=>{const r=AM(eb(t),o),a=si(o,r).map(OC).getOr(0);return t.dom.getContentEditable(o.dom)!=="false"&&a>0}),YI=t=>{const n=JI(t);return!t.mode.isReadOnly()&&(n.length>1||l9(t,n))},XI=t=>Or(t)||ls(t),u9=t=>Ga(t).exists(XI),JI=t=>Se(Xh(t.selection.getSelectedBlocks()),n=>!XI(n)&&!u9(n)&&c9(n)),OM=(t,n)=>{var o,r;const{dom:a}=t,f=f2(t),y=(r=(o=/[a-z%]+$/i.exec(f))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",T=OC(f),O=eb(t);wt(JI(t),B=>{kM(a,n,O,T,y,B.dom)})},d9=t=>OM(t,"indent"),QI=t=>OM(t,"outdent"),m_=t=>{if(t.selection.isCollapsed()&&YI(t)){const n=t.dom,o=t.selection.getRng(),r=Ut.fromRangeStart(o),a=n.getParent(o.startContainer,n.isBlock);if(a!==null&&hD(ht.fromDom(a),r,t.schema))return X.some(()=>QI(t))}return X.none()},$m=(t,n,o)=>Tf([m_,fM,aM,(r,a)=>GT(r,n,a),gf,xb,hM,qc,RT,TM],r=>r(t,o)).filter(r=>t.selection.isEditable()),Vv=(t,n)=>{$m(t,n,!1).fold(()=>{t.selection.isEditable()&&(SD(t),Fw(t))},Bo)},YT=(t,n)=>{$m(t,n,!0).fold(()=>{t.selection.isEditable()&&ED(t)},Bo)},DM=(t,n)=>{t.addCommand("delete",()=>{Vv(t,n)}),t.addCommand("forwardDelete",()=>{YT(t,n)})},XT=5,t$=400,e$=t=>t.touches===void 0||t.touches.length!==1?X.none():X.some(t.touches[0]),n$=(t,n)=>{const o=Math.abs(t.clientX-n.x),r=Math.abs(t.clientY-n.y);return o>XT||r>XT},o$=t=>{const n=Zr(),o=Gs(!1),r=Zp(a=>{t.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},t$);t.on("touchstart",a=>{e$(a).each(f=>{r.cancel();const y={x:f.clientX,y:f.clientY,target:a.target};r.throttle(a),o.set(!1),n.set(y)})},!0),t.on("touchmove",a=>{r.cancel(),e$(a).each(f=>{n.on(y=>{n$(f,y)&&(n.clear(),o.set(!1),t.dispatch("longpresscancel"))})})},!0),t.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&n.get().filter(f=>f.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():t.dispatch("tap",{...a,type:"tap"})})},!0)},RM=(t,n)=>Sn(t,n.nodeName),f9=(t,n)=>se(n)?!0:Ge(n)?!RM(t.getBlockElements(),n)&&!Tl(n)&&!Fd(t,n)&&!Id(n):!1,h9=(t,n,o)=>_t(dD(ht.fromDom(o),ht.fromDom(n)),r=>RM(t,r.dom)),m9=(t,n)=>{if(se(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||RM(t,n.nextSibling)||Id(n.nextSibling)}return!1},s$=t=>t.dom.create(la(t),N1(t)),g9=t=>{const n=t.dom,o=t.selection,r=t.schema,a=r.getBlockElements(),f=o.getStart(),y=t.getBody();let T,O,B=!1;const U=la(t);if(!f||!Ge(f))return;const j=y.nodeName.toLowerCase();if(!r.isValidChild(j,U.toLowerCase())||h9(a,y,f))return;const q=o.getRng(),{startContainer:nt,startOffset:at,endContainer:st,endOffset:ct}=q,xt=fv(t);let St=y.firstChild;for(;St;)if(Ge(St)&&i1(r,St),f9(r,St)){if(m9(a,St)){O=St,St=St.nextSibling,n.remove(O);continue}T||(T=s$(t),y.insertBefore(T,St),B=!0),O=St,St=St.nextSibling,T.appendChild(O)}else T=null,St=St.nextSibling;B&&xt&&(q.setStart(nt,at),q.setEnd(st,ct),o.setRng(q),t.nodeChanged())},MM=(t,n,o)=>{const r=ht.fromDom(s$(t)),a=Qu();Ks(r,a),o(n,r);const f=document.createRange();return f.setStartBefore(a.dom),f.setEndBefore(a.dom),f},r$=t=>{t.on("NodeChange",Kt(g9,t))},p9=t=>n=>(" "+n.attr("class")+" ").indexOf(t)!==-1,LX=(t,n,o)=>function(r){const a=arguments,f=a[a.length-2],y=f>0?n.charAt(f-1):"";if(y==='"')return r;if(y===">"){const T=n.lastIndexOf("<",f);if(T!==-1&&n.substring(T,f).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+t.dom.encode(a[0])+'">'+t.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},BX=(t,n,o)=>{let r=n.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(n[r],LX(t,a,D2(t)));o.content=a}},b9=t=>{const n="contenteditable",o=" "+fe.trim(Wx(t))+" ",r=" "+fe.trim(D2(t))+" ",a=p9(o),f=p9(r),y=aO(t);y.length>0&&t.on("BeforeSetContent",T=>{BX(t,y,T)}),t.parser.addAttributeFilter("class",T=>{let O=T.length;for(;O--;){const B=T[O];a(B)?B.attr(n,"true"):f(B)&&B.attr(n,"false")}}),t.serializer.addAttributeFilter(n,T=>{let O=T.length;for(;O--;){const B=T[O];!a(B)&&!f(B)||(y.length>0&&B.attr("data-mce-content")?(B.name="#text",B.type=3,B.raw=!0,B.value=B.attr("data-mce-content")):B.attr(n,null))}})},IX=t=>hg(ht.fromDom(t.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),v9=(t,n)=>{n.hasAttribute("data-mce-caret")&&(C1(n),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(n))},y9=(t,n)=>{const o=IX(t);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),v9(t,o);return}ai(o)&&(v9(t,o),t.undoManager.add())}},_9=t=>{t.on("keyup compositionstart",Kt(y9,t))},x9=cs,w9=(t,n,o)=>TC(n,t,o,vh,Gg,x9),Nl=(t,n,o)=>jT(n,t,o,f=>vh(f)||Zn(f),f=>Gg(f)||uD(f),x9),i$=t=>{const n=t.dom.create(la(t));return n.innerHTML='<br data-mce-bogus="1">',n},g_=(t,n,o)=>{const r=od(t.getBody()),a=Kt(Z1,n===1?r.next:r.prev);if(o.collapsed){const f=t.dom.getParent(o.startContainer,"PRE");if(!f)return;if(!a(Ut.fromRangeStart(o))){const T=ht.fromDom(i$(t));n===1?$u(ht.fromDom(f),T):gi(ht.fromDom(f),T),t.selection.select(T.dom,!0),t.selection.collapse()}}},C9=(t,n)=>{const o=n?yi.Forwards:yi.Backwards,r=t.selection.getRng();return w9(o,t,r).orThunk(()=>(g_(t,o,r),X.none()))},a$=(t,n)=>{const o=n?1:-1,r=t.selection.getRng();return Nl(o,t,r).orThunk(()=>(g_(t,o,r),X.none()))},c$=(t,n)=>{const o=n?t.getEnd(!0):t.getStart(!0);return vu(o)?!n:n},JT=(t,n)=>C9(t,c$(t.selection,n)).exists(o=>(Im(t,o),!0)),l$=(t,n)=>a$(t,n).exists(o=>(Im(t,o),!0)),u$=(t,n)=>NI(t,n,n?Gg:vh),DC=(t,n)=>cM(t,!n).map(o=>{const r=o.toRange(),a=t.selection.getRng();return n?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(Im(t,o),!0)),S9=t=>Mt(["figcaption"],xo(t)),E9=(t,n,o)=>{const r=Kt(Io,n);return Nr(ht.fromDom(t.container()),a=>o.isBlock(xo(a)),r).filter(S9)},T9=(t,n,o)=>n?TI(t.dom,o):EC(t.dom,o),PM=(t,n)=>{const o=ht.fromDom(t.getBody()),r=Ut.fromRangeStart(t.selection.getRng());return E9(r,o,t.schema).exists(()=>{if(T9(o,n,r)){const f=MM(t,o,n?Ks:Rc);return t.selection.setRng(f),!0}else return!1})},d$=(t,n)=>t.selection.isCollapsed()?PM(t,n):!1,A9=(t,n,o)=>{const r=t.selection.getRng(),a=Ut.fromRangeStart(r);return t.getBody().firstChild===n&&EC(o,a)?(t.execCommand("InsertNewBlockBefore"),!0):!1},$X=(t,n)=>{const o=t.selection.getRng(),r=Ut.fromRangeStart(o);return t.getBody().lastChild===n&&TI(n,r)?(t.execCommand("InsertNewBlockAfter"),!0):!1},k9=(t,n)=>n?X.from(t.dom.getParent(t.selection.getNode(),"details")).map(o=>$X(t,o)).getOr(!1):X.from(t.dom.getParent(t.selection.getNode(),"summary")).bind(o=>X.from(t.dom.getParent(o,"details")).map(r=>A9(t,r,o))).getOr(!1),NM=(t,n)=>k9(t,n),O9={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},D9=t=>Ht(t,n=>({...O9,...n})),R9=t=>Ht(t,n=>({...O9,...n})),f$=(t,n)=>n.keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey,LM=(t,n)=>Ps(D9(t),o=>f$(o,n)?[o]:[]),QT=(t,n)=>Ps(R9(t),o=>f$(o,n)?[o]:[]),Dn=(t,...n)=>()=>t.apply(null,n),p_=(t,n)=>co(LM(t,n),o=>o.action()),h$=(t,n)=>Tf(QT(t,n),o=>o.action()),m$=(t,n)=>{const o=n?yi.Forwards:yi.Backwards,r=t.selection.getRng();return TC(t,o,r,Hy,Mw,Xs).exists(a=>(Im(t,a),!0))},tA=(t,n)=>{const o=n?1:-1,r=t.selection.getRng();return jT(t,o,r,Hy,Mw,Xs).exists(a=>(Im(t,a),!0))},g$=(t,n)=>NI(t,n,n?Mw:Hy),p$=Jd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),RC={...p$,none:t=>p$.none(t)},vf=(t,n)=>BM(t,n,Ae),BM=(t,n,o)=>Ps(mi(t),r=>Ri(r,n)?o(r)?[r]:[]:BM(r,n,o)),b$=(t,n,o=Gt)=>{if(o(n))return X.none();if(Mt(t,xo(n)))return X.some(n);const r=a=>Ri(a,"table")||o(a);return fg(n,t.join(","),r)},HX=(t,n)=>b$(["td","th"],t,n),VX=t=>vf(t,"th,td"),M9=(t,n)=>Gl(t,"table",n),v$=(t,n,o,r,a=Ae)=>{const f=r===1;if(!f&&o<=0)return RC.first(t[0]);if(f&&o>=t.length-1)return RC.last(t[t.length-1]);{const y=o+r,T=t[y];return a(T)?RC.middle(n,T):v$(t,n,y,r,a)}},y$=(t,n)=>M9(t,n).bind(o=>{const r=VX(o);return ks(r,f=>Io(t,f)).map(f=>({index:f,all:r}))}),eA=(t,n,o)=>y$(t,o).fold(()=>RC.none(t),a=>v$(a.all,t,a.index,1,n)),P9=(t,n,o)=>y$(t,o).fold(()=>RC.none(),a=>v$(a.all,t,a.index,-1,n)),IM=t=>je(t).filter(n=>n.trim().length!==0||n.indexOf(zs)>-1).isSome(),_$=t=>cc(t)&&nr(t,"contenteditable")==="false",x$=["img","br"],w$=t=>IM(t)||Mt(x$,xo(t))||_$(t),N9=t=>Ni(t,w$),L9=(t,n)=>({left:t.left-n,top:t.top-n,right:t.right+n*2,bottom:t.bottom+n*2,width:t.width+n,height:t.height+n}),B9=(t,n)=>Ps(n,o=>{const r=L9(gm(o.getBoundingClientRect()),-1);return[{x:r.left,y:t(r),cell:o},{x:r.right,y:t(r),cell:o}]}),I9=(t,n,o)=>yo(t,(r,a)=>r.fold(()=>X.some(a),f=>{const y=Math.sqrt(Math.abs(f.x-n)+Math.abs(f.y-o)),T=Math.sqrt(Math.abs(a.x-n)+Math.abs(a.y-o));return X.some(T<y?a:f)}),X.none()),MC=(t,n,o,r,a)=>{const f=mr(ht.fromDom(o),"td,th,caption").map(T=>T.dom),y=Se(B9(t,f),T=>n(T,a));return I9(y,r,a).map(T=>T.cell)},$9=t=>t.bottom,F9=t=>t.top,H9=(t,n)=>t.y<n,$M=(t,n)=>t.y>n,V9=Kt(MC,$9,H9),z9=Kt(MC,F9,$M),C$=(t,n)=>dr(n.getClientRects()).bind(o=>V9(t,o.left,o.top)).bind(o=>HT(IW(o),n)),W9=(t,n)=>Qc(n.getClientRects()).bind(o=>z9(t,o.left,o.top)).bind(o=>HT(BW(o),n)),U9=(t,n,o)=>o.breakAt.exists(r=>t(n,r).breakAt.isSome()),j9=t=>t.breakType===Lm.Wrap&&t.positions.length===0,Z9=t=>t.breakType===Lm.Br&&t.positions.length===1,S$=(t,n,o)=>{const r=t(n,o);return j9(r)||!es(o.getNode())&&Z9(r)?!U9(t,n,r):r.breakAt.isNone()},G9=Kt(S$,SC),FM=Kt(S$,Ah),q9=(t,n,o)=>{const r=Ut.fromRangeStart(n);return $g(!t,o).exists(a=>a.isEqual(r))},E$=(t,n,o,r)=>{const a=t.selection.getRng(),f=n?1:-1;return iy()&&q9(n,a,o)?(Nm(f,t,o,!n,!1).each(y=>{Im(t,y)}),!0):!1},K9=(t,n,o)=>C$(n,o).orThunk(()=>dr(o.getClientRects()).bind(r=>xu(vM(t,Ut.before(n)),r.left))).getOr(Ut.before(n)),Y9=(t,n,o)=>W9(n,o).orThunk(()=>dr(o.getClientRects()).bind(r=>xu(EI(t,Ut.after(n)),r.left))).getOr(Ut.after(n)),T$=(t,n)=>{const o=n.getNode(t);return or(o)?X.some(o):X.none()},X9=(t,n,o)=>{n.undoManager.transact(()=>{const r=t?$u:gi,a=MM(n,ht.fromDom(o),r);Im(n,a)})},A$=(t,n,o)=>{const r=T$(!!n,o),a=n===!1;r.fold(()=>Im(t,o.toRange()),f=>$g(a,t.getBody()).filter(y=>y.isEqual(o)).fold(()=>Im(t,o.toRange()),y=>X9(n,t,f)))},J9=(t,n,o,r)=>{const a=t.selection.getRng(),f=Ut.fromRangeStart(a),y=t.getBody();if(!n&&G9(r,f)){const T=K9(y,o,f);return A$(t,n,T),!0}else if(n&&FM(r,f)){const T=Y9(y,o,f);return A$(t,n,T),!0}else return!1},Yr=(t,n,o)=>X.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(r=>X.from(t.dom.getParent(r,"table")).map(a=>o(t,n,a,r))).getOr(!1),k$=(t,n)=>Yr(t,n,E$),HM=(t,n)=>Yr(t,n,J9),Q9=t=>{const n=zg.exact(t,0,t,0);return qO(n)},VM=(t,n,o)=>o.fold(X.none,X.none,(r,a)=>N9(a).map(f=>Q9(f)),r=>(t.execCommand("mceTableInsertRowAfter"),nA(t,n,r))),nA=(t,n,o)=>VM(t,n,eA(o,Ln)),O$=(t,n,o)=>VM(t,n,P9(o,Ln)),tp=(t,n)=>{const o=["table","li","dl"],r=ht.fromDom(t.getBody()),a=T=>{const O=xo(T);return Io(T,r)||Mt(o,O)},f=t.selection.getRng(),y=ht.fromDom(n?f.endContainer:f.startContainer);return HX(y,a).map(T=>(M9(T,a).each(U=>{t.model.table.clearSelectedCells(U.dom)}),t.selection.collapse(!n),(n?nA:O$)(t,a,T).each(U=>{t.selection.setRng(U)}),!0)).getOr(!1)},zM=(t,n,o)=>{const r=Ee.os.isMacOS()||Ee.os.isiOS();p_([{keyCode:Ze.RIGHT,action:Dn(JT,t,!0)},{keyCode:Ze.LEFT,action:Dn(JT,t,!1)},{keyCode:Ze.UP,action:Dn(l$,t,!1)},{keyCode:Ze.DOWN,action:Dn(l$,t,!0)},...r?[{keyCode:Ze.UP,action:Dn(DC,t,!1),metaKey:!0,shiftKey:!0},{keyCode:Ze.DOWN,action:Dn(DC,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ze.RIGHT,action:Dn(k$,t,!0)},{keyCode:Ze.LEFT,action:Dn(k$,t,!1)},{keyCode:Ze.UP,action:Dn(HM,t,!1)},{keyCode:Ze.DOWN,action:Dn(HM,t,!0)},{keyCode:Ze.UP,action:Dn(HM,t,!1)},{keyCode:Ze.UP,action:Dn(NM,t,!1)},{keyCode:Ze.DOWN,action:Dn(NM,t,!0)},{keyCode:Ze.RIGHT,action:Dn(m$,t,!0)},{keyCode:Ze.LEFT,action:Dn(m$,t,!1)},{keyCode:Ze.UP,action:Dn(tA,t,!1)},{keyCode:Ze.DOWN,action:Dn(tA,t,!0)},{keyCode:Ze.RIGHT,action:Dn(FI,t,n,!0)},{keyCode:Ze.LEFT,action:Dn(FI,t,n,!1)},{keyCode:Ze.RIGHT,ctrlKey:!r,altKey:r,action:Dn(ZW,t,n)},{keyCode:Ze.LEFT,ctrlKey:!r,altKey:r,action:Dn(GW,t,n)},{keyCode:Ze.UP,action:Dn(d$,t,!1)},{keyCode:Ze.DOWN,action:Dn(d$,t,!0)}],o).each(a=>{o.preventDefault()})},D$=(t,n)=>{t.on("keydown",o=>{o.isDefaultPrevented()||zM(t,n,o)})},pd=(t,n)=>({container:t,offset:n}),b_=Zo.DOM,v_=t=>n=>t===n?-1:0,R$=t=>n=>t.isBlock(n)||Mt(["BR","IMG","HR","INPUT"],n.nodeName)||t.getContentEditable(n)==="false",y_=(t,n,o)=>{if(se(t)&&n>=0)return X.some(pd(t,n));{const r=qt(b_);return X.from(r.backwards(t,n,v_(t),o)).map(a=>pd(a.container,a.container.data.length))}},oA=(t,n,o)=>{if(se(t)&&n>=t.length)return X.some(pd(t,n));{const r=qt(b_);return X.from(r.forwards(t,n,v_(t),o)).map(a=>pd(a.container,0))}},zv=(t,n,o)=>{if(!se(t))return X.none();const r=t.data;if(n>=0&&n<=r.length)return X.some(pd(t,n));{const a=qt(b_);return X.from(a.backwards(t,n,v_(t),o)).bind(f=>{const y=f.container.data;return zv(f.container,n+y.length,o)})}},__=(t,n,o)=>{if(!se(t))return X.none();const r=t.data;if(n<=r.length)return X.some(pd(t,n));{const a=qt(b_);return X.from(a.forwards(t,n,v_(t),o)).bind(f=>__(f.container,n-r.length,o))}},wu=(t,n,o,r,a)=>{const f=qt(t,R$(t));return X.from(f.backwards(n,o,r,a))},PC=t=>t.collapsed&&se(t.startContainer),M$=t=>pc(t.toString().replace(/\u00A0/g," ")),WM=t=>t!==""&&`  \f
\r	\v`.indexOf(t)!==-1,tU=(t,n)=>t.substring(n.length),P$=(t,n,o,r=!1)=>{let a;const f=o.charAt(0);for(a=n-1;a>=0;a--){const y=t.charAt(a);if(!r&&WM(y))return X.none();if(f===y&&Xr(t,o,a,n))break}return X.some(a)},UM=(t,n,o,r=!1)=>{if(!PC(n))return X.none();const a={text:"",offset:0},f=(T,O,B)=>(a.text=B+a.text,a.offset+=O,P$(a.text,a.offset,o,r).getOr(O)),y=t.getParent(n.startContainer,t.isBlock)||t.getRoot();return wu(t,n.startContainer,n.startOffset,f,y).bind(T=>{const O=n.cloneRange();if(O.setStart(T.container,T.offset),O.setEnd(n.endContainer,n.endOffset),O.collapsed)return X.none();const B=M$(O);return B.lastIndexOf(o)!==0?X.none():X.some({text:tU(B,o),range:O,trigger:o})})},eU=t=>t.nodeType===ag,NC=t=>t.nodeType===Za,N$=t=>{if(eU(t))return pd(t,t.data.length);{const n=t.childNodes;return n.length>0?N$(n[n.length-1]):pd(t,n.length)}},L$=(t,n)=>{const o=t.childNodes;return o.length>0&&n<o.length?L$(o[n],0):o.length>0&&NC(t)&&o.length===n?N$(o[o.length-1]):pd(t,n)},nU=(t,n)=>{var o;const r=(o=t.getParent(n.container,t.isBlock))!==null&&o!==void 0?o:t.getRoot();return wu(t,n.container,n.offset,(a,f)=>f===0?-1:f,r).filter(a=>{const f=a.container.data.charAt(a.offset-1);return!WM(f)}).isSome()},oU=t=>n=>{const o=L$(n.startContainer,n.startOffset);return!nU(t,o)},sU=(t,n,o)=>Tf(o.triggers,r=>UM(t,n,r)),rU=(t,n)=>{const o=n(),r=t.selection.getRng();return sU(t.dom,r,o).bind(a=>B$(t,n,a))},B$=(t,n,o,r={})=>{var a;const f=n(),T=(a=t.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",O=Se(f.lookupByTrigger(o.trigger),U=>o.text.length>=U.minChars&&U.matches.getOrThunk(()=>oU(t.dom))(o.range,T,o.text));if(O.length===0)return X.none();const B=Promise.all(Ht(O,U=>U.fetch(o.text,U.maxResults,r).then(q=>({matchText:o.text,items:q,columns:U.columns,onAction:U.onAction,highlightOn:U.highlightOn}))));return X.some({lookupData:B,context:o})};var kh;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(kh||(kh={}));const jM=(t,n,o)=>t.stype===kh.Error?n(t.serror):o(t.svalue),iU=t=>{const n=[],o=[];return wt(t,r=>{jM(r,a=>o.push(a),a=>n.push(a))}),{values:n,errors:o}},aU=(t,n)=>t.stype===kh.Error?{stype:kh.Error,serror:n(t.serror)}:t,cU=(t,n)=>t.stype===kh.Value?{stype:kh.Value,svalue:n(t.svalue)}:t,lU=(t,n)=>t.stype===kh.Value?n(t.svalue):t,uU=(t,n)=>t.stype===kh.Error?n(t.serror):t,ZM=t=>({stype:kh.Value,svalue:t}),GM=t=>({stype:kh.Error,serror:t}),ga={fromResult:t=>t.fold(GM,ZM),toResult:t=>jM(t,ca.error,ca.value),svalue:ZM,partition:iU,serror:GM,bind:lU,bindError:uU,map:cU,mapError:aU,fold:jM},qM=t=>We(t)&&zr(t).length>100?" removed due to size":JSON.stringify(t,null,2),fU=t=>{const n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:re("... (only showing first ten failures)")}]):t;return Ht(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},LC=(t,n)=>ga.serror([{path:t,getErrorInfo:n}]),hU=(t,n,o)=>LC(t,()=>'Could not find valid *required* value for "'+n+'" in '+qM(o)),I$=(t,n)=>LC(t,()=>'Choice schema did not contain choice key: "'+n+'"'),mU=(t,n,o)=>LC(t,()=>'The chosen schema: "'+o+'" did not exist in branches: '+qM(n)),$$=(t,n)=>LC(t,re(n)),F$=(t,n,o,r)=>ms(o,r).fold(()=>mU(t,o,r),f=>f.extract(t.concat(["branch: "+r]),n)),gU=(t,n)=>({extract:(a,f)=>ms(f,t).fold(()=>I$(a,t),T=>F$(a,f,n,T)),toString:()=>"chooseOn("+t+"). Possible values: "+zr(n)}),pU=(t,n)=>n,bU=(t,n)=>to(t)&&to(n)?BC(t,n):n,H$=t=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const a=n[r];for(const f in a)Sn(a,f)&&(o[f]=t(o[f],a[f]))}return o},BC=H$(bU),vU=H$(pU),V$=()=>({tag:"required",process:{}}),z$=t=>({tag:"defaultedThunk",process:t}),W$=t=>z$(re(t)),yU=()=>({tag:"option",process:{}}),U$=(t,n)=>t.length>0?ga.svalue(BC(n,vU.apply(void 0,t))):ga.svalue(n),j$=t=>F(ga.serror,Ei)(t),Z$={consolidateObj:(t,n)=>{const o=ga.partition(t);return o.errors.length>0?j$(o.errors):U$(o.values,n)},consolidateArr:t=>{const n=ga.partition(t);return n.errors.length>0?j$(n.errors):ga.svalue(n.values)}},G$=(t,n,o,r)=>({tag:"field",key:t,newKey:n,presence:o,prop:r}),_U=(t,n)=>({tag:"custom",newKey:t,instantiator:n}),q$=(t,n,o)=>{switch(t.tag){case"field":return n(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},KM=t=>{const n=(r,a)=>ga.bindError(t(a),f=>$$(r,f)),o=re("val");return{extract:n,toString:o}},xU=KM(ga.svalue),wU=(t,n,o,r)=>ms(n,o).fold(()=>hU(t,o,n),r),K$=(t,n,o,r)=>{const a=ms(t,n).getOrThunk(()=>o(t));return r(a)},CU=(t,n,o)=>o(ms(t,n)),SU=(t,n,o,r)=>{const a=ms(t,n).map(f=>f===!0?o(t):f);return r(a)},jX=(t,n,o,r,a)=>{const f=T=>a.extract(n.concat([r]),T),y=T=>T.fold(()=>ga.svalue(X.none()),O=>{const B=a.extract(n.concat([r]),O);return ga.map(B,X.some)});switch(t.tag){case"required":return wU(n,o,r,f);case"defaultedThunk":return K$(o,r,t.process,f);case"option":return CU(o,r,y);case"defaultedOptionThunk":return SU(o,r,t.process,y);case"mergeWithThunk":return K$(o,r,re({}),T=>{const O=BC(t.process(o),T);return f(O)})}},EU=(t,n,o)=>{const r={},a=[];for(const f of o)q$(f,(y,T,O,B)=>{const U=jX(O,t,n,y,B);ga.fold(U,j=>{a.push(...j)},j=>{r[T]=j})},(y,T)=>{r[y]=T(n)});return a.length>0?ga.serror(a):ga.svalue(r)},x_=t=>({extract:(r,a)=>EU(r,a,t),toString:()=>`obj{
`+Ht(t,a=>q$(a,(f,y,T,O)=>f+" -> "+O.toString(),(f,y)=>"state("+f+")")).join(`
`)+"}"}),YM=t=>({extract:(r,a)=>{const f=Ht(a,(y,T)=>t.extract(r.concat(["["+T+"]"]),y));return Z$.consolidateArr(f)},toString:()=>"array("+t.toString()+")"}),Y$=t=>KM(n=>t(n).fold(ga.serror,ga.svalue)),TU=(t,n,o)=>{const r=n.extract([t],o);return ga.mapError(r,a=>({input:o,errors:a}))},X$=(t,n,o)=>ga.toResult(TU(t,n,o)),J$=t=>`Errors: 
`+fU(t.errors).join(`
`)+`

Input object: `+qM(t.input),Q$=(t,n)=>gU(t,ho(n,x_)),AU=re(xU),sA=(t,n)=>KM(o=>{const r=typeof o;return t(o)?ga.svalue(o):ga.serror(`Expected type: ${n} but got: ${r}`)}),tF=sA(jn,"number"),rA=sA(ft,"string"),XM=sA(wn,"boolean"),JM=sA(pt,"function"),IC=G$,eF=_U,nF=t=>Y$(n=>Mt(t,n)?ca.value(n):ca.error(`Unsupported value: "${n}", choose one of "${t.join(", ")}".`)),oF=(t,n)=>IC(t,t,V$(),n),sF=t=>oF(t,rA),rF=t=>oF(t,JM),kU=(t,n)=>IC(t,t,V$(),YM(n)),QM=(t,n)=>IC(t,t,yU(),n),$r=t=>QM(t,rA),Fm=t=>QM(t,JM),OU=(t,n)=>IC(t,t,W$(n),AU()),$C=(t,n,o)=>IC(t,t,W$(n),o),iF=(t,n)=>$C(t,n,tF),DU=(t,n)=>$C(t,n,rA),aF=(t,n,o)=>$C(t,n,nF(o)),tP=(t,n)=>$C(t,n,XM),iA=(t,n)=>$C(t,n,JM),w_=(t,n,o)=>$C(t,n,YM(o)),ZX=sF("type"),RU=rF("fetch"),eP=rF("onAction"),Oh=iA("onSetup",()=>Ye),MU=$r("text"),PU=$r("icon"),cF=$r("tooltip"),NU=$r("label"),nP=tP("active",!1),lF=tP("enabled",!0),uF=tP("primary",!1),LU=t=>OU("columns",t),FC=t=>DU("type",t),dF=x_([ZX,sF("trigger"),iF("minChars",1),LU(1),iF("maxResults",10),Fm("matches"),RU,eP,w_("highlightOn",[],rA)]),fF=t=>X$("Autocompleter",dF,t),HC=[lF,cF,PU,MU,Oh],aA=[nP].concat(HC),oP=[iA("predicate",Gt),aF("scope","node",["node","editor"]),aF("position","selection",["node","selection","line"])],BU=HC.concat([FC("contextformbutton"),uF,eP,eF("original",wo)]),IU=aA.concat([FC("contextformbutton"),uF,eP,eF("original",wo)]),$U=HC.concat([FC("contextformbutton")]),FU=aA.concat([FC("contextformtogglebutton")]),sP=Q$("type",{contextformbutton:BU,contextformtogglebutton:IU});x_([FC("contextform"),iA("initValue",re("")),NU,kU("commands",sP),QM("launch",Q$("type",{contextformbutton:$U,contextformtogglebutton:FU}))].concat(oP));const hF=t=>{const n=t.ui.registry.getAll().popups,o=ho(n,y=>fF(y).fold(T=>{throw new Error(J$(T))},wo)),r=cp(Td(o,y=>y.trigger)),a=Ou(o);return{dataset:o,triggers:r,lookupByTrigger:y=>Se(a,T=>T.trigger===y)}},HU=(t,n)=>{const o=Zp(n.load,50);t.on("input",r=>{r.inputType==="insertCompositionText"&&!t.composing||o.throttle()}),t.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),n.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),t.on("remove",o.cancel)},mF=t=>{const n=Zr(),o=Gs(!1),r=n.isSet,a=()=>{r()&&(hN(t),o.set(!1),n.clear())},f=j=>{r()||n.set({trigger:j.trigger,matchLength:j.text.length})},y=$l(()=>hF(t)),T=j=>n.get().map(q=>UM(t.dom,t.selection.getRng(),q.trigger,!0).bind(nt=>B$(t,y,nt,j))).getOrThunk(()=>rU(t,y)),O=j=>{T(j).fold(a,q=>{f(q.context),q.lookupData.then(nt=>{n.get().map(at=>{const st=q.context;at.trigger===st.trigger&&(st.text.length-at.matchLength>=10?a():(n.set({...at,matchLength:st.text.length}),o.get()?(dE(t,{range:st.range}),HO(t,{lookupData:nt})):(o.set(!0),dE(t,{range:st.range}),fN(t,{lookupData:nt}))))})})})},B=(j,q)=>{const nt=j.compareBoundaryPoints(window.Range.START_TO_START,q),at=j.compareBoundaryPoints(window.Range.END_TO_END,q);return nt>=0&&at<=0},U=()=>n.get().bind(({trigger:j})=>{const q=t.selection.getRng();return UM(t.dom,q,j,o.get()).filter(({range:nt})=>B(q,nt)).map(({range:nt})=>nt)});t.addCommand("mceAutocompleterReload",(j,q)=>{const nt=We(q)?q.fetchOptions:{};O(nt)}),t.addCommand("mceAutocompleterClose",a),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{U().each(j=>{dE(t,{range:j})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>U().isSome()),HU(t,{cancelIfNecessary:a,load:O})},rP=Ec().browser.isSafari(),gF=t=>vl(ht.fromDom(t)),pF=(t,n)=>{var o;return t.startOffset===0&&t.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},cA=(t,n)=>X.from(t.getParent(n.container(),"details")),bF=(t,n)=>cA(t,n).isSome(),VU=(t,n)=>{const o=X.from(t.getParent(n.startContainer,"details")),r=X.from(t.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(f=>X.from(t.select("summary",f)[0]));return X.some({startSummary:a,startDetails:o,endDetails:r})}else return X.none()},vF=(t,n)=>da(n).exists(o=>o.isEqual(t)),iP=(t,n)=>hu(n).exists(o=>es(o.getNode())&&Qa(n,o).exists(r=>r.isEqual(t))||o.isEqual(t)),yF=(t,n)=>n.startSummary.exists(o=>vF(t,o)),_F=(t,n)=>n.startSummary.exists(o=>iP(t,o)),zU=(t,n)=>n.startDetails.exists(o=>Qa(o,t).forall(r=>n.startSummary.exists(a=>!a.contains(t.container())&&a.contains(r.container())))),WU=(t,n,o)=>o.startDetails.exists(r=>Pa(t,n).forall(a=>!r.contains(a.container()))),xF=(t,n)=>{const o=n.getNode();Hn(o)||t.selection.setCursorLocation(o,n.offset())},VC=(t,n,o)=>{const r=t.dom.getParent(n.container(),"details");if(r&&!r.open){const a=t.dom.select("summary",r)[0];a&&(o?da(a):hu(a)).each(y=>xF(t,y))}else xF(t,n)},wF=(t,n)=>{const o=O=>O.contains(t.startContainer),r=O=>O.contains(t.endContainer),a=n.startSummary.exists(o),f=n.startSummary.exists(r),y=n.startDetails.forall(O=>n.endDetails.forall(B=>O!==B));return(a||f)&&!(a&&f)||y},aP=(t,n,o)=>{const{dom:r,selection:a}=t,f=t.getBody();if(o==="character"){const y=Ut.fromRangeStart(a.getRng()),T=r.getParent(y.container(),r.isBlock),O=cA(r,y),B=T&&r.isEmpty(T),U=vt(T==null?void 0:T.previousSibling),j=vt(T==null?void 0:T.nextSibling);return B&&(n?j:U)&&Ig(!n,f,y).exists(at=>bF(r,at)&&!rg(O,cA(r,at)))?!0:Ig(n,f,y).fold(Gt,q=>{const nt=cA(r,q);if(bF(r,q)&&!rg(O,nt)){if(n||VC(t,q,!1),T&&B){if(n&&U)return!0;if(!n&&j)return!0;VC(t,q,n),t.dom.remove(T)}return!0}else return!1})}else return!1},UU=(t,n,o,r)=>{const f=t.selection.getRng(),y=Ut.fromRangeStart(f),T=t.getBody();return r==="selection"?wF(f,n):o?_F(y,n)||WU(T,y,n):yF(y,n)||zU(y,n)},jU=(t,n,o)=>VU(t.dom,t.selection.getRng()).fold(()=>aP(t,n,o),r=>UU(t,r,n,o)||aP(t,n,o)),qX=(t,n,o)=>{const r=t.selection,a=r.getNode(),f=r.getRng(),y=Ut.fromRangeStart(f);return pg(a)?(o==="selection"&&pF(f,a)||TD(n,y,a)?gF(a):t.undoManager.transact(()=>{const T=r.getSel();let{anchorNode:O,anchorOffset:B,focusNode:U,focusOffset:j}=T??{};const q=()=>{Zt(O)&&Zt(B)&&Zt(U)&&Zt(j)&&(T==null||T.setBaseAndExtent(O,B,U,j))},nt=()=>{O=T==null?void 0:T.anchorNode,B=T==null?void 0:T.anchorOffset,U=T==null?void 0:T.focusNode,j=T==null?void 0:T.focusOffset},at=(ct,xt)=>{wt(ct.childNodes,St=>{mb(St)&&xt.appendChild(St)})},st=t.dom.create("span",{"data-mce-bogus":"1"});at(a,st),a.appendChild(st),q(),(o==="word"||o==="line")&&(T==null||T.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&pF(r.getRng(),st)?gF(a):(t.execCommand(n?"ForwardDelete":"Delete"),nt(),at(st,a),q()),t.dom.remove(st)}),!0):!1},C_=(t,n,o)=>jU(t,n,o)||rP&&qX(t,n,o)?X.some(Ye):X.none(),ZU=t=>(n,o,r={})=>{const a=n.getBody(),f={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Ye,inputType:o},y=L0(new InputEvent(t));return n.dispatch(t,{...y,...f,...r})},zC=ZU("input"),cP=ZU("beforeinput"),CF=Ec(),SF=CF.os,GU=SF.isMacOS()||SF.isiOS(),xr=CF.browser.isFirefox(),lP=(t,n,o)=>{const r=o.keyCode===Ze.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=t.selection.isCollapsed(),f=a?"character":"selection",y=T=>a?T?"word":"line":"selection";h$([{keyCode:Ze.BACKSPACE,action:Dn(m_,t)},{keyCode:Ze.BACKSPACE,action:Dn(fM,t,!1)},{keyCode:Ze.DELETE,action:Dn(fM,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(aM,t,!1)},{keyCode:Ze.DELETE,action:Dn(aM,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(GT,t,n,!1)},{keyCode:Ze.DELETE,action:Dn(GT,t,n,!0)},{keyCode:Ze.BACKSPACE,action:Dn(xb,t,!1)},{keyCode:Ze.DELETE,action:Dn(xb,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(C_,t,!1,f)},{keyCode:Ze.DELETE,action:Dn(C_,t,!0,f)},...GU?[{keyCode:Ze.BACKSPACE,altKey:!0,action:Dn(C_,t,!1,y(!0))},{keyCode:Ze.DELETE,altKey:!0,action:Dn(C_,t,!0,y(!0))},{keyCode:Ze.BACKSPACE,metaKey:!0,action:Dn(C_,t,!1,y(!1))}]:[{keyCode:Ze.BACKSPACE,ctrlKey:!0,action:Dn(C_,t,!1,y(!0))},{keyCode:Ze.DELETE,ctrlKey:!0,action:Dn(C_,t,!0,y(!0))}],{keyCode:Ze.BACKSPACE,action:Dn(hM,t,!1)},{keyCode:Ze.DELETE,action:Dn(hM,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(qc,t,!1)},{keyCode:Ze.DELETE,action:Dn(qc,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(RT,t,!1)},{keyCode:Ze.DELETE,action:Dn(RT,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(gf,t,!1)},{keyCode:Ze.DELETE,action:Dn(gf,t,!0)},{keyCode:Ze.BACKSPACE,action:Dn(TM,t,!1)},{keyCode:Ze.DELETE,action:Dn(TM,t,!0)}],o).filter(T=>t.selection.isEditable()).each(T=>{o.preventDefault(),cP(t,r).isDefaultPrevented()||(T(),zC(t,r))})},Hm=(t,n,o)=>p_([{keyCode:Ze.BACKSPACE,action:Dn(hI,t)},{keyCode:Ze.DELETE,action:Dn(hI,t)},...GU?[{keyCode:Ze.BACKSPACE,altKey:!0,action:Dn(kC,t)},{keyCode:Ze.DELETE,altKey:!0,action:Dn(kC,t)},...o?[{keyCode:xr?224:91,action:Dn(kC,t)}]:[]]:[{keyCode:Ze.BACKSPACE,ctrlKey:!0,action:Dn(kC,t)},{keyCode:Ze.DELETE,ctrlKey:!0,action:Dn(kC,t)}]],n),EF=(t,n)=>{let o=!1;t.on("keydown",r=>{o=r.keyCode===Ze.BACKSPACE,r.isDefaultPrevented()||lP(t,n,r)}),t.on("keyup",r=>{r.isDefaultPrevented()||Hm(t,r,o),o=!1})},TF=t=>{for(;t;){if(Ge(t)||se(t)&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}return null},S_=(t,n)=>{const o=t.dom,r=t.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const f=TF(n.firstChild);f&&/^(UL|OL|DL)$/.test(f.nodeName)&&n.insertBefore(o.doc.createTextNode(zs),n.firstChild)}const a=o.createRng();if(n.normalize(),n.hasChildNodes()){const f=new Vs(n,n);let y=n,T;for(;T=f.current();){if(se(T)){a.setStart(T,0),a.setEnd(T,0);break}if(r[T.nodeName.toLowerCase()]){a.setStartBefore(T),a.setEndBefore(T);break}y=T,T=f.next()}T||(a.setStart(y,0),a.setEnd(y,0))}else es(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)):(a.setStart(n,0),a.setEnd(n,0));t.selection.setRng(a),$y(t,a)},Mb=(t,n)=>{const o=t.getRoot();let r,a=n;for(;a!==o&&a&&t.getContentEditable(a)!=="false";){if(t.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},WC=t=>X.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),AF=t=>WC(t).fold(re(""),n=>n.nodeName.toUpperCase()),kF=t=>WC(t).filter(n=>ls(ht.fromDom(n))).isSome(),uP=t=>{t.innerHTML='<br data-mce-bogus="1">'},qU=(t,n,o)=>{const r=t.dom;X.from(o.style).map(r.parseStyle).each(O=>{const U={...uc(ht.fromDom(n)),...O};r.setStyles(n,U)});const a=X.from(o.class).map(O=>O.split(/\s+/)),f=X.from(n.className).map(O=>Se(O.split(/\s+/),B=>B!==""));ti(a,f,(O,B)=>{const U=Se(B,q=>!Mt(O,q)),j=[...O,...U];r.setAttrib(n,"class",j.join(" "))});const y=["style","class"],T=Os(o,(O,B)=>!Mt(y,B));r.setAttribs(n,T)},UC=(t,n)=>{if(la(t).toLowerCase()===n.tagName.toLowerCase()){const r=N1(t);qU(t,n,r)}},OF=(t,n,o,r,a=!0,f,y)=>{const T=t.dom,O=t.schema,B=la(t),U=o?o.nodeName.toUpperCase():"";let j=n;const q=O.getTextInlineElements();let nt;f||U==="TABLE"||U==="HR"?nt=T.create(f||B,y||{}):nt=o.cloneNode(!1);let at=nt;if(!a)T.setAttrib(nt,"style",null),T.setAttrib(nt,"class",null);else do if(q[j.nodeName]){if(jc(j)||Tl(j))continue;const st=j.cloneNode(!1);T.setAttrib(st,"id",""),nt.hasChildNodes()?(st.appendChild(nt.firstChild),nt.appendChild(st)):(at=st,nt.appendChild(st))}while((j=j.parentNode)&&j!==r);return UC(t,nt),uP(at),nt},KU=(t,n)=>t.dom.getParent(n,Nc),DF=(t,n,o)=>{let r=n;for(;r&&r!==t&&vt(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return Nc(a);r=a}return!1},YU=(t,n,o)=>!n&&o.nodeName.toLowerCase()===la(t)&&t.dom.isEmpty(o)&&DF(t.getBody(),o,r=>Sn(t.schema.getTextBlockElements(),r.nodeName.toLowerCase())),XU=(t,n,o)=>{var r,a,f;const y=n(la(t)),T=KU(t,o);T&&(t.dom.insertAfter(y,T),S_(t,y),((f=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&f!==void 0?f:0)>1&&t.dom.remove(o))},JU=(t,n)=>t.firstChild&&t.firstChild.nodeName===n,QU=t=>{var n;return((n=t.parentNode)===null||n===void 0?void 0:n.firstChild)===t},RF=(t,n)=>{const o=t==null?void 0:t.parentNode;return Zt(o)&&o.nodeName===n},dP=t=>Zt(t)&&/^(OL|UL|LI)$/.test(t.nodeName),lA=t=>Zt(t)&&/^(LI|DT|DD)$/.test(t.nodeName),tj=t=>dP(t)&&dP(t.parentNode),uA=t=>{const n=t.parentNode;return lA(n)?n:t},fP=(t,n,o)=>{let r=t[o?"firstChild":"lastChild"];for(;r&&!Ge(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},dA=t=>yo(Td(uc(ht.fromDom(t)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),ej=(t,n,o,r,a)=>{const f=t.dom,y=t.selection.getRng(),T=o.parentNode;if(o===t.getBody()||!T)return;tj(o)&&(a="LI");const O=lA(r)?dA(r):void 0;let B=lA(r)&&O?n(a,{style:dA(r)}):n(a);if(fP(o,r,!0)&&fP(o,r,!1))if(RF(o,"LI")){const U=uA(o);f.insertAfter(B,U),QU(o)?f.remove(U):f.remove(o)}else f.replace(B,o);else if(fP(o,r,!0))RF(o,"LI")?(f.insertAfter(B,uA(o)),B.appendChild(f.doc.createTextNode(" ")),B.appendChild(o)):T.insertBefore(B,o),f.remove(r);else if(fP(o,r,!1))f.insertAfter(B,uA(o)),f.remove(r);else{o=uA(o);const U=y.cloneRange();U.setStartAfter(r),U.setEndAfter(o);const j=U.extractContents();if(a==="LI"&&JU(j,"LI")){const q=Se(Ht(B.children,ht.fromDom),go(Uh("br")));B=j.firstChild,f.insertAfter(j,o),wt(q,nt=>Rc(ht.fromDom(B),nt)),O&&B.setAttribute("style",O)}else f.insertAfter(j,o),f.insertAfter(B,o);f.remove(r)}S_(t,B)},nj=t=>{wt(e1(ht.fromDom(t),ws),n=>{const o=n.dom;o.nodeValue=pc(o.data)})},oj=(t,n)=>{const o=t.dom.getParent(n,"ol,ul,dl");return o!==null&&t.dom.getContentEditableParent(o)==="false"},MF=(t,n)=>n&&n.nodeName==="A"&&t.isEmpty(n),hP=(t,n)=>t.nodeName===n||t.previousSibling&&t.previousSibling.nodeName===n,fA=(t,n)=>Zt(n)&&t.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&t.isEditable(n.parentNode)&&t.getContentEditable(n)!=="false",sj=(t,n,o)=>{var r;const a=[];if(!o)return;let f=o;for(;f=f.firstChild;){if(t.isBlock(f))return;Ge(f)&&!n[f.nodeName.toLowerCase()]&&a.push(f)}let y=a.length;for(;y--;)f=a[y],(!f.hasChildNodes()||f.firstChild===f.lastChild&&((r=f.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||MF(t,f))&&t.remove(f)},mP=(t,n,o)=>se(n)?t?o===1&&n.data.charAt(o-1)===vr?0:o:o===n.data.length-1&&n.data.charAt(o)===vr?n.data.length:o:o,YX=t=>{const n=t.cloneRange();return n.setStart(t.startContainer,mP(!0,t.startContainer,t.startOffset)),n.setEnd(t.endContainer,mP(!1,t.endContainer,t.endOffset)),n},$a=t=>{let n=t;do se(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},rj=(t,n,o,r,a)=>{var f,y;const T=t.dom,O=(f=Mb(T,r))!==null&&f!==void 0?f:T.getRoot();let B=T.getParent(r,T.isBlock);if(!B||!fA(T,B)){if(B=B||O,!B.hasChildNodes()){const nt=T.create(n);return UC(t,nt),B.appendChild(nt),o.setStart(nt,0),o.setEnd(nt,0),nt}let U=r;for(;U&&U.parentNode!==B;)U=U.parentNode;let j;for(;U&&!T.isBlock(U);)j=U,U=U.previousSibling;const q=(y=j==null?void 0:j.parentElement)===null||y===void 0?void 0:y.nodeName;if(j&&q&&t.schema.isValidChild(q,n.toLowerCase())){const nt=j.parentNode,at=T.create(n);for(UC(t,at),nt.insertBefore(at,j),U=j;U&&!T.isBlock(U);){const st=U.nextSibling;at.appendChild(U),U=st}o.setStart(r,a),o.setEnd(r,a)}}return r},ij=(t,n)=>{n.normalize();const o=n.lastChild;(!o||Ge(o)&&/^(left|right)$/gi.test(t.getStyle(o,"float",!0)))&&t.add(n,"br")},aj=(t,n)=>{const o=tb(t);return sn(n)?!1:ft(o)?Mt(fe.explode(o),n.nodeName.toLowerCase()):o},PF={insert:(t,n)=>{let o,r,a,f,y=!1;const T=t.dom,O=t.schema,B=O.getNonEmptyElements(),U=t.selection.getRng(),j=la(t),q=ht.fromDom(U.startContainer),nt=Dd(q,U.startOffset),at=nt.exists(Qt=>cc(Qt)&&!Ln(Qt)),st=U.collapsed&&at,ct=(Qt,Oe)=>OF(t,o,ge,Jt,Wk(t),Qt,Oe),xt=Qt=>{const Oe=mP(Qt,o,r);if(se(o)&&(Qt?Oe>0:Oe<o.data.length))return!1;if((o.parentNode===ge||o===ge)&&y&&!Qt||Qt&&Ge(o)&&o===ge.firstChild)return!0;if(hP(o,"TABLE")||hP(o,"HR"))return y&&!Qt||!y&&Qt;const tn=new Vs(o,ge);se(o)&&(Qt&&Oe===0?tn.prev():!Qt&&Oe===o.data.length&&tn.next());let Un;for(;Un=tn.current();){if(Ge(Un)){if(!Un.getAttribute("data-mce-bogus")){const no=Un.nodeName.toLowerCase();if(B[no]&&no!=="br")return!1}}else if(se(Un)&&!ll(Un.data))return!1;Qt?tn.prev():tn.next()}return!0},St=()=>{let Qt;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&Re!=="HGROUP"?Qt=ct(j):Qt=ct(),aj(t,f)&&fA(T,f)&&T.isEmpty(ge,void 0,{includeZwsp:!0})?Qt=T.split(f,ge):T.insertAfter(Qt,ge),S_(t,Qt),Qt};Te(T,U).each(Qt=>{U.setStart(Qt.startContainer,Qt.startOffset),U.setEnd(Qt.endContainer,Qt.endOffset)}),o=U.startContainer,r=U.startOffset;const Et=!!(n&&n.shiftKey),Nt=!!(n&&n.ctrlKey);Ge(o)&&o.hasChildNodes()&&!st&&(y=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,y&&se(o)?r=o.data.length:r=0);const Jt=Mb(T,o);if(!Jt||oj(t,o))return;Et||(o=rj(t,j,U,o,r));let ge=T.getParent(o,T.isBlock)||T.getRoot();f=Zt(ge==null?void 0:ge.parentNode)?T.getParent(ge.parentNode,T.isBlock):null,a=ge?ge.nodeName.toUpperCase():"";const Re=f?f.nodeName.toUpperCase():"";if(Re==="LI"&&!Nt){const Qt=f;ge=Qt,f=Qt.parentNode,a=Re}if(Ge(f)&&YU(t,Et,ge))return XU(t,ct,ge);if(/^(LI|DT|DD)$/.test(a)&&Ge(f)&&T.isEmpty(ge)){ej(t,ct,f,ge,j);return}if(!st&&(ge===t.getBody()||!fA(T,ge)))return;const le=ge.parentNode;let jt;if(st)jt=ct(j),nt.fold(()=>{Ks(q,ht.fromDom(jt))},Qt=>{gi(Qt,ht.fromDom(jt))}),t.selection.setCursorLocation(jt,0);else if(qp(ge))jt=C1(ge),T.isEmpty(ge)&&uP(ge),UC(t,jt),S_(t,jt);else if(xt(!1))jt=St();else if(xt(!0)&&le){jt=le.insertBefore(ct(),ge);const Qt=ug(ht.fromDom(U.startContainer))&&U.collapsed;S_(t,hP(ge,"HR")||Qt?jt:ge)}else{const Qt=YX(U).cloneRange();Qt.setEndAfter(ge);const Oe=Qt.extractContents();nj(Oe),$a(Oe),jt=Oe.firstChild,T.insertAfter(Oe,ge),sj(T,B,jt),ij(T,ge),T.isEmpty(ge)&&uP(ge),jt.normalize(),T.isEmpty(jt)?(T.remove(jt),St()):(UC(t,jt),S_(t,jt))}T.setAttrib(jt,"id",""),t.dispatch("NewBlock",{newBlock:jt})},fakeEventName:"insertParagraph"},cj=(t,n,o)=>{const r=new Vs(n,o);let a;const f=t.getNonEmptyElements();for(;a=r.next();)if(f[a.nodeName.toLowerCase()]||se(a)&&a.length>0)return!0;return!1},jC=(t,n,o)=>{const r=t.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.selection.setRng(r),$y(t,r)},lj=(t,n)=>{const o=t.selection,r=t.dom,a=o.getRng();let f,y=!1;Te(r,a).each(nt=>{a.setStart(nt.startContainer,nt.startOffset),a.setEnd(nt.endContainer,nt.endOffset)});let T=a.startOffset,O=a.startContainer;if(Ge(O)&&O.hasChildNodes()){const nt=T>O.childNodes.length-1;O=O.childNodes[Math.min(T,O.childNodes.length-1)]||O,nt&&se(O)?T=O.data.length:T=0}let B=r.getParent(O,r.isBlock);const U=B&&B.parentNode?r.getParent(B.parentNode,r.isBlock):null,j=U?U.nodeName.toUpperCase():"",q=!!(n&&n.ctrlKey);j==="LI"&&!q&&(B=U),se(O)&&T>=O.data.length&&(cj(t.schema,O,B||r.getRoot())||(f=r.create("br"),a.insertNode(f),a.setStartAfter(f),a.setEndAfter(f),y=!0)),f=r.create("br"),O1(r,a,f),jC(t,f,y),t.undoManager.add()},uj=(t,n)=>{const o=ht.fromTag("br");gi(ht.fromDom(n),o),t.undoManager.add()},gP=(t,n)=>{dj(t.getBody(),n)||$u(ht.fromDom(n),ht.fromTag("br"));const o=ht.fromTag("br");$u(ht.fromDom(n),o),jC(t,o.dom,!1),t.undoManager.add()},pP=t=>es(t.getNode()),dj=(t,n)=>pP(Ut.after(n))?!0:Pa(t,Ut.after(n)).map(o=>es(o.getNode())).getOr(!1),fj=t=>t&&t.nodeName==="A"&&"href"in t,QX=t=>t.fold(Gt,fj,fj,Gt),tJ=t=>{const n=Kt(bv,t),o=Ut.fromRangeStart(t.selection.getRng());return Th(n,t.getBody(),o).filter(QX)},hj=(t,n)=>{n.fold(Ye,Kt(uj,t),Kt(gP,t),Ye)},NF={insert:(t,n)=>{const o=tJ(t);o.isSome()?o.each(Kt(hj,t)):lj(t,n)},fakeEventName:"insertLineBreak"},yf=(t,n)=>WC(t).filter(o=>n.length>0&&Ri(ht.fromDom(o),n)).isSome(),mj=t=>yf(t,a2(t)),LF=t=>yf(t,uh(t)),Cu=Jd.generate([{br:[]},{block:[]},{none:[]}]),gj=(t,n)=>LF(t),BF=t=>(n,o)=>kF(n)===t,IF=(t,n)=>(o,r)=>AF(o)===t.toUpperCase()===n,pj=t=>{const n=Mb(t.dom,t.selection.getStart());return sn(n)},ZC=t=>IF("pre",t),bj=()=>IF("summary",!0),E_=t=>(n,o)=>zk(n)===t,$F=(t,n)=>mj(t),Wv=(t,n)=>n,vj=t=>{const n=la(t),o=Mb(t.dom,t.selection.getStart());return Zt(o)&&t.schema.isValidChild(o.nodeName,n)},yj=t=>{const n=t.selection.getRng(),o=ht.fromDom(n.startContainer),a=Dd(o,n.startOffset).map(f=>cc(f)&&!Ln(f));return n.collapsed&&a.getOr(!0)},bd=(t,n)=>(o,r)=>yo(t,(f,y)=>f&&y(o,r),!0)?X.some(n):X.none(),_j=(t,n)=>vI([bd([gj],Cu.none()),bd([ZC(!0),pj],Cu.none()),bd([bj()],Cu.br()),bd([ZC(!0),E_(!1),Wv],Cu.br()),bd([ZC(!0),E_(!1)],Cu.block()),bd([ZC(!0),E_(!0),Wv],Cu.block()),bd([ZC(!0),E_(!0)],Cu.br()),bd([BF(!0),Wv],Cu.br()),bd([BF(!0)],Cu.block()),bd([$F],Cu.br()),bd([Wv],Cu.br()),bd([vj],Cu.block()),bd([yj],Cu.block())],[t,!!(n&&n.shiftKey)]).getOr(Cu.none()),hA=(t,n,o)=>{n.selection.isCollapsed()||CD(n),!(Zt(o)&&cP(n,t.fakeEventName).isDefaultPrevented())&&(t.insert(n,o),Zt(o)&&zC(n,t.fakeEventName))},bP=(t,n)=>{const o=()=>hA(NF,t,n),r=()=>hA(PF,t,n),a=_j(t,n);switch(i2(t)){case"linebreak":a.fold(o,o,Ye);break;case"block":a.fold(r,r,Ye);break;case"invert":a.fold(r,o,Ye);break;default:a.fold(o,r,Ye);break}},FF=Ec(),HF=FF.os.isiOS()&&FF.browser.isSafari(),vP=(t,n)=>{n.isDefaultPrevented()||(n.preventDefault(),HV(t.undoManager),t.undoManager.transact(()=>{bP(t,n)}))},xj=t=>{if(!t.collapsed)return!1;const n=t.startContainer;if(se(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(t.startOffset-1);return o.test(r)}else return!1},wj=t=>{let n=X.none();const o=a=>{n=X.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,f)=>{a.undoManager.undo(),n.fold(Ye,y=>a.selection.moveToBookmark(y)),vP(a,f),n=X.none()};t.on("keydown",a=>{a.keyCode===Ze.ENTER&&(HF&&xj(t.selection.getRng())?o(t):vP(t,a))}),t.on("keyup",a=>{a.keyCode===Ze.ENTER&&n.each(()=>r(t,a))})},yP=(t,n,o)=>{const r=Ee.os.isMacOS()||Ee.os.isiOS();p_([{keyCode:Ze.END,action:Dn(u$,t,!0)},{keyCode:Ze.HOME,action:Dn(u$,t,!1)},...r?[]:[{keyCode:Ze.HOME,action:Dn(DC,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ze.END,action:Dn(DC,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ze.END,action:Dn(g$,t,!0)},{keyCode:Ze.HOME,action:Dn(g$,t,!1)},{keyCode:Ze.END,action:Dn(ZT,t,!0,n)},{keyCode:Ze.HOME,action:Dn(ZT,t,!1,n)}],o).each(a=>{o.preventDefault()})},Cj=(t,n)=>{t.on("keydown",o=>{o.isDefaultPrevented()||yP(t,n,o)})},Sj=t=>{t.on("input",n=>{n.isComposing||qs(t)})},mA=Ec(),Ej=(t,n,o)=>{p_([{keyCode:Ze.PAGE_UP,action:Dn(ZT,t,!1,n)},{keyCode:Ze.PAGE_DOWN,action:Dn(ZT,t,!0,n)}],o)},gA=t=>t.stopImmediatePropagation(),pA=t=>t.keyCode===Ze.PAGE_UP||t.keyCode===Ze.PAGE_DOWN,_P=(t,n,o)=>{o&&!t.get()?n.on("NodeChange",gA,!0):!o&&t.get()&&n.off("NodeChange",gA),t.set(o)},Tj=(t,n)=>{if(mA.os.isMacOS())return;const o=Gs(!1);t.on("keydown",r=>{pA(r)&&_P(o,t,!0)}),t.on("keyup",r=>{r.isDefaultPrevented()||Ej(t,n,r),pA(r)&&o.get()&&(_P(o,t,!1),t.nodeChanged())})},nJ=t=>{t.on("beforeinput",n=>{(!t.selection.isEditable()||_t(n.getTargetRanges(),o=>!TN(t.dom,o)))&&n.preventDefault()})},ep=(t,n)=>{const o=n.container(),r=n.offset();return se(o)?(o.insertData(r,t),X.some(Ut(o,r+t.length))):tf(n).map(a=>{const f=ht.fromText(t);return n.isAtEnd()?$u(a,f):gi(a,f),Ut(f.dom,t.length)})},VF=Kt(ep,zs),zF=Kt(ep," "),Aj=(t,n,o)=>pD(t,n,o)?VF(n):zF(n),bA=t=>n=>n.fold(o=>Qa(t.dom,Ut.before(o)),o=>da(o),o=>hu(o),o=>Pa(t.dom,Ut.after(o))),WF=(t,n,o)=>r=>pD(t,r,o)?VF(n):zF(n),xP=t=>n=>{t.selection.setRng(n.toRange()),t.nodeChanged()},kj=(t,n)=>t.isEditable(t.getParent(n,"summary")),UF=t=>{const n=Ut.fromRangeStart(t.selection.getRng()),o=ht.fromDom(t.getBody());if(t.selection.isCollapsed()){const r=Kt(bv,t),a=Ut.fromRangeStart(t.selection.getRng());return Th(r,t.getBody(),a).bind(bA(o)).map(f=>()=>WF(o,n,t.schema)(f).each(xP(t)))}else return X.none()},Oj=t=>{const n=()=>{const o=ht.fromDom(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete");const r=Ut.fromRangeStart(t.selection.getRng());Aj(o,r,t.schema).each(xP(t))};return _o(Ee.browser.isFirefox()&&t.selection.isEditable()&&kj(t.dom,t.selection.getRng().startContainer),n)},Dj=(t,n)=>{h$([{keyCode:Ze.SPACEBAR,action:Dn(UF,t)},{keyCode:Ze.SPACEBAR,action:Dn(Oj,t)}],n).each(o=>{n.preventDefault(),cP(t,"insertText",{data:" "}).isDefaultPrevented()||(o(),zC(t,"insertText",{data:" "}))})},Rj=t=>{t.on("keydown",n=>{n.isDefaultPrevented()||Dj(t,n)})},jF=t=>P2(t)?[{keyCode:Ze.TAB,action:Dn(tp,t,!0)},{keyCode:Ze.TAB,shiftKey:!0,action:Dn(tp,t,!1)}]:[],wP=(t,n)=>{p_([...jF(t)],n).each(o=>{n.preventDefault()})},Mj=t=>{t.on("keydown",n=>{n.isDefaultPrevented()||wP(t,n)})},CP=t=>{if(t.addShortcut("Meta+P","","mcePrint"),mF(t),Pl(t))return Gs(null);{const n=jW(t);return nJ(t),_9(t),D$(t,n),EF(t,n),wj(t),Rj(t),Sj(t),Mj(t),Cj(t,n),Tj(t,n),n}};class ZF{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",a=>{const f=n.selection.getRng(),y={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(a.type==="nodechange"||!S(y,o))&&n.dispatch("SelectionChange"),o=y}),n.on("contextmenu",()=>{Ow(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const a=n.selection.getStart(!0);a&&J1(n)&&!r.isSameElementPath(a)&&n.dom.isChildOf(a,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",a=>{!a.isDefaultPrevented()&&J1(n)&&(n.selection.getNode().nodeName==="IMG"?cd.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!Xk(this.editor)&&!this.editor.mode.isReadOnly()){const a=this.editor.getBody();r=o.getStart(!0)||a,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,a))&&(r=a);const f=[];this.editor.dom.getParent(r,y=>y===a?!0:(f.push(y),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:f})}}isSameElementPath(n){let o;const r=this.editor,a=Qo(r.dom.getParents(n,Ae,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const GC=R("image"),GF=t=>{const n=t;return X.from(n[GC])},qF=(t,n)=>{const o=t;o[GC]=n},SP=R("event"),Pj=t=>{const n=t;return X.from(n[SP])},Uv=t=>n=>{const o=n;o[SP]=t},KF=(t,n)=>Uv(n)(t),YF=Uv(0),Nj=Uv(2),XF=Uv(1),Lj=(t=>n=>{const o=n;return X.from(o[SP]).exists(r=>r===t)})(0),Bj=()=>Object.freeze({length:0,item:t=>null}),EP=R("mode"),Ij=t=>{const n=t;return X.from(n[EP])},qC=t=>n=>{const o=n;o[EP]=t},JF=(t,n)=>qC(n)(t),TP=qC(0),AP=qC(2),$j=qC(1),QF=t=>n=>{const o=n;return X.from(o[EP]).exists(r=>r===t)},T_=QF(0),t5=QF(1),A_=(t,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(T_(t))if(ft(o)){if(!Hn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{T_(t)&&n.remove(o)},clear:()=>{T_(t)&&n.clear()}}),Fj=["none","copy","link","move"],Hj=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],vA=()=>{const t=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(a){Mt(Fj,a)&&(n=a)},get effectAllowed(){return o},set effectAllowed(a){Lj(r)&&Mt(Hj,a)&&(o=a)},get items(){return A_(r,t.items)},get files(){return t5(r)?Bj():t.files},get types(){return t.types},setDragImage:(a,f,y)=>{T_(r)&&(qF(r,{image:a,x:f,y}),t.setDragImage(a,f,y))},getData:a=>t5(r)?"":t.getData(a),setData:(a,f)=>{T_(r)&&t.setData(a,f)},clearData:a=>{T_(r)&&t.clearData(a)}};return TP(r),r},Vj=t=>{const n=vA(),o=Ij(t);return AP(t),YF(n),n.dropEffect=t.dropEffect,n.effectAllowed=t.effectAllowed,GF(t).each(r=>n.setDragImage(r.image,r.x,r.y)),wt(t.types,r=>{r!=="Files"&&n.setData(r,t.getData(r))}),wt(t.files,r=>n.items.add(r)),Pj(t).each(r=>{KF(n,r)}),o.each(r=>{JF(t,r),JF(n,r)}),n},zj=t=>{const n=t.getData("text/html");return n===""?X.none():X.some(n)},e5=(t,n)=>t.setData("text/html",n),kP="x-tinymce/html",yA=re(kP),OP="<!-- "+kP+" -->",sJ=t=>OP+t,_A=t=>t.replace(OP,""),n5=t=>t.indexOf(OP)!==-1,Wj=t=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t),Uj=(t,n)=>{let o="<"+t;const r=Td(n,(a,f)=>f+'="'+Bi.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},jj=(t,n,o)=>{const r=t.split(/\n\n/),a=Uj(n,o),f="</"+n+">",y=Ht(r,O=>O.split(/\n/).join("<br />")),T=O=>a+O+f;return y.length===1?y[0]:Ht(y,T).join("")},o5="%MCEPASTEBIN%",Zj=(t,n)=>{const{dom:o,selection:r}=t,a=t.getBody();n.set(r.getRng());const f=o.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},o5);Ee.browser.isFirefox()&&o.setStyle(f,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(f,"beforedeactivate focusin focusout",y=>{y.stopPropagation()}),f.focus(),r.select(f,!0)},Gj=(t,n)=>{const o=t.dom;if(DP(t)){let r;const a=n.get();for(;r=DP(t);)o.remove(r),o.unbind(r);a&&t.selection.setRng(a)}n.set(null)},DP=t=>t.dom.get("mcepastebin"),qj=t=>Zt(t)&&t.id==="mcepastebin",Kj=t=>{const n=t.dom,o=(y,T)=>{y.appendChild(T),n.remove(T,!0)},[r,...a]=Se(t.getBody().childNodes,qj);wt(a,y=>{o(r,y)});const f=n.select("div[id=mcepastebin]",r);for(let y=f.length-1;y>=0;y--){const T=n.create("div");r.insertBefore(T,f[y]),o(T,f[y])}return r?r.innerHTML:""},s5=t=>t===o5,Yj=t=>{const n=Gs(null);return{create:()=>Zj(t,n),remove:()=>Gj(t,n),getEl:()=>DP(t),getHtml:()=>Kj(t),getLastRng:n.get}},r5=(t,n)=>(fe.each(n,o=>{Nn(o,RegExp)?t=t.replace(o,""):t=t.replace(o[0],o[1])}),t),fs=t=>{const n=Yu(),o=ma({},n);let r="";const a=n.getVoidElements(),f=fe.makeMap("script noscript style textarea video audio iframe object"," "),y=n.getBlockElements(),T=O=>{const B=O.name,U=O;if(B==="br"){r+=`
`;return}if(B!=="wbr"){if(a[B]&&(r+=" "),f[B]){r+=" ";return}if(O.type===3&&(r+=O.value),!(O.name in n.getVoidElements())){let j=O.firstChild;if(j)do T(j);while(j=j.next)}y[B]&&U.next&&(r+=`
`,B==="p"&&(r+=`
`))}};return t=r5(t,[/<!\[[^\]]+\]>/g]),T(o.parse(t)),r},i5=t=>(t=r5(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":zs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t),a5=t=>{let n=0;return()=>t+n++},Xj=t=>{const n=t.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return fe.hasOwn(o,n)?"image/"+o[n]:"image/"+n},RP=(t,n)=>{const o=ma({sanitize:R2(t),sandbox_iframes:Ux(t),sandbox_iframes_exclusions:ib(t),convert_unsafe_embeds:N2(t)},t.schema);o.addNodeFilter("meta",a=>{fe.each(a,f=>{f.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return gn({validate:!0},t.schema).serialize(r)},MP=(t,n)=>({content:t,cancelled:n}),Jj=(t,n,o)=>{const r=t.dom.create("div",{style:"display:none"},n),a=En(t,r,o);return MP(a.node.innerHTML,a.isDefaultPrevented())},Qj=(t,n,o)=>{const r=mN(t,n,o),a=RP(t,r.content);return t.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?Jj(t,a,o):MP(a,r.isDefaultPrevented())},c5=(t,n,o)=>Qj(t,n,o),KC=(t,n)=>(t.insertContent(n,{merge:oO(t),paste:!0}),!0),PP=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),tZ=(t,n)=>PP(n)&&_t(rb(t),o=>Ru(n.toLowerCase(),`.${o.toLowerCase()}`)),eZ=(t,n,o)=>(t.undoManager.extra(()=>{o(t,n)},()=>{t.insertContent('<img src="'+n+'">')}),!0),l5=(t,n,o)=>(t.undoManager.extra(()=>{o(t,n)},()=>{t.execCommand("mceInsertLink",!1,n)}),!0),nZ=(t,n,o)=>!t.selection.isCollapsed()&&PP(n)?l5(t,n,o):!1,oZ=(t,n,o)=>tZ(t,n)?eZ(t,n,o):!1,k_=(t,n)=>{fe.each([nZ,oZ,KC],o=>!o(t,n,KC))},sZ=(t,n,o)=>{o||!O2(t)?KC(t,n):k_(t,n)},O_=a5("mceclip"),YC=t=>{const n=vA();return e5(n,t),AP(n),n},u5=(t,n,o,r,a)=>{const f=c5(t,n,o);if(!f.cancelled){const y=f.content,T=()=>sZ(t,y,r);a?cP(t,"insertFromPaste",{dataTransfer:YC(y)}).isDefaultPrevented()||(T(),zC(t,"insertFromPaste")):T()}},xA=(t,n,o,r)=>{const a=o||n5(n);u5(t,_A(n),a,!1,r)},Pb=(t,n,o)=>{const r=t.dom.encode(n).replace(/\r\n/g,`
`),a=o1(r,sO(t)),f=jj(a,la(t),N1(t));u5(t,f,!1,!0,o)},d5=t=>{const n={};if(t&&t.types)for(let o=0;o<t.types.length;o++){const r=t.types[o];try{n[r]=t.getData(r)}catch{n[r]=""}}return n},Vm=(t,n)=>n in t&&t[n].length>0,f5=t=>Vm(t,"text/html")||Vm(t,"text/plain"),h5=(t,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Zt(o)?t.dom.encode(o[1]):void 0},m5=(t,n,o,r)=>{const a=O_(),f=Px(t)&&Zt(o.name),y=f?h5(t,o.name):a,T=f?o.name:void 0,O=n.create(a,o,r,y,T);return n.add(O),O},NP=(t,n)=>{eT(n.uri).each(({data:o,type:r,base64Encoded:a})=>{const f=a?o:btoa(o),y=n.file,T=t.editorUpload.blobCache,O=T.getByData(f,r),B=O??m5(t,T,y,f);xA(t,`<img src="${B.blobUri()}">`,!1,!0)})},g5=t=>t.type==="paste",rZ=t=>Promise.all(Ht(t,n=>oC(n).then(o=>({file:n,uri:o})))),iZ=t=>{const n=rb(t);return o=>er(o.type,"image/")&&_t(n,r=>Xj(r)===o.type)},p5=(t,n)=>{const o=n.items?Ps(Vi(n.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=n.files?Vi(n.files):[];return Se(o.length>0?o:r,iZ(t))},b5=(t,n,o)=>{const r=g5(n)?n.clipboardData:n.dataTransfer;if(dh(t)&&r){const a=p5(t,r);if(a.length>0)return n.preventDefault(),rZ(a).then(f=>{o&&t.selection.setRng(o),wt(f,y=>{NP(t,y)})}),!0}return!1},v5=t=>{var n,o;return Ee.os.isAndroid()&&((o=(n=t.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},LP=t=>Ze.metaKeyPressed(t)&&t.keyCode===86||t.shiftKey&&t.keyCode===45,wA=(t,n,o,r,a)=>{let f=i5(o);const y=Vm(n,yA())||n5(o),T=!y&&Wj(f),O=PP(f);(s5(f)||!f.length||T&&!O)&&(r=!0),(r||O)&&(Vm(n,"text/plain")&&T?f=n["text/plain"]:f=fs(f)),!s5(f)&&(r?Pb(t,f,a):xA(t,f,y,a))},aZ=(t,n,o)=>{let r;const a=()=>n.getLastRng()||t.selection.getRng();t.on("keydown",f=>{LP(f)&&!f.isDefaultPrevented()&&(r=f.shiftKey&&f.keyCode===86)}),t.on("paste",f=>{if(f.isDefaultPrevented()||v5(f))return;const y=o.get()==="text"||r;r=!1;const T=d5(f.clipboardData);!f5(T)&&b5(t,f,a())||(Vm(T,"text/html")?(f.preventDefault(),wA(t,T,T["text/html"],y,!0)):Vm(T,"text/plain")&&Vm(T,"text/uri-list")?(f.preventDefault(),wA(t,T,T["text/plain"],y,!0)):(n.create(),cd.setEditorTimeout(t,()=>{const O=n.getHtml();n.remove(),wA(t,T,O,y,!1)},0)))})},cZ=t=>{const n=a=>er(a,"webkit-fake-url"),o=a=>er(a,"data:"),r=a=>{var f;return((f=a.data)===null||f===void 0?void 0:f.paste)===!0};t.parser.addNodeFilter("img",(a,f,y)=>{if(!dh(t)&&r(y))for(const T of a){const O=T.attr("src");ft(O)&&!T.attr("data-mce-object")&&O!==Ee.transparentSrc&&(n(O)||!zx(t)&&o(O))&&T.remove()}})},lZ=(t,n,o)=>{aZ(t,n,o),cZ(t)},y5=(t,n)=>{n.get()==="text"?(n.set("html"),fE(t,!1)):(n.set("text"),fE(t,!0)),t.focus()},BP=(t,n)=>{t.addCommand("mceTogglePlainTextPaste",()=>{y5(t,n)}),t.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&xA(t,r.html,r.internal,!1),r.text&&Pb(t,r.text,!1)})},uZ=(t,n,o)=>{if(t)try{return t.clearData(),t.setData("text/html",n),t.setData("text/plain",o),t.setData(yA(),n),!0}catch{return!1}else return!1},IP=(t,n,o,r)=>{uZ(t.clipboardData,n.html,n.text)?(t.preventDefault(),r()):o(n.html,r)},$P=t=>(n,o)=>{const{dom:r,selection:a}=t,f=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),y=r.create("div",{contenteditable:"true"},n);r.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(y),r.add(t.getBody(),f);const T=a.getRng();y.focus();const O=r.createRng();O.selectNodeContents(y),a.setRng(O),cd.setEditorTimeout(t,()=>{a.setRng(T),r.remove(f),o()},0)},_5=t=>({html:sJ(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),x5=t=>!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody()),w5=t=>!t.selection.isCollapsed()||x5(t),dZ=t=>n=>{!n.isDefaultPrevented()&&w5(t)&&t.selection.isEditable()&&IP(n,_5(t),$P(t),()=>{if(Ee.browser.isChromium()||Ee.browser.isFirefox()){const o=t.selection.getRng();cd.setEditorTimeout(t,()=>{t.selection.setRng(o),t.execCommand("Delete")},0)}else t.execCommand("Delete")})},fZ=t=>n=>{!n.isDefaultPrevented()&&w5(t)&&IP(n,_5(t),$P(t),Ye)},hZ=t=>{t.on("cut",dZ(t)),t.on("copy",fZ(t))},C5=(t,n)=>{var o,r;return Fe.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,t.getDoc())},CA=t=>{const n=t["text/plain"];return n?n.indexOf("file://")===0:!1},S5=(t,n)=>{t.focus(),n&&t.selection.setRng(n)},E5=t=>_t(t.files,n=>/^image\//.test(n.type)),mZ=(t,n,o,r)=>{const a=t.getParent(o,y=>Fd(n,y));if(!vt(t.getParent(o,"summary")))return!0;if(a&&Sn(r,"text/html")){const y=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!vt(y.querySelector(a.nodeName.toLowerCase()))}else return!1},gZ=t=>{t.on("input",n=>{const o=r=>vt(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Se(t.dom.select("details"),o);wt(r,a=>{es(a.firstChild)&&a.firstChild.remove();const f=t.dom.create("summary");f.appendChild(Qu().dom),a.prepend(f)})}})},T5=(t,n)=>{E2(t)&&t.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),dh(t)||t.on("drop",o=>{const r=o.dataTransfer;r&&E5(r)&&o.preventDefault()}),t.on("drop",o=>{if(o.isDefaultPrevented())return;const r=C5(t,o);if(sn(r))return;const a=d5(o.dataTransfer),f=Vm(a,yA());if((!f5(a)||CA(a))&&b5(t,o,r))return;const y=a[yA()],T=y||a["text/html"]||a["text/plain"],O=mZ(t.dom,t.schema,r.startContainer,a),B=n.get();B&&!O||T&&(o.preventDefault(),cd.setEditorTimeout(t,()=>{t.undoManager.transact(()=>{(y||B&&O)&&t.execCommand("Delete"),S5(t,r);const U=i5(T);a["text/html"]?xA(t,U,f,!0):Pb(t,U,!0)})}))}),t.on("dragstart",o=>{n.set(!0)}),t.on("dragover dragend",o=>{dh(t)&&!n.get()&&(o.preventDefault(),S5(t,C5(t,o))),o.type==="dragend"&&n.set(!1)}),gZ(t)},A5=t=>{const n=a=>f=>{a(t,f)},o=oy(t);pt(o)&&t.on("PastePreProcess",n(o));const r=Vx(t);pt(r)&&t.on("PastePostProcess",n(r))},pZ=(t,n)=>{t.on("PastePreProcess",o=>{o.content=n(t,o.content,o.internal)})},bZ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,k5=t=>fe.trim(t).replace(bZ,Jf).toLowerCase(),vZ=(t,n,o)=>{const r=A2(t);if(o||r==="all"||!k2(t))return n;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const f=t.dom,y=t.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(T,O,B,U)=>{const j=f.parseStyle(f.decode(B)),q={};for(let at=0;at<a.length;at++){const st=j[a[at]];let ct=st,xt=f.getStyle(y,a[at],!0);/color/.test(a[at])&&(ct=k5(ct),xt=k5(xt)),xt!==ct&&(q[a[at]]=st)}const nt=f.serializeStyle(q,"span");return nt?O+' style="'+nt+'"'+U:O+U})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(f,y,T,O)=>y+' style="'+T+'"'+O),n},yZ=t=>{(Ee.browser.isChromium()||Ee.browser.isSafari())&&pZ(t,vZ)},O5=t=>{const n=Gs(!1),o=Gs(I1(t)?"text":"html"),r=Yj(t);yZ(t),BP(t,o),A5(t),t.on("PreInit",()=>{hZ(t),T5(t,n),lZ(t,r,o)})},_Z=t=>{t.on("click",n=>{t.dom.getParent(n.target,"details")&&n.preventDefault()})},xZ=t=>{t.parser.addNodeFilter("details",n=>{const o=dO(t);wt(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),t.serializer.addNodeFilter("details",n=>{const o=fO(t);wt(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},wZ=t=>{_Z(t),xZ(t)},CZ=es,D5=se,SZ=t=>cs(t.dom),EZ=t=>gr(t.dom),R5=t=>n=>Io(ht.fromDom(t),n),M5=(t,n,o)=>Nr(ht.fromDom(t),r=>EZ(r)||o.isBlock(xo(r)),R5(n)).getOr(ht.fromDom(n)).dom,FP=(t,n)=>Nr(ht.fromDom(t),SZ,R5(n)),P5=(t,n,o)=>{const r=new Vs(t,n),a=o?r.next.bind(r):r.prev.bind(r);let f=t;for(let y=o?t:a();y&&!CZ(y);y=a())Uc(y)&&(f=y);return f},TZ=(t,n,o)=>{const a=Ut.fromRangeStart(t).getNode(),f=M5(a,n,o),y=P5(a,f,!1),T=P5(a,f,!0),O=document.createRange();return FP(y,f).fold(()=>{D5(y)?O.setStart(y,0):O.setStartBefore(y)},B=>O.setStartBefore(B.dom)),FP(T,f).fold(()=>{D5(T)?O.setEnd(T,T.data.length):O.setEndAfter(T)},B=>O.setEndAfter(B.dom)),O},AZ=t=>{const n=TZ(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(HE(n))},kZ=t=>{t.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),AZ(t))})};var D_;(function(t){t.Before="before",t.After="after"})(D_||(D_={}));const OZ=(t,n)=>Math.abs(t.left-n),DZ=(t,n)=>Math.abs(t.right-n),SA=(t,n)=>t>=n.top&&t<=n.bottom,N5=(t,n)=>t.top<n.bottom&&t.bottom>n.top,RZ=(t,n)=>{const o=lx(t,n)/Math.min(t.height,n.height);return N5(t,n)&&o>.5},L5=(t,n)=>{const o=Se(t,r=>SA(n,r));return Mk(o).fold(()=>[[],t],r=>{const{pass:a,fail:f}=kn(t,y=>RZ(y,r));return[a,f]})},B5=(t,n)=>({node:t.node,position:OZ(t,n)<DZ(t,n)?D_.Before:D_.After}),HP=(t,n,o)=>n>t.left&&n<t.right?0:Math.min(Math.abs(t.left-n),Math.abs(t.right-n)),VP=(t,n,o,r)=>{const a=j=>Uc(j.node)?X.some(j):Ge(j.node)?VP(Vi(j.node.childNodes),n,o,!1):X.none(),f=(j,q,nt)=>a(q).filter(at=>Math.abs(nt(j,n,o)-nt(at,n,o))<2&&se(at.node)),y=(j,q)=>{const nt=Co(j,(at,st)=>q(at,n,o)-q(st,n,o));return Tf(nt,a).map(at=>r&&!se(at.node)&&nt.length>1?f(at,nt[1],q).getOr(at):at)},[T,O]=L5(DI(t),o),{pass:B,fail:U}=kn(O,j=>j.top<o);return y(T,HP).orThunk(()=>y(U,pm)).orThunk(()=>y(B,pm))},I5=(t,n,o,r)=>{const a=(f,y)=>{const T=B=>Ge(B)&&B.classList.contains("mce-drag-container"),O=Se(f.dom.childNodes,go(T));return y.fold(()=>VP(O,o,r,!0),B=>{const U=Se(O,j=>j!==B.dom);return VP(U,o,r,!0)}).orThunk(()=>(Io(f,t)?X.none():Bu(f)).bind(U=>a(U,X.some(f))))};return a(n,X.none())},MZ=(t,n,o)=>{const r=ht.fromDom(t),a=Mi(r),y=ht.fromPoint(a,n,o).filter(T=>il(r,T)).getOr(r);return I5(r,y,n,o)},zP=(t,n,o)=>MZ(t,n,o).filter(r=>z1(r.node)).map(r=>B5(r,n)),$5=t=>{var n,o;const r=t.getBoundingClientRect(),a=t.ownerDocument,f=a.documentElement,y=a.defaultView;return{top:r.top+((n=y==null?void 0:y.scrollY)!==null&&n!==void 0?n:0)-f.clientTop,left:r.left+((o=y==null?void 0:y.scrollX)!==null&&o!==void 0?o:0)-f.clientLeft}},F5=t=>t.inline?$5(t.getBody()):{left:0,top:0},PZ=t=>{const n=t.getBody();return t.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},NZ=t=>{const n=t.getBody(),o=t.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},a={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return t.inline?r:a},LZ=(t,n)=>{if(n.target.ownerDocument!==t.getDoc()){const o=$5(t.getContentAreaContainer()),r=NZ(t);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},XC=(t,n,o)=>({pageX:o.left-t.left+n.left,pageY:o.top-t.top+n.top}),BZ=(t,n)=>XC(F5(t),PZ(t),LZ(t,n)),H5=t=>({target:t,srcElement:t}),V5=(t,n,o,r)=>({...n,dataTransfer:r,type:t,...H5(o)}),IZ=(t,n,o)=>{const r=Cr("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:t,composedPath:r,initEvent:r,preventDefault:Ye,stopImmediatePropagation:Ye,stopPropagation:Ye,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...H5(n)}},$Z=(t,n)=>{const o=Vj(t);return n==="dragstart"?(YF(o),TP(o)):n==="drop"?(Nj(o),AP(o)):(XF(o),$j(o)),o},FZ=(t,n,o,r)=>{const a=$Z(o,t);return Hn(r)?IZ(t,n,a):V5(t,r,n,a)},EA=32,HZ=100,jv=8,JC=16,WP=cs,VZ=dx(WP,gr),zZ=(t,n,o)=>WP(o)&&o!==n&&t.isEditable(o.parentElement),WZ=(t,n,o)=>sn(n)||n===o||t.dom.isChildOf(n,o)?!1:t.dom.isEditable(n),rJ=(t,n,o,r)=>{const a=t.dom,f=n.cloneNode(!0);a.setStyles(f,{width:o,height:r}),a.setAttrib(f,"data-mce-selected",null);const y=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(y,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(f,{margin:0,boxSizing:"border-box"}),y.appendChild(f),y},UZ=(t,n)=>{t.parentNode!==n&&n.appendChild(t)},QC=(t,n)=>o=>()=>{const r=t==="left"?o.scrollX:o.scrollY;o.scroll({[t]:r+n,behavior:"smooth"})},TA=QC("left",-EA),tS=QC("left",EA),z5=QC("top",-EA),W5=QC("top",EA),U5=(t,n,o,r,a,f,y,T,O,B,U,j)=>{let q=0,nt=0;t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+o>a&&(q=n.pageX+o-a),n.pageY+r>f&&(nt=n.pageY+r-f),t.style.width=o-q+"px",t.style.height=r-nt+"px";const at=O.clientHeight,st=O.clientWidth,ct=y+O.getBoundingClientRect().top,xt=T+O.getBoundingClientRect().left;U.on(St=>{St.intervalId.clear(),St.dragging&&j&&(y+jv>=at?St.intervalId.set(W5(B)):y-jv<=0?St.intervalId.set(z5(B)):T+jv>=st?St.intervalId.set(tS(B)):T-jv<=0?St.intervalId.set(TA(B)):ct+JC>=window.innerHeight?St.intervalId.set(W5(window)):ct-JC<=0?St.intervalId.set(z5(window)):xt+JC>=window.innerWidth?St.intervalId.set(tS(window)):xt-JC<=0&&St.intervalId.set(TA(window)))})},j5=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},UP=(t,n)=>{const o=t.getParent(n.parentNode,t.isBlock);j5(n),o&&o!==t.getRoot()&&t.isEmpty(o)&&vl(ht.fromDom(o))},Z5=t=>t.button===0,jZ=(t,n)=>({pageX:n.pageX-t.relX,pageY:n.pageY+5}),ZZ=(t,n)=>o=>{if(Z5(o)){const r=co(n.dom.getParents(o.target),VZ).getOr(null);if(Zt(r)&&zZ(n.dom,n.getBody(),r)){const a=n.dom.getPos(r),f=n.getBody(),y=n.getDoc().documentElement;t.set({element:r,dataTransfer:vA(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?f.scrollWidth:y.offsetWidth)-2,maxY:(n.inline?f.scrollHeight:y.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:rJ(n,r,r.offsetWidth,r.offsetHeight),intervalId:Up(HZ)})}}},G5=(t,n,o)=>{t._selectionOverrides.hideFakeCaret(),zP(t.getBody(),n,o).fold(()=>t.selection.placeCaretAt(n,o),r=>{const a=t._selectionOverrides.showCaret(1,r.node,r.position===D_.Before,!1);a?t.selection.setRng(a):t.selection.placeCaretAt(n,o)})},eS=(t,n,o,r,a)=>{n==="dragstart"&&e5(r,t.dom.getOuterHTML(o));const f=FZ(n,o,r,a);return t.dispatch(n,f)},iJ=(t,n)=>{const o=jp((a,f)=>G5(n,a,f),0);n.on("remove",o.cancel);const r=t;return a=>t.on(f=>{const y=Math.max(Math.abs(a.screenX-f.screenX),Math.abs(a.screenY-f.screenY));if(!f.dragging&&y>10){const T=eS(n,"dragstart",f.element,f.dataTransfer,a);if(Zt(T.dataTransfer)&&(f.dataTransfer=T.dataTransfer),T.isDefaultPrevented())return;f.dragging=!0,n.focus()}if(f.dragging){const T=a.currentTarget===n.getDoc().documentElement,O=jZ(f,BZ(n,a));UZ(f.ghost,n.getBody()),U5(f.ghost,O,f.width,f.height,f.maxX,f.maxY,a.clientY,a.clientX,n.getContentAreaContainer(),n.getWin(),r,T),o.throttle(a.clientX,a.clientY)}})},GZ=t=>{const n=t.getSel();if(Zt(n)){const r=n.getRangeAt(0).startContainer;return se(r)?r.parentNode:r}else return null},qZ=(t,n)=>o=>{t.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(WZ(n,GZ(n.selection),r.element)){const f=(a=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:n.getBody();eS(n,"drop",f,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{UP(n.dom,r.element),zj(r.dataTransfer).each(T=>n.insertContent(T)),n._selectionOverrides.hideFakeCaret()})}eS(n,"dragend",n.getBody(),r.dataTransfer,o)}}),Y5(t)},q5=(t,n,o)=>{t.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>eS(n,"dragend",r.element,r.dataTransfer),a=>eS(n,"dragend",r.element,r.dataTransfer,a))}),Y5(t)},K5=(t,n)=>o=>q5(t,n,X.some(o)),Y5=t=>{t.on(n=>{n.intervalId.clear(),j5(n.ghost)}),t.clear()},X5=t=>{const n=Zr(),o=Zo.DOM,r=document,a=ZZ(n,t),f=iJ(n,t),y=qZ(n,t),T=K5(n,t);t.on("mousedown",a),t.on("mousemove",f),t.on("mouseup",y),o.bind(r,"mousemove",f),o.bind(r,"mouseup",T),t.on("remove",()=>{o.unbind(r,"mousemove",f),o.unbind(r,"mouseup",T)}),t.on("keydown",O=>{O.keyCode===Ze.ESC&&q5(n,t,X.none())})},KZ=t=>{const n=a=>{if(!a.isDefaultPrevented()){const f=a.dataTransfer;f&&(Mt(f.types,"Files")||f.files.length>0)&&(a.preventDefault(),a.type==="drop"&&md(t,"Dropped file type is not supported"))}},o=a=>{Dw(t,a.target)&&n(a)},r=()=>{const a=Zo.DOM,f=t.dom,y=document,T=t.inline?t.getBody():t.getDoc(),O=["drop","dragover"];wt(O,B=>{a.bind(y,B,o),f.bind(T,B,n)}),t.on("remove",()=>{wt(O,B=>{a.unbind(y,B,o),f.unbind(T,B,n)})})};t.on("init",()=>{cd.setEditorTimeout(t,r,0)})},YZ=t=>{X5(t),_2(t)&&KZ(t)},XZ=t=>{const n=jp(()=>{if(!t.removed&&t.getBody().contains(document.activeElement)){const o=t.selection.getRng();if(o.collapsed){const r=_C(t,o,!1);t.selection.setRng(r)}}},0);t.on("focus",()=>{n.throttle()}),t.on("blur",()=>{n.cancel()})},JZ=t=>{t.on("init",()=>{t.on("focusin",n=>{const o=n.target;if(Xs(o)){const r=wb(t.getBody(),o),a=cs(r)?r:o;t.selection.getNode()!==a&&l_(t,a).each(f=>t.selection.setRng(f))}})})},nS=cs,jP=(t,n)=>wb(t.getBody(),n),aJ=t=>{const n=t.selection,o=t.dom,r=t.getBody(),a=V2(t,r,o.isBlock,()=>fv(t)),f="sel-"+o.uniqueId(),y="data-mce-selected";let T;const O=Re=>Zt(Re)&&o.hasClass(Re,"mce-offscreen-selection"),B=Re=>Re!==r&&(nS(Re)||Xs(Re))&&o.isChildOf(Re,r)&&o.isEditable(Re.parentNode),U=Re=>{Re&&n.setRng(Re)},j=(Re,le,jt,Qt=!0)=>t.dispatch("ShowCaret",{target:le,direction:Re,before:jt}).isDefaultPrevented()?null:(Qt&&n.scrollIntoView(le,Re===-1),a.show(jt,le)),q=Re=>{Re.hasAttribute("data-mce-caret")&&(C1(Re),n.scrollIntoView(Re))},nt=()=>{t.on("click",le=>{o.isEditable(le.target)||(le.preventDefault(),t.focus())}),t.on("blur NewBlock",Nt),t.on("ResizeWindow FullscreenStateChanged",a.reposition),t.on("tap",le=>{const jt=le.target,Qt=jP(t,jt);nS(Qt)?(le.preventDefault(),l_(t,Qt).each(Et)):B(jt)&&l_(t,jt).each(Et)},!0),t.on("mousedown",le=>{const jt=le.target;if(jt!==r&&jt.nodeName!=="HTML"&&!o.isChildOf(jt,r)||!LB(t,le.clientX,le.clientY))return;Nt(),ge();const Qt=jP(t,jt);nS(Qt)?(le.preventDefault(),l_(t,Qt).each(Et)):zP(r,le.clientX,le.clientY).each(Oe=>{le.preventDefault();const tn=j(1,Oe.node,Oe.position===D_.Before,!1);U(tn),zu(Qt)?Qt.focus():t.getBody().focus()})}),t.on("keypress",le=>{Ze.modifierPressed(le)||nS(n.getNode())&&le.preventDefault()}),t.on("GetSelectionRange",le=>{let jt=le.range;if(T){if(!T.parentNode){T=null;return}jt=jt.cloneRange(),jt.selectNode(T),le.range=jt}}),t.on("SetSelectionRange",le=>{le.range=ct(le.range);const jt=Et(le.range,le.forward);jt&&(le.range=jt)});const Re=le=>Ge(le)&&le.id==="mcepastebin";t.on("AfterSetSelectionRange",le=>{const jt=le.range,Qt=jt.startContainer.parentElement;!st(jt)&&!Re(Qt)&&ge(),O(Qt)||Nt()}),YZ(t),XZ(t),JZ(t)},at=Re=>Ja(Re)||V0(Re)||w1(Re),st=Re=>at(Re.startContainer)||at(Re.endContainer),ct=Re=>{const le=t.schema.getVoidElements(),jt=o.createRng(),Qt=Re.startContainer,Oe=Re.startOffset,tn=Re.endContainer,Un=Re.endOffset;return Sn(le,Qt.nodeName.toLowerCase())?Oe===0?jt.setStartBefore(Qt):jt.setStartAfter(Qt):jt.setStart(Qt,Oe),Sn(le,tn.nodeName.toLowerCase())?Un===0?jt.setEndBefore(tn):jt.setEndAfter(tn):jt.setEnd(tn,Un),jt},xt=(Re,le)=>{const jt=ht.fromDom(t.getBody()),Qt=t.getDoc(),Oe=hg(jt,"#"+f).getOrThunk(()=>{const no=ht.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Qt);return is(no,"id",f),Ks(jt,no),no}),tn=o.createRng();Wf(Oe),ts(Oe,[ht.fromText(zs,Qt),ht.fromDom(le),ht.fromText(zs,Qt)]),tn.setStart(Oe.dom.firstChild,1),tn.setEnd(Oe.dom.lastChild,0),gg(Oe,{top:o.getPos(Re,t.getBody()).y+"px"}),kw(Oe);const Un=n.getSel();return Un&&(Un.removeAllRanges(),Un.addRange(tn)),tn},St=Re=>{const le=Re.cloneNode(!0),jt=t.dispatch("ObjectSelected",{target:Re,targetClone:le});if(jt.isDefaultPrevented())return null;const Qt=xt(Re,jt.targetClone),Oe=ht.fromDom(Re);return wt(mr(ht.fromDom(t.getBody()),`*[${y}]`),tn=>{Io(Oe,tn)||Lo(tn,y)}),o.getAttrib(Re,y)||Re.setAttribute(y,"1"),T=Re,ge(),Qt},Et=(Re,le)=>{if(!Re)return null;if(Re.collapsed){if(!st(Re)){const tn=le?1:-1,Un=ed(tn,r,Re),no=Un.getNode(!le);if(Zt(no)){if(z1(no))return j(tn,no,le?!Un.isAtEnd():!1,!1);if(ch(no)&&cs(no.nextSibling)){const Yo=o.createRng();return Yo.setStart(no,0),Yo.setEnd(no,0),Yo}}const Vo=Un.getNode(le);if(Zt(Vo)){if(z1(Vo))return j(tn,Vo,le?!1:!Un.isAtEnd(),!1);if(ch(Vo)&&cs(Vo.previousSibling)){const Yo=o.createRng();return Yo.setStart(Vo,1),Yo.setEnd(Vo,1),Yo}}}return null}let jt=Re.startContainer,Qt=Re.startOffset;const Oe=Re.endOffset;if(se(jt)&&Qt===0&&nS(jt.parentNode)&&(jt=jt.parentNode,Qt=o.nodeIndex(jt),jt=jt.parentNode),!Ge(jt))return null;if(Oe===Qt+1&&jt===Re.endContainer){const tn=jt.childNodes[Qt];if(B(tn))return St(tn)}return null},Nt=()=>{T&&T.removeAttribute(y),hg(ht.fromDom(t.getBody()),"#"+f).each(Do),T=null},Jt=()=>{a.destroy(),T=null},ge=()=>{a.hide()};return Pl(t)||nt(),{showCaret:j,showBlockCaretContainer:q,hideFakeCaret:ge,destroy:Jt}},QZ=(t,n)=>{let o=n;for(let r=t.previousSibling;se(r);r=r.previousSibling)o+=r.data.length;return o},ZP=(t,n,o,r,a)=>{if(se(o)&&(r<0||r>o.data.length))return[];const f=a&&se(o)?[QZ(o,r)]:[r];let y=o;for(;y!==n&&y.parentNode;)f.push(t.nodeIndex(y,a)),y=y.parentNode;return y===n?f.reverse():[]},GP=(t,n,o,r,a,f,y=!1)=>{const T=ZP(t,n,o,r,y),O=ZP(t,n,a,f,y);return{start:T,end:O}},AA=(t,n)=>{const o=n.slice(),r=o.pop();return jn(r)?yo(o,(f,y)=>f.bind(T=>X.from(T.childNodes[y])),X.some(t)).bind(f=>se(f)&&(r<0||r>f.data.length)?X.none():X.some({node:f,offset:r})):X.none()},J5=(t,n)=>AA(t,n.start).bind(({node:o,offset:r})=>AA(t,n.end).map(({node:a,offset:f})=>{const y=document.createRange();return y.setStart(o,r),y.setEnd(a,f),y})),tG=(t,n,o,r=!1)=>GP(t,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),R_=(t,n,o)=>{if(n&&t.isEmpty(n)&&!o(n)){const r=n.parentNode;t.remove(n,se(n.firstChild)&&ll(n.firstChild.data)),R_(t,r,o)}},oS=(t,n,o,r=!0)=>{const a=n.startContainer.parentNode,f=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(se(n.startContainer)&&n.startContainer.data.length===0&&t.remove(n.startContainer),se(n.endContainer)&&n.endContainer.data.length===0&&t.remove(n.endContainer),R_(t,a,o),a!==f&&R_(t,f,o))},Zv=(t,n)=>X.from(t.dom.getParent(n.startContainer,t.dom.isBlock)),kA=(t,n,o)=>{const r=t.dynamicPatternsLookup({text:o,block:n});return{...t,blockPatterns:bi(r).concat(t.blockPatterns),inlinePatterns:Y0(r).concat(t.inlinePatterns)}},OA=(t,n,o,r)=>{const a=t.createRng();return a.setStart(n,0),a.setEnd(o,r),a.toString()},Q5=(t,n)=>t.create("span",{"data-mce-type":"bookmark",id:n}),DA=(t,n)=>{const o=t.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},qP=(t,n,o)=>{const r=J5(t.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,f=r.endContainer,y=r.endOffset===0?f:f.splitText(r.endOffset),T=r.startOffset===0?a:a.splitText(r.startOffset),O=T.parentNode,B=y.parentNode;return{prefix:n,end:B.insertBefore(Q5(t,n+"-end"),y),start:O.insertBefore(Q5(t,n+"-start"),T)}},tH=(t,n,o)=>{R_(t,t.get(n.prefix+"-end"),o),R_(t,t.get(n.prefix+"-start"),o)},KP=t=>t.start.length===0,eG=t=>(n,o)=>{const a=n.data.substring(0,o),f=a.lastIndexOf(t.charAt(t.length-1)),y=a.lastIndexOf(t);return y!==-1?y+t.length:f!==-1?f+1:-1},RA=(t,n,o,r)=>{const a=n.start;return wu(t,r.container,r.offset,eG(a),o).bind(y=>{var T,O;const B=(O=(T=o.textContent)===null||T===void 0?void 0:T.indexOf(a))!==null&&O!==void 0?O:-1;if(B!==-1&&y.offset>=B+a.length){const j=t.createRng();return j.setStart(y.container,y.offset-a.length),j.setEnd(y.container,y.offset),X.some(j)}else{const j=y.offset-a.length;return zv(y.container,j,o).map(q=>{const nt=t.createRng();return nt.setStart(q.container,q.offset),nt.setEnd(y.container,y.offset),nt}).filter(q=>q.toString()===a).orThunk(()=>RA(t,n,o,pd(y.container,0)))}})},nG=(t,n,o,r,a,f=!1)=>{if(n.start.length===0&&!f){const y=t.createRng();return y.setStart(o,r),y.setEnd(o,r),X.some(y)}return y_(o,r,a).bind(y=>RA(t,n,a,y).bind(O=>{var B;if(f){if(O.endContainer===y.container&&O.endOffset===y.offset)return X.none();if(y.offset===0&&((B=O.endContainer.textContent)===null||B===void 0?void 0:B.length)===O.endOffset)return X.none()}return X.some(O)}))},oG=(t,n,o,r)=>{const a=t.dom,f=a.getRoot(),y=o.pattern,T=o.position.container,O=o.position.offset;return zv(T,O-o.pattern.end.length,n).bind(B=>{const U=GP(a,f,B.container,B.offset,T,O,r);if(KP(y))return X.some({matches:[{pattern:y,startRng:U,endRng:U}],position:B});{const j=MA(t,o.remainingPatterns,B.container,B.offset,n,r),q=j.getOr({matches:[],position:B}),nt=q.position;return nG(a,y,nt.container,nt.offset,n,j.isNone()).map(st=>{const ct=tG(a,f,st,r);return{matches:q.matches.concat([{pattern:y,startRng:ct,endRng:U}]),position:pd(st.startContainer,st.startOffset)}})}})},MA=(t,n,o,r,a,f)=>{const y=t.dom;return y_(o,r,y.getRoot()).bind(T=>{const O=OA(y,a,o,r);for(let B=0;B<n.length;B++){const U=n[B];if(!Ru(O,U.end))continue;const j=n.slice();j.splice(B,1);const q=oG(t,a,{pattern:U,remainingPatterns:j,position:T},f);if(q.isNone()&&r>0)return MA(t,n,o,r-1,a,f);if(q.isSome())return q}return X.none()})},eH=(t,n,o)=>{t.selection.setRng(o),n.type==="inline-format"?wt(n.format,r=>{t.formatter.apply(r)}):t.execCommand(n.cmd,!1,n.value)},sG=(t,n,o,r)=>{const a=DA(t.dom,o);oS(t.dom,a,r),eH(t,n,a)},rG=(t,n,o,r,a)=>{const f=t.dom,y=DA(f,r),T=DA(f,o);oS(f,T,a),oS(f,y,a);const O={prefix:o.prefix,start:o.end,end:r.start},B=DA(f,O);eH(t,n,B)},nH=(t,n)=>{const o=R("mce_textpattern"),r=vo(n,(a,f)=>{const y=qP(t,o+`_end${a.length}`,f.endRng);return a.concat([{...f,endMarker:y}])},[]);return vo(r,(a,f)=>{const y=r.length-a.length-1,T=KP(f.pattern)?f.endMarker:qP(t,o+`_start${y}`,f.startRng);return a.concat([{...f,startMarker:T}])},[])},oH=t=>Co(t,(n,o)=>o.end.length-n.end.length),YP=(t,n)=>{const o=vs(t,r=>_t(n,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return t.length===n.length?o?t:n:t.length>n.length?t:n},PA=(t,n,o,r,a,f)=>{const y=MA(t,a.inlinePatterns,o,r,n,f).fold(()=>[],O=>O.matches),T=MA(t,oH(a.inlinePatterns),o,r,n,f).fold(()=>[],O=>O.matches);return YP(y,T)},sH=(t,n)=>{if(n.length===0)return;const o=t.dom,r=t.selection.getBookmark(),a=nH(o,n);wt(a,f=>{const y=o.getParent(f.startMarker.start,o.isBlock),T=O=>O===y;KP(f.pattern)?sG(t,f.pattern,f.endMarker,T):rG(t,f.pattern,f.startMarker,f.endMarker,T),tH(o,f.endMarker,T),tH(o,f.startMarker,T)}),t.selection.moveToBookmark(r)},NA=(t,n,o)=>oA(n,0,n).map(r=>{const a=r.container;return __(a,o.start.length,n).each(f=>{const y=t.createRng();y.setStart(a,0),y.setEnd(f.container,f.offset),oS(t,y,T=>T===n)}),a}),rH=t=>(n,o)=>{const r=n.dom,a=o.pattern,f=J5(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),y=(T,O)=>{const B=O.get(T);return ln(B)&&dr(B).exists(U=>Sn(U,"block"))};return Zv(n,f).each(T=>{a.type==="block-format"?y(a.format,n.formatter)&&n.undoManager.transact(()=>{t(n.dom,T,a),n.formatter.apply(a.format)}):a.type==="block-command"&&n.undoManager.transact(()=>{t(n.dom,T,a),n.execCommand(a.cmd,!1,a.value)})}),!0},iG=t=>Co(t,(n,o)=>o.start.length-n.start.length),XP=t=>(n,o)=>{const r=iG(n),a=o.replace(zs," ");return co(r,f=>t(f,o,a))},iH=(t,n)=>(o,r,a,f,y)=>{var T;y===void 0&&(y=(T=r.textContent)!==null&&T!==void 0?T:"");const O=o.dom,B=la(o);return O.is(r,B)?t(a.blockPatterns,y).map(U=>n&&fe.trim(y).length===U.start.length?[]:[{pattern:U,range:GP(O,O.getRoot(),r,0,r,0,f)}]).getOr([]):[]},aG=t=>/^\s[^\s]/.test(t),cG=rH((t,n,o)=>{NA(t,n,o).each(r=>{const a=ht.fromDom(r),f=De(a);aG(f)&&$e(a,f.slice(1))})}),lG=XP((t,n,o)=>n.indexOf(t.start)===0||o.indexOf(t.start)===0),uG=iH(lG,!0),dG=(t,n)=>{const o=t.selection.getRng();return Zv(t,o).map(r=>{var a;const f=Math.max(0,o.startOffset),y=kA(n,r,(a=r.textContent)!==null&&a!==void 0?a:""),T=PA(t,r,o.startContainer,f,y,!0),O=uG(t,r,y,!0);return{inlineMatches:T,blockMatches:O}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},aH=(t,n)=>{if(n.length===0)return;const o=t.selection.getBookmark();wt(n,r=>cG(t,r)),t.selection.moveToBookmark(o)},fG=rH(NA),JP=XP((t,n,o)=>n===t.start||o===t.start),hG=iH(JP,!1),mG=(t,n)=>{const o=t.selection.getRng();return Zv(t,o).map(r=>{const a=Math.max(0,o.startOffset),f=OA(t.dom,r,o.startContainer,a),y=kA(n,r,f);return hG(t,r,y,!1,f)}).filter(r=>r.length>0)},gG=(t,n)=>{wt(n,o=>fG(t,o))},pG=(t,n)=>dG(t,n).fold(Gt,({inlineMatches:o,blockMatches:r})=>(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{$S(t),sH(t,o),aH(t,r);const a=t.selection.getRng(),f=y_(a.startContainer,a.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),f.each(y=>{const T=y.container;T.data.charAt(y.offset-1)===Hu&&(T.deleteData(y.offset-1,1),R_(t.dom,T.parentNode,O=>O===t.dom.getRoot()))})}),!0)),bG=(t,n)=>{const o=t.selection.getRng();Zv(t,o).map(r=>{const a=Math.max(0,o.startOffset-1),f=OA(t.dom,r,o.startContainer,a),y=kA(n,r,f),T=PA(t,r,o.startContainer,a,y,!1);T.length>0&&t.undoManager.transact(()=>{sH(t,T)})})},vG=(t,n)=>mG(t,n).fold(Gt,o=>(t.undoManager.transact(()=>{gG(t,o)}),!0)),sS=(t,n,o)=>{for(let r=0;r<t.length;r++)if(o(t[r],n))return!0;return!1},yG=(t,n)=>sS(t,n,(o,r)=>o===r.keyCode&&!Ze.modifierPressed(r)),_G=(t,n)=>sS(t,n,(o,r)=>o.charCodeAt(0)===r.charCode),xG=t=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>uu(rO(t),iO(t)),a=()=>ua(t);t.on("keydown",y=>{if(y.keyCode===13&&!Ze.modifierPressed(y)&&t.selection.isCollapsed()){const T=Ax(r(),"enter");(T.inlinePatterns.length>0||T.blockPatterns.length>0||a())&&pG(t,T)&&y.preventDefault()}},!0),t.on("keydown",y=>{if(y.keyCode===32&&t.selection.isCollapsed()){const T=Ax(r(),"space");(T.blockPatterns.length>0||a())&&vG(t,T)&&y.preventDefault()}},!0);const f=()=>{if(t.selection.isCollapsed()){const y=Ax(r(),"space");(y.inlinePatterns.length>0||a())&&bG(t,y)}};t.on("keyup",y=>{yG(o,y)&&f()}),t.on("keypress",y=>{_G(n,y)&&cd.setEditorTimeout(t,f)})},wG=t=>{xG(t)},CG=t=>{const n=fe.each,o=Ze.BACKSPACE,r=Ze.DELETE,a=t.dom,f=t.selection,y=t.parser,T=Ee.browser,O=T.isFirefox(),B=T.isChromium()||T.isSafari(),U=Ee.deviceType.isiPhone()||Ee.deviceType.isiPad(),j=Ee.os.isMacOS()||Ee.os.isiOS(),q=(ke,hn)=>{try{t.getDoc().execCommand(ke,!1,String(hn))}catch{}},nt=ke=>ke.isDefaultPrevented(),at=()=>{const ke=Xn=>{const Ne=a.create("body"),qn=Xn.cloneContents();return Ne.appendChild(qn),f.serializer.serialize(Ne,{format:"html"})},hn=Xn=>{const Ne=ke(Xn),qn=a.createRng();qn.selectNode(t.getBody());const Kn=ke(qn);return Ne===Kn};t.on("keydown",Xn=>{const Ne=Xn.keyCode;if(!nt(Xn)&&(Ne===r||Ne===o)&&t.selection.isEditable()){const qn=t.selection.isCollapsed(),Kn=t.getBody();if(qn&&!pi(t.schema,Kn)||!qn&&!hn(t.selection.getRng()))return;Xn.preventDefault(),t.setContent(""),Kn.firstChild&&a.isBlock(Kn.firstChild)?t.selection.setCursorLocation(Kn.firstChild,0):t.selection.setCursorLocation(Kn,0),t.nodeChanged()}})},st=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},ct=()=>{t.inline||a.bind(t.getDoc(),"mousedown mouseup",ke=>{let hn;if(ke.target===t.getDoc().documentElement)if(hn=f.getRng(),t.getBody().focus(),ke.type==="mousedown"){if(Ja(hn.startContainer))return;f.placeCaretAt(ke.clientX,ke.clientY)}else f.setRng(hn)})},xt=()=>{t.on("keydown",ke=>{if(!nt(ke)&&ke.keyCode===o){if(!t.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){const hn=f.getNode(),Xn=hn.previousSibling;if(hn.nodeName==="HR"){a.remove(hn),ke.preventDefault();return}Xn&&Xn.nodeName&&Xn.nodeName.toLowerCase()==="hr"&&(a.remove(Xn),ke.preventDefault())}}})},St=()=>{Range.prototype.getClientRects||t.on("mousedown",ke=>{if(!nt(ke)&&ke.target.nodeName==="HTML"){const hn=t.getBody();hn.blur(),cd.setEditorTimeout(t,()=>{hn.focus()})}})},Et=()=>{const ke=x2(t);t.on("click",hn=>{const Xn=hn.target;/^(IMG|HR)$/.test(Xn.nodeName)&&a.isEditable(Xn)&&(hn.preventDefault(),t.selection.select(Xn),t.nodeChanged()),Xn.nodeName==="A"&&a.hasClass(Xn,ke)&&Xn.childNodes.length===0&&a.isEditable(Xn.parentNode)&&(hn.preventDefault(),f.select(Xn))})},Nt=()=>{const ke=()=>{const Xn=a.getAttribs(f.getStart().cloneNode(!1));return()=>{const Ne=f.getStart();Ne!==t.getBody()&&(a.setAttrib(Ne,"style",null),n(Xn,qn=>{Ne.setAttributeNode(qn.cloneNode(!0))}))}},hn=()=>!f.isCollapsed()&&a.getParent(f.getStart(),a.isBlock)!==a.getParent(f.getEnd(),a.isBlock);t.on("keypress",Xn=>{let Ne;return!nt(Xn)&&(Xn.keyCode===8||Xn.keyCode===46)&&hn()?(Ne=ke(),t.getDoc().execCommand("delete",!1),Ne(),Xn.preventDefault(),!1):!0}),a.bind(t.getDoc(),"cut",Xn=>{if(!nt(Xn)&&hn()){const Ne=ke();cd.setEditorTimeout(t,()=>{Ne()})}})},Jt=()=>{t.on("keydown",ke=>{if(!nt(ke)&&ke.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){const hn=f.getNode().previousSibling;if(hn&&hn.nodeName&&hn.nodeName.toLowerCase()==="table")return ke.preventDefault(),!1}return!0})},ge=()=>{t.on("keydown",ke=>{if(nt(ke)||ke.keyCode!==Ze.BACKSPACE)return;let hn=f.getRng();const Xn=hn.startContainer,Ne=hn.startOffset,qn=a.getRoot();let Kn=Xn;if(!(!hn.collapsed||Ne!==0)){for(;Kn.parentNode&&Kn.parentNode.firstChild===Kn&&Kn.parentNode!==qn;)Kn=Kn.parentNode;Kn.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,Kn),hn=a.createRng(),hn.setStart(Xn,0),hn.setEnd(Xn,0),f.setRng(hn))}})},Re=()=>{const ke=()=>{q("StyleWithCSS",!1),q("enableInlineTableEditing",!1),m2(t)||q("enableObjectResizing",!1)};Fx(t)||t.on("BeforeExecCommand mousedown",ke)},le=()=>{const ke=()=>{n(a.select("a:not([data-mce-block])"),hn=>{var Xn;let Ne=hn.parentNode;const qn=a.getRoot();if((Ne==null?void 0:Ne.lastChild)===hn){for(;Ne&&!a.isBlock(Ne);){if(((Xn=Ne.parentNode)===null||Xn===void 0?void 0:Xn.lastChild)!==Ne||Ne===qn)return;Ne=Ne.parentNode}a.add(Ne,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",hn=>{(hn.type==="setcontent"||hn.command==="mceInsertLink")&&ke()})},jt=()=>{t.on("init",()=>{q("DefaultParagraphSeparator",la(t))})},Qt=ke=>{const hn=ke.getBody(),Xn=ke.selection.getRng();return Xn.startContainer===Xn.endContainer&&Xn.startContainer===hn&&Xn.startOffset===0&&Xn.endOffset===hn.childNodes.length},Oe=()=>{t.on("keyup focusin mouseup",ke=>{!Ze.modifierPressed(ke)&&!Qt(t)&&f.normalize()},!0)},tn=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Un=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},no=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",ke=>{let hn;ke.target.nodeName==="HTML"&&(hn=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(hn),t.selection.normalize(),t.nodeChanged())}))},Vo=()=>{j&&t.on("keydown",ke=>{Ze.metaKeyPressed(ke)&&!ke.shiftKey&&(ke.keyCode===37||ke.keyCode===39)&&(ke.preventDefault(),t.selection.getSel().modify("move",ke.keyCode===37?"backward":"forward","lineboundary"))})},Yo=()=>{t.on("click",ke=>{let hn=ke.target;do if(hn.tagName==="A"){ke.preventDefault();return}while(hn=hn.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},bs=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",ke=>{ke.preventDefault()})})},Ki=()=>{y.addNodeFilter("br",ke=>{let hn=ke.length;for(;hn--;)ke[hn].attr("class")==="Apple-interchange-newline"&&ke[hn].remove()})},Xo=Ye,Ce=()=>{if(!O||t.removed)return!1;const ke=t.selection.getSel();return!ke||!ke.rangeCount||ke.rangeCount===0},Qe=()=>{B&&(ct(),Et(),bs(),st(),U&&(Un(),no(),Yo())),O&&(St(),Re(),tn(),Vo())},so=()=>{ge(),at(),Ee.windowsPhone||Oe(),B&&(ct(),Et(),jt(),bs(),Jt(),Ki(),U?(Un(),no(),Yo()):st()),O&&(xt(),St(),Nt(),Re(),le(),tn(),Vo(),Jt())};return Pl(t)?Qe():so(),{refreshContentEditable:Xo,isHidden:Ce}},SG=t=>t.toLowerCase()==="gpl",EG=t=>t.length>=64&&t.length<=255,TG=t=>SG(t)||EG(t)?"VALID":"INVALID",AG=t=>{const n=Ma(t);!ft(F1(t))&&(Hn(n)||TG(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},LA=Zo.DOM,kG=(t,n)=>{const o=ht.fromDom(t.getBody()),r=dg(Iu(o)),a=ht.fromTag("style");is(a,"type","text/css"),Ks(a,ht.fromText(n)),Ks(r,a),t.on("remove",()=>{Do(a)})},cH=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,QP=t=>Os(t,n=>Hn(n)===!1),lH=t=>{const n=t.options.get,o=t.editorUpload.blobCache;return QP({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:cH(t),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:ib(t),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:t.getDoc()})},t4=t=>{const n=t.options.get;return QP({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},rS=t=>{const n=t.options.get;return{...lH(t),...t4(t),...QP({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},OG=t=>{const n=ma(lH(t),t.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=t.dom,f="data-mce-"+r;let y=o.length;for(;y--;){const T=o[y];let O=T.attr(r);if(O&&!T.attr(f)){if(O.indexOf("data:")===0||O.indexOf("blob:")===0)continue;r==="style"?(O=a.serializeStyle(a.parseStyle(O),T.name),O.length||(O=null),T.attr(f,O),T.attr(r,O)):r==="tabindex"?(T.attr(f,O),T.attr(r,null)):T.attr(f,t.convertURL(O,r,T.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],f=a.attr("type")||"no/type";f.indexOf("mce-")!==0&&a.attr("type","mce-"+f)}}),$1(t)&&n.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const f=o[a];f.type=8,f.name="#comment",f.value="[CDATA["+t.dom.encode((r=f.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=t.schema.getNonEmptyElements();for(;r--;){const f=o[r];f.isEmpty(a)&&f.getAll("br").length===0&&f.append(new tc("br",1))}}),n},uH=t=>{const n=nO(t);n&&cd.setEditorTimeout(t,()=>{let o;n===!0?o=t:o=t.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},DG=t=>{const n=t.dom.getRoot();!t.inline&&(!J1(t)||t.selection.getStart(!0)===n)&&da(n).each(o=>{const r=o.getNode(),a=or(r)?da(r).getOr(o):o;t.selection.setRng(a.toRange())})},RG=t=>{t.bindPendingEventDelegates(),t.initialized=!0,bw(t),t.focus(!0),DG(t),t.nodeChanged({initial:!0});const n=C2(t);pt(n)&&n.call(t,t),uH(t)},e4=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,MG=(t,n,o)=>{const{pass:r,fail:a}=kn(n,T=>tinymce.Resource.has(KR(T))),y=[...r.map(T=>{const O=tinymce.Resource.get(KR(T));return ft(O)?Promise.resolve(e4(t).loadRawCss(T,O)):Promise.resolve()}),e4(t).loadAll(a)];return t.inline?y:y.concat([t.ui.styleSheetLoader.loadAll(o)])},n4=t=>{const n=e4(t),o=h2(t),r=t.contentCSS,a=()=>{n.unloadAll(r),t.inline||t.ui.styleSheetLoader.unloadAll(o)},f=()=>{t.removed?a():t.on("remove",a)};if(t.contentStyles.length>0){let O="";fe.each(t.contentStyles,B=>{O+=B+`\r
`}),t.dom.addStyle(O)}const y=Promise.all(MG(t,r,o)).then(f).catch(f),T=Dg(t);return T&&kG(t,T),y},PG=t=>{const n=t.getDoc(),o=t.getBody();pw(t),ny(t)||(n.body.spellcheck=!1,LA.setAttrib(o,"spellcheck","false")),t.quirks=CG(t),$O(t);const r=Zk(t);r!==void 0&&(o.dir=r);const a=S2(t);a&&t.on("BeforeSetContent",f=>{fe.each(a,y=>{f.content=f.content.replace(y,T=>"<!--mce:protected "+escape(T)+"-->")})}),t.on("SetContent",()=>{t.addVisual(t.getBody())}),t.on("compositionstart compositionend",f=>{t.composing=f.type==="compositionstart"})},dH=t=>{Pl(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},o4=t=>{t.removed!==!0&&(dH(t),RG(t))},NG=t=>{let n=!1;const o=setTimeout(()=>{n||t.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,t.setProgressState(!1)}},fH=t=>{const n=t.getElement();let o=t.getDoc();t.inline&&(LA.addClass(n,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=n,t.contentAreaContainer=n);const r=t.getBody();r.disabled=!0,t.readonly=Fx(t),t._editableRoot=Jk(t),!t.readonly&&t.hasEditableRoot()&&(t.inline&&LA.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,t.editorUpload=Qz(t),t.schema=Yu(t4(t)),t.dom=Zo(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:Uk(t),referrerPolicy:Lx(t),onSetAttrib:y=>{t.dispatch("SetAttrib",y)}}),t.parser=OG(t),t.serializer=UR(rS(t),t),t.selection=Rv(t.dom,t.getWin(),t.serializer,t),t.annotator=kl(t),t.formatter=XR(t),t.undoManager=QR(t),t._nodeChangeDispatcher=new ZF(t),t._selectionOverrides=aJ(t),o$(t),wZ(t),b9(t),Pl(t)||(kZ(t),wG(t));const a=CP(t);DM(t,a),r$(t),eW(t),O5(t);const f=TX(t);PG(t),AG(t),f.fold(()=>{const y=NG(t);n4(t).then(()=>{o4(t),y()})},y=>{t.setProgressState(!0),n4(t).then(()=>{y().then(T=>{t.setProgressState(!1),o4(t),yB(t)},T=>{t.notificationManager.open({type:"error",text:String(T)}),o4(t),yB(t)})})})},LG=Ae,BG=(t,n,o)=>Ea(t,n,LG,o),s4=Zo.DOM,IG=(t,n,o,r)=>{const a=ht.fromTag("iframe");return r.each(f=>is(a,"tabindex",f)),Ac(a,o),Ac(a,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),Bf(a,"tox-edit-area__iframe"),a},$G=t=>{let n=Mx(t)+"<html><head>";s2(t)!==t.documentBaseUrl&&(n+='<base href="'+t.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=r2(t),r=Vk(t),a=t.translate(w2(t));return P1(t)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+P1(t)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${t.id}" aria-label="${a}"><br></body></html>`,n},FG=(t,n)=>{const o=t.translate("Rich Text Area"),r=Di(ht.fromDom(t.getElement()),"tabindex").bind(el),a=IG(t.id,o,Hk(t),r).dom;a.onload=()=>{a.onload=null,t.dispatch("load")},t.contentAreaContainer=n.iframeContainer,t.iframeElement=a,t.iframeHTML=$G(t),s4.add(n.iframeContainer,a)},hH=t=>{const n=t.iframeElement,o=()=>{t.contentDocument=n.contentDocument,fH(t)};if(M2(t)||Ee.browser.isFirefox()){const r=t.getDoc();r.open(),r.write(t.iframeHTML),r.close(),o()}else{const r=BG(ht.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=t.iframeHTML}},r4=(t,n)=>{FG(t,n),n.editorContainer&&(n.editorContainer.style.display=t.orgDisplay,t.hidden=s4.isHidden(n.editorContainer)),t.getElement().style.display="none",s4.setAttrib(t.id,"aria-hidden","true"),t.getElement().style.visibility=t.orgVisibility,hH(t)},i4=Zo.DOM,mH=(t,n,o)=>{const r=gC.get(o),a=gC.urls[o]||t.documentBaseUrl.replace(/\/$/,"");if(o=fe.trim(o),r&&fe.inArray(n,o)===-1){if(t.plugins[o])return;try{const f=r(t,a)||{};t.plugins[o]=f,pt(f.init)&&(f.init(t,a),n.push(o))}catch(f){Vz(t,o,f)}}},HG=t=>t.replace(/^\-/,""),VG=t=>{const n=[];wt(B1(t),o=>{mH(t,n,HG(o))})},zG=t=>{const n=fe.trim(Br(t)),o=t.ui.registry.getAll().icons,r={...oc.get("default").icons,...oc.get(n).icons};Me(r,(a,f)=>{Sn(o,f)||t.ui.registry.addIcon(f,a)})},gH=t=>{const n=nb(t);if(ft(n)){const o=Pv.get(n);t.theme=o(t,Pv.urls[n])||{},pt(t.theme.init)&&t.theme.init(t,Pv.urls[n]||t.documentBaseUrl.replace(/\/$/,""))}else t.theme={}},pH=t=>{const n=$x(t),o=Mm.get(n);t.model=o(t,Mm.urls[n])},WG=t=>{const n=t.theme.renderUI;return n?n():iS(t)},UG=t=>{const n=t.getElement(),r=nb(t)(t,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},BA=(t,n)=>({editorContainer:t,iframeContainer:n,api:{}}),IA=t=>{const n=i4.create("div");return i4.insertAfter(n,t),BA(n,n)},iS=t=>{const n=t.getElement();return t.inline?BA(null):IA(n)},np=t=>{const n=t.getElement();return t.orgDisplay=n.style.display,ft(nb(t))?WG(t):pt(nb(t))?UG(t):iS(t)},$A=(t,n)=>{const o={show:X.from(n.show).getOr(Ye),hide:X.from(n.hide).getOr(Ye),isEnabled:X.from(n.isEnabled).getOr(Ae),setEnabled:r=>{t.mode.isReadOnly()||X.from(n.setEnabled).each(a=>a(r))}};t.ui={...t.ui,...o}},M_=async t=>{t.dispatch("ScriptsLoaded"),zG(t),gH(t),pH(t),VG(t);const n=await np(t);$A(t,X.from(n.api).getOr({})),t.editorContainer=n.editorContainer,jz(t),t.inline?fH(t):r4(t,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Nb=Zo.DOM,bH=t=>t.charAt(0)==="-",jG=(t,n)=>{const o=d2(n),r=jk(n);if(!Ar.hasCode(o)&&o!=="en"){const a=Wo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;t.add(a).catch(()=>{VB(n,a,o)})}},vH=(t,n)=>{const o=nb(t);if(ft(o)&&!bH(o)&&!Sn(Pv.urls,o)){const r=qk(t),a=r?t.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;Pv.load(o,a).catch(()=>{zB(t,a,o)})}},ZG=(t,n)=>{const o=$x(t);if(o!=="plugin"&&!Sn(Mm.urls,o)){const r=du(t),a=ft(r)?t.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;Mm.load(o,a).catch(()=>{WB(t,a,o)})}},a4=t=>X.from(c2(t)).filter(Wo).map(n=>({url:n,name:X.none()})),aS=(t,n,o)=>X.from(n).filter(r=>Wo(r)&&!oc.has(r)).map(r=>({url:`${t.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:X.some(r)})),Lb=(t,n,o)=>{const r=aS(n,"default",o),a=a4(n).orThunk(()=>aS(n,Br(n),""));wt(Qr([r,a]),f=>{t.add(f.url).catch(()=>{Hz(n,f.url,f.name.getOrUndefined())})})},Gv=(t,n)=>{const o=(r,a)=>{gC.load(r,a).catch(()=>{bC(t,a,r)})};Me(y2(t),(r,a)=>{o(a,r),t.options.set("plugins",B1(t).concat(a))}),wt(B1(t),r=>{r=fe.trim(r),r&&!gC.urls[r]&&!bH(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},yH=t=>{const n=nb(t);return!ft(n)||Zt(Pv.get(n))},GG=t=>{const n=$x(t);return Zt(Mm.get(n))},qG=(t,n)=>{const o=Ui.ScriptLoader,r=()=>{!t.removed&&yH(t)&&GG(t)&&M_(t)};vH(t,n),ZG(t,n),jG(o,t),Lb(o,t,n),Gv(t,n),o.loadQueue().then(r,r)},KG=(t,n)=>Yl.forElement(t,{contentCssCors:v2(n),referrerPolicy:Lx(n)}),YG=t=>{const n=t.id;Ar.setCode(d2(t));const o=()=>{Nb.unbind(window,"ready",o),t.render()};if(!ou.Event.domLoaded){Nb.bind(window,"ready",o);return}if(!t.getElement())return;const r=ht.fromDom(t.getElement()),a=Lf(r);t.on("remove",()=>{Gn(r.dom.attributes,y=>Lo(r,y.name)),Ac(r,a)}),t.ui.styleSheetLoader=KG(r,t),Mg(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const f=t.getElement().form||Nb.getParent(n,"form");f&&(t.formElement=f,fu(t)&&!sr(t.getElement())&&(Nb.insertAfter(Nb.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=y=>{t.dispatch(y.type,y)},Nb.bind(f,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),ob(t)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),f._mceOldSubmit(f)))),t.windowManager=FB(t),t.notificationManager=_T(t),uO(t)&&t.on("GetContent",y=>{y.save&&(y.content=Nb.encode(y.content))}),Kk(t)&&t.on("submit",()=>{t.initialized&&t.save()}),b2(t)&&(t._beforeUnload=()=>{t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),qG(t,t.suffix)},XG=(t,n)=>{t._editableRoot!==n&&(t._editableRoot=n,t.readonly||(t.getBody().contentEditable=String(t.hasEditableRoot()),t.nodeChanged()),VO(t,n))},JG=t=>t._editableRoot,_H=(t,n)=>({sections:re(t),options:re(n)}),xH=Ec().deviceType,wH=xH.isPhone(),QG=xH.isTablet(),FA=t=>{if(sn(t))return[];{const n=ln(t)?t:t.split(/[ ,]/),o=Ht(n,Ad);return Se(o,Wo)}},tq=(t,n)=>{const o=ku(n,(r,a)=>Mt(t,a));return _H(o.t,o.f)},c4=(t,n,o={})=>{const r=t.sections(),a=ms(r,n).getOr({});return fe.extend({},o,a)},l4=(t,n)=>Sn(t.sections(),n),eq=(t,n)=>l4(t,n)?t.sections()[n]:{},CH=(t,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:ms(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),nq=(t,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return t&&t.external_plugins?fe.extend({},t.external_plugins,r):r},SH=(t,n)=>[...FA(t),...FA(n)],oq=(t,n,o,r)=>t&&l4(n,"mobile")?r:o,u4=(t,n,o,r)=>{const a=FA(o.forced_plugins),f=FA(r.plugins),y=eq(n,"mobile"),T=y.plugins?FA(y.plugins):f,O=oq(t,n,f,T),B=SH(a,O);return fe.extend(r,{forced_plugins:a,plugins:B})},sq=(t,n)=>t&&l4(n,"mobile"),rq=(t,n,o,r,a)=>{var f;const y=t?{mobile:CH((f=a.mobile)!==null&&f!==void 0?f:{},n)}:{},T=tq(["mobile"],BC(y,a)),O=fe.extend(o,r,T.options(),sq(t,T)?c4(T,"mobile"):{},{external_plugins:nq(r,T.options())});return u4(t,T,r,O)},iq=(t,n)=>rq(wH||QG,wH,n,t,n),aq=(t,n)=>uz(t,n),EH=t=>{const n=(r,a)=>{t.formatter.toggle(r,a),t.nodeChanged()},o=r=>()=>{wt("left,center,right,justify".split(","),a=>{r!==a&&t.formatter.remove("align"+a)}),r!=="none"&&n("align"+r)};t.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},d4=t=>{const n=o=>()=>{const r=t.selection,a=r.isCollapsed()?[t.dom.getParent(r.getNode(),t.dom.isBlock)]:r.getSelectedBlocks();return _t(a,f=>Zt(t.formatter.matchNode(f,o)))};t.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},TH=t=>{EH(t),d4(t)},f4=t=>{t.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=t.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let a=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Ee.os.isMacOS()||Ee.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:a,type:"error"})}}})},cq=(t,n,o,r)=>{const a=ht.fromDom(t.getRoot());return zy(a,Ut.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Wy(a,Ut.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},lJ=t=>{if(typeof t!="string"){const n=fe.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:n}}return{content:t,details:{}}},uJ=(t,n)=>{const o=t.selection,r=t.dom;return/^ | $/.test(n)?cq(r,o.getRng(),n,t.schema):n},HA=(t,n)=>{if(t.selection.isEditable()){const{content:o,details:r}=lJ(n);fT(t,{...r,content:uJ(t,o),format:"html",set:!1,selection:!0}).each(a=>{const f=vB(t,a.content,r);Ov(t,f,a),t.addVisual()})}},AH=t=>{t.editorCommands.addCommands({mceCleanup:()=>{const n=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{HA(t,t.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{HA(t,t.dom.encode(r))},insertHTML:(n,o,r)=>{HA(t,r)},mceInsertContent:(n,o,r)=>{HA(t,r)},mceSetContent:(n,o,r)=>{t.setContent(r)},mceReplaceContent:(n,o,r)=>{t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent(T2(t))}})},lq={"font-size":"size","font-family":"face"},uq=Uh("font"),dq=(t,n,o)=>{const r=f=>si(f,t).orThunk(()=>uq(f)?ms(lq,t).bind(y=>Di(f,y)):X.none()),a=f=>Io(ht.fromDom(n),f);return JD(ht.fromDom(o),f=>r(f),a)},dJ=t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),fJ=(t,n)=>X.from(Zo.DOM.getStyle(n,t,!0)),h4=t=>(n,o)=>X.from(o).map(ht.fromDom).filter(Sa).bind(r=>dq(t,n,r.dom).or(fJ(t,r.dom))).getOr(""),kH=h4("font-size"),fq=F(dJ,h4("font-family")),hq=t=>da(t.getBody()).bind(n=>{const o=n.container();return X.from(se(o)?o.parentNode:o)}),mq=t=>X.from(t.selection.getRng()).bind(n=>{const o=t.getBody();return n.startContainer===o&&n.startOffset===0?X.none():X.from(t.selection.getStart(!0))}),hJ=(t,n)=>mq(t).orThunk(Kt(hq,t)).map(ht.fromDom).filter(Sa).bind(n),OH=(t,n)=>hJ(t,Po(X.some,n)),gq=(t,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=lO(t),a=sb(t);return a.length>0?a[o-1]||n:r[o-1]||n}else return n}else return n},pq=t=>{const n=t.split(/\s*,\s*/);return Ht(n,o=>o.indexOf(" ")!==-1&&!(er(o,'"')||er(o,"'"))?`'${o}'`:o).join(",")},mJ=(t,n)=>{const o=gq(t,n);t.formatter.toggle("fontname",{value:pq(o)}),t.nodeChanged()},bq=t=>OH(t,n=>fq(t.getBody(),n.dom)).getOr(""),qv=(t,n)=>{t.formatter.toggle("fontsize",{value:gq(t,n)}),t.nodeChanged()},m4=t=>OH(t,n=>kH(t.getBody(),n.dom)).getOr(""),VA=t=>OH(t,n=>{const o=ht.fromDom(t.getBody()),r=JD(n,f=>si(f,"line-height"),Kt(Io,o)),a=()=>{const f=parseFloat(ql(n,"line-height")),y=parseFloat(ql(n,"font-size"));return String(f/y)};return r.getOrThunk(a)}).getOr(""),DH=(t,n)=>{t.formatter.toggle("lineheight",{value:String(n)}),t.nodeChanged()},RH=t=>{const n=(o,r)=>{t.formatter.toggle(o,r),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,a)=>{n(o,{value:a})},BackColor:(o,r,a)=>{n("hilitecolor",{value:a})},FontName:(o,r,a)=>{mJ(t,a)},FontSize:(o,r,a)=>{qv(t,a)},LineHeight:(o,r,a)=>{DH(t,a)},Lang:(o,r,a)=>{var f;n(o,{value:a.code,customValue:(f=a.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:o=>{t.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,a)=>{n(ft(a)?a:"p")},mceToggleFormat:(o,r,a)=>{n(a)}})},MH=t=>{const n=o=>t.formatter.match(o);t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),t.editorCommands.addQueryValueHandler("FontName",()=>bq(t)),t.editorCommands.addQueryValueHandler("FontSize",()=>m4(t)),t.editorCommands.addQueryValueHandler("LineHeight",()=>VA(t))},vq=t=>{RH(t),MH(t)},yq=t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})},_q=t=>{t.editorCommands.addCommands({Indent:()=>{d9(t)},Outdent:()=>{QI(t)}}),t.editorCommands.addCommands({Outdent:()=>YI(t)},"state")},xq=t=>{const n=(o,r,a)=>{const f=ft(a)?{href:a}:a,y=t.dom.getParent(t.selection.getNode(),"a");We(f)&&ft(f.href)&&(f.href=f.href.replace(/ /g,"%20"),(!y||!f.href)&&t.formatter.remove("link"),f.href&&t.formatter.apply("link",f,y))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isEditable()){if(t.selection.isCollapsed()){const o=t.dom.getParent(t.selection.getStart(),"a");o&&t.dom.remove(o,!0);return}t.formatter.remove("link")}},mceInsertLink:n,createLink:n})},Bb=(t,n,o,r)=>{const a=t.dom,f=T=>a.isBlock(T)&&T.parentElement===o,y=f(n)?n:a.getParent(r,f,o);return X.from(y).map(ht.fromDom)},PH=(t,n)=>{const o=t.dom,r=t.selection.getRng(),a=n?t.selection.getStart():t.selection.getEnd(),f=n?r.startContainer:r.endContainer,y=Mb(o,f);if(!y||!y.isContentEditable)return;const T=n?gi:$u,O=la(t);Bb(t,a,y,f).each(B=>{const U=OF(t,f,B.dom,y,!1,O);T(B,ht.fromDom(U)),t.selection.setCursorLocation(U,0),t.dispatch("NewBlock",{newBlock:U}),zC(t,"insertParagraph")})},NH=t=>PH(t,!0),wq=t=>PH(t,!1),zA=t=>{t.editorCommands.addCommands({InsertNewBlockBefore:()=>{NH(t)},InsertNewBlockAfter:()=>{wq(t)}})},Cq=t=>{t.editorCommands.addCommands({insertParagraph:()=>{hA(PF,t)},mceInsertNewLine:(n,o,r)=>{bP(t,r)},InsertLineBreak:(n,o,r)=>{hA(NF,t)}})},Sq=t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let a=0;t.dom.getParent(t.selection.getNode(),f=>Ge(f)&&a++===r?(t.selection.select(f),!1):!0,t.getBody())},mceSelectNode:(n,o,r)=>{t.selection.select(r)},selectAll:()=>{const n=t.dom.getParent(t.selection.getStart(),gr);if(n){const o=t.dom.createRng();o.selectNodeContents(n),t.selection.setRng(o)}}})},Eq=t=>{t.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const a=r??t.selection.getNode();if(a!==t.getBody()){const f=t.selection.getBookmark();t.dom.remove(a,!0),t.selection.moveToBookmark(f)}},mcePrint:()=>{t.getWin().print()},mceFocus:(n,o,r)=>{S7(t,r===!0)},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})},LH=t=>{TH(t),f4(t),yq(t),Sq(t),AH(t),xq(t),_q(t),zA(t),Cq(t),vq(t),Eq(t)},Tq=["toggleview"],BH=t=>Mt(Tq,t.toLowerCase());class IH{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,a){const f=this.editor,y=n.toLowerCase(),T=a==null?void 0:a.skip_focus;if(f.removed||(y!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(y)&&!T?f.focus():_N(f)),f.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const B=this.commands.exec[y];return pt(B)?(B(y,o,r),f.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!BH(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return pt(r)?r(o):!1}queryCommandValue(n){if(!BH(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return pt(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;Me(n,(a,f)=>{wt(f.toLowerCase().split(","),y=>{r[o][y]=a})})}addCommand(n,o,r){const a=n.toLowerCase();this.commands.exec[a]=(f,y,T)=>o.call(r??this.editor,y,T)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const op="data-mce-contenteditable",Aq=(t,n,o)=>{lg(t,n)&&!o?Nu(t,n):o&&Bf(t,n)},g4=(t,n,o)=>{try{t.getDoc().execCommand(n,!1,String(o))}catch{}},Rr=(t,n)=>{t.dom.contentEditable=n?"true":"false"},kq=t=>{wt(mr(t,'*[contenteditable="true"]'),n=>{is(n,op,"true"),Rr(n,!1)})},Oq=t=>{wt(mr(t,`*[${op}="true"]`),n=>{Lo(n,op),Rr(n,!0)})},p4=t=>{X.from(t.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},$H=t=>{t.selection.setRng(t.selection.getRng())},b4=(t,n)=>{const o=ht.fromDom(t.getBody());Aq(o,"mce-content-readonly",n),n?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),p4(t),t.readonly=!0,Rr(o,!1),kq(o)):(t.readonly=!1,t.hasEditableRoot()&&Rr(o,!0),Oq(o),g4(t,"StyleWithCSS",!1),g4(t,"enableInlineTableEditing",!1),g4(t,"enableObjectResizing",!1),EN(t)&&t.focus(),$H(t),t.nodeChanged())},Kv=t=>t.readonly,FH=t=>{t.parser.addAttributeFilter("contenteditable",n=>{Kv(t)&&wt(n,o=>{o.attr(op,o.attr("contenteditable")),o.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(op,n=>{Kv(t)&&wt(n,o=>{o.attr("contenteditable",o.attr(op))})}),t.serializer.addTempAttr(op)},Dq=t=>{t.serializer?FH(t):t.on("PreInit",()=>{FH(t)})},Rq=t=>t.type==="click",Mq=["copy"],Pq=t=>Mt(Mq,t.type),Nq=(t,n)=>Gl(n,"a",r=>Io(r,ht.fromDom(t.getBody()))).bind(r=>Di(r,"href")),Lq=(t,n)=>{if(Rq(n)&&!Ze.metaKeyPressed(n)){const o=ht.fromDom(n.target);Nq(t,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const a=t.dom.select(`${r},[name="${Du(r,"#")}"]`);a.length&&t.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Pq(n)&&t.dispatch(n.type,n)},P_=t=>{t.on("ShowCaret",n=>{Kv(t)&&n.preventDefault()}),t.on("ObjectSelected",n=>{Kv(t)&&n.preventDefault()})},Dh=fe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class v4{static isNative(n){return!!Dh[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Gt}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),a=Oa(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const f=this.bindings[r];if(f)for(let y=0,T=f.length;y<T;y++){const O=f[y];if(!O.removed){if(O.once&&this.off(r,O.func),a.isImmediatePropagationStopped())return a;if(O.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(n,o,r,a){if(o===!1&&(o=Gt),o){const f={func:o,removed:!1};a&&fe.extend(f,a);const y=n.toLowerCase().split(" ");let T=y.length;for(;T--;){const O=y[T];let B=this.bindings[O];B||(B=[],this.toggleEvent(O,!0)),r?B=[f,...B]:B=[...B,f],this.bindings[O]=B}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let a=r.length;for(;a--;){const f=r[a];let y=this.bindings[f];if(!f)return Me(this.bindings,(T,O)=>{this.toggleEvent(O,!1),delete this.bindings[O]}),this;if(y){if(!o)y.length=0;else{const T=kn(y,O=>O.func===o);y=T.fail,this.bindings[f]=y,wt(T.pass,O=>{O.removed=!0})}y.length||(this.toggleEvent(n,!1),delete this.bindings[f])}}}else Me(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const cS=t=>(t._eventDispatcher||(t._eventDispatcher=new v4({scope:t,toggleEvent:(n,o)=>{v4.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,o)}})),t._eventDispatcher),y4={fire(t,n,o){return this.dispatch(t,n,o)},dispatch(t,n,o){const r=this;if(r.removed&&t!=="remove"&&t!=="detach")return Oa(t.toLowerCase(),n??{},r);const a=cS(r).dispatch(t,n);if(o!==!1&&r.parent){let f=r.parent();for(;f&&!a.isPropagationStopped();)f.dispatch(t,a,!1),f=f.parent?f.parent():void 0}return a},on(t,n,o){return cS(this).on(t,n,o)},off(t,n){return cS(this).off(t,n)},once(t,n){return cS(this).once(t,n)},hasEventListeners(t){return cS(this).has(t)}},WA=Zo.DOM;let Yv;const UA=(t,n)=>{if(n==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return t.getDoc().documentElement;const o=Rg(t);return o?(t.eventRoot||(t.eventRoot=WA.select(o)[0]),t.eventRoot):t.getBody()},Bq=t=>!t.hidden&&!Kv(t),HH=(t,n,o)=>{Bq(t)?t.dispatch(n,o):Kv(t)&&Lq(t,o)},VH=(t,n)=>{if(t.delegates||(t.delegates={}),t.delegates[n]||t.removed)return;const o=UA(t,n);if(Rg(t)){if(Yv||(Yv={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Yv&&(Me(Yv,(a,f)=>{t.dom.unbind(UA(t,f))}),Yv=null)})),Yv[n])return;const r=a=>{const f=a.target,y=t.editorManager.get();let T=y.length;for(;T--;){const O=y[T].getBody();(O===f||WA.isChildOf(f,O))&&HH(y[T],n,a)}};Yv[n]=r,WA.bind(o,n,r)}else{const r=a=>{HH(t,n,a)};WA.bind(o,n,r),t.delegates[n]=r}},Iq={...y4,bindPendingEventDelegates(){const t=this;fe.each(t._pendingNativeEvents,n=>{VH(t,n)})},toggleNativeEvent(t,n){const o=this;t==="focus"||t==="blur"||o.removed||(n?o.initialized?VH(o,t):o._pendingNativeEvents?o._pendingNativeEvents.push(t):o._pendingNativeEvents=[t]:o.initialized&&o.delegates&&(o.dom.unbind(UA(o,t),t,o.delegates[t]),delete o.delegates[t]))},unbindAllNativeEvents(){const t=this,n=t.getBody(),o=t.dom;t.delegates&&(Me(t.delegates,(r,a)=>{t.dom.unbind(UA(t,a),a,r)}),delete t.delegates),!t.inline&&n&&o&&(n.onload=null,o.unbind(t.getWin()),o.unbind(t.getDoc())),o&&(o.unbind(n),o.unbind(t.getContainer()))}},$q=t=>ft(t)?{value:t.split(/[ ,]/),valid:!0}:pn(t,ft)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Fq=t=>{const n=(()=>{switch(t){case"array":return ln;case"boolean":return wn;case"function":return pt;case"number":return jn;case"object":return We;case"string":return ft;case"string[]":return $q;case"object[]":return o=>pn(o,We);case"regexp":return o=>Nn(o,RegExp);default:return Ae}})();return o=>_4(o,n,`The value must be a ${t}.`)},Hq=t=>ft(t.processor),zH=(t,n)=>{const o=Jr(n.message)?"":`. ${n.message}`;return t+o},WH=t=>t.valid,_4=(t,n,o="")=>{const r=n(t);return wn(r)?r?{value:t,valid:!0}:{valid:!1,message:o}:r},gJ=(t,n,o)=>{if(!Hn(n)){const r=_4(n,o);if(WH(r))return r.value;console.error(zH(`Invalid default value passed for the "${t}" option`,r))}},Vq=(t,n)=>{const o={},r={},a=(j,q,nt)=>{const at=_4(q,nt);return WH(at)?(r[j]=at.value,!0):(console.warn(zH(`Invalid value passed for the ${j} option`,at)),!1)},f=(j,q)=>{const nt=Hq(q)?Fq(q.processor):q.processor,at=gJ(j,q.default,nt);o[j]={...q,default:at,processor:nt},ms(r,j).orThunk(()=>ms(n,j)).each(ct=>a(j,ct,nt))},y=j=>Sn(o,j);return{register:f,isRegistered:y,get:j=>ms(r,j).orThunk(()=>ms(o,j).map(q=>q.default)).getOrUndefined(),set:(j,q)=>{if(y(j)){const nt=o[j];return nt.immutable?(console.error(`"${j}" is an immutable option and cannot be updated`),!1):a(j,q,nt.processor)}else return console.warn(`"${j}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:j=>{const q=y(j);return q&&delete r[j],q},isSet:j=>Sn(r,j)}},zq=["design","readonly"],UH=(t,n,o,r)=>{const a=o[n.get()],f=o[r];try{f.activate()}catch(y){console.error(`problem while activating editor mode ${r}:`,y);return}a.deactivate(),a.editorReadOnly!==f.editorReadOnly&&b4(t,f.editorReadOnly),n.set(r),lo(t,r)},Wq=(t,n,o,r)=>{if(r!==o.get()){if(!Sn(n,r))throw new Error(`Editor mode '${r}' is invalid`);t.initialized?UH(t,o,n,r):t.on("init",()=>UH(t,o,n,r))}},Uq=(t,n,o)=>{if(Mt(zq,n))throw new Error(`Cannot override default mode ${n}`);return{...t,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},jq=t=>{const n=Gs("design"),o=Gs({design:{activate:Ye,deactivate:Ye,editorReadOnly:!1},readonly:{activate:Ye,deactivate:Ye,editorReadOnly:!0}});return Dq(t),P_(t),{isReadOnly:()=>Kv(t),set:r=>Wq(t,o.get(),n,r),get:()=>n.get(),register:(r,a)=>{o.set(Uq(o.get(),r,a))}}},x4=fe.each,w4=fe.explode,Zq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},jH=fe.makeMap("alt,ctrl,shift,meta,access"),Gq=t=>t in jH,qq=t=>{const n={},o=Ee.os.isMacOS()||Ee.os.isiOS();x4(w4(t.toLowerCase(),"+"),f=>{Gq(f)?n[f]=!0:/^[0-9]{2,}$/.test(f)?n.keyCode=parseInt(f,10):(n.charCode=f.charCodeAt(0),n.keyCode=Zq[f]||f.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let a;for(a in jH)n[a]?r.push(a):n[a]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class ZH{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(x4(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,a){const f=this,y=f.normalizeCommandFunc(r);return x4(w4(fe.trim(n)),T=>{const O=f.createShortcut(T,o,y,a);f.shortcuts[O.id]=O}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:fe.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,a){const f=fe.map(w4(n,">"),qq);return f[f.length-1]=fe.extend(f[f.length-1],{func:r,scope:a||this.editor}),fe.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const Kq=()=>{const t={},n={},o={},r={},a={},f={},y={},T={},O=(U,j)=>(q,nt)=>{U[q.toLowerCase()]={...nt,type:j}},B=(U,j)=>r[U.toLowerCase()]=j;return{addButton:O(t,"button"),addGroupToolbarButton:O(t,"grouptoolbarbutton"),addToggleButton:O(t,"togglebutton"),addMenuButton:O(t,"menubutton"),addSplitButton:O(t,"splitbutton"),addMenuItem:O(n,"menuitem"),addNestedMenuItem:O(n,"nestedmenuitem"),addToggleMenuItem:O(n,"togglemenuitem"),addAutocompleter:O(o,"autocompleter"),addContextMenu:O(a,"contextmenu"),addContextToolbar:O(f,"contexttoolbar"),addContextForm:O(f,"contextform"),addSidebar:O(y,"sidebar"),addView:O(T,"views"),addIcon:B,getAll:()=>({buttons:t,menuItems:n,icons:r,popups:o,contextMenus:a,contextToolbars:f,sidebars:y,views:T})}},Yq=()=>{const t=Kq();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},Xv=Zo.DOM,C4=fe.extend,Xq=fe.each;class jA{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,C4(this,Iq);const a=this;this.id=n,this.hidden=!1;const f=iq(r.defaultOptions,o);this.options=Vq(a,f),Fk(a);const y=this.options.get;y("deprecation_warnings")&&Pz(o,f);const T=y("suffix");T&&(r.suffix=T),this.suffix=r.suffix;const O=y("base_url");O&&r._setBaseUrl(O),this.baseUri=r.baseURI;const B=Lx(a);B&&(Ui.ScriptLoader._setReferrerPolicy(B),Zo.DOM.styleSheetLoader._setReferrerPolicy(B));const U=v2(a);Zt(U)&&Zo.DOM.styleSheetLoader._setContentCssCors(U),Ii.languageLoad=y("language_load"),Ii.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new ff(s2(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Mg(a),this.hasVisual=Qk(a),this.shortcuts=new ZH(this),this.editorCommands=new IH(this),LH(this);const j=y("cache_suffix");j&&(Ee.cacheSuffix=j.replace(/^[\?\&]+/,"")),this.ui={registry:Yq(),styleSheetLoader:void 0,show:Ye,hide:Ye,setEnabled:Ye,isEnabled:Ae},this.mode=jq(a),r.dispatch("SetupEditor",{editor:this});const q=Hx(a);pt(q)&&q.call(a,a)}render(){YG(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return fv(this)}translate(n){return Ar.translate(n)}getParam(n,o,r){const a=this.options;return a.isRegistered(n)||(Zt(r)?a.register(n,{processor:r,default:o}):a.register(n,{processor:Ae,default:o})),!a.isSet(n)&&!Hn(o)?o:a.get(n)}hasPlugin(n,o){return Mt(B1(this),n)?o?gC.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,a){this.shortcuts.add(n,o,r,a)}execCommand(n,o,r,a){return this.editorCommands.execCommand(n,o,r,a)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Xv.show(n.getContainer()),Xv.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Xv.hide(n.getContainer()),Xv.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...n,load:!0},f=sr(r)?r.value:r.innerHTML,y=o.setContent(f,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),y}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...n,save:!0,element:r};let f=o.getContent(a);const y={...a,content:f};if(y.no_events||o.dispatch("SaveContent",y),y.format==="raw"&&o.dispatch("RawSaveContent",y),f=y.content,sr(r))r.value=f;else{(n.is_removing||!o.inline)&&(r.innerHTML=f);const T=Xv.getParent(o.id,"form");T&&Xq(T.elements,O=>O.name===o.id?(O.value=f,!1):!0)}return y.element=a.element=r=null,y.set_dirty!==!1&&o.setDirty(!1),f}setContent(n,o){return jR(this,n,o)}getContent(n){return Cz(this,n)}insertContent(n,o){o&&(n=C4({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?jR(this,this.startContent,{format:"raw"}):jR(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Xv.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Xv.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const a=this,f=a.options.get,y=eO(a);if(pt(y))return y.call(a,n,r,!0,o);if(!f("convert_urls")||r==="link"||We(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const T=new ff(n);return T.protocol!=="http"&&T.protocol!=="https"&&T.protocol!==""?n:f("relative_urls")?a.documentBaseURI.toRelative(n):(n=a.documentBaseURI.toAbsolute(n,f("remove_script_host")),n)}addVisual(n){aq(this,n)}setEditableRoot(n){XG(this,n)}hasEditableRoot(){return JG(this)}remove(){Iz(this)}destroy(n){MB(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const N_=Zo.DOM,ZA=fe.each;let GH=!1,GA,Kc=[];const qA=t=>{const n=t.type;ZA(Ib.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",t);break;case"resize":o.dispatch("ResizeWindow",t);break}})},S4=t=>{if(t!==GH){const n=Zo.DOM;t?(n.bind(window,"resize",qA),n.bind(window,"scroll",qA)):(n.unbind(window,"resize",qA),n.unbind(window,"scroll",qA)),GH=t}},qH=t=>{const n=Kc;return Kc=Se(Kc,o=>t!==o),Ib.activeEditor===t&&(Ib.activeEditor=Kc.length>0?Kc[0]:null),Ib.focusedEditor===t&&(Ib.focusedEditor=null),n.length!==Kc.length},Jq=t=>{t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(qH(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)},Qq=document.compatMode!=="CSS1Compat",Ib={...y4,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"0.1",releaseDate:"2024-04-10",i18n:Ar,activeEditor:null,focusedEditor:null,setup(){const t=this;let n="",o="",r=ff.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)n=a.base||a.baseURL,o=a.suffix;else{const f=document.getElementsByTagName("script");for(let y=0;y<f.length;y++){const T=f[y].src||"";if(T==="")continue;const O=T.substring(T.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(T)){O.indexOf(".min")!==-1&&(o=".min"),n=T.substring(0,T.lastIndexOf("/"));break}}if(!n&&document.currentScript){const y=document.currentScript.src;y.indexOf(".min")!==-1&&(o=".min"),n=y.substring(0,y.lastIndexOf("/"))}}t.baseURL=new ff(r).toAbsolute(n),t.documentBaseURL=r,t.baseURI=new ff(t.baseURL),t.suffix=o,b7(t)},overrideDefaults(t){const n=t.base_url;n&&this._setBaseUrl(n);const o=t.suffix;o&&(this.suffix=o),this.defaultOptions=t;const r=t.plugin_base_urls;r!==void 0&&Me(r,(a,f)=>{Ii.PluginManager.urls[f]=a})},init(t){const n=this;let o;const r=fe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(U,j)=>U.inline&&j.tagName.toLowerCase()in r,f=U=>{let j=U.id;return j||(j=ms(U,"name").filter(q=>!N_.get(q)).getOrThunk(N_.uniqueId),U.setAttribute("id",j)),j},y=U=>{const j=t[U];if(j)return j.apply(n,[])},T=U=>Ee.browser.isIE()||Ee.browser.isEdge()?(wT("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Qq?(wT("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ft(U.selector)?N_.select(U.selector):Zt(U.target)?[U.target]:[];let O=U=>{o=U};const B=()=>{let U=0;const j=[];let q;const nt=(at,st,ct)=>{const xt=new jA(at,st,n);j.push(xt),xt.on("init",()=>{++U===q.length&&O(j)}),xt.targetElm=xt.targetElm||ct,xt.render()};N_.unbind(window,"ready",B),y("onpageload"),q=Wa(T(t)),fe.each(q,at=>{Jq(n.get(at.id))}),q=fe.grep(q,at=>!n.get(at.id)),q.length===0?O([]):ZA(q,at=>{a(t,at)?wT("Could not initialize inline editor on invalid inline target element",at):nt(f(at),t,at)})};return N_.bind(window,"ready",B),new Promise(U=>{o?U(o):O=j=>{U(j)}})},get(t){return arguments.length===0?Kc.slice(0):ft(t)?co(Kc,n=>n.id===t).getOr(null):jn(t)&&Kc[t]?Kc[t]:null},add(t){const n=this,o=n.get(t.id);return o===t||(o===null&&Kc.push(t),S4(!0),n.activeEditor=t,n.dispatch("AddEditor",{editor:t}),GA||(GA=r=>{const a=n.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",GA))),t},createEditor(t,n){return this.add(new jA(t,n,this))},remove(t){const n=this;let o;if(!t){for(let r=Kc.length-1;r>=0;r--)n.remove(Kc[r]);return}if(ft(t)){ZA(N_.select(t),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=t,vt(n.get(o.id))?null:(qH(o)&&n.dispatch("RemoveEditor",{editor:o}),Kc.length===0&&window.removeEventListener("beforeunload",GA),o.remove(),S4(Kc.length>0),o)},execCommand(t,n,o){var r;const a=this,f=We(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(t){case"mceAddEditor":{if(!a.get(f)){const y=o.options;new jA(f,y,a).render()}return!0}case"mceRemoveEditor":{const y=a.get(f);return y&&y.remove(),!0}case"mceToggleEditor":{const y=a.get(f);return y?(y.isHidden()?y.show():y.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(t,n,o):!1},triggerSave:()=>{ZA(Kc,t=>{t.save()})},addI18n:(t,n)=>{Ar.add(t,n)},translate:t=>Ar.translate(t),setActive(t){const n=this.activeEditor;this.activeEditor!==t&&(n&&n.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:n})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new ff(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new ff(this.baseURL)}};Ib.setup();const tK=(()=>{const t=Zr(),n=f=>({items:f,types:zr(f),getType:y=>ms(f,y).getOrUndefined()}),o=f=>{t.set(f)},r=()=>t.get().getOrUndefined(),a=t.clear;return{FakeClipboardItem:n,write:o,read:r,clear:a}})(),KH=Math.min,L_=Math.max,lS=Math.round,eK=(t,n,o)=>{let r=n.x,a=n.y;const f=t.w,y=t.h,T=n.w,O=n.h,B=(o||"").split("");return B[0]==="b"&&(a+=O),B[1]==="r"&&(r+=T),B[0]==="c"&&(a+=lS(O/2)),B[1]==="c"&&(r+=lS(T/2)),B[3]==="b"&&(a-=y),B[4]==="r"&&(r-=f),B[3]==="c"&&(a-=lS(y/2)),B[4]==="c"&&(r-=lS(f/2)),B_(r,a,f,y)},YH=(t,n,o,r)=>{for(let a=0;a<r.length;a++){const f=eK(t,n,r[a]);if(f.x>=o.x&&f.x+f.w<=o.w+o.x&&f.y>=o.y&&f.y+f.h<=o.h+o.y)return r[a]}return null},nK=(t,n,o)=>B_(t.x-n,t.y-o,t.w+n*2,t.h+o*2),XH=(t,n)=>{const o=L_(t.x,n.x),r=L_(t.y,n.y),a=KH(t.x+t.w,n.x+n.w),f=KH(t.y+t.h,n.y+n.h);return a-o<0||f-r<0?null:B_(o,r,a-o,f-r)},oK=(t,n,o)=>{let r=t.x,a=t.y,f=t.x+t.w,y=t.y+t.h;const T=n.x+n.w,O=n.y+n.h,B=L_(0,n.x-r),U=L_(0,n.y-a),j=L_(0,f-T),q=L_(0,y-O);return r+=B,a+=U,o&&(f+=B,y+=U,r-=j,a-=q),f-=j,y-=q,B_(r,a,f-r,y-a)},B_=(t,n,o,r)=>({x:t,y:n,w:o,h:r}),sK={inflate:nK,relativePosition:eK,findBestRelativePosition:YH,intersect:XH,clamp:oK,create:B_,fromClientRect:t=>B_(t.left,t.top,t.width,t.height)},rK=(t,n,o=1e3)=>{let r=!1,a=null;const f=B=>(...U)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),B.apply(null,U))},y=f(t),T=f(n);return{start:(...B)=>{!r&&a===null&&(a=setTimeout(()=>T.apply(null,B),o))},resolve:y,reject:T}},E4=(()=>{const t={},n={},o={};return{load:(O,B)=>{const U=`Script at URL "${B}" failed to load`,j=`Script at URL "${B}" did not call \`tinymce.Resource.add('${O}', data)\` within 1 second`;if(t[O]!==void 0)return t[O];{const q=new Promise((nt,at)=>{const st=rK(nt,at);n[O]=st.resolve,Ui.ScriptLoader.loadScript(B).then(()=>st.start(j),()=>st.reject(U))});return t[O]=q,q}},add:(O,B)=>{n[O]!==void 0&&(n[O](B),delete n[O]),t[O]=Promise.resolve(B),o[O]=B},has:O=>O in o,get:O=>o[O],unload:O=>{delete t[O],delete o[O]}}})(),T4=()=>(()=>{let t={},n=[];const o={getItem:r=>{const a=t[r];return a||null},setItem:(r,a)=>{n.push(r),t[r]=String(a)},key:r=>n[r],removeItem:r=>{n=n.filter(a=>a===r),delete t[r]},clear:()=>{n=[],t={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let uS;try{const t="__storage_test__";uS=window.localStorage,uS.setItem(t,t),uS.removeItem(t)}catch{uS=T4()}var JH=uS;const iK={geom:{Rect:sK},util:{Delay:cd,Tools:fe,VK:Ze,URI:ff,EventDispatcher:v4,Observable:y4,I18n:Ar,LocalStorage:JH,ImageUploader:Yz},dom:{EventUtils:ou,TreeWalker:Vs,TextSeeker:qt,DOMUtils:Zo,ScriptLoader:Ui,RangeUtils:Fe,Serializer:UR,StyleSheetLoader:dl,ControlSelection:Oy,BookmarkManager:Ir,Selection:Rv,Event:ou.Event},html:{Styles:Vc,Entities:Bi,Node:tc,Schema:Yu,DomParser:ma,Writer:IN,Serializer:gn},Env:Ee,AddOnManager:Ii,Annotator:kl,Formatter:XR,UndoManager:QR,EditorCommands:IH,WindowManager:FB,NotificationManager:_T,EditorObservable:Iq,Shortcuts:ZH,Editor:jA,FocusManager:xN,EditorManager:Ib,DOM:Zo.DOM,ScriptLoader:Ui.ScriptLoader,PluginManager:gC,ThemeManager:Pv,ModelManager:Mm,IconManager:oc,Resource:E4,FakeClipboard:tK,trim:fe.trim,isArray:fe.isArray,is:fe.is,toArray:fe.toArray,makeMap:fe.makeMap,each:fe.each,map:fe.map,grep:fe.grep,inArray:fe.inArray,extend:fe.extend,walk:fe.walk,resolve:fe.resolve,explode:fe.explode,_addCacheSuffix:fe._addCacheSuffix},QH=fe.extend(Ib,iK),aK=t=>{try{v.exports=t}catch{}};(t=>{window.tinymce=t,window.tinyMCE=t})(QH),aK(QH)})()})(Plt);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>'}});(function(){const v=Object.getPrototypeOf,m=(e,s,i)=>{var l;return i(e,s.prototype)?!0:((l=e.constructor)===null||l===void 0?void 0:l.name)===s.name},C=e=>{const s=typeof e;return e===null?"null":s==="object"&&Array.isArray(e)?"array":s==="object"&&m(e,String,(i,l)=>l.isPrototypeOf(i))?"string":s},M=e=>s=>C(s)===e,$=e=>s=>typeof s===e,W=e=>s=>e===s,G=(e,s)=>gt(e)&&m(e,s,(i,l)=>v(i)===l),tt=M("string"),gt=M("object"),Bt=e=>G(e,Object),Tt=M("array"),Lt=W(null),Le=$("boolean"),He=W(void 0),ze=e=>e==null,_e=e=>!ze(e),$t=$("function"),Je=$("number"),Nn=(e,s)=>{if(Tt(e)){for(let i=0,l=e.length;i<l;++i)if(!s(e[i]))return!1;return!0}return!1},ft=()=>{},We=e=>()=>e(),to=(e,s)=>(...i)=>e(s.apply(null,i)),ln=(e,s)=>i=>e(s(i)),vt=e=>()=>e,wn=e=>e,Hn=(e,s)=>e===s;function sn(e,...s){return(...i)=>{const l=s.concat(i);return e.apply(null,l)}}const Zt=e=>s=>!e(s),pt=e=>()=>{throw new Error(e)},jn=e=>e(),pn=vt(!1),Ye=vt(!0);class F{constructor(s,i){this.tag=s,this.value=i}static some(s){return new F(!0,s)}static none(){return F.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?F.some(s(this.value)):F.none()}bind(s){return this.tag?s(this.value):F.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:F.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return _e(s)?F.some(s):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Po=Array.prototype.slice,re=Array.prototype.indexOf,wo=Array.prototype.push,bn=(e,s)=>re.call(e,s),Kt=(e,s)=>{const i=bn(e,s);return i===-1?F.none():F.some(i)},go=(e,s)=>bn(e,s)>-1,Cr=(e,s)=>{for(let i=0,l=e.length;i<l;i++){const g=e[i];if(s(g,i))return!0}return!1},ko=(e,s)=>{const i=[];for(let l=0;l<e;l++)i.push(s(l));return i},Bo=(e,s)=>{const i=[];for(let l=0;l<e.length;l+=s){const g=Po.call(e,l,l+s);i.push(g)}return i},Gt=(e,s)=>{const i=e.length,l=new Array(i);for(let g=0;g<i;g++){const x=e[g];l[g]=s(x,g)}return l},Ae=(e,s)=>{for(let i=0,l=e.length;i<l;i++){const g=e[i];s(g,i)}},X=(e,s)=>{for(let i=e.length-1;i>=0;i--){const l=e[i];s(l,i)}},tr=(e,s)=>{const i=[],l=[];for(let g=0,x=e.length;g<x;g++){const w=e[g];(s(w,g)?i:l).push(w)}return{pass:i,fail:l}},oo=(e,s)=>{const i=[];for(let l=0,g=e.length;l<g;l++){const x=e[l];s(x,l)&&i.push(x)}return i},hs=(e,s,i)=>(X(e,(l,g)=>{i=s(i,l,g)}),i),ie=(e,s,i)=>(Ae(e,(l,g)=>{i=s(i,l,g)}),i),Vt=(e,s,i)=>{for(let l=0,g=e.length;l<g;l++){const x=e[l];if(s(x,l))return F.some(x);if(i(x,l))break}return F.none()},Mt=(e,s)=>Vt(e,s,pn),_t=(e,s)=>{for(let i=0,l=e.length;i<l;i++){const g=e[i];if(s(g,i))return F.some(i)}return F.none()},Ht=e=>{const s=[];for(let i=0,l=e.length;i<l;++i){if(!Tt(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);wo.apply(s,e[i])}return s},wt=(e,s)=>Ht(Gt(e,s)),Gn=(e,s)=>{for(let i=0,l=e.length;i<l;++i){const g=e[i];if(s(g,i)!==!0)return!1}return!0},kn=e=>{const s=Po.call(e,0);return s.reverse(),s},Se=(e,s)=>oo(e,i=>!go(s,i)),vo=(e,s)=>{const i={};for(let l=0,g=e.length;l<g;l++){const x=e[l];i[String(x)]=s(x,l)}return i},yo=e=>[e],Ms=(e,s)=>{const i=Po.call(e,0);return i.sort(s),i},co=(e,s)=>s>=0&&s<e.length?F.some(e[s]):F.none(),ks=e=>co(e,0),Ei=e=>co(e,e.length-1),Ps=$t(Array.from)?Array.from:e=>Po.call(e),vs=(e,s)=>{for(let i=0;i<e.length;i++){const l=s(e[i],i);if(l.isSome())return l}return F.none()},Qo=Object.keys,ic=Object.hasOwnProperty,Oo=(e,s)=>{const i=Qo(e);for(let l=0,g=i.length;l<g;l++){const x=i[l],w=e[x];s(w,x)}},Co=(e,s)=>ys(e,(i,l)=>({k:l,v:s(i,l)})),ys=(e,s)=>{const i={};return Oo(e,(l,g)=>{const x=s(l,g);i[x.k]=x.v}),i},dr=e=>(s,i)=>{e[i]=s},Qc=(e,s,i,l)=>{Oo(e,(g,x)=>{(s(g,x)?i:l)(g,x)})},Vi=(e,s)=>{const i={},l={};return Qc(e,s,dr(i),dr(l)),{t:i,f:l}},Tf=(e,s)=>{const i={};return Qc(e,s,dr(i),ft),i},Wa=(e,s)=>{const i=[];return Oo(e,(l,g)=>{i.push(s(l,g))}),i},zr=(e,s)=>{const i=Qo(e);for(let l=0,g=i.length;l<g;l++){const x=i[l],w=e[x];if(s(w,x,e))return F.some(w)}return F.none()},Il=e=>Wa(e,wn),Me=(e,s)=>ho(e,s)?F.from(e[s]):F.none(),ho=(e,s)=>ic.call(e,s),Wr=(e,s)=>ho(e,s)&&e[s]!==void 0&&e[s]!==null,va=(e,s,i=Hn)=>e.exists(l=>i(l,s)),ya=(e,s,i=Hn)=>Td(e,s,i).getOr(e.isNone()&&s.isNone()),ku=e=>{const s=[],i=l=>{s.push(l)};for(let l=0;l<e.length;l++)e[l].each(i);return s},Os=e=>{const s=[];for(let i=0;i<e.length;i++){const l=e[i];if(l.isSome())s.push(l.getOrDie());else return F.none()}return F.some(s)},Td=(e,s,i)=>e.isSome()&&s.isSome()?F.some(i(e.getOrDie(),s.getOrDie())):F.none(),Ou=(e,s,i,l)=>e.isSome()&&s.isSome()&&i.isSome()?F.some(l(e.getOrDie(),s.getOrDie(),i.getOrDie())):F.none(),ms=(e,s)=>e!=null?F.some(s(e)):F.none(),Sn=(e,s)=>e?F.some(s):F.none(),_a=(e,s)=>e+s,Af=(e,s)=>e.substring(s),cp=(e,s,i)=>s===""||e.length>=s.length&&e.substr(i,i+s.length)===s,lp=(e,s)=>Sr(e,s)?Af(e,s.length):e,Xi=(e,s)=>wc(e,s)?e:_a(e,s),Ti=(e,s,i=0,l)=>{const g=e.indexOf(s,i);return g!==-1?He(l)?!0:g+s.length<=l:!1},Sr=(e,s)=>cp(e,s,0),wc=(e,s)=>cp(e,s,e.length-s.length),tl=(e=>s=>s.replace(e,""))(/^\s+|\s+$/g),Ua=e=>e.length>0,Ns=e=>!Ua(e),ac=e=>e.style!==void 0&&$t(e.style.getPropertyValue),$l=(e,s)=>{const l=(s||document).createElement("div");if(l.innerHTML=e,!l.hasChildNodes()||l.childNodes.length>1){const g="HTML does not have a single root node";throw console.error(g,e),new Error(g)}return Fl(l.childNodes[0])},Y_=(e,s)=>{const l=(s||document).createElement(e);return Fl(l)},X_=(e,s)=>{const l=(s||document).createTextNode(e);return Fl(l)},Fl=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},At={fromHtml:$l,fromTag:Y_,fromText:X_,fromDom:Fl,fromPoint:(e,s,i)=>F.from(e.dom.elementFromPoint(s,i)).map(Fl)},Ai=typeof window<"u"?window:Function("return this;")(),Hh=(e,s)=>{let i=s??Ai;for(let l=0;l<e.length&&i!==void 0&&i!==null;++l)i=i[e[l]];return i},u0=(e,s)=>{const i=e.split(".");return Hh(i,s)},Ub=(e,s)=>u0(e,s),_s=(e,s)=>{const i=Ub(e,s);if(i==null)throw new Error(e+" not available on this browser");return i},Jm=Object.getPrototypeOf,Vh=e=>_s("HTMLElement",e),Qm=e=>{const s=u0("ownerDocument.defaultView",e);return gt(e)&&(Vh(s).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Jm(e).constructor.name))},Du=9,Xr=11,er=1,Ru=3,xa=e=>e.dom.nodeName.toLowerCase(),Ad=e=>e.dom.nodeType,kf=e=>s=>Ad(s)===e,kd=e=>Wo(e)&&Qm(e.dom),Wo=kf(er),Jr=kf(Ru),jb=kf(Du),el=kf(Xr),Hl=e=>s=>Wo(s)&&xa(s)===e,Ji=(e,s)=>{const i=e.dom;if(i.nodeType!==er)return!1;{const l=i;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Vn=e=>e.nodeType!==er&&e.nodeType!==Du&&e.nodeType!==Xr||e.childElementCount===0,Zb=(e,s)=>{const i=s===void 0?document:s.dom;return Vn(i)?[]:Gt(i.querySelectorAll(e),At.fromDom)},zh=(e,s)=>{const i=s===void 0?document:s.dom;return Vn(i)?F.none():F.from(i.querySelector(e)).map(At.fromDom)},No=(e,s)=>e.dom===s.dom,Qi=(e,s)=>{const i=e.dom,l=s.dom;return i===l?!1:i.contains(l)},wa=e=>At.fromDom(e.dom.ownerDocument),hi=e=>jb(e)?e:wa(e),Vl=e=>At.fromDom(hi(e).dom.documentElement),Of=e=>At.fromDom(hi(e).dom.defaultView),Cc=e=>F.from(e.dom.parentNode).map(At.fromDom),ja=e=>Cc(e),nl=e=>F.from(e.dom.parentElement).map(At.fromDom),up=(e,s)=>{const i=$t(s)?s:pn;let l=e.dom;const g=[];for(;l.parentNode!==null&&l.parentNode!==void 0;){const x=l.parentNode,w=At.fromDom(x);if(g.push(w),i(w)===!0)break;l=x}return g},dp=e=>F.from(e.dom.offsetParent).map(At.fromDom),fp=e=>F.from(e.dom.nextSibling).map(At.fromDom),Sc=e=>Gt(e.dom.childNodes,At.fromDom),zl=(e,s)=>{const i=e.dom.childNodes;return F.from(i[s]).map(At.fromDom)},tg=e=>zl(e,0),Od=(e,s)=>({element:e,offset:s}),hp=(e,s)=>{const i=Sc(e);return i.length>0&&s<i.length?Od(i[s],0):Od(e,s)},Wl=e=>el(e)&&_e(e.dom.host),Df=$t(Element.prototype.attachShadow)&&$t(Node.prototype.getRootNode),eg=vt(Df),gs=Df?e=>At.fromDom(e.dom.getRootNode()):hi,zi=e=>Wl(e)?e:At.fromDom(hi(e).dom.body),ng=e=>Rf(e).isSome(),Rf=e=>{const s=gs(e);return Wl(s)?F.some(s):F.none()},Ec=e=>At.fromDom(e.dom.host),d0=e=>{if(eg()&&_e(e.target)){const s=At.fromDom(e.target);if(Wo(s)&&ol(s)&&e.composed&&e.composedPath){const i=e.composedPath();if(i)return ks(i)}}return F.from(e.target)},ol=e=>_e(e.dom.shadowRoot),Ur=e=>{const s=Jr(e)?e.dom.parentNode:e.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return Rf(At.fromDom(s)).fold(()=>i.body.contains(s),ln(Ur,Ec))},ki=()=>Tc(At.fromDom(document)),Tc=e=>{const s=e.dom.body;if(s==null)throw new Error("Body is not available yet");return At.fromDom(s)},og=(e,s,i)=>{if(tt(i)||Le(i)||Je(i))e.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",e),new Error("Attribute value was not simple")},Ee=(e,s,i)=>{og(e.dom,s,i)},mp=(e,s)=>{const i=e.dom;Oo(s,(l,g)=>{og(i,g,l)})},$s=(e,s)=>{const i=e.dom.getAttribute(s);return i===null?void 0:i},Pr=(e,s)=>F.from($s(e,s)),gp=(e,s)=>{const i=e.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},js=(e,s)=>{e.dom.removeAttribute(s)},J_=e=>ie(e.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),sg=(e,s,i)=>{if(!tt(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",e),new Error("CSS value must be a string: "+i);ac(e)&&e.style.setProperty(s,i)},Wh=(e,s)=>{ac(e)&&e.style.removeProperty(s)},Pn=(e,s,i)=>{const l=e.dom;sg(l,s,i)},Ca=(e,s)=>{const i=e.dom;Oo(s,(l,g)=>{sg(i,g,l)})},fe=(e,s)=>{const i=e.dom;Oo(s,(l,g)=>{l.fold(()=>{Wh(i,g)},x=>{sg(i,g,x)})})},Fs=(e,s)=>{const i=e.dom,g=window.getComputedStyle(i).getPropertyValue(s);return g===""&&!Ur(e)?rg(i,s):g},rg=(e,s)=>ac(e)?e.style.getPropertyValue(s):"",Qr=(e,s)=>{const i=e.dom,l=rg(i,s);return F.from(l).filter(g=>g.length>0)},ti=e=>{const s={},i=e.dom;if(ac(i))for(let l=0;l<i.style.length;l++){const g=i.style.item(l);s[g]=i.style[g]}return s},Mu=(e,s,i)=>{const l=At.fromTag(e);return Pn(l,s,i),Qr(l,s).isSome()},_o=(e,s)=>{const i=e.dom;Wh(i,s),va(Pr(e,"style").map(tl),"")&&js(e,"style")},sl=e=>e.dom.offsetWidth,ei=(e,s)=>{const i=(D,P)=>{if(!Je(P)&&!P.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+P);const I=D.dom;ac(I)&&(I.style[e]=P+"px")},l=D=>{const P=s(D);if(P<=0||P===null){const I=Fs(D,e);return parseFloat(I)||0}return P},g=l,x=(D,P)=>ie(P,(I,V)=>{const Z=Fs(D,V),J=Z===void 0?0:parseInt(Z,10);return isNaN(J)?I:I+J},0);return{set:i,get:l,getOuter:g,aggregate:x,max:(D,P,I)=>{const V=x(D,I);return P>V?P-V:0}}},rl=ei("height",e=>{const s=e.dom;return Ur(e)?s.getBoundingClientRect().height:s.offsetHeight}),fr=e=>rl.get(e),Pu=e=>rl.getOuter(e),Gb=(e,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],l=rl.max(e,s,i);Pn(e,"max-height",l+"px")},f0=(e,s)=>({left:e,top:s,translate:(l,g)=>f0(e+l,s+g)}),xs=f0,ig=e=>{const s=e.getBoundingClientRect();return xs(s.left,s.top)},Oi=(e,s)=>e!==void 0?e:s!==void 0?s:0,ta=e=>{const s=e.dom.ownerDocument,i=s.body,l=s.defaultView,g=s.documentElement;if(i===e.dom)return xs(i.offsetLeft,i.offsetTop);const x=Oi(l==null?void 0:l.pageYOffset,g.scrollTop),w=Oi(l==null?void 0:l.pageXOffset,g.scrollLeft),D=Oi(g.clientTop,i.clientTop),P=Oi(g.clientLeft,i.clientLeft);return Za(e).translate(w-P,x-D)},Za=e=>{const s=e.dom,l=s.ownerDocument.body;return l===s?xs(l.offsetLeft,l.offsetTop):Ur(e)?ig(s):xs(0,0)},ag=ei("width",e=>e.dom.offsetWidth),xo=(e,s)=>ag.set(e,s),ni=e=>ag.get(e),ea=e=>ag.getOuter(e),Mf=(e,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],l=ag.max(e,s,i);Pn(e,"max-width",l+"px")},cc=e=>{let s=!1,i;return(...l)=>(s||(s=!0,i=e.apply(null,l)),i)},Sa=(e,s,i,l)=>{const g=e.isiOS()&&/ipad/i.test(i)===!0,x=e.isiOS()&&!g,w=e.isiOS()||e.isAndroid(),D=w||l("(pointer:coarse)"),P=g||!x&&w&&l("(min-device-width:768px)"),I=x||w&&!P,V=s.isSafari()&&e.isiOS()&&/safari/i.test(i)===!1,Z=!I&&!P&&!V;return{isiPad:vt(g),isiPhone:vt(x),isTablet:vt(P),isPhone:vt(I),isTouch:vt(D),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:vt(V),isDesktop:vt(Z)}},ws=(e,s)=>{for(let i=0;i<e.length;i++){const l=e[i];if(l.test(s))return l}},Ul=(e,s)=>{const i=ws(e,s);if(!i)return{major:0,minor:0};const l=g=>Number(s.replace(i,"$"+g));return Nf(l(1),l(2))},Pf=(e,s)=>{const i=String(s).toLowerCase();return e.length===0?Uh():Ul(e,i)},Uh=()=>Nf(0,0),Nf=(e,s)=>({major:e,minor:s}),is={nu:Nf,detect:Pf,unknown:Uh},Ac=(e,s)=>vs(s.brands,i=>{const l=i.brand.toLowerCase();return Mt(e,g=>{var x;return l===((x=g.brand)===null||x===void 0?void 0:x.toLowerCase())}).map(g=>({current:g.name,version:is.nu(parseInt(i.version,10),0)}))}),nr=(e,s)=>{const i=String(s).toLowerCase();return Mt(e,l=>l.search(i))},Di=(e,s)=>nr(e,s).map(i=>{const l=is.detect(i.versionRegexes,s);return{current:i.name,version:l}}),Er=(e,s)=>nr(e,s).map(i=>{const l=is.detect(i.versionRegexes,s);return{current:i.name,version:l}}),Lo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Wi=e=>s=>Ti(s,e),Lf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ti(e,"edge/")&&Ti(e,"chrome")&&Ti(e,"safari")&&Ti(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Lo],search:e=>Ti(e,"chrome")&&!Ti(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ti(e,"msie")||Ti(e,"trident")},{name:"Opera",versionRegexes:[Lo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Wi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Wi("firefox")},{name:"Safari",versionRegexes:[Lo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ti(e,"safari")||Ti(e,"mobile/"))&&Ti(e,"applewebkit")}],kc=[{name:"Windows",search:Wi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ti(e,"iphone")||Ti(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Wi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Wi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Wi("linux"),versionRegexes:[]},{name:"Solaris",search:Wi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Wi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Wi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cg={browsers:vt(Lf),oses:vt(kc)},pp="Edge",Oc="Chromium",jh="IE",jl="Opera",Zh="Firefox",na="Safari",Bf=()=>Gh({current:void 0,version:is.unknown()}),Gh=e=>{const s=e.current,i=e.version,l=g=>()=>s===g;return{current:s,version:i,isEdge:l(pp),isChromium:l(Oc),isIE:l(jh),isOpera:l(jl),isFirefox:l(Zh),isSafari:l(na)}},Nu={unknown:Bf,nu:Gh,edge:vt(pp),chromium:vt(Oc),ie:vt(jh),opera:vt(jl),firefox:vt(Zh),safari:vt(na)},h0="Windows",lg="iOS",qb="Android",If="Linux",m0="macOS",$f="Solaris",Q_="FreeBSD",ht="ChromeOS",Kb=()=>Ri({current:void 0,version:is.unknown()}),Ri=e=>{const s=e.current,i=e.version,l=g=>()=>s===g;return{current:s,version:i,isWindows:l(h0),isiOS:l(lg),isAndroid:l(qb),isMacOS:l(m0),isLinux:l(If),isSolaris:l($f),isFreeBSD:l(Q_),isChromeOS:l(ht)}},Ff={unknown:Kb,nu:Ri,windows:vt(h0),ios:vt(lg),android:vt(qb),linux:vt(If),macos:vt(m0),solaris:vt($f),freebsd:vt(Q_),chromeos:vt(ht)},p0={detect:(e,s,i)=>{const l=cg.browsers(),g=cg.oses(),x=s.bind(P=>Ac(l,P)).orThunk(()=>Di(l,e)).fold(Nu.unknown,Nu.nu),w=Er(g,e).fold(Ff.unknown,Ff.nu),D=Sa(w,x,e,i);return{browser:x,os:w,deviceType:D}}},Io=e=>window.matchMedia(e).matches;let il=cc(()=>p0.detect(navigator.userAgent,F.from(navigator.userAgentData),Io));const lc=()=>il(),Mi=(e,s,i,l,g,x,w)=>({target:e,x:s,y:i,stop:l,prevent:g,kill:x,raw:w}),Yb=e=>{const s=At.fromDom(d0(e).getOr(e.target)),i=()=>e.stopPropagation(),l=()=>e.preventDefault(),g=to(l,i);return Mi(s,e.clientX,e.clientY,i,l,g,e)},Lu=(e,s)=>i=>{e(i)&&s(Yb(i))},Ga=(e,s,i,l,g)=>{const x=Lu(i,l);return e.dom.addEventListener(s,x,g),{unbind:sn(b0,e,s,x,g)}},Bu=(e,s,i,l)=>Ga(e,s,i,l,!1),Xb=(e,s,i,l)=>Ga(e,s,i,l,!0),b0=(e,s,i,l)=>{e.dom.removeEventListener(s,i,l)},Dc=(e,s)=>{Cc(e).each(l=>{l.dom.insertBefore(s.dom,e.dom)})},qh=(e,s)=>{fp(e).fold(()=>{Cc(e).each(g=>{qa(g,s)})},l=>{Dc(l,s)})},bp=(e,s)=>{tg(e).fold(()=>{qa(e,s)},l=>{e.dom.insertBefore(s.dom,l.dom)})},qa=(e,s)=>{e.dom.appendChild(s.dom)},mi=(e,s,i)=>{zl(e,i).fold(()=>{qa(e,s)},l=>{Dc(l,s)})},Dd=(e,s)=>{Ae(s,i=>{qa(e,i)})},Kh=e=>{e.dom.textContent="",Ae(Sc(e),s=>{oa(s)})},oa=e=>{const s=e.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},oi=e=>{const s=e!==void 0?e.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return xs(i,l)},ug=(e,s,i)=>{const g=(i!==void 0?i.dom:document).defaultView;g&&g.scrollTo(e,s)},Pi=e=>{const s=e===void 0?window:e;return lc().browser.isFirefox()?F.none():F.from(s.visualViewport)},Hf=(e,s,i,l)=>({x:e,y:s,width:i,height:l,right:e+i,bottom:s+l}),Yh=e=>{const s=e===void 0?window:e,i=s.document,l=oi(At.fromDom(i));return Pi(s).fold(()=>{const g=s.document.documentElement,x=g.clientWidth,w=g.clientHeight;return Hf(l.left,l.top,x,w)},g=>Hf(Math.max(g.pageLeft,l.left),Math.max(g.pageTop,l.top),g.width,g.height))},Vf=()=>At.fromDom(document),Iu=(e,s)=>e.view(s).fold(vt([]),l=>{const g=e.owner(l),x=Iu(e,g);return[l].concat(x)}),dg=(e,s)=>{const i=s.owner(e),l=Iu(s,i);return F.some(l)};var ex=Object.freeze({__proto__:null,view:e=>{var s;return(e.dom===document?F.none():F.from((s=e.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(At.fromDom)},owner:e=>wa(e)});const vp=e=>{const s=Vf(),i=oi(s);return dg(e,ex).fold(sn(ta,e),g=>{const x=Za(e),w=hs(g,(D,P)=>{const I=Za(P);return{left:D.left+I.left,top:D.top+I.top}},{left:0,top:0});return xs(w.left+x.left+i.left,w.top+x.top+i.top)})},nx=(e,s,i)=>({point:e,width:s,height:i}),Zl=(e,s,i,l)=>({x:e,y:s,width:i,height:l}),hr=(e,s,i,l)=>({x:e,y:s,width:i,height:l,right:e+i,bottom:s+l}),Hs=e=>{const s=ta(e),i=ea(e),l=Pu(e);return hr(s.left,s.top,i,l)},Nr=e=>{const s=vp(e),i=ea(e),l=Pu(e);return hr(s.left,s.top,i,l)},yp=(e,s)=>{const i=Math.max(e.x,s.x),l=Math.max(e.y,s.y),g=Math.min(e.right,s.right),x=Math.min(e.bottom,s.bottom),w=g-i,D=x-l;return hr(i,l,w,D)},v0=(e,s)=>ie(s,(i,l)=>yp(i,l),e),Ni=()=>Yh(window);var fg=tinymce.util.Tools.resolve("tinymce.ThemeManager");const hg=e=>{const s=x=>x(e),i=vt(e),l=()=>g,g={tag:!0,inner:e,fold:(x,w)=>w(e),isValue:Ye,isError:pn,map:x=>Ln.value(x(e)),mapError:l,bind:s,exists:s,forall:s,getOr:i,or:l,getOrThunk:i,orThunk:l,getOrDie:i,each:x=>{x(e)},toOptional:()=>F.some(e)};return g},Gl=e=>{const s=()=>i,i={tag:!1,inner:e,fold:(l,g)=>l(e),isValue:pn,isError:Ye,map:s,mapError:l=>Ln.error(l(e)),bind:s,exists:pn,forall:Ye,getOr:wn,or:wn,getOrThunk:jn,orThunk:jn,getOrDie:pt(String(e)),each:ft,toOptional:F.none};return i},Ln={value:hg,error:Gl,fromOption:(e,s)=>e.fold(()=>Gl(s),hg)};var sa;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(sa||(sa={}));const Md=(e,s,i)=>e.stype===sa.Error?s(e.serror):i(e.svalue),mg=e=>{const s=[],i=[];return Ae(e,l=>{Md(l,g=>i.push(g),g=>s.push(g))}),{values:s,errors:i}},y0=(e,s)=>e.stype===sa.Error?{stype:sa.Error,serror:s(e.serror)}:e,zf=(e,s)=>e.stype===sa.Value?{stype:sa.Value,svalue:s(e.svalue)}:e,gg=(e,s)=>e.stype===sa.Value?s(e.svalue):e,ql=(e,s)=>e.stype===sa.Error?s(e.serror):e,Ka=e=>({stype:sa.Value,svalue:e}),si=e=>({stype:sa.Error,serror:e}),Zs={fromResult:e=>e.fold(si,Ka),toResult:e=>Md(e,Ln.error,Ln.value),svalue:Ka,partition:mg,serror:si,bind:gg,bindError:ql,map:zf,mapError:y0,fold:Md},gi=(e,s,i,l)=>({tag:"field",key:e,newKey:s,presence:i,prop:l}),$u=(e,s)=>({tag:"custom",newKey:e,instantiator:s}),Rc=(e,s,i)=>{switch(e.tag){case"field":return s(e.key,e.newKey,e.presence,e.prop);case"custom":return i(e.newKey,e.instantiator)}},Ks=(e,s)=>s,_0=(e,s)=>Bt(e)&&Bt(s)?ts(e,s):s,Jb=e=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let l=0;l<s.length;l++){const g=s[l];for(const x in g)ho(g,x)&&(i[x]=e(i[x],g[x]))}return i},ts=Jb(_0),Wf=Jb(Ks),Do=()=>({tag:"required",process:{}}),al=e=>({tag:"defaultedThunk",process:e}),_p=e=>al(vt(e)),Xh=()=>({tag:"option",process:{}}),Qb=e=>({tag:"mergeWithThunk",process:e}),t1=e=>Qb(vt(e)),Qn=(e,s)=>e.length>0?Zs.svalue(ts(s,Wf.apply(void 0,e))):Zs.svalue(s),Jh=e=>to(Zs.serror,Ht)(e),dc={consolidateObj:(e,s)=>{const i=Zs.partition(e);return i.errors.length>0?Jh(i.errors):Qn(i.values,s)},consolidateArr:e=>{const s=Zs.partition(e);return s.errors.length>0?Jh(s.errors):Zs.svalue(s.values)}},Ea=e=>gt(e)&&Qo(e).length>100?" removed due to size":JSON.stringify(e,null,2),w0=e=>{const s=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:vt("... (only showing first ten failures)")}]):e;return Gt(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},Uf=(e,s)=>Zs.serror([{path:e,getErrorInfo:s}]),Ya=(e,s,i)=>Uf(e,()=>'Could not find valid *required* value for "'+s+'" in '+Ea(i)),C0=(e,s)=>Uf(e,()=>'Choice schema did not contain choice key: "'+s+'"'),xp=(e,s,i)=>Uf(e,()=>'The chosen schema: "'+i+'" did not exist in branches: '+Ea(s)),S0=(e,s)=>Uf(e,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),cl=(e,s)=>Uf(e,vt(s)),Pd=e=>{const s=(l,g)=>Zs.bindError(e(g),x=>cl(l,x)),i=vt("val");return{extract:s,toString:i}},Fu=Pd(Zs.svalue),Qh=(e,s,i,l)=>Me(s,i).fold(()=>Ya(e,i,s),l),E0=(e,s,i,l)=>{const g=Me(e,s).getOrThunk(()=>i(e));return l(g)},wp=(e,s,i)=>i(Me(e,s)),Cp=(e,s,i,l)=>{const g=Me(e,s).map(x=>x===!0?i(e):x);return l(g)},T0=(e,s,i,l,g)=>{const x=D=>g.extract(s.concat([l]),D),w=D=>D.fold(()=>Zs.svalue(F.none()),P=>{const I=g.extract(s.concat([l]),P);return Zs.map(I,F.some)});switch(e.tag){case"required":return Qh(s,i,l,x);case"defaultedThunk":return E0(i,l,e.process,x);case"option":return wp(i,l,w);case"defaultedOptionThunk":return Cp(i,l,e.process,w);case"mergeWithThunk":return E0(i,l,vt({}),D=>{const P=ts(e.process(i),D);return x(P)})}},e1=(e,s,i)=>{const l={},g=[];for(const x of i)Rc(x,(w,D,P,I)=>{const V=T0(P,e,s,w,I);Zs.fold(V,Z=>{g.push(...Z)},Z=>{l[D]=Z})},(w,D)=>{l[w]=D(s)});return g.length>0?Zs.serror(g):Zs.svalue(l)},mr=e=>({extract:(l,g)=>e().extract(l,g),toString:()=>e().toString()}),Sp=e=>Qo(Tf(e,_e)),ra=e=>{const s=mn(e),i=hs(e,(g,x)=>Rc(x,w=>ts(g,{[w]:!0}),vt(g)),{});return{extract:(g,x)=>{const w=Le(x)?[]:Sp(x),D=oo(w,P=>!Wr(i,P));return D.length===0?s.extract(g,x):S0(g,D)},toString:s.toString}},mn=e=>({extract:(l,g)=>e1(l,g,e),toString:()=>`obj{
`+Gt(e,g=>Rc(g,(x,w,D,P)=>x+" -> "+P.toString(),(x,w)=>"state("+x+")")).join(`
`)+"}"}),Vs=e=>({extract:(l,g)=>{const x=Gt(g,(w,D)=>e.extract(l.concat(["["+D+"]"]),w));return dc.consolidateArr(x)},toString:()=>"array("+e.toString()+")"}),Hu=(e,s)=>{const i=s!==void 0?s:wn;return{extract:(x,w)=>{const D=[];for(const P of e){const I=P.extract(x,w);if(I.stype===sa.Value)return{stype:sa.Value,svalue:i(I.svalue)};D.push(I)}return dc.consolidateArr(D)},toString:()=>"oneOf("+Gt(e,x=>x.toString()).join(", ")+")"}},zs=(e,s)=>{const i=(x,w)=>Vs(Pd(e)).extract(x,w);return{extract:(x,w)=>{const D=Qo(w),P=i(x,D);return Zs.bind(P,I=>{const V=Gt(I,Z=>gi(Z,Z,Do(),s));return mn(V).extract(x,w)})},toString:()=>"setOf("+s.toString()+")"}},Vu=(e,s)=>{const i=cc(s);return{extract:(x,w)=>i().extract(x,w),toString:()=>i().toString()}},A0=to(Vs,mn),Kl=vt(Fu),ll=(e,s)=>Pd(i=>{const l=typeof i;return e(i)?Zs.svalue(i):Zs.serror(`Expected type: ${s} but got: ${l}`)}),jf=ll(Je,"number"),Cs=ll(tt,"string"),tm=ll(Le,"boolean"),n1=ll($t,"function"),o1=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(s=>o1(e[s]));default:return!1}},Nd=Pd(e=>o1(e)?Zs.svalue(e):Zs.serror("Expected value to be acceptable for sending via postMessage")),Ep=(e,s,i,l)=>Me(i,l).fold(()=>xp(e,i,l),x=>x.extract(e.concat(["branch: "+l]),s)),Ge=(e,s)=>({extract:(g,x)=>Me(x,e).fold(()=>C0(g,e),D=>Ep(g,x,s,D)),toString:()=>"chooseOn("+e+"). Possible values: "+Qo(s)}),zu=()=>Vs(Fu),em=e=>Pd(s=>e(s).fold(Zs.serror,Zs.svalue)),Zf=(e,s)=>zs(i=>Zs.fromResult(e(i)),s),Xa=(e,s,i)=>{const l=s.extract([e],i);return Zs.mapError(l,g=>({input:i,errors:g}))},as=(e,s,i)=>Zs.toResult(Xa(e,s,i)),Mc=e=>e.fold(s=>{throw new Error(nm(s))},wn),Tr=(e,s,i)=>Mc(as(e,s,i)),nm=e=>`Errors: 
`+w0(e.errors).join(`
`)+`

Input object: `+Ea(e.input),or=(e,s)=>Ge(e,Co(s,mn)),Tp=(e,s)=>Vu(e,s),sr=gi,se=$u,Ld=e=>em(s=>go(e,s)?Ln.value(s):Ln.error(`Unsupported value: "${s}", choose one of "${e.join(", ")}".`)),oe=e=>sr(e,e,Do(),Kl()),jr=(e,s)=>sr(e,e,Do(),s),om=e=>jr(e,jf),Ys=e=>jr(e,Cs),es=(e,s)=>sr(e,e,Do(),Ld(s)),Ap=e=>jr(e,tm),gr=e=>jr(e,n1),cs=(e,s)=>sr(e,e,Xh(),Pd(i=>Zs.serror("The field: "+e+" is forbidden. "+s))),Pc=(e,s)=>sr(e,e,Do(),mn(s)),s1=(e,s)=>sr(e,e,Do(),A0(s)),Xs=(e,s)=>sr(e,e,Do(),Vs(s)),So=e=>sr(e,e,Xh(),Kl()),Nc=(e,s)=>sr(e,e,Xh(),s),pg=e=>Nc(e,jf),$o=e=>Nc(e,Cs),r1=(e,s)=>Nc(e,Ld(s)),Ta=e=>Nc(e,n1),Bd=(e,s)=>Nc(e,Vs(s)),Li=(e,s)=>Nc(e,mn(s)),kp=(e,s)=>Nc(e,ra(s)),Rt=(e,s)=>sr(e,e,_p(s),Kl()),fc=(e,s,i)=>sr(e,e,_p(s),i),bg=(e,s)=>fc(e,s,jf),pi=(e,s)=>fc(e,s,Cs),Ws=(e,s,i)=>fc(e,s,Ld(i)),ii=(e,s)=>fc(e,s,tm),Ss=(e,s)=>fc(e,s,n1),Id=(e,s)=>fc(e,s,Nd),Wu=(e,s,i)=>fc(e,s,Vs(i)),Op=(e,s,i)=>fc(e,s,mn(i)),an=e=>{let s=e;return{get:()=>s,set:g=>{s=g}}},ul={generate:e=>{if(!Tt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const s=[],i={};return Ae(e,(l,g)=>{const x=Qo(l);if(x.length!==1)throw new Error("one and only one name per case");const w=x[0],D=l[w];if(i[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Tt(D))throw new Error("case arguments must be an array");s.push(w),i[w]=(...P)=>{const I=P.length;if(I!==D.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+D.length+" ("+D+"), got "+I);return{fold:(...Z)=>{if(Z.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Z.length);return Z[g].apply(null,P)},match:Z=>{const J=Qo(Z);if(s.length!==J.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+J.join(","));if(!Gn(s,ot=>go(J,ot)))throw new Error("Not all branches were specified when using match. Specified: "+J.join(", ")+`
Required: `+s.join(", "));return Z[w].apply(null,P)},log:Z=>{console.log(Z,{constructors:s,constructor:w,params:P})}}}}),i}};ul.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Uu=e=>{const s=[],i=[];return Ae(e,l=>{l.fold(g=>{s.push(g)},g=>{i.push(g)})}),{errors:s,values:i}},k0=(e,s)=>{const i={};return Oo(e,(l,g)=>{go(s,g)||(i[g]=l)}),i},vg=(e,s)=>({[e]:s}),yg=e=>{const s={};return Ae(e,i=>{s[i.key]=i.value}),s},sx=(e,s)=>k0(e,s),Lc=(e,s)=>vg(e,s),ju=e=>yg(e),sm=(e,s)=>e.length===0?Ln.value(s):Ln.value(ts(s,Wf.apply(void 0,e))),i1=e=>Ln.error(Ht(e)),a1=(e,s)=>{const i=Uu(e);return i.errors.length>0?i1(i.errors):sm(i.values,s)},Zu=e=>$t(e)?e:pn,Gf=(e,s,i)=>{let l=e.dom;const g=Zu(i);for(;l.parentNode;){l=l.parentNode;const x=At.fromDom(l),w=s(x);if(w.isSome())return w;if(g(x))break}return F.none()},$d=(e,s,i)=>{const l=s(e),g=Zu(i);return l.orThunk(()=>g(e)?F.none():Gf(e,s,g))},Fd=(e,s)=>No(e.element,s.event.target),Hd={can:Ye,abort:pn,run:ft},hc=e=>{if(!Wr(e,"can")&&!Wr(e,"abort")&&!Wr(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Hd,...e}},c1=(e,s)=>(...i)=>ie(e,(l,g)=>l&&s(g).apply(void 0,i),!0),O0=(e,s)=>(...i)=>ie(e,(l,g)=>l||s(g).apply(void 0,i),!1),D0=e=>$t(e)?{can:Ye,abort:pn,run:e}:e,l1=e=>{const s=c1(e,g=>g.can),i=O0(e,g=>g.abort);return{can:s,abort:i,run:(...g)=>{Ae(e,x=>{x.run.apply(void 0,g)})}}},pr=vt,dl=pr("touchstart"),Rp=pr("touchmove"),Yl=pr("touchend"),_g=pr("touchcancel"),ia=pr("mousedown"),xg=pr("mousemove"),qf=pr("mouseout"),u1=pr("mouseup"),Xl=pr("mouseover"),Bc=pr("focusin"),rm=pr("focusout"),Ic=pr("keydown"),fl=pr("keyup"),hl=pr("input"),Aa=pr("change"),Gu=pr("click"),qu=pr("transitioncancel"),ml=pr("transitionend"),rx=pr("transitionstart"),ix=pr("selectstart"),Ds=e=>vt("alloy."+e),d1={tap:Ds("tap")},Jl=Ds("focus"),Ku=Ds("blur.post"),Vd=Ds("paste.post"),$c=Ds("receive"),ka=Ds("execute"),Kf=Ds("focus.item"),Bi=d1.tap,br=Ds("longpress"),wg=Ds("sandbox.close"),Mp=Ds("typeahead.cancel"),Pp=Ds("system.init"),f1=Ds("system.touchmove"),R0=Ds("system.touchend"),im=Ds("system.scroll"),zd=Ds("system.resize"),aa=Ds("system.attached"),Fc=Ds("system.detached"),Ql=Ds("system.dismissRequested"),Yf=Ds("system.repositionRequested"),Hc=Ds("focusmanager.shifted"),am=Ds("slotcontainer.visibility"),h1=Ds("system.external.element.scroll"),m1=Ds("change.tab"),g1=Ds("dismiss.tab"),cm=Ds("highlight"),Xf=Ds("dehighlight"),zn=(e,s)=>{Lp(e,e.element,s,{})},on=(e,s,i)=>{Lp(e,e.element,s,i)},tu=e=>{zn(e,ka())},Np=(e,s,i)=>{Lp(e,s,i,{})},Lp=(e,s,i,l)=>{const g={target:s,...l};e.getSystem().triggerEvent(i,s,g)},p1=(e,s,i,l)=>{const g={...l,target:s};e.getSystem().triggerEvent(i,s,g)},Yu=(e,s,i,l)=>{e.getSystem().triggerEvent(i,s,l.event)},jo=e=>ju(e),M0=(e,s)=>({key:e,value:hc({abort:s})}),Bp=(e,s)=>({key:e,value:hc({can:s})}),Ip=e=>({key:e,value:hc({run:(s,i)=>{i.event.prevent()}})}),Xt=(e,s)=>({key:e,value:hc({run:s})}),$p=(e,s,i)=>({key:e,value:hc({run:(l,g)=>{s.apply(void 0,[l,g].concat(i))}})}),P0=e=>s=>Xt(e,s),Wd=e=>s=>({key:e,value:hc({run:(i,l)=>{Fd(i,l)&&s(i,l)}})}),N0=(e,s)=>Xt(e,(i,l)=>{i.getSystem().getByUid(s).each(g=>{Yu(g,g.element,e,l)})}),eu=(e,s,i)=>{const l=s.partUids[i];return N0(e,l)},Jf=(e,s)=>Xt(e,(i,l)=>{const g=l.event,x=i.getSystem().getByDom(g.target).getOrThunk(()=>$d(g.target,D=>i.getSystem().getByDom(D).toOptional(),pn).getOr(i));s(i,x,l)}),Vc=e=>Xt(e,(s,i)=>{i.cut()}),b1=e=>Xt(e,(s,i)=>{i.stop()}),lm=(e,s)=>Wd(e)(s),ps=Wd(aa()),mc=Wd(Fc()),L0=Wd(Pp()),Oa=P0(ka()),nu=(e,s)=>{const l=(s||document).createElement("div");return l.innerHTML=e,Sc(At.fromDom(l))},gl=e=>e.dom.innerHTML,Xu=(e,s)=>{const l=wa(e).dom,g=At.fromDom(l.createDocumentFragment()),x=nu(s,l);Dd(g,x),Kh(e),qa(e,g)},Qf=e=>{const s=At.fromTag("div"),i=At.fromDom(e.dom.cloneNode(!0));return qa(s,i),gl(s)},B0=(e,s)=>At.fromDom(e.dom.cloneNode(s)),th=e=>B0(e,!1),Fp=e=>B0(e,!0),ou=e=>{if(Wl(e))return"#shadow-root";{const s=th(e);return Qf(s)}},su=e=>ou(e),I0=(e,s,i)=>No(s,e.element)&&!No(s,i),Hp=jo([Bp(Jl(),(e,s)=>{const i=s.event,l=i.originator,g=i.target;return I0(e,l,g)?(console.warn(Jl()+` did not get interpreted by the desired target. 
Originator: `+su(l)+`
Target: `+su(g)+`
Check the `+Jl()+" event handlers"),!1):!0})]);var Vp=Object.freeze({__proto__:null,events:Hp});let Ud=0;const Ue=e=>{const i=new Date().getTime(),l=Math.floor(Math.random()*1e9);return Ud++,e+"_"+l+Ud+String(i)},jd=vt("alloy-id-"),zp=vt("data-alloy-id"),ax=jd(),eh=zp(),cx=(e,s)=>{const i=Ue(ax+e);return Zo(s,i),i},Zo=(e,s)=>{Object.defineProperty(e.dom,eh,{value:s,writable:!0})},nh=e=>{const s=Wo(e)?e.dom[eh]:null;return F.from(s)},Ju=e=>Ue(e),v1=wn,Zd=e=>{const s=g=>`The component must be in a context to execute: ${g}`+(e?`
`+su(e().element)+" is not in context.":""),i=g=>()=>{throw new Error(s(g))},l=g=>()=>{console.warn(s(g))};return{debugInfo:vt("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:pn}},Cg=Zd(),Ui=(e,s,i)=>{const l=i.toString(),g=l.indexOf(")")+1,x=l.indexOf("("),w=l.substring(x+1,g-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:s,parameters:Gs(w.slice(0,1).concat(w.slice(3)))}),e},Gs=e=>Gt(e,s=>wc(s,"/*")?s.substring(0,s.length-2):s),y1=(e,s)=>{const i=e.toString(),l=i.indexOf(")")+1,g=i.indexOf("("),x=i.substring(g+1,l-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:s,parameters:Gs(x)}),e},_1=(e,s)=>{const i=s.toString(),l=i.indexOf(")")+1,g=i.indexOf("("),x=i.substring(g+1,l-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Gs(x.slice(1))}),e},um=Ue("alloy-premade"),oh=e=>(Object.defineProperty(e.element.dom,um,{value:e.uid,writable:!0}),Lc(um,e)),Wp=e=>ho(e.dom,um),Sg=e=>Me(e,um),zc=e=>_1((s,...i)=>e(s.getApis(),s,...i),e),ru={init:()=>gc({readState:vt("No State required")})},gc=e=>e,LS=(e,s)=>{const i=Gt(s,g=>Li(g.name(),[oe("config"),Rt("state",ru)])),l=as("component.behaviours",mn(i),e.behaviours).fold(g=>{throw new Error(nm(g)+`
Complete spec:
`+JSON.stringify(e,null,2))},wn);return{list:s,data:Co(l,g=>{const x=g.map(w=>({config:w.config,state:w.state.init(w.config)}));return vt(x)})}},BS=e=>e.list,IS=e=>e.data,dm=(e,s)=>{const i={};return Oo(e,(l,g)=>{Oo(l,(x,w)=>{const D=Me(i,w).getOr([]);i[w]=D.concat([s(g,x)])})}),i},Ar=e=>({classes:He(e.classes)?[]:e.classes,attributes:He(e.attributes)?{}:e.attributes,styles:He(e.styles)?{}:e.styles}),Ii=(e,s)=>({...e,attributes:{...e.attributes,...s.attributes},styles:{...e.styles,...s.styles},classes:e.classes.concat(s.classes)}),fm=(e,s,i,l)=>{const g={...s};Ae(i,V=>{g[V.name()]=V.exhibit(e,l)});const x=dm(g,(V,Z)=>({name:V,modification:Z})),w=V=>hs(V,(Z,J)=>({...J.modification,...Z}),{}),D=hs(x.classes,(V,Z)=>Z.modification.concat(V),[]),P=w(x.attributes),I=w(x.styles);return Ar({classes:D,attributes:P,styles:I})},Up=(e,s,i,l)=>{try{const g=Ms(i,(x,w)=>{const D=x[s],P=w[s],I=l.indexOf(D),V=l.indexOf(P);if(I===-1)throw new Error("The ordering for "+e+" does not have an entry for "+D+`.
Order specified: `+JSON.stringify(l,null,2));if(V===-1)throw new Error("The ordering for "+e+" does not have an entry for "+P+`.
Order specified: `+JSON.stringify(l,null,2));return I<V?-1:V<I?1:0});return Ln.value(g)}catch(g){return Ln.error([g])}},Zr=(e,s)=>({handler:e,purpose:s}),jp=(e,s)=>({cHandler:e,purpose:s}),Zp=(e,s)=>jp(sn.apply(void 0,[e.handler].concat(s)),e.purpose),sh=e=>e.cHandler,hm=(e,s)=>({name:e,handler:s}),Gd=(e,s)=>{const i={};return Ae(e,l=>{i[l.name()]=l.handlers(s)}),i},iu=(e,s,i)=>{const l={...i,...Gd(s,e)};return dm(l,hm)},Eg=(e,s,i,l)=>{const g=iu(e,i,l);return ih(g,s)},rh=e=>{const s=D0(e);return(i,l,...g)=>{const x=[i,l].concat(g);s.abort.apply(void 0,x)?l.stop():s.can.apply(void 0,x)&&s.run.apply(void 0,x)}},pl=(e,s)=>Ln.error(["The event ("+e+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Gt(s,i=>i.name),null,2)]),qd=(e,s,i)=>{const l=s[i];return l?Up("Event: "+i,"name",e,l).map(g=>{const x=Gt(g,w=>w.handler);return l1(x)}):pl(i,e)},ih=(e,s)=>{const i=Wa(e,(l,g)=>(l.length===1?Ln.value(l[0].handler):qd(l,s,g)).map(w=>{const D=rh(w),P=l.length>1?oo(s[g],I=>Cr(l,V=>V.name===I)).join(" > "):l[0].name;return Lc(g,Zr(D,P))}));return a1(i,{})},bl="alloy.base.behaviour",h=mn([sr("dom","dom",Do(),mn([oe("tag"),Rt("styles",{}),Rt("classes",[]),Rt("attributes",{}),So("value"),So("innerHtml")])),oe("components"),oe("uid"),Rt("events",{}),Rt("apis",{}),sr("eventOrder","eventOrder",t1({[ka()]:["disabling",bl,"toggling","typeaheadevents"],[Jl()]:[bl,"focusing","keying"],[Pp()]:[bl,"disabling","toggling","representing"],[hl()]:[bl,"representing","streaming","invalidating"],[Fc()]:[bl,"representing","item-events","toolbar-button-events","tooltipping"],[ia()]:["focusing",bl,"item-type-events"],[dl()]:["focusing",bl,"item-type-events"],[Xl()]:["item-type-events","tooltipping"],[$c()]:["receiving","reflecting","tooltipping"]}),Kl()),So("domModification")]),c=e=>as("custom.definition",h,e),d=e=>({...e.dom,uid:e.uid,domChildren:Gt(e.components,s=>s.element)}),b=e=>e.domModification.fold(()=>Ar({}),Ar),_=e=>e.events,E=(e,s)=>{const i=$s(e,s);return i===void 0||i===""?[]:i.split(" ")},A=(e,s,i)=>{const g=E(e,s).concat([i]);return Ee(e,s,g.join(" ")),!0},R=(e,s,i)=>{const l=oo(E(e,s),g=>g!==i);return l.length>0?Ee(e,s,l.join(" ")):js(e,s),!1},L=e=>e.dom.classList!==void 0,z=e=>E(e,"class"),Y=(e,s)=>A(e,"class",s),rt=(e,s)=>R(e,"class",s),lt=(e,s)=>go(z(e),s)?rt(e,s):Y(e,s),ut=(e,s)=>{L(e)?e.dom.classList.add(s):Y(e,s)},bt=e=>{(L(e)?e.dom.classList:z(e)).length===0&&js(e,"class")},Ot=(e,s)=>{L(e)?e.dom.classList.remove(s):rt(e,s),bt(e)},qt=(e,s)=>{const i=L(e)?e.dom.classList.toggle(s):lt(e,s);return bt(e),i},Yt=(e,s)=>L(e)&&e.dom.classList.contains(s),de=(e,s)=>{Ae(s,i=>{ut(e,i)})},De=(e,s)=>{Ae(s,i=>{Ot(e,i)})},je=(e,s)=>{Ae(s,i=>{qt(e,i)})},$e=(e,s)=>Gn(s,i=>Yt(e,i)),Cn=e=>{const s=e.dom.classList,i=new Array(s.length);for(let l=0;l<s.length;l++){const g=s.item(l);g!==null&&(i[l]=g)}return i},un=e=>L(e)?Cn(e):z(e),$n=e=>e.dom.value,On=(e,s)=>{if(s===void 0)throw new Error("Value.set was undefined");e.dom.value=s},os=(e,s,i)=>zl(e,s).map(g=>{if(i.exists(w=>!No(w,g))){const w=i.map(xa).getOr("span"),D=At.fromTag(w);return Dc(g,D),D}else return g}),ss=(e,s,i)=>{i.fold(()=>qa(e,s),l=>{No(l,s)||(Dc(l,s),oa(l))})},Wn=(e,s,i)=>{const l=Gt(s,i),g=Sc(e);return Ae(g.slice(l.length),oa),l},Gr=(e,s,i,l)=>{const g=zl(e,s),x=l(i,g),w=os(e,s,g);return ss(e,x.element,w),x},kr=(e,s,i)=>Wn(e,s,(l,g)=>Gr(e,g,l,i)),Eo=(e,s)=>Wn(e,s,(i,l)=>{const g=zl(e,l);return ss(e,i,g),i}),Or=(e,s)=>{const i=Qo(e),l=Qo(s),g=Se(l,i),x=Vi(e,(w,D)=>!ho(s,D)||w!==s[D]).t;return{toRemove:g,toSet:x}},ls=(e,s)=>{const{class:i,style:l,...g}=J_(s),{toSet:x,toRemove:w}=Or(e.attributes,g),D=()=>{Ae(w,Ct=>js(s,Ct)),mp(s,x)},P=ti(s),{toSet:I,toRemove:V}=Or(e.styles,P),Z=()=>{Ae(V,Ct=>_o(s,Ct)),Ca(s,I)},J=un(s),Q=Se(J,e.classes),ot=Se(e.classes,J),dt=()=>{de(s,ot),De(s,Q)},Pt=Ct=>{Xu(s,Ct)},yt=()=>{const Ct=e.domChildren;Eo(s,Ct)},kt=()=>{const Ct=s,ne=e.value.getOrUndefined();ne!==$n(Ct)&&On(Ct,ne??"")};return D(),dt(),Z(),e.innerHtml.fold(yt,Pt),kt(),s},Da=e=>{const s=At.fromTag(e.tag);mp(s,e.attributes),de(s,e.classes),Ca(s,e.styles),e.innerHtml.each(l=>Xu(s,l));const i=e.domChildren;return Dd(s,i),e.value.each(l=>{On(s,l)}),s},ah=(e,s)=>{try{const i=ls(e,s);return F.some(i)}catch{return F.none()}},au=e=>e.innerHtml.isSome()&&e.domChildren.length>0,Gp=(e,s)=>{const i=g=>xa(g)===e.tag&&!au(e)&&!Wp(g),l=s.filter(i).bind(g=>ah(e,g)).getOrThunk(()=>Da(e));return Zo(l,e.uid),l},mm=e=>{const s=Me(e,"behaviours").getOr({});return wt(Qo(s),i=>{const l=s[i];return _e(l)?[l.me]:[]})},Qu=(e,s)=>LS(e,s),vl=e=>{const s=mm(e);return Qu(e,s)},x1=(e,s,i)=>{const l=d(e),g=b(e),x={"alloy.base.modification":g},w=s.length>0?fm(i,x,s,l):g;return Ii(l,w)},vr=(e,s,i)=>{const l={"alloy.base.behaviour":_(e)};return Eg(i,e.eventOrder,s,l).getOrDie()},$0=(e,s)=>{const i=()=>Ct,l=an(Cg),g=Mc(c(e)),x=vl(e),w=BS(x),D=IS(x),P=x1(g,w,D),I=Gp(P,s),V=vr(g,w,D),Z=an(g.components),J=ne=>{l.set(ne)},Q=()=>{l.set(Zd(i))},ot=()=>{const ne=Sc(I),ee=wt(ne,ae=>l.get().getByDom(ae).fold(()=>[],yo));Z.set(ee)},dt=ne=>{const ee=D;return($t(ee[ne.name()])?ee[ne.name()]:()=>{throw new Error("Could not find "+ne.name()+" in "+JSON.stringify(e,null,2))})()},Pt=ne=>$t(D[ne.name()]),yt=()=>g.apis,kt=ne=>D[ne]().map(ee=>ee.state.readState()).getOr("not enabled"),Ct={uid:e.uid,getSystem:l.get,config:dt,hasConfigured:Pt,spec:e,readState:kt,getApis:yt,connect:J,disconnect:Q,element:I,syncComponents:ot,components:Z.get,events:V};return Ct},pc=(e,s)=>{const i=Me(e,"components").getOr([]);return s.fold(()=>Gt(i,ai),l=>Gt(i,(g,x)=>Ja(g,zl(l,x))))},$S=(e,s)=>{const{events:i,...l}=v1(e),g=pc(l,s),x={...l,events:{...Vp,...i},components:g};return Ln.value($0(x,s))},rr=e=>{const s=At.fromText(e);return Kd({element:s})},Kd=e=>{const s=Tr("external.component",ra([oe("element"),So("uid")]),e),i=an(Zd()),l=D=>{i.set(D)},g=()=>{i.set(Zd(()=>w))},x=s.uid.getOrThunk(()=>Ju("external"));Zo(s.element,x);const w={uid:x,getSystem:i.get,config:F.none,hasConfigured:pn,connect:l,disconnect:g,getApis:()=>({}),element:s.element,spec:e,readState:vt("No state"),syncComponents:ft,components:vt([]),events:{}};return oh(w)},qp=Ju,ch=e=>ho(e,"uid"),Ja=(e,s)=>Sg(e).getOrThunk(()=>{const i=ch(e)?e:{uid:qp(""),...e};return $S(i,s).getOrDie()}),ai=e=>Ja(e,F.none()),yl=oh;var F0=(e,s,i,l,g)=>e(i,l)?F.some(i):$t(g)&&g(i)?F.none():s(i,l,g);const H0=(e,s,i)=>{let l=e.dom;const g=$t(i)?i:pn;for(;l.parentNode;){l=l.parentNode;const x=At.fromDom(l);if(s(x))return F.some(x);if(g(x))break}return F.none()},Kp=(e,s,i)=>F0((g,x)=>x(g),H0,e,s,i),V0=(e,s)=>{const i=e.dom;return i.parentNode?w1(At.fromDom(i.parentNode),l=>!No(e,l)&&s(l)):F.none()},w1=(e,s)=>{const i=g=>s(At.fromDom(g));return Mt(e.dom.childNodes,i).map(At.fromDom)},Rk=(e,s)=>{const i=l=>{for(let g=0;g<l.childNodes.length;g++){const x=At.fromDom(l.childNodes[g]);if(s(x))return F.some(x);const w=i(l.childNodes[g]);if(w.isSome())return w}return F.none()};return i(e.dom)},C1=(e,s,i)=>Kp(e,s,i).isSome(),FS=e=>zh(e),Wc=(e,s,i)=>H0(e,l=>Ji(l,s),i),gm=(e,s)=>V0(e,i=>Ji(i,s)),z0=(e,s)=>w1(e,i=>Ji(i,s)),Es=(e,s)=>zh(s,e),td=(e,s,i)=>F0((g,x)=>Ji(g,x),Wc,e,s,i),Yd="aria-controls",S1=e=>Kp(e,i=>{if(!Wo(i))return!1;const l=$s(i,"id");return l!==void 0&&l.indexOf(Yd)>-1}).bind(i=>{const l=$s(i,"id"),g=gs(i);return Es(g,`[${Yd}="${l}"]`)}),HS=()=>{const e=Ue(Yd);return{id:e,link:l=>{Ee(l,Yd,e)},unlink:l=>{js(l,Yd)}}},Mk=(e,s)=>S1(s).exists(i=>pm(e,i)),pm=(e,s)=>C1(s,i=>No(i,e.element),pn)||Mk(e,s),lx="unknown";var Yp;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(Yp||(Yp={}));const Xp=an({}),lh=(e,s)=>{const i=[],l=new Date().getTime();return{logEventCut:(g,x,w)=>{i.push({outcome:"cut",target:x,purpose:w})},logEventStopped:(g,x,w)=>{i.push({outcome:"stopped",target:x,purpose:w})},logNoParent:(g,x,w)=>{i.push({outcome:"no-parent",target:x,purpose:w})},logEventNoHandlers:(g,x)=>{i.push({outcome:"no-handlers-left",target:x})},logEventResponse:(g,x,w)=>{i.push({outcome:"response",purpose:w,target:x})},write:()=>{const g=new Date().getTime();go(["mousemove","mouseover","mouseout",Pp()],e)||console.log(e,{event:e,time:g-l,target:s.dom,sequence:Gt(i,x=>go(["cut","stopped","response"],x.outcome)?"{"+x.purpose+"} "+x.outcome+" at ("+su(x.target)+")":x.outcome)})}}},Pk=(e,s,i)=>{switch(Me(Xp.get(),e).orThunk(()=>{const g=Qo(Xp.get());return vs(g,x=>e.indexOf(x)>-1?F.some(Xp.get()[x]):F.none())}).getOr(Yp.NORMAL)){case Yp.NORMAL:return i(VS());case Yp.LOGGING:{const g=lh(e,s),x=i(g);return g.write(),x}case Yp.STOP:return!0}},Nk=["alloy/data/Fields","alloy/debugging/Debugging"],ux=()=>{const e=new Error;if(e.stack!==void 0){const s=e.stack.split(`
`);return Mt(s,i=>i.indexOf("alloy")>0&&!Cr(Nk,l=>i.indexOf(l)>-1)).getOr(lx)}else return lx},dx={logEventCut:ft,logEventStopped:ft,logNoParent:ft,logEventNoHandlers:ft,logEventResponse:ft,write:ft},W0=(e,s,i)=>Pk(e,s,i),VS=vt(dx),fx=vt([oe("menu"),oe("selectedMenu")]),hx=vt([oe("item"),oe("selectedItem")]);vt(mn(hx().concat(fx())));const zS=vt(mn(hx())),aN=Pc("initSize",[oe("numColumns"),oe("numRows")]),bm=()=>jr("markers",zS()),mx=()=>Pc("markers",[oe("backgroundMenu")].concat(fx()).concat(hx())),cu=e=>Pc("markers",Gt(e,oe)),Uc=(e,s,i)=>(ux(),sr(s,s,i,em(l=>Ln.value((...g)=>l.apply(void 0,g))))),po=e=>Uc("onHandler",e,_p(ft)),Ra=e=>Uc("onKeyboardHandler",e,_p(F.none)),Tg=e=>Uc("onHandler",e,Do()),gx=e=>Uc("onKeyboardHandler",e,Do()),Ts=(e,s)=>se(e,vt(s)),px=e=>se(e,wn),bx=vt(aN),ci=(e,s,i,l,g,x,w,D=!1)=>({x:e,y:s,bubble:i,direction:l,placement:g,restriction:x,label:`${w}-${g}`,alwaysFit:D}),Xd=ul.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),WS=(e,s,i,l,g,x,w,D,P)=>e.fold(s,i,l,g,x,w,D,P),E1=(e,s,i,l)=>e.fold(s,s,l,l,s,l,i,i),Lk=(e,s,i,l)=>e.fold(s,l,s,l,i,i,s,l),_l=Xd.southeast,Jp=Xd.southwest,T1=Xd.northeast,Ag=Xd.northwest,U0=Xd.south,j0=Xd.north,vx=Xd.east,A1=Xd.west,k1=(e,s,i,l)=>{const g=e+s;return g>l?i:g<i?l:g},Js=(e,s,i)=>Math.min(Math.max(e,s),i),US=(e,s)=>{switch(s){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},ir=(e,s)=>vo(["left","right","top","bottom"],i=>Me(s,i).map(l=>US(e,l))),kg=(e,s,i)=>{const l=(P,I)=>s[P].map(V=>{const Z=P==="top"||P==="bottom",J=Z?i.top:i.left,ot=(P==="left"||P==="top"?Math.max:Math.min)(V,I)+J;return Z?Js(ot,e.y,e.bottom):Js(ot,e.x,e.right)}).getOr(I),g=l("left",e.x),x=l("top",e.y),w=l("right",e.right),D=l("bottom",e.bottom);return hr(g,x,w-g,D-x)},vm="layout",Ut=e=>e.x,Og=(e,s)=>e.x+e.width/2-s.width/2,jS=(e,s)=>e.x+e.width-s.width,yx=(e,s)=>e.y-s.height,O1=e=>e.y+e.height,xl=(e,s)=>e.y+e.height/2-s.height/2,_x=e=>e.x+e.width,D1=(e,s)=>e.x-s.width,Dr=(e,s,i)=>ci(Ut(e),O1(e),i.southeast(),_l(),"southeast",ir(e,{left:1,top:3}),vm),yr=(e,s,i)=>ci(jS(e,s),O1(e),i.southwest(),Jp(),"southwest",ir(e,{right:0,top:3}),vm),us=(e,s,i)=>ci(Ut(e),yx(e,s),i.northeast(),T1(),"northeast",ir(e,{left:1,bottom:2}),vm),Lr=(e,s,i)=>ci(jS(e,s),yx(e,s),i.northwest(),Ag(),"northwest",ir(e,{right:0,bottom:2}),vm),li=(e,s,i)=>ci(Og(e,s),yx(e,s),i.north(),j0(),"north",ir(e,{bottom:2}),vm),ar=(e,s,i)=>ci(Og(e,s),O1(e),i.south(),U0(),"south",ir(e,{top:3}),vm),xx=(e,s,i)=>ci(_x(e),xl(e,s),i.east(),vx(),"east",ir(e,{left:0}),vm),Z0=(e,s,i)=>ci(D1(e,s),xl(e,s),i.west(),A1(),"west",ir(e,{right:1}),vm),ZS=()=>[Dr,yr,us,Lr,ar,li,xx,Z0],GS=()=>[yr,Dr,Lr,us,ar,li,xx,Z0],wx=()=>[us,Lr,Dr,yr,li,ar],R1=()=>[Lr,us,yr,Dr,li,ar],M1=()=>[Dr,yr,us,Lr,ar,li],G0=()=>[yr,Dr,Lr,us,ar,li],Bk=(e,s)=>s.universal?e:oo(e,i=>go(s.channels,i));var KS=Object.freeze({__proto__:null,events:e=>jo([Xt($c(),(s,i)=>{const l=e.channels,g=Qo(l),x=i,w=Bk(g,x);Ae(w,D=>{const P=l[D],I=P.schema,V=Tr("channel["+D+`] data
Receiver: `+su(s.element),I,x.data);P.onReceive(s,V)})})])}),YS=[jr("channels",Zf(Ln.value,ra([Tg("onReceive"),Rt("schema",Kl())])))];const XS=(e,s,i)=>Oa(l=>{i(l,e,s)}),Cx=(e,s,i)=>L0((l,g)=>{i(l,e,s)}),JS=(e,s,i,l,g,x)=>{const w=ra(e),D=Li(s,[kp("config",e)]);return Sx(w,D,s,i,l,g,x)},q0=(e,s,i,l,g,x)=>{const w=e,D=Li(s,[Nc("config",e)]);return Sx(w,D,s,i,l,g,x)},Ik=(e,s,i)=>Ui((g,...x)=>{const w=[g].concat(x);return g.config({name:vt(e)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+i)},D=>{const P=Array.prototype.slice.call(w,1);return s.apply(void 0,[g,D.config,D.state].concat(P))})},i,s),QS=e=>({key:e,value:void 0}),Sx=(e,s,i,l,g,x,w)=>{const D=Z=>Wr(Z,i)?Z[i]():F.none(),P=Co(g,(Z,J)=>Ik(i,Z,J)),V={...Co(x,(Z,J)=>y1(Z,J)),...P,revoke:sn(QS,i),config:Z=>{const J=Tr(i+"-config",e,Z);return{key:i,value:{config:J,me:V,configAsRaw:cc(()=>Tr(i+"-config",e,Z)),initialConfig:Z,state:w}}},schema:vt(s),exhibit:(Z,J)=>Td(D(Z),Me(l,"exhibit"),(Q,ot)=>ot(J,Q.config,Q.state)).getOrThunk(()=>Ar({})),name:vt(i),handlers:Z=>D(Z).map(J=>Me(l,"events").getOr(()=>({}))(J.config,J.state)).getOr({})};return V},pe=e=>ju(e),Ex=ra([oe("fields"),oe("name"),Rt("active",{}),Rt("apis",{}),Rt("state",ru),Rt("extra",{})]),ui=e=>{const s=Tr("Creating behaviour: "+e.name,Ex,e);return JS(s.fields,s.name,s.active,s.apis,s.extra,s.state)},t2=ra([oe("branchKey"),oe("branches"),oe("name"),Rt("active",{}),Rt("apis",{}),Rt("state",ru),Rt("extra",{})]),Tx=e=>{const s=Tr("Creating behaviour: "+e.name,t2,e);return q0(or(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},ca=vt(void 0),bc=ui({fields:YS,name:"receiving",active:KS});var e2=Object.freeze({__proto__:null,exhibit:(e,s)=>Ar({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const wl=(e,s=!1)=>e.dom.focus({preventScroll:s}),K0=e=>e.dom.blur(),Qp=e=>{const s=gs(e).dom;return e.dom===s.activeElement},lu=(e=Vf())=>F.from(e.dom.activeElement).map(At.fromDom),bi=e=>lu(gs(e)).filter(s=>e.dom.contains(s.dom)),Y0=(e,s)=>{const i=gs(s),l=lu(i).bind(x=>{const w=D=>No(x,D);return w(s)?F.some(s):Rk(s,w)}),g=e(s);return l.each(x=>{lu(i).filter(w=>No(w,x)).fold(()=>{wl(x)},ft)}),g},uu=(e,s,i,l,g)=>{const x=w=>w+"px";return{position:e,left:s.map(x),top:i.map(x),right:l.map(x),bottom:g.map(x)}},Ax=e=>({...e,position:F.some(e.position)}),kx=(e,s)=>{fe(e,Ax(s))},Ox=ul.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),X0=(e,s,i,l,g,x)=>{const w=s.rect,D=w.x-i,P=w.y-l,I=w.width,V=w.height,Z=g-(D+I),J=x-(P+V),Q=F.some(D),ot=F.some(P),dt=F.some(Z),Pt=F.some(J),yt=F.none();return WS(s.direction,()=>uu(e,Q,ot,yt,yt),()=>uu(e,yt,ot,dt,yt),()=>uu(e,Q,yt,yt,Pt),()=>uu(e,yt,yt,dt,Pt),()=>uu(e,Q,ot,yt,yt),()=>uu(e,Q,yt,yt,Pt),()=>uu(e,Q,ot,yt,yt),()=>uu(e,yt,ot,dt,yt))},n2=(e,s)=>e.fold(()=>{const i=s.rect;return uu("absolute",F.some(i.x),F.some(i.y),F.none(),F.none())},(i,l,g,x)=>X0("absolute",s,i,l,g,x),(i,l,g,x)=>X0("fixed",s,i,l,g,x)),Dx=(e,s)=>{const i=sn(vp,s),l=e.fold(i,i,()=>{const w=oi();return vp(s).translate(-w.left,-w.top)}),g=ea(s),x=Pu(s);return hr(l.left,l.top,g,x)},$k=(e,s)=>s.fold(()=>e.fold(Ni,Ni,hr),i=>e.fold(vt(i),vt(i),()=>{const l=Rx(e,i.x,i.y);return hr(l.left,l.top,i.width,i.height)})),Rx=(e,s,i)=>{const l=xs(s,i),g=()=>{const x=oi();return l.translate(-x.left,-x.top)};return e.fold(vt(l),vt(l),g)},Ve=(e,s,i,l)=>e.fold(s,i,l);Ox.none;const J0=Ox.relative,o2=Ox.fixed,Fk=(e,s)=>({anchorBox:e,origin:s}),Hk=(e,s)=>Fk(e,s),Mx="data-alloy-placement",s2=(e,s)=>{Ee(e,Mx,s)},r2=e=>Pr(e,Mx),Vk=e=>js(e,Mx),P1=ul.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),zk=(e,s)=>{const{x:i,y:l,right:g,bottom:x}=s,{x:w,y:D,right:P,bottom:I,width:V,height:Z}=e,J=w>=i&&w<=g,Q=D>=l&&D<=x,ot=J&&Q,dt=P<=g&&P>=i,Pt=I<=x&&I>=l,yt=dt&&Pt,kt=Math.min(V,w>=i?g-w:P-i),Ct=Math.min(Z,D>=l?x-D:I-l);return{originInBounds:ot,sizeInBounds:yt,visibleW:kt,visibleH:Ct}},la=(e,s)=>{const{x:i,y:l,right:g,bottom:x}=s,{x:w,y:D,width:P,height:I}=e,V=Math.max(i,g-P),Z=Math.max(l,x-I),J=Js(w,i,V),Q=Js(D,l,Z),ot=Math.min(J+P,g)-J,dt=Math.min(Q+I,x)-Q;return hr(J,Q,ot,dt)},N1=(e,s,i)=>{const l=vt(s.bottom-i.y),g=vt(i.bottom-s.y),x=E1(e,g,g,l),w=vt(s.right-i.x),D=vt(i.right-s.x);return{maxWidth:Lk(e,D,D,w),maxHeight:x}},i2=(e,s,i,l)=>{const g=e.bubble,x=g.offset,w=kg(l,e.restriction,x),D=e.x+x.left,P=e.y+x.top,I=hr(D,P,s,i),{originInBounds:V,sizeInBounds:Z,visibleW:J,visibleH:Q}=zk(I,w),ot=V&&Z,dt=ot?I:la(I,w),Pt=dt.width>0&&dt.height>0,{maxWidth:yt,maxHeight:kt}=N1(e.direction,dt,l),Ct={rect:dt,maxHeight:kt,maxWidth:yt,direction:e.direction,placement:e.placement,classes:{on:g.classesOn,off:g.classesOff},layout:e.label,testY:P};return ot||e.alwaysFit?P1.fit(Ct):P1.nofit(Ct,J,Q,Pt)},a2=(e,s,i,l,g,x)=>{const w=l.width,D=l.height,P=(V,Z,J,Q,ot)=>{const dt=V(i,l,g,e,x),Pt=i2(dt,w,D,x);return Pt.fold(vt(Pt),(yt,kt,Ct,ne)=>(ot===ne?Ct>Q||kt>J:!ot&&ne)?Pt:P1.nofit(Z,J,Q,ot))};return ie(s,(V,Z)=>{const J=sn(P,Z);return V.fold(vt(V),J)},P1.nofit({rect:i,maxHeight:l.height,maxWidth:l.width,direction:_l(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(wn,wn)},uh=e=>{const s=an(F.none()),i=()=>s.get().each(e);return{clear:()=>{i(),s.set(F.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:D=>{i(),s.set(F.some(D))}}},Wk=()=>uh(e=>e.destroy()),tb=()=>uh(e=>e.unbind()),ds=()=>{const e=uh(ft);return{...e,on:i=>e.get().each(i)}},Px=Ye,$i=(e,s,i)=>Bu(e,s,Px,i),Br=(e,s,i)=>Xb(e,s,Px,i),c2=Yb,Nx=["top","bottom","right","left"],Q0="data-alloy-transition-timer",l2=(e,s)=>$e(e,s.classes),u2=(e,s,i)=>i.exists(l=>{const g=e.mode;return g==="all"?!0:l[g]!==s[g]}),Uk=(e,s)=>{const i=l=>parseFloat(l).toFixed(3);return zr(s,(l,g)=>{const x=e[g].map(i),w=l.map(i);return!ya(x,w)}).isSome()},Lx=e=>{const s=x=>{const D=Fs(e,x).split(/\s*,\s*/);return oo(D,Ua)},i=x=>{if(tt(x)&&/^[\d.]+/.test(x)){const w=parseFloat(x);return wc(x,"ms")?w:w*1e3}else return 0},l=s("transition-delay"),g=s("transition-duration");return ie(g,(x,w,D)=>{const P=i(l[D])+i(w);return Math.max(x,P)},0)},d2=(e,s)=>{const i=tb(),l=tb();let g;const x=I=>{var V;const Z=(V=I.raw.pseudoElement)!==null&&V!==void 0?V:"";return No(I.target,e)&&Ns(Z)&&go(Nx,I.raw.propertyName)},w=I=>{if(ze(I)||x(I)){i.clear(),l.clear();const V=I==null?void 0:I.raw.type;(ze(V)||V===ml())&&(clearTimeout(g),js(e,Q0),De(e,s.classes))}},D=$i(e,rx(),I=>{x(I)&&(D.unbind(),i.set($i(e,ml(),w)),l.set($i(e,qu(),w)))}),P=Lx(e);requestAnimationFrame(()=>{g=setTimeout(w,P+17),Ee(e,Q0,g)})},jk=(e,s)=>{de(e,s.classes),Pr(e,Q0).each(i=>{clearTimeout(parseInt(i,10)),js(e,Q0)}),d2(e,s)},eb=(e,s,i,l,g,x)=>{const w=u2(l,g,x);if(w||l2(e,l)){Pn(e,"position",i.position);const D=Dx(s,e),P=n2(s,{...g,rect:D}),I=vo(Nx,V=>P[V]);Uk(i,I)&&(fe(e,I),w&&jk(e,l),sl(e))}else De(e,l.classes)},f2=e=>({width:ea(e),height:Pu(e)}),cN=(e,s,i,l)=>{_o(s,"max-height"),_o(s,"max-width");const g=f2(s);return a2(s,l.preference,e,g,i,l.bounds)},Dg=(e,s)=>{const i=s.classes;De(e,i.off),de(e,i.on)},h2=(e,s,i)=>{const l=i.maxHeightFunction;l(e,s.maxHeight)},Zk=(e,s,i)=>{const l=i.maxWidthFunction;l(e,s.maxWidth)},Gk=(e,s,i)=>{const l=n2(i.origin,s);i.transition.each(g=>{eb(e,i.origin,l,g,s,i.lastPlacement)}),kx(e,l)},m2=(e,s)=>{s2(e,s.placement)},Bx=(e,s)=>{Gb(e,Math.floor(s))},Ix=vt((e,s)=>{Bx(e,s),Ca(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Rg=vt((e,s)=>{Bx(e,s)}),g2=(e,s,i)=>e[s]===void 0?i:e[s],nb=(e,s,i,l,g,x,w,D)=>{const P=g2(w,"maxHeightFunction",Ix()),I=g2(w,"maxWidthFunction",ft),V=e.anchorBox,Z=e.origin,J={bounds:$k(Z,x),origin:Z,preference:l,maxHeightFunction:P,maxWidthFunction:I,lastPlacement:g,transition:D};return qk(V,s,i,J)},qk=(e,s,i,l)=>{const g=cN(e,s,i,l);return Gk(s,g,l),m2(s,g),Dg(s,g),h2(s,g,l),Zk(s,g,l),{layout:g.layout,placement:g.placement}},$x=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],du=(e,s,i,l=1)=>{const g=e*l,x=s*l,w=P=>Me(i,P).getOr([]),D=(P,I,V)=>{const Z=Se($x,V);return{offset:xs(P,I),classesOn:wt(V,w),classesOff:wt(Z,w)}};return{southeast:()=>D(-e,s,["top","alignLeft"]),southwest:()=>D(e,s,["top","alignRight"]),south:()=>D(-e/2,s,["top","alignCentre"]),northeast:()=>D(-e,-s,["bottom","alignLeft"]),northwest:()=>D(e,-s,["bottom","alignRight"]),north:()=>D(-e/2,-s,["bottom","alignCentre"]),east:()=>D(e,-s/2,["valignCentre","left"]),west:()=>D(-e,-s/2,["valignCentre","right"]),insetNortheast:()=>D(g,x,["top","alignLeft","inset"]),insetNorthwest:()=>D(-g,x,["top","alignRight","inset"]),insetNorth:()=>D(-g/2,x,["top","alignCentre","inset"]),insetSoutheast:()=>D(g,-x,["bottom","alignLeft","inset"]),insetSouthwest:()=>D(-g,-x,["bottom","alignRight","inset"]),insetSouth:()=>D(-g/2,-x,["bottom","alignCentre","inset"]),insetEast:()=>D(-g,-x/2,["valignCentre","right","inset"]),insetWest:()=>D(g,-x/2,["valignCentre","left","inset"])}},ym=()=>du(0,0,{}),ty=wn,L1=(e,s)=>i=>p2(i)==="rtl"?s:e,p2=e=>Fs(e,"direction")==="rtl"?"rtl":"ltr";var Qd;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(Qd||(Qd={}));const ey="data-alloy-vertical-dir",Mg=e=>C1(e,s=>Wo(s)&&$s(s,"data-alloy-vertical-dir")===Qd.BottomToTop),fu=()=>Li("layouts",[oe("onLtr"),oe("onRtl"),So("onBottomLtr"),So("onBottomRtl")]),ob=(e,s,i,l,g,x,w)=>{const D=w.map(Mg).getOr(!1),P=s.layouts.map(Q=>Q.onLtr(e)),I=s.layouts.map(Q=>Q.onRtl(e)),V=D?s.layouts.bind(Q=>Q.onBottomLtr.map(ot=>ot(e))).or(P).getOr(g):P.getOr(i),Z=D?s.layouts.bind(Q=>Q.onBottomRtl.map(ot=>ot(e))).or(I).getOr(x):I.getOr(l);return L1(V,Z)(e)},Kk=(e,s,i)=>{const l=s.hotspot,g=Dx(i,l.element),x=ob(e.element,s,M1(),G0(),wx(),R1(),F.some(s.hotspot.element));return F.some(ty({anchorBox:g,bubble:s.bubble.getOr(ym()),overrides:s.overrides,layouts:x}))};var b2=[oe("hotspot"),So("bubble"),Rt("overrides",{}),fu(),Ts("placement",Kk)];const Yk=(e,s,i)=>{const l=Rx(i,s.x,s.y),g=hr(l.left,l.top,s.width,s.height),x=ob(e.element,s,ZS(),GS(),ZS(),GS(),F.none());return F.some(ty({anchorBox:g,bubble:s.bubble,overrides:s.overrides,layouts:x}))};var Xk=[oe("x"),oe("y"),Rt("height",0),Rt("width",0),Rt("bubble",ym()),Rt("overrides",{}),fu(),Ts("placement",Yk)];const Fx=ul.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Jk=e=>e.fold(wn,(s,i,l)=>s.translate(-i,-l)),v2=e=>e.fold(wn,wn),B1=e=>ie(e,(s,i)=>s.translate(i.left,i.top),xs(0,0)),y2=e=>{const s=Gt(e,Jk);return B1(s)},_2=e=>{const s=Gt(e,v2);return B1(s)},Qk=Fx.screen,tO=Fx.absolute,x2=(e,s,i)=>{const l=Of(i.root).dom,g=x=>{const w=wa(x),D=wa(e.element);return No(w,D)};return F.from(l.frameElement).map(At.fromDom).filter(g).map(ta)},w2=(e,s,i)=>{const l=wa(e.element),g=oi(l),x=x2(e,s,i).getOr(g);return tO(x,g.left,g.top)},Hx=(e,s,i,l)=>{const g=Qk(xs(e,s));return F.some(nx(g,i,l))},C2=(e,s,i,l,g)=>e.map(x=>{const w=[s,x.point],D=Ve(l,()=>_2(w),()=>_2(w),()=>y2(w)),P=Zl(D.left,D.top,x.width,x.height),I=i.showAbove?wx():M1(),V=i.showAbove?R1():G0(),Z=ob(g,i,I,V,I,V,F.none());return ty({anchorBox:P,bubble:i.bubble.getOr(ym()),overrides:i.overrides,layouts:Z})}),eO=(e,s,i)=>{const l=w2(e,i,s);return s.node.filter(Ur).bind(g=>{const x=g.dom.getBoundingClientRect(),w=Hx(x.left,x.top,x.width,x.height),D=s.node.getOr(e.element);return C2(w,l,s,i,D)})};var nO=[oe("node"),oe("root"),So("bubble"),fu(),Rt("overrides",{}),Rt("showAbove",!1),Ts("placement",eO)];const ny="\uFEFF",S2=" ",dh={create:(e,s,i,l)=>({start:e,soffset:s,finish:i,foffset:l})},oy=ul.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Vx=(e,s,i,l)=>e.fold(s,i,l),T2=e=>e.fold(wn,wn,wn),A2=oy.before,k2=oy.on,oO=oy.after,O2={before:A2,on:k2,after:oO,cata:Vx,getStart:T2},I1=ul.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sO=e=>I1.exact(e.start,e.soffset,e.finish,e.foffset),zx=e=>e.match({domRange:s=>At.fromDom(s.startContainer),relative:(s,i)=>O2.getStart(s),exact:(s,i,l,g)=>s}),rO=I1.domRange,iO=I1.relative,D2=I1.exact,Wx=e=>{const s=zx(e);return Of(s)},aO=dh.create,$1={domRange:rO,relative:iO,exact:D2,exactFromRange:sO,getWin:Wx,range:aO},cO=(e,s)=>{s.fold(i=>{e.setStartBefore(i.dom)},(i,l)=>{e.setStart(i.dom,l)},i=>{e.setStartAfter(i.dom)})},R2=(e,s)=>{s.fold(i=>{e.setEndBefore(i.dom)},(i,l)=>{e.setEnd(i.dom,l)},i=>{e.setEndAfter(i.dom)})},M2=(e,s,i)=>{const l=e.document.createRange();return cO(l,s),R2(l,i),l},ua=(e,s,i,l,g)=>{const x=e.document.createRange();return x.setStart(s.dom,i),x.setEnd(l.dom,g),x},lO=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),sb=e=>{const s=e.getClientRects(),i=s.length>0?s[0]:e.getBoundingClientRect();return i.width>0||i.height>0?F.some(i).map(lO):F.none()},uO=e=>{const s=e.getBoundingClientRect();return s.width>0||s.height>0?F.some(s).map(lO):F.none()},rb=ul.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),P2=(e,s,i)=>s(At.fromDom(i.startContainer),i.startOffset,At.fromDom(i.endContainer),i.endOffset),dO=(e,s)=>s.match({domRange:i=>({ltr:vt(i),rtl:F.none}),relative:(i,l)=>({ltr:cc(()=>M2(e,i,l)),rtl:cc(()=>F.some(M2(e,l,i)))}),exact:(i,l,g,x)=>({ltr:cc(()=>ua(e,i,l,g,x)),rtl:cc(()=>F.some(ua(e,g,x,i,l)))})}),fO=(e,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(g=>g.collapsed===!1).map(g=>rb.rtl(At.fromDom(g.endContainer),g.endOffset,At.fromDom(g.startContainer),g.startOffset)).getOrThunk(()=>P2(e,rb.ltr,i)):P2(e,rb.ltr,i)},Ux=(e,s)=>{const i=dO(e,s);return fO(e,i)},ib=(e,s)=>Ux(e,s).match({ltr:(l,g,x,w)=>{const D=e.document.createRange();return D.setStart(l.dom,g),D.setEnd(x.dom,w),D},rtl:(l,g,x,w)=>{const D=e.document.createRange();return D.setStart(x.dom,w),D.setEnd(l.dom,g),D}});rb.ltr,rb.rtl;const N2=(e,s,i)=>oo(up(e,i),s),Ma=(e,s)=>Zb(s,e),F1=(e,s,i,l)=>{const x=wa(e).dom.createRange();return x.setStart(e.dom,s),x.setEnd(i.dom,l),x},L2=(e,s,i,l)=>{const g=F1(e,s,i,l),x=No(e,i)&&s===l;return g.collapsed&&!x},B2=e=>F.from(e.getSelection()),jx=e=>{if(e.rangeCount>0){const s=e.getRangeAt(0),i=e.getRangeAt(e.rangeCount-1);return F.some(dh.create(At.fromDom(s.startContainer),s.startOffset,At.fromDom(i.endContainer),i.endOffset))}else return F.none()},Zx=e=>{if(e.anchorNode===null||e.focusNode===null)return jx(e);{const s=At.fromDom(e.anchorNode),i=At.fromDom(e.focusNode);return L2(s,e.anchorOffset,i,e.focusOffset)?F.some(dh.create(s,e.anchorOffset,i,e.focusOffset)):jx(e)}},sy=e=>B2(e).filter(s=>s.rangeCount>0).bind(Zx),I2=(e,s)=>{const i=ib(e,s);return sb(i)},H1=(e,s)=>{const i=ib(e,s);return uO(i)},$2=((e,s)=>{const i=x=>{if(!e(x))throw new Error("Can only get "+s+" value of a "+s+" node");return l(x).getOr("")},l=x=>e(x)?F.from(x.dom.nodeValue):F.none();return{get:i,getOption:l,set:(x,w)=>{if(!e(x))throw new Error("Can only set raw "+s+" value of a "+s+" node");x.dom.nodeValue=w}}})(Jr,"text"),F2=e=>$2.get(e),Pg=(e,s)=>({element:e,offset:s}),Ng=(e,s)=>{const i=Sc(e);if(i.length===0)return Pg(e,s);if(s<i.length)return Pg(i[s],0);{const l=i[i.length-1],g=Jr(l)?F2(l).length:Sc(l).length;return Pg(l,g)}},Gx=(e,s)=>Jr(e)?Pg(e,s):Ng(e,s),qx=e=>e.foffset!==void 0,ry=(e,s)=>s.getSelection.getOrThunk(()=>()=>sy(e))().map(l=>{if(qx(l)){const g=Gx(l.start,l.soffset),x=Gx(l.finish,l.foffset);return $1.range(g.element,g.offset,x.element,x.offset)}else return l}),H2=(e,s,i)=>{const l=Of(s.root).dom,g=w2(e,i,s),x=ry(l,s).bind(P=>{if(qx(P))return H1(l,$1.exactFromRange(P)).orThunk(()=>{const V=At.fromText(ny);Dc(P.start,V);const Z=I2(l,$1.exact(V,0,V,1));return oa(V),Z}).bind(V=>Hx(V.left,V.top,V.width,V.height));{const I=Co(P,Z=>Z.dom.getBoundingClientRect()),V={left:Math.min(I.firstCell.left,I.lastCell.left),right:Math.max(I.firstCell.right,I.lastCell.right),top:Math.min(I.firstCell.top,I.lastCell.top),bottom:Math.max(I.firstCell.bottom,I.lastCell.bottom)};return Hx(V.left,V.top,V.right-V.left,V.bottom-V.top)}}),D=ry(l,s).bind(P=>qx(P)?Wo(P.start)?F.some(P.start):nl(P.start):F.some(P.firstCell)).getOr(e.element);return C2(x,g,s,i,D)};var Lg=[So("getSelection"),oe("root"),So("bubble"),fu(),Rt("overrides",{}),Rt("showAbove",!1),Ts("placement",H2)];const _m="link-layout",V2=e=>e.x+e.width,iy=(e,s)=>e.x-s.width,V1=(e,s)=>e.y-s.height+e.height,z1=e=>e.y,Kx=(e,s,i)=>ci(V2(e),z1(e),i.southeast(),_l(),"southeast",ir(e,{left:0,top:2}),_m),ab=(e,s,i)=>ci(iy(e,s),z1(e),i.southwest(),Jp(),"southwest",ir(e,{right:1,top:2}),_m),z2=(e,s,i)=>ci(V2(e),V1(e,s),i.northeast(),T1(),"northeast",ir(e,{left:0,bottom:3}),_m),Yx=(e,s,i)=>ci(iy(e,s),V1(e,s),i.northwest(),Ag(),"northwest",ir(e,{right:1,bottom:3}),_m),ay=()=>[Kx,ab,z2,Yx],Xx=()=>[ab,Kx,Yx,z2],hO=(e,s,i)=>{const l=Dx(i,s.item.element),g=ob(e.element,s,ay(),Xx(),ay(),Xx(),F.none());return F.some(ty({anchorBox:l,bubble:ym(),overrides:s.overrides,layouts:g}))};var W2=[oe("item"),fu(),Rt("overrides",{}),Ts("placement",hO)],U2=or("type",{selection:Lg,node:nO,hotspot:b2,submenu:W2,makeshift:Xk});const fh=[Xs("classes",Cs),Ws("mode","all",["all","layout","placement"])],xm=[Rt("useFixed",pn),So("getBounds")],W1=[jr("anchor",U2),Li("transition",fh)],U1=()=>{const e=document.documentElement;return o2(0,0,e.clientWidth,e.clientHeight)},mO=e=>{const s=ta(e.element),i=e.element.dom.getBoundingClientRect();return J0(s.left,s.top,i.width,i.height)},wm=(e,s,i,l,g,x)=>{const w=Hk(s.anchorBox,e);return nb(w,l.element,s.bubble,s.layouts,g,i,s.overrides,x)},Cl=(e,s,i,l,g)=>{const x=F.none();cy(e,s,i,l,g,x)},cy=(e,s,i,l,g,x)=>{const w=Tr("placement.info",mn(W1),g),D=w.anchor,P=l.element,I=i.get(l.uid);Y0(()=>{Pn(P,"position","fixed");const V=Qr(P,"visibility");Pn(P,"visibility","hidden");const Z=s.useFixed()?U1():mO(e);D.placement(e,D,Z).each(J=>{const Q=x.orThunk(()=>s.getBounds.map(jn)),ot=wm(Z,J,Q,l,I,w.transition);i.set(l.uid,ot)}),V.fold(()=>{_o(P,"visibility")},J=>{Pn(P,"visibility",J)}),Qr(P,"left").isNone()&&Qr(P,"top").isNone()&&Qr(P,"right").isNone()&&Qr(P,"bottom").isNone()&&va(Qr(P,"position"),"fixed")&&_o(P,"position")},P)};var pO=Object.freeze({__proto__:null,position:Cl,positionWithinBounds:cy,getMode:(e,s,i)=>s.useFixed()?"fixed":"absolute",reset:(e,s,i,l)=>{const g=l.element;Ae(["position","left","right","top","bottom"],x=>_o(g,x)),Vk(g),i.clear(l.uid)}}),j1=Object.freeze({__proto__:null,init:()=>{let e={};return gc({readState:()=>e,clear:g=>{_e(g)?delete e[g]:e={}},set:(g,x)=>{e[g]=x},get:g=>Me(e,g)})}});const vi=ui({fields:xm,name:"positioning",active:e2,apis:pO,state:j1}),ly=e=>e.getSystem().isConnected(),ed=e=>{zn(e,Fc());const s=e.components();Ae(s,ed)},tf=e=>{const s=e.components();Ae(s,tf),zn(e,aa())},j2=(e,s)=>{e.getSystem().addToWorld(s),Ur(e.element)&&tf(s)},Z1=e=>{ed(e),e.getSystem().removeFromWorld(e)},G1=(e,s)=>{qa(e.element,s.element)},yi=e=>{Ae(e.components(),s=>oa(s.element)),Kh(e.element),e.syncComponents()},bO=(e,s,i)=>{const l=e.components();yi(e);const g=i(s),x=Se(l,g);Ae(x,w=>{ed(w),e.getSystem().removeFromWorld(w)}),Ae(g,w=>{ly(w)?G1(e,w):(e.getSystem().addToWorld(w),G1(e,w),Ur(e.element)&&tf(w))}),e.syncComponents()},Sl=(e,s,i)=>{const l=e.components(),g=wt(s,D=>Sg(D).toArray());Ae(l,D=>{go(g,D)||Z1(D)});const x=i(s),w=Se(l,x);Ae(w,D=>{ly(D)&&Z1(D)}),Ae(x,D=>{ly(D)||j2(e,D)}),e.syncComponents()},nd=(e,s)=>{q1(e,s,qa)},q1=(e,s,i)=>{e.getSystem().addToWorld(s),i(e.element,s.element),Ur(e.element)&&tf(s),e.syncComponents()},Bg=e=>{ed(e),oa(e.element),e.getSystem().removeFromWorld(e)},ef=e=>{const s=Cc(e.element).bind(i=>e.getSystem().getByDom(i).toOptional());Bg(e),s.each(i=>{i.syncComponents()})},K1=e=>{const s=e.components();Ae(s,Bg),Kh(e.element),e.syncComponents()},cb=(e,s)=>{uy(e,s,qa)},lb=(e,s)=>{uy(e,s,qh)},uy=(e,s,i)=>{i(e,s.element);const l=Sc(s.element);Ae(l,g=>{s.getByDom(g).each(tf)})},Z2=e=>{const s=Sc(e.element);Ae(s,i=>{e.getByDom(i).each(ed)}),oa(e.element)},nf=(e,s,i,l)=>{i.get().each(w=>{K1(e)});const g=s.getAttachPoint(e);nd(g,e);const x=e.getSystem().build(l);return nd(e,x),i.set(x),x},od=(e,s,i,l)=>{const g=nf(e,s,i,l);return s.onOpen(e,g),g},of=(e,s,i,l)=>i.get().map(()=>nf(e,s,i,l)),vO=(e,s,i,l,g)=>{Ig(e,s),od(e,s,i,l),g(),$g(e,s)},dy=(e,s,i)=>{i.get().each(l=>{K1(e),ef(e),s.onClose(e,l),i.clear()})},Jx=(e,s,i)=>i.isOpen(),yO=(e,s,i,l)=>Jx(e,s,i)&&i.get().exists(g=>s.isPartOf(e,g,l)),_O=(e,s,i)=>i.get(),xO=(e,s,i,l)=>{Qr(e.element,s).fold(()=>{js(e.element,i)},g=>{Ee(e.element,i,g)}),Pn(e.element,s,l)},El=(e,s,i)=>{Pr(e.element,i).fold(()=>_o(e.element,s),l=>Pn(e.element,s,l))},Ig=(e,s,i)=>{const l=s.getAttachPoint(e);Pn(e.element,"position",vi.getMode(l)),xO(e,"visibility",s.cloakVisibilityAttr,"hidden")},fy=e=>Cr(["top","left","right","bottom"],s=>Qr(e,s).isSome()),$g=(e,s,i)=>{fy(e.element)||_o(e.element,"position"),El(e,"visibility",s.cloakVisibilityAttr)};var Pa=Object.freeze({__proto__:null,cloak:Ig,decloak:$g,open:od,openWhileCloaked:vO,close:dy,isOpen:Jx,isPartOf:yO,getState:_O,setContent:of}),da=Object.freeze({__proto__:null,events:(e,s)=>jo([Xt(wg(),(i,l)=>{dy(i,e,s)})])}),hu=[po("onOpen"),po("onClose"),oe("isPartOf"),oe("getAttachPoint"),Rt("cloakVisibilityAttr","data-precloak-visibility")],jc=Object.freeze({__proto__:null,init:()=>{const e=ds(),s=vt("not-implemented");return gc({readState:s,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Yn=ui({fields:hu,name:"sandboxing",active:da,apis:Pa,state:jc}),Cm=vt("dismiss.popups"),ub=vt("reposition.popups"),Qx=vt("mouse.released"),tw=ra([Rt("isExtraPart",pn),Li("fireEventInstead",[Rt("event",Ql())])]),Y1=e=>{const s=Tr("Dismissal",tw,e);return{[Cm()]:{schema:ra([oe("target")]),onReceive:(i,l)=>{Yn.isOpen(i)&&(Yn.isPartOf(i,l.target)||s.isExtraPart(i,l.target)||s.fireEventInstead.fold(()=>Yn.close(i),x=>zn(i,x.event)))}}}},my=ra([Li("fireEventInstead",[Rt("event",Yf())]),gr("doReposition")]),gy=e=>{const s=Tr("Reposition",my,e);return{[ub()]:{onReceive:i=>{Yn.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),l=>zn(i,l.event))}}}},py=(e,s,i)=>{s.store.manager.onLoad(e,s,i)},by=(e,s,i)=>{s.store.manager.onUnload(e,s,i)};var q2=Object.freeze({__proto__:null,onLoad:py,onUnload:by,setValue:(e,s,i,l)=>{s.store.manager.setValue(e,s,i,l)},getValue:(e,s,i)=>s.store.manager.getValue(e,s,i),getState:(e,s,i)=>i}),nw=Object.freeze({__proto__:null,events:(e,s)=>{const i=e.resetOnDom?[ps((l,g)=>{py(l,e,s)}),mc((l,g)=>{by(l,e,s)})]:[Cx(e,s,py)];return jo(i)}});const ow=()=>{const e=an(null),s=()=>({mode:"memory",value:e.get()}),i=()=>e.get()===null,l=()=>{e.set(null)};return gc({set:e.set,get:e.get,isNotSet:i,clear:l,readState:s})},db=()=>gc({readState:ft}),vy=()=>{const e=an({}),s=an({});return gc({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:s.get()}),lookup:w=>Me(e.get(),w).orThunk(()=>Me(s.get(),w)),update:w=>{const D=e.get(),P=s.get(),I={},V={};Ae(w,Z=>{I[Z.value]=Z,Me(Z,"meta").each(J=>{Me(J,"text").each(Q=>{V[Q]=Z})})}),e.set({...D,...I}),s.set({...P,...V})},clear:()=>{e.set({}),s.set({})}})};var fb=Object.freeze({__proto__:null,memory:ow,dataset:vy,manual:db,init:e=>e.store.manager.state(e)});const Y2=(e,s,i,l)=>{const g=s.store;i.update([l]),g.setValue(e,l),s.onSetValue(e,l)},Tl=(e,s,i)=>{const l=s.store,g=l.getDataKey(e);return i.lookup(g).getOrThunk(()=>l.getFallbackEntry(g))},uN=(e,s,i)=>{s.store.initialValue.each(g=>{Y2(e,s,i,g)})},yy=(e,s,i)=>{i.clear()};var mh=[So("initialValue"),oe("getFallbackEntry"),oe("getDataKey"),oe("setValue"),Ts("manager",{setValue:Y2,getValue:Tl,onLoad:uN,onUnload:yy,state:vy})];const rw=(e,s,i)=>s.store.getValue(e),iw=(e,s,i,l)=>{s.store.setValue(e,l),s.onSetValue(e,l)},wO=(e,s,i)=>{s.store.initialValue.each(l=>{s.store.setValue(e,l)})};var CO=[oe("getValue"),Rt("setValue",ft),So("initialValue"),Ts("manager",{setValue:iw,getValue:rw,onLoad:wO,onUnload:ft,state:ru.init})];const SO=(e,s,i,l)=>{i.set(l),s.onSetValue(e,l)},EO=(e,s,i)=>i.get(),X2=(e,s,i)=>{s.store.initialValue.each(l=>{i.isNotSet()&&i.set(l)})},sd=(e,s,i)=>{i.clear()};var X1=[So("initialValue"),Ts("manager",{setValue:SO,getValue:EO,onLoad:X2,onUnload:sd,state:ow})],TO=[fc("store",{mode:"memory"},or("mode",{memory:X1,manual:CO,dataset:mh})),po("onSetValue"),Rt("resetOnDom",!1)];const Ie=ui({fields:TO,name:"representing",active:nw,apis:q2,extra:{setValueFrom:(e,s)=>{const i=Ie.getValue(s);Ie.setValue(e,i)}},state:fb}),qr=(e,s)=>Op(e,{},Gt(s,i=>cs(i.name(),"Cannot configure "+i.name()+" for "+e)).concat([se("dump",wn)])),gh=e=>e.dump,Kr=(e,s)=>({...pe(s),...e.dump}),Zc={field:qr,augment:Kr,get:gh},J1="placeholder",hb=ul.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Fg=e=>ho(e,"uiType"),mb=(e,s,i,l)=>e.exists(g=>g!==i.owner)?hb.single(!0,vt(i)):Me(l,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Qo(l)+`]
Namespace: `+e.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},g=>g.replace()),Q1=(e,s,i,l)=>Fg(i)&&i.uiType===J1?mb(e,s,i,l):hb.single(!1,vt(i)),J2=(e,s,i,l)=>Q1(e,s,i,l).fold((x,w)=>{const D=Fg(i)?w(s,i.config,i.validated):w(s),P=Me(D,"components").getOr([]),I=wt(P,V=>J2(e,s,V,l));return[{...D,components:I}]},(x,w)=>{if(Fg(i)){const D=w(s,i.config,i.validated);return i.validated.preprocess.getOr(wn)(D)}else return w(s)}),aw=(e,s,i,l)=>wt(i,g=>J2(e,s,g,l)),Q2=(e,s)=>{let i=!1;const l=()=>i,g=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+e);return i=!0,s},x=()=>s.fold((w,D)=>w,(w,D)=>w);return{name:vt(e),required:x,used:l,replace:g}},cw=(e,s,i,l)=>{const g=Co(l,(w,D)=>Q2(D,w)),x=aw(e,s,i,g);return Oo(g,w=>{if(w.used()===!1&&w.required())throw new Error("Placeholder: "+w.name()+` was not found in components list
Namespace: `+e.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),x},tv=hb.single,gb=hb.multiple,ev=vt(J1),_y=ul.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),nv=Rt("factory",{sketch:wn}),xy=Rt("schema",[]),rd=oe("name"),ov=sr("pname","pname",al(e=>"<alloy."+Ue(e.name)+">"),Kl()),sv=se("schema",()=>[So("preprocess")]),mu=Rt("defaults",vt({})),rv=Rt("overrides",vt({})),iv=mn([nv,xy,rd,ov,mu,rv]),av=mn([nv,xy,rd,mu,rv]),AO=mn([nv,xy,rd,ov,mu,rv]),kO=mn([nv,sv,rd,oe("unit"),ov,mu,rv]),Al=e=>e.fold(F.some,F.none,F.some,F.some),tE=e=>{const s=i=>i.name;return e.fold(s,s,s,s)},OO=e=>e.fold(wn,wn,wn,wn),ji=(e,s)=>i=>{const l=Tr("Converting part type",s,i);return e(l)},Uo=ji(_y.required,iv),gu=ji(_y.external,av),vc=ji(_y.optional,AO),pu=ji(_y.group,kO),wy=vt("entirety");var lw=Object.freeze({__proto__:null,required:Uo,external:gu,optional:vc,group:pu,asNamedPart:Al,name:tE,asCommon:OO,original:wy});const sf=(e,s,i,l)=>ts(s.defaults(e,i,l),i,{uid:e.partUids[s.name]},s.overrides(e,i,l)),eE=(e,s,i)=>{const l={},g={};return Ae(i,x=>{x.fold(w=>{l[w.pname]=tv(!0,(D,P,I)=>w.factory.sketch(sf(D,w,P,I)))},w=>{const D=s.parts[w.name];g[w.name]=vt(w.factory.sketch(sf(s,w,D[wy()]),D))},w=>{l[w.pname]=tv(!1,(D,P,I)=>w.factory.sketch(sf(D,w,P,I)))},w=>{l[w.pname]=gb(!0,(D,P,I)=>{const V=D[w.name];return Gt(V,Z=>w.factory.sketch(ts(w.defaults(D,Z,I),Z,w.overrides(D,Z))))})})}),{internals:vt(l),externals:vt(g)}},Cy=(e,s)=>{const i={};return Ae(s,l=>{Al(l).each(g=>{const x=DO(e,g.pname);i[g.name]=w=>{const D=Tr("Part: "+g.name+" in "+e,mn(g.schema),w);return{...x,config:w,validated:D}}})}),i},DO=(e,s)=>({uiType:ev(),owner:e,name:s}),nE=(e,s,i)=>({uiType:ev(),owner:e,name:s,config:i,validated:{}}),oE=e=>wt(e,s=>s.fold(F.none,F.some,F.none,F.none).map(i=>Pc(i.name,i.schema.concat([px(wy())]))).toArray()),uw=e=>Gt(e,tE),dw=(e,s,i)=>eE(e,s,i),fw=(e,s,i)=>cw(F.some(e),s,s.components,i),Go=(e,s,i)=>{const l=s.partUids[i];return e.getSystem().getByUid(l).toOptional()},ph=(e,s,i)=>Go(e,s,i).getOrDie("Could not find part: "+i),hw=(e,s,i)=>{const l={},g=s.partUids,x=e.getSystem();return Ae(i,w=>{l[w]=vt(x.getByUid(g[w]))}),l},mw=(e,s)=>{const i=e.getSystem();return Co(s.partUids,(l,g)=>vt(i.getByUid(l)))},cv=e=>Qo(e.partUids),Sy=(e,s,i)=>{const l={},g=s.partUids,x=e.getSystem();return Ae(i,w=>{l[w]=vt(x.getByUid(g[w]).getOrDie())}),l},Sm=(e,s)=>{const i=uw(s);return ju(Gt(i,l=>({key:l,value:e+"-"+l})))},Em=e=>sr("partUids","partUids",Qb(s=>Sm(s.uid,e)),Kl());var RO=Object.freeze({__proto__:null,generate:Cy,generateOne:nE,schemas:oE,names:uw,substitutes:dw,components:fw,defaultUids:Sm,defaultUidsSchema:Em,getAllParts:mw,getAllPartNames:cv,getPart:Go,getPartOrDie:ph,getParts:hw,getPartsOrDie:Sy});const MO=(e,s)=>(e.length>0?[Pc("parts",e)]:[]).concat([oe("uid"),Rt("dom",{}),Rt("components",[]),px("originalSpec"),Rt("debug.sketcher",{})]).concat(s),sE=(e,s,i,l,g)=>{const x=MO(l,g);return Tr(e+" [SpecSchema]",ra(x.concat(s)),i)},PO=(e,s,i,l)=>{const g=Hg(l),x=sE(e,s,g,[],[]);return i(x,g)},Ey=(e,s,i,l,g)=>{const x=Hg(g),w=oE(i),D=Em(i),P=sE(e,s,x,w,[D]),I=dw(e,P,i),V=fw(e,P,I.internals());return l(P,V,x,I.externals())},pb=e=>ho(e,"uid"),Hg=e=>pb(e)?e:{...e,uid:Ju("uid")},gw=e=>e.uid!==void 0,NO=ra([oe("name"),oe("factory"),oe("configFields"),Rt("apis",{}),Rt("extraApis",{})]),kl=ra([oe("name"),oe("factory"),oe("configFields"),oe("partFields"),Rt("apis",{}),Rt("extraApis",{})]),Ir=e=>{const s=Tr("Sketcher for "+e.name,NO,e),i=x=>PO(s.name,s.configFields,s.factory,x),l=Co(s.apis,zc),g=Co(s.extraApis,(x,w)=>y1(x,w));return{name:s.name,configFields:s.configFields,sketch:i,...l,...g}},Zi=e=>{const s=Tr("Sketcher for "+e.name,kl,e),i=w=>Ey(s.name,s.configFields,s.partFields,s.factory,w),l=Cy(s.name,s.partFields),g=Co(s.apis,zc),x=Co(s.extraApis,(w,D)=>y1(w,D));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:l,...g,...x}},rf=e=>Hl("input")(e)&&$s(e,"type")!=="radio"||Hl("textarea")(e);var LO=Object.freeze({__proto__:null,getCurrent:(e,s,i)=>s.find(e)});const BO=[oe("find")],lo=ui({fields:BO,name:"composing",apis:LO}),IO=["input","button","textarea","select"],rE=(e,s,i)=>{(s.disabled()?vw:Ty)(e,s)},pw=(e,s)=>s.useNative===!0&&go(IO,xa(e.element)),$O=e=>gp(e.element,"disabled"),bw=e=>{Ee(e.element,"disabled","disabled")},FO=e=>{js(e.element,"disabled")},iE=e=>$s(e.element,"aria-disabled")==="true",aE=e=>{Ee(e.element,"aria-disabled","true")},cE=e=>{Ee(e.element,"aria-disabled","false")},vw=(e,s,i)=>{s.disableClass.each(g=>{ut(e.element,g)}),(pw(e,s)?bw:aE)(e),s.onDisabled(e)},Ty=(e,s,i)=>{s.disableClass.each(g=>{Ot(e.element,g)}),(pw(e,s)?FO:cE)(e),s.onEnabled(e)},lE=(e,s)=>pw(e,s)?$O(e):iE(e);var fN=Object.freeze({__proto__:null,enable:Ty,disable:vw,isDisabled:lE,onLoad:rE,set:(e,s,i,l)=>{(l?vw:Ty)(e,s)}}),hN=Object.freeze({__proto__:null,exhibit:(e,s)=>Ar({classes:s.disabled()?s.disableClass.toArray():[]}),events:(e,s)=>jo([M0(ka(),(i,l)=>lE(i,e)),Cx(e,s,rE)])}),mN=[Ss("disabled",pn),Rt("useNative",!0),So("disableClass"),po("onDisabled"),po("onEnabled")];const En=ui({fields:mN,name:"disabling",active:hN,apis:fN}),fE=(e,s,i,l)=>{const g=Ma(e.element,"."+s.highlightClass);Ae(g,x=>{Cr(l,D=>No(D.element,x))||(Ot(x,s.highlightClass),e.getSystem().getByDom(x).each(D=>{s.onDehighlight(e,D),zn(D,Xf())}))})},VO=(e,s,i)=>fE(e,s,i,[]),Ze=(e,s,i,l)=>{_w(e,s,i,l)&&(Ot(l.element,s.highlightClass),s.onDehighlight(e,l),zn(l,Xf()))},af=(e,s,i,l)=>{fE(e,s,i,[l]),_w(e,s,i,l)||(ut(l.element,s.highlightClass),s.onHighlight(e,l),zn(l,cm()))},Ay=(e,s,i)=>{xw(e,s).each(l=>{af(e,s,i,l)})},hE=(e,s,i)=>{Dy(e,s).each(l=>{af(e,s,i,l)})},ky=(e,s,i,l)=>{mE(e,s,i,l).fold(g=>{throw g},g=>{af(e,s,i,g)})},yw=(e,s,i,l)=>{const g=ww(e,s);Mt(g,l).each(w=>{af(e,s,i,w)})},_w=(e,s,i,l)=>Yt(l.element,s.highlightClass),Oy=(e,s,i)=>Es(e.element,"."+s.highlightClass).bind(l=>e.getSystem().getByDom(l).toOptional()),mE=(e,s,i,l)=>{const g=Ma(e.element,"."+s.itemClass);return F.from(g[l]).fold(()=>Ln.error(new Error("No element found with index "+l)),e.getSystem().getByDom)},xw=(e,s,i)=>Es(e.element,"."+s.itemClass).bind(l=>e.getSystem().getByDom(l).toOptional()),Dy=(e,s,i)=>{const l=Ma(e.element,"."+s.itemClass);return(l.length>0?F.some(l[l.length-1]):F.none()).bind(x=>e.getSystem().getByDom(x).toOptional())},Ry=(e,s,i,l)=>{const g=Ma(e.element,"."+s.itemClass);return _t(g,w=>Yt(w,s.highlightClass)).bind(w=>{const D=k1(w,l,0,g.length-1);return e.getSystem().getByDom(g[D]).toOptional()})},lv=(e,s,i)=>Ry(e,s,i,-1),My=(e,s,i)=>Ry(e,s,i,1),ww=(e,s,i)=>{const l=Ma(e.element,"."+s.itemClass);return ku(Gt(l,g=>e.getSystem().getByDom(g).toOptional()))};var zO=Object.freeze({__proto__:null,dehighlightAll:VO,dehighlight:Ze,highlight:af,highlightFirst:Ay,highlightLast:hE,highlightAt:ky,highlightBy:yw,isHighlighted:_w,getHighlighted:Oy,getFirst:xw,getLast:Dy,getPrevious:lv,getNext:My,getCandidates:ww}),WO=[oe("highlightClass"),oe("itemClass"),po("onHighlight"),po("onDehighlight")];const Ro=ui({fields:WO,name:"highlighting",apis:zO}),Py=[8],cf=[9],lf=[13],Ny=[27],yc=[32],bb=[37],uv=[38],Ly=[39],dv=[40],UO=(e,s,i)=>{const l=kn(e.slice(0,s)),g=kn(e.slice(s+1));return Mt(l.concat(g),i)},gN=(e,s,i)=>{const l=kn(e.slice(0,s));return Mt(l,i)},Tm=(e,s,i)=>{const l=e.slice(0,s),g=e.slice(s+1);return Mt(g.concat(l),i)},Cw=(e,s,i)=>{const l=e.slice(s+1);return Mt(l,i)},uo=e=>s=>{const i=s.raw;return go(e,i.which)},id=e=>s=>Gn(e,i=>i(s)),Vg=e=>e.raw.shiftKey===!0,jO=e=>e.raw.ctrlKey===!0,vb=Zt(Vg),mo=(e,s)=>({matches:e,classification:s}),ZO=(e,s)=>Mt(e,l=>l.matches(s)).map(l=>l.classification),zg=(e,s,i)=>{s.exists(g=>i.exists(x=>No(x,g)))||on(e,Hc(),{prevFocus:s,newFocus:i})},yb=()=>{const e=i=>bi(i.element);return{get:e,set:(i,l)=>{const g=e(i);i.getSystem().triggerFocus(l,i.element);const x=e(i);zg(i,g,x)}}},GO=()=>{const e=i=>Ro.getHighlighted(i).map(l=>l.element);return{get:e,set:(i,l)=>{const g=e(i);i.getSystem().getByDom(l).fold(ft,w=>{Ro.highlight(i,w)});const x=e(i);zg(i,g,x)}}};var Wg;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(Wg||(Wg={}));const Ug=(e,s,i,l,g)=>{const x=()=>e.concat([Rt("focusManager",yb()),fc("focusInside","onFocus",em(I=>go(["onFocus","onEnterOrSpace","onApi"],I)?Ln.value(I):Ln.error("Invalid value for focusInside"))),Ts("handler",P),Ts("state",s),Ts("sendFocusIn",g)]),w=(I,V,Z,J,Q)=>{const ot=Z(I,V,J,Q);return ZO(ot,V.event).bind(dt=>dt(I,V,J,Q))},P={schema:x,processKey:w,toEvents:(I,V)=>{const Z=I.focusInside!==Wg.OnFocusMode?F.none():g(I).map(ot=>Xt(Jl(),(dt,Pt)=>{ot(dt,I,V),Pt.stop()})),J=(ot,dt)=>{const Pt=uo(yc.concat(lf))(dt.event);I.focusInside===Wg.OnEnterOrSpaceMode&&Pt&&Fd(ot,dt)&&g(I).each(yt=>{yt(ot,I,V),dt.stop()})},Q=[Xt(Ic(),(ot,dt)=>{w(ot,dt,i,I,V).fold(()=>{J(ot,dt)},Pt=>{dt.stop()})}),Xt(fl(),(ot,dt)=>{w(ot,dt,l,I,V).each(Pt=>{dt.stop()})})];return jo(Z.toArray().concat(Q))}};return P},By=e=>{const s=[So("onEscape"),So("onEnter"),Rt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Rt("firstTabstop",0),Rt("useTabstopAt",Ye),So("visibilitySelector")].concat([e]),i=(yt,kt)=>{const Ct=yt.visibilitySelector.bind(ne=>td(kt,ne)).getOr(kt);return fr(Ct)>0},l=(yt,kt)=>{const Ct=Ma(yt.element,kt.selector),ne=oo(Ct,ee=>i(kt,ee));return F.from(ne[kt.firstTabstop])},g=(yt,kt)=>kt.focusManager.get(yt).bind(Ct=>td(Ct,kt.selector)),x=(yt,kt)=>i(yt,kt)&&yt.useTabstopAt(kt),w=(yt,kt,Ct)=>{l(yt,kt).each(ne=>{kt.focusManager.set(yt,ne)})},D=(yt,kt,Ct,ne,ee)=>ee(kt,Ct,ae=>x(ne,ae)).fold(()=>ne.cyclic?F.some(!0):F.none(),ae=>(ne.focusManager.set(yt,ae),F.some(!0))),P=(yt,kt,Ct,ne)=>{const ee=Ma(yt.element,Ct.selector);return g(yt,Ct).bind(ae=>_t(ee,sn(No,ae)).bind(te=>D(yt,ee,te,Ct,ne)))},I=(yt,kt,Ct)=>{const ne=Ct.cyclic?UO:gN;return P(yt,kt,Ct,ne)},V=(yt,kt,Ct)=>{const ne=Ct.cyclic?Tm:Cw;return P(yt,kt,Ct,ne)},Z=yt=>ja(yt).bind(tg).exists(kt=>No(kt,yt)),J=(yt,kt,Ct)=>g(yt,Ct).filter(ne=>!Ct.useTabstopAt(ne)).bind(ne=>(Z(ne)?I:V)(yt,kt,Ct)),Q=(yt,kt,Ct)=>Ct.onEnter.bind(ne=>ne(yt,kt)),ot=(yt,kt,Ct)=>Ct.onEscape.bind(ne=>ne(yt,kt)),dt=vt([mo(id([Vg,uo(cf)]),I),mo(uo(cf),V),mo(id([vb,uo(lf)]),Q)]),Pt=vt([mo(uo(Ny),ot),mo(uo(cf),J)]);return Ug(s,ru.init,dt,Pt,()=>F.some(w))};var qO=By(se("cyclic",pn)),u=By(se("cyclic",Ye));const p=(e,s,i)=>(Np(e,i,ka()),F.some(!0)),S=(e,s,i)=>rf(i)&&uo(yc)(s.event)?F.none():p(e,s,i),k=(e,s)=>F.some(!0),N=[Rt("execute",S),Rt("useSpace",!1),Rt("useEnter",!0),Rt("useControlEnter",!1),Rt("useDown",!1)],H=(e,s,i)=>i.execute(e,s,e.element),K=(e,s,i,l)=>{const g=i.useSpace&&!rf(e.element)?yc:[],x=i.useEnter?lf:[],w=i.useDown?dv:[],D=g.concat(x).concat(w);return[mo(uo(D),H)].concat(i.useControlEnter?[mo(id([jO,uo(lf)]),H)]:[])},et=(e,s,i,l)=>i.useSpace&&!rf(e.element)?[mo(uo(yc),k)]:[];var it=Ug(N,ru.init,K,et,()=>F.none());const mt=()=>{const e=ds();return gc({readState:()=>e.get().map(g=>({numRows:String(g.numRows),numColumns:String(g.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(g,x)=>{e.set({numRows:g,numColumns:x})},getNumRows:()=>e.get().map(g=>g.numRows),getNumColumns:()=>e.get().map(g=>g.numColumns)})};var ue=Object.freeze({__proto__:null,flatgrid:mt,init:e=>e.state(e)});const Te=e=>(s,i,l,g)=>{const x=e(s.element);return ce(x,s,i,l,g)},xe=(e,s)=>{const i=L1(e,s);return Te(i)},me=(e,s)=>{const i=L1(s,e);return Te(i)},Fe=e=>(s,i,l,g)=>ce(e,s,i,l,g),ce=(e,s,i,l,g)=>l.focusManager.get(s).bind(w=>e(s.element,w,l,g)).map(w=>(l.focusManager.set(s,w),!0)),be=Fe,dn=Fe,yn=Fe,To=e=>e.offsetWidth<=0&&e.offsetHeight<=0,Rs=e=>!To(e.dom),Ls=(e,s)=>_t(e,s).map(i=>({index:i,candidates:e})),Gi=(e,s,i)=>{const l=w=>No(w,s),g=Ma(e,i),x=oo(g,Rs);return Ls(x,l)},Ol=(e,s)=>_t(e,i=>No(s,i)),Am=(e,s,i,l)=>{const g=Math.floor(s/i),x=s%i;return l(g,x).bind(w=>{const D=w.row*i+w.column;return D>=0&&D<e.length?F.some(e[D]):F.none()})},jg=(e,s,i,l,g)=>Am(e,s,l,(x,w)=>{const P=x===i-1?e.length-x*l:l,I=k1(w,g,0,P-1);return F.some({row:x,column:I})}),Iy=(e,s,i,l,g)=>Am(e,s,l,(x,w)=>{const D=k1(x,g,0,i-1),I=D===i-1?e.length-D*l:l,V=Js(w,0,I-1);return F.some({row:D,column:V})}),ns=(e,s,i,l)=>jg(e,s,i,l,1),Na=(e,s,i,l)=>jg(e,s,i,l,-1),fa=(e,s,i,l)=>Iy(e,s,i,l,-1),bu=(e,s,i,l)=>Iy(e,s,i,l,1),Dl=[oe("selector"),Rt("execute",S),Ra("onEscape"),Rt("captureTab",!1),bx()],Zg=(e,s,i)=>{Es(e.element,s.selector).each(l=>{s.focusManager.set(e,l)})},ha=(e,s)=>s.focusManager.get(e).bind(i=>td(i,s.selector)),Sw=(e,s,i,l)=>ha(e,i).bind(g=>i.execute(e,s,g)),bh=e=>(s,i,l,g)=>Gi(s,i,l.selector).bind(x=>e(x.candidates,x.index,g.getNumRows().getOr(l.initSize.numRows),g.getNumColumns().getOr(l.initSize.numColumns))),ad=(e,s,i)=>i.captureTab?F.some(!0):F.none(),_i=(e,s,i)=>i.onEscape(e,s),Ew=bh(Na),Tw=bh(ns),gE=bh(fa),KO=bh(bu),YO=vt([mo(uo(bb),xe(Ew,Tw)),mo(uo(Ly),me(Ew,Tw)),mo(uo(uv),be(gE)),mo(uo(dv),dn(KO)),mo(id([Vg,uo(cf)]),ad),mo(id([vb,uo(cf)]),ad),mo(uo(yc.concat(lf)),Sw)]),Aw=vt([mo(uo(Ny),_i),mo(uo(yc),k)]);var XO=Ug(Dl,mt,YO,Aw,()=>F.some(Zg));const _b=(e,s,i,l,g)=>{const x=D=>xa(D)==="button"&&$s(D,"disabled")==="disabled",w=(D,P,I)=>g(D,P,l,0,I.length-1,I[P],V=>x(I[V])?w(D,V,I):F.from(I[V]));return Gi(e,i,s).bind(D=>{const P=D.index,I=D.candidates;return w(P,P,I)})},$y=(e,s,i,l)=>_b(e,s,i,l,(g,x,w,D,P,I,V)=>{const Z=Js(x+w,D,P);return Z===g?F.from(I):V(Z)}),kw=(e,s,i,l)=>_b(e,s,i,l,(g,x,w,D,P,I,V)=>{const Z=k1(x,w,D,P);return Z===g?F.none():V(Z)}),pN=[oe("selector"),Rt("getInitial",F.none),Rt("execute",S),Ra("onEscape"),Rt("executeOnMove",!1),Rt("allowVertical",!0),Rt("allowHorizontal",!0),Rt("cycles",!0)],JO=(e,s)=>s.focusManager.get(e).bind(i=>td(i,s.selector)),QO=(e,s,i)=>JO(e,i).bind(l=>i.execute(e,s,l)),bN=(e,s,i)=>{s.getInitial(e).orThunk(()=>Es(e.element,s.selector)).each(l=>{s.focusManager.set(e,l)})},vN=(e,s,i)=>(i.cycles?kw:$y)(e,i.selector,s,-1),tD=(e,s,i)=>(i.cycles?kw:$y)(e,i.selector,s,1),eD=e=>(s,i,l,g)=>e(s,i,l,g).bind(()=>l.executeOnMove?QO(s,i,l):F.some(!0)),s7=(e,s,i)=>i.onEscape(e,s),r7=(e,s,i,l)=>{const g=[...i.allowHorizontal?bb:[]].concat(i.allowVertical?uv:[]),x=[...i.allowHorizontal?Ly:[]].concat(i.allowVertical?dv:[]);return[mo(uo(g),eD(xe(vN,tD))),mo(uo(x),eD(me(vN,tD))),mo(uo(lf),QO),mo(uo(yc),QO)]},i7=vt([mo(uo(yc),k),mo(uo(Ny),s7)]);var a7=Ug(pN,ru.init,r7,i7,()=>F.some(bN));const pE=(e,s,i)=>F.from(e[s]).bind(l=>F.from(l[i]).map(g=>({rowIndex:s,columnIndex:i,cell:g}))),yN=(e,s,i,l)=>{const x=e[s].length,w=k1(i,l,0,x-1);return pE(e,s,w)},Ow=(e,s,i,l)=>{const g=k1(i,l,0,e.length-1),x=e[g].length,w=Js(s,0,x-1);return pE(e,g,w)},bE=(e,s,i,l)=>{const x=e[s].length,w=Js(i+l,0,x-1);return pE(e,s,w)},_N=(e,s,i,l)=>{const g=Js(i+l,0,e.length-1),x=e[g].length,w=Js(s,0,x-1);return pE(e,g,w)},uX=(e,s,i)=>yN(e,s,i,1),xN=(e,s,i)=>yN(e,s,i,-1),c7=(e,s,i)=>Ow(e,i,s,-1),l7=(e,s,i)=>Ow(e,i,s,1),cd=(e,s,i)=>bE(e,s,i,-1),u7=(e,s,i)=>bE(e,s,i,1),d7=(e,s,i)=>_N(e,i,s,-1),f7=(e,s,i)=>_N(e,i,s,1),h7=[Pc("selectors",[oe("row"),oe("cell")]),Rt("cycles",!0),Rt("previousSelector",F.none),Rt("execute",S)],m7=(e,s,i)=>{s.previousSelector(e).orThunk(()=>{const g=s.selectors;return Es(e.element,g.cell)}).each(g=>{s.focusManager.set(e,g)})},Fy=(e,s,i)=>bi(e.element).bind(l=>i.execute(e,s,l)),nD=(e,s)=>Gt(e,i=>Ma(i,s.selectors.cell)),vE=(e,s)=>(i,l,g)=>{const x=g.cycles?e:s;return td(l,g.selectors.row).bind(w=>{const D=Ma(w,g.selectors.cell);return Ol(D,l).bind(P=>{const I=Ma(i,g.selectors.row);return Ol(I,w).bind(V=>{const Z=nD(I,g);return x(Z,V,P).map(J=>J.cell)})})})},yE=vE(xN,cd),Dw=vE(uX,u7),oD=vE(c7,d7),g7=vE(l7,f7),p7=vt([mo(uo(bb),xe(yE,Dw)),mo(uo(Ly),me(yE,Dw)),mo(uo(uv),be(oD)),mo(uo(dv),dn(g7)),mo(uo(yc.concat(lf)),Fy)]),b7=vt([mo(uo(yc),k)]);var v7=Ug(h7,ru.init,p7,b7,()=>F.some(m7));const y7=[oe("selector"),Rt("execute",S),Rt("moveOnTab",!1)],wN=(e,s,i)=>i.focusManager.get(e).bind(l=>i.execute(e,s,l)),CN=(e,s,i)=>{Es(e.element,s.selector).each(l=>{s.focusManager.set(e,l)})},_E=(e,s,i)=>kw(e,i.selector,s,-1),SN=(e,s,i)=>kw(e,i.selector,s,1),_7=(e,s,i,l)=>i.moveOnTab?yn(_E)(e,s,i,l):F.none(),x7=(e,s,i,l)=>i.moveOnTab?yn(SN)(e,s,i,l):F.none(),w7=vt([mo(uo(uv),yn(_E)),mo(uo(dv),yn(SN)),mo(id([Vg,uo(cf)]),_7),mo(id([vb,uo(cf)]),x7),mo(uo(lf),wN),mo(uo(yc),wN)]),fv=vt([mo(uo(yc),k)]);var EN=Ug(y7,ru.init,w7,fv,()=>F.some(CN));const C7=[Ra("onSpace"),Ra("onEnter"),Ra("onShiftEnter"),Ra("onLeft"),Ra("onRight"),Ra("onTab"),Ra("onShiftTab"),Ra("onUp"),Ra("onDown"),Ra("onEscape"),Rt("stopSpaceKeyup",!1),So("focusIn")],sD=(e,s,i)=>[mo(uo(yc),i.onSpace),mo(id([vb,uo(lf)]),i.onEnter),mo(id([Vg,uo(lf)]),i.onShiftEnter),mo(id([Vg,uo(cf)]),i.onShiftTab),mo(id([vb,uo(cf)]),i.onTab),mo(uo(uv),i.onUp),mo(uo(dv),i.onDown),mo(uo(bb),i.onLeft),mo(uo(Ly),i.onRight),mo(uo(yc),i.onSpace)],S7=(e,s,i)=>[...i.stopSpaceKeyup?[mo(uo(yc),k)]:[],mo(uo(Ny),i.onEscape)];var TN=Ug(C7,ru.init,sD,S7,e=>e.focusIn);const AN=qO.schema(),kN=u.schema(),ON=a7.schema(),DN=XO.schema(),E7=v7.schema(),T7=it.schema(),A7=EN.schema(),rD=TN.schema();var k7=Object.freeze({__proto__:null,acyclic:AN,cyclic:kN,flow:ON,flatgrid:DN,matrix:E7,execution:T7,menu:A7,special:rD});const xE=e=>Wr(e,"setGridSize"),fn=Tx({branchKey:"mode",branches:k7,name:"keying",active:{events:(e,s)=>e.handler.toEvents(e,s)},apis:{focusIn:(e,s,i)=>{s.sendFocusIn(s).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},l=>{l(e,s,i)})},setGridSize:(e,s,i,l,g)=>{xE(i)?i.setGridSize(l,g):console.error("Layout does not support setGridSize")}},state:ue}),iD=(e,s)=>{Y0(()=>{bO(e,s,()=>Gt(s,e.getSystem().build))},e.element)},tc=(e,s)=>{Y0(()=>{Sl(e,s,()=>kr(e.element,s,e.getSystem().buildOrPatch))},e.element)},O7=(e,s,i,l)=>{Z1(s);const g=Gr(e.element,i,l,e.getSystem().buildOrPatch);j2(e,g),e.syncComponents()},wE=(e,s,i)=>{const l=e.getSystem().build(i);q1(e,l,s)},RN=(e,s,i,l)=>{ef(s),wE(e,(g,x)=>mi(g,x,i),l)},D7=(e,s,i,l)=>(s.reuseDom?tc:iD)(e,l),MN=(e,s,i,l)=>{wE(e,qa,l)},PN=(e,s,i,l)=>{wE(e,bp,l)},R7=(e,s,i,l)=>{const g=CE(e);Mt(g,w=>No(l.element,w.element)).each(ef)},CE=(e,s)=>e.components(),NN=(e,s,i,l,g)=>{const x=CE(e);return F.from(x[l]).map(w=>(g.fold(()=>ef(w),D=>{(s.reuseDom?O7:RN)(e,w,l,D)}),w))};var LN=Object.freeze({__proto__:null,append:MN,prepend:PN,remove:R7,replaceAt:NN,replaceBy:(e,s,i,l,g)=>{const x=CE(e);return _t(x,l).bind(w=>NN(e,s,i,w,g))},set:D7,contents:CE});const Bn=ui({fields:[ii("reuseDom",!0)],name:"replacing",apis:LN}),M7=(e,s)=>{const i=jo(s);return ui({fields:[oe("enabled")],name:e,active:{events:vt(i)}})},Fn=(e,s)=>{const i=M7(e,s);return{key:e,value:{config:{},me:i,configAsRaw:vt({}),initialConfig:{},state:ru}}},aD=(e,s)=>{s.ignore||(wl(e.element),s.onFocus(e))};var N7=Object.freeze({__proto__:null,focus:aD,blur:(e,s)=>{s.ignore||K0(e.element)},isFocused:e=>Qp(e.element)}),BN=Object.freeze({__proto__:null,exhibit:(e,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return Ar(i)},events:e=>jo([Xt(Jl(),(s,i)=>{aD(s,e),i.stop()})].concat(e.stopMousedown?[Xt(ia(),(s,i)=>{i.event.prevent()})]:[]))}),IN=[po("onFocus"),Rt("stopMousedown",!1),Rt("ignore",!1)];const gn=ui({fields:IN,name:"focusing",active:BN,apis:N7}),$N=e=>({init:()=>{const i=an(e);return{get:()=>i.get(),set:D=>i.set(D),clear:()=>i.set(e),readState:()=>i.get()}}}),FN=(e,s,i)=>{const l=s.aria;l.update(e,l,i.get())},cD=(e,s,i)=>{s.toggleClass.each(l=>{i.get()?ut(e.element,l):Ot(e.element,l)})},Rw=(e,s,i,l)=>{const g=i.get();i.set(l),cD(e,s,i),FN(e,s,i),g!==l&&s.onToggled(e,l)},HN=(e,s,i)=>{Rw(e,s,i,!i.get())},L7=(e,s,i)=>{Rw(e,s,i,!0)},B7=(e,s,i)=>{Rw(e,s,i,!1)},VN=(e,s,i)=>i.get(),SE=(e,s,i)=>{Rw(e,s,i,s.selected)};var lD=Object.freeze({__proto__:null,onLoad:SE,toggle:HN,isOn:VN,on:L7,off:B7,set:Rw}),zN=Object.freeze({__proto__:null,exhibit:()=>Ar({}),events:(e,s)=>{const i=XS(e,s,HN),l=Cx(e,s,SE);return jo(Ht([e.toggleOnExecute?[i]:[],[l]]))}});const WN=(e,s,i)=>{Ee(e.element,"aria-pressed",i),s.syncWithExpanded&&Hy(e,s,i)},I7=(e,s,i)=>{Ee(e.element,"aria-selected",i)},$7=(e,s,i)=>{Ee(e.element,"aria-checked",i)},Hy=(e,s,i)=>{Ee(e.element,"aria-expanded",i)};var Mw=[Rt("selected",!1),So("toggleClass"),Rt("toggleOnExecute",!0),po("onToggled"),fc("aria",{mode:"none"},or("mode",{pressed:[Rt("syncWithExpanded",!1),Ts("update",WN)],checked:[Ts("update",$7)],expanded:[Ts("update",Hy)],selected:[Ts("update",I7)],none:[Ts("update",ft)]}))];const Zn=ui({fields:Mw,name:"toggling",active:zN,apis:lD,state:$N(!1)}),uD=()=>{const e=(s,i)=>{i.stop(),tu(s)};return[Xt(Gu(),e),Xt(Bi(),e),Vc(dl()),Vc(ia())]},vh=e=>{const s=i=>Oa((l,g)=>{i(l),g.stop()});return jo(Ht([e.map(s).toArray(),uD()]))},Gg="alloy.item-hover",UN="alloy.item-focus",jN="alloy.item-toggled",dD=e=>{(bi(e.element).isNone()||gn.isFocused(e))&&(gn.isFocused(e)||gn.focus(e),on(e,Gg,{item:e}))},km=e=>{on(e,UN,{item:e})},fD=(e,s)=>{on(e,jN,{item:e,state:s})},ZN=vt(Gg),GN=vt(UN),qN=vt(jN),KN=e=>e.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),hD=e=>({aria:{mode:"checked"},...Tf(e,(s,i)=>i!=="exclusive"),onToggled:(s,i)=>{$t(e.onToggled)&&e.onToggled(s,i),fD(s,i)}}),YN=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:KN(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Zc.augment(e.itemBehaviours,[e.toggling.fold(Zn.revoke,s=>Zn.config(hD(s))),gn.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:s=>{km(s)}}),fn.config({mode:"execution"}),Ie.config({store:{mode:"memory",initialValue:e.data}}),Fn("item-type-events",[...uD(),Xt(Xl(),dD),Xt(Kf(),gn.focus)])]),components:e.components,eventOrder:e.eventOrder}),F7=[oe("data"),oe("components"),oe("dom"),Rt("hasSubmenu",!1),So("toggling"),Zc.field("itemBehaviours",[Zn,gn,fn,Ie]),Rt("ignoreFocus",!1),Rt("domModification",{}),Ts("builder",YN),Rt("eventOrder",{})],H7=e=>({dom:e.dom,components:e.components,events:jo([b1(Kf())])}),V7=[oe("dom"),oe("components"),Ts("builder",H7)],Vy=vt("item-widget"),Pw=vt([Uo({name:"widget",overrides:e=>({behaviours:pe([Ie.config({store:{mode:"manual",getValue:s=>e.data,setValue:ft}})])})})]),mD=e=>{const s=dw(Vy(),e,Pw()),i=fw(Vy(),e,s.internals()),l=x=>Go(x,e,"widget").map(w=>(fn.focusIn(w),w)),g=(x,w)=>rf(w.event.target)?F.none():(()=>(e.autofocus&&w.setSource(x.element),F.none()))();return{dom:e.dom,components:i,domModification:e.domModification,events:jo([Oa((x,w)=>{l(x).each(D=>{w.stop()})}),Xt(Xl(),dD),Xt(Kf(),(x,w)=>{e.autofocus?l(x):gn.focus(x)})]),behaviours:Zc.augment(e.widgetBehaviours,[Ie.config({store:{mode:"memory",initialValue:e.data}}),gn.config({ignore:e.ignoreFocus,onFocus:x=>{km(x)}}),fn.config({mode:"special",focusIn:e.autofocus?x=>{l(x)}:ca(),onLeft:g,onRight:g,onEscape:(x,w)=>!gn.isFocused(x)&&!e.autofocus?(gn.focus(x),F.some(!0)):(e.autofocus&&w.setSource(x.element),F.none())})])}},z7=[oe("uid"),oe("data"),oe("components"),oe("dom"),Rt("autofocus",!1),Rt("ignoreFocus",!1),Zc.field("widgetBehaviours",[Ie,gn,fn]),Rt("domModification",{}),Em(Pw()),Ts("builder",mD)],W7=or("type",{widget:z7,item:F7,separator:V7}),XN=(e,s)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:e.focusManager}),JN=(e,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+e.markers.item},previousSelector:s.previousSelector,focusManager:e.focusManager}),QN=(e,s)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:s.moveOnTab,focusManager:e.focusManager}),t3=vt([pu({factory:{sketch:e=>{const s=Tr("menu.spec item",W7,e);return s.builder(s)}},name:"items",unit:"item",defaults:(e,s)=>ho(s,"uid")?s:{...s,uid:Ju("item")},overrides:(e,s)=>({type:s.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),U7=vt([oe("value"),oe("items"),oe("dom"),oe("components"),Rt("eventOrder",{}),qr("menuBehaviours",[Ro,Ie,lo,fn]),fc("movement",{mode:"menu",moveOnTab:!0},or("mode",{grid:[bx(),Ts("config",XN)],matrix:[Ts("config",JN),oe("rowSelector"),Rt("previousSelector",F.none)],menu:[Rt("moveOnTab",!0),Ts("config",QN)]})),bm(),Rt("fakeFocus",!1),Rt("focusManager",yb()),po("onHighlight"),po("onDehighlight")]),EE=vt("alloy.menu-focus"),j7=(e,s)=>{const i=Ma(e.element,'[role="menuitemradio"][aria-checked="true"]');Ae(i,l=>{No(l,s.element)||e.getSystem().getByDom(l).each(g=>{Zn.off(g)})})},Z7=(e,s,i,l)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Kr(e.menuBehaviours,[Ro.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Ie.config({store:{mode:"memory",initialValue:e.value}}),lo.config({find:F.some}),fn.config(e.movement.config(e,e.movement))]),events:jo([Xt(GN(),(g,x)=>{const w=x.event;g.getSystem().getByDom(w.target).each(D=>{Ro.highlight(g,D),x.stop(),on(g,EE(),{menu:g,item:D})})}),Xt(ZN(),(g,x)=>{const w=x.event.item;Ro.highlight(g,w)}),Xt(qN(),(g,x)=>{const{item:w,state:D}=x.event;D&&$s(w.element,"role")==="menuitemradio"&&j7(g,w)})]),components:s,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}),mv=Zi({name:"Menu",configFields:U7(),partFields:t3(),factory:Z7}),G7=e=>ys(e,(s,i)=>({k:s,v:i})),gD=(e,s,i,l)=>Me(i,l).bind(g=>Me(e,g).bind(x=>{const w=gD(e,s,i,x);return F.some([x].concat(w))})).getOr([]),q7=(e,s)=>{const i={};Oo(e,(w,D)=>{Ae(w,P=>{i[P]=D})});const l=s,g=G7(s),x=Co(g,(w,D)=>[D].concat(gD(i,l,g,D)));return Co(i,w=>Me(x,w).getOr([w]))},K7=()=>{const e=an({}),s=an({}),i=an({}),l=ds(),g=an({}),x=()=>{e.set({}),s.set({}),i.set({}),l.clear()},w=()=>l.get().isNone(),D=(ee,ae)=>{s.set({...s.get(),[ee]:{type:"prepared",menu:ae}})},P=(ee,ae,we,te)=>{l.set(ee),e.set(we),s.set(ae),g.set(te);const An=q7(te,we);i.set(An)},I=ee=>zr(e.get(),(ae,we)=>ae===ee),V=(ee,ae,we)=>dt(ee).bind(te=>I(ee).bind(An=>ae(An).map(qe=>({triggeredMenu:te,triggeringItem:qe,triggeringPath:we})))),Z=(ee,ae)=>{const we=oo(yt(ee).toArray(),te=>dt(te).isSome());return Me(i.get(),ee).bind(te=>{const An=kn(we.concat(te)),qe=wt(An,(vn,rn)=>V(vn,ae,An.slice(0,rn+1)).fold(()=>va(l.get(),vn)?[]:[F.none()],Ao=>[F.some(Ao)]));return Os(qe)})},J=ee=>Me(e.get(),ee).map(ae=>{const we=Me(i.get(),ee).getOr([]);return[ae].concat(we)}),Q=ee=>Me(i.get(),ee).bind(ae=>ae.length>1?F.some(ae.slice(1)):F.none()),ot=ee=>Me(i.get(),ee),dt=ee=>Pt(ee).bind(pD),Pt=ee=>Me(s.get(),ee),yt=ee=>Me(e.get(),ee);return{setMenuBuilt:D,setContents:P,expand:J,refresh:ot,collapse:Q,lookupMenu:Pt,lookupItem:yt,otherMenus:ee=>{const ae=g.get();return Se(Qo(ae),ee)},getPrimary:()=>l.get().bind(dt),getMenus:()=>s.get(),clear:x,isClear:w,getTriggeringPath:Z}},pD=e=>e.type==="prepared"?F.some(e.menu):F.none(),zy={init:K7,extractPreparedMenu:pD},e3=Ue("tiered-menu-item-highlight"),Wy=Ue("tiered-menu-item-dehighlight");var La;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(La||(La={}));const n3=(e,s)=>{const i=ds(),l=(ve,Ke,In)=>Co(In,(xn,cn)=>{const Mn=()=>mv.sketch({...xn,value:cn,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(Jo,Mo)=>{on(Jo,e3,{menuComp:Jo,itemComp:Mo})},onDehighlight:(Jo,Mo)=>{on(Jo,Wy,{menuComp:Jo,itemComp:Mo})},focusManager:e.fakeFocus?GO():yb()});return cn===Ke?{type:"prepared",menu:ve.getSystem().build(Mn())}:{type:"notbuilt",nbMenu:Mn}}),g=zy.init(),x=ve=>{const Ke=l(ve,e.data.primary,e.data.menus),In=P();return g.setContents(e.data.primary,Ke,e.data.expansions,In),g.getPrimary()},w=ve=>Ie.getValue(ve).value,D=(ve,Ke,In)=>vs(Ke,xn=>{if(!xn.getSystem().isConnected())return F.none();const cn=Ro.getCandidates(xn);return Mt(cn,Mn=>w(Mn)===In)}),P=ve=>Co(e.data.menus,(Ke,In)=>wt(Ke.items,xn=>xn.type==="separator"?[]:[xn.data.value])),I=Ro.highlight,V=(ve,Ke)=>{I(ve,Ke),Ro.getHighlighted(Ke).orThunk(()=>Ro.getFirst(Ke)).each(In=>{e.fakeFocus?Ro.highlight(Ke,In):Np(ve,In.element,Kf())})},Z=(ve,Ke)=>ku(Gt(Ke,In=>ve.lookupMenu(In).bind(xn=>xn.type==="prepared"?F.some(xn.menu):F.none()))),J=(ve,Ke,In)=>{const xn=Z(Ke,Ke.otherMenus(In));Ae(xn,cn=>{De(cn.element,[e.markers.backgroundMenu]),e.stayInDom||Bn.remove(ve,cn)})},Q=ve=>i.get().getOrThunk(()=>{const Ke={},In=Ma(ve.element,`.${e.markers.item}`),xn=oo(In,cn=>$s(cn,"aria-haspopup")==="true");return Ae(xn,cn=>{ve.getSystem().getByDom(cn).each(Mn=>{const Jo=w(Mn);Ke[Jo]=Mn})}),i.set(Ke),Ke}),ot=(ve,Ke)=>{const In=Q(ve);Oo(In,(xn,cn)=>{const Mn=go(Ke,cn);Ee(xn.element,"aria-expanded",Mn)})},dt=(ve,Ke,In)=>F.from(In[0]).bind(xn=>Ke.lookupMenu(xn).bind(cn=>{if(cn.type==="notbuilt")return F.none();{const Mn=cn.menu,Jo=Z(Ke,In.slice(1));return Ae(Jo,Mo=>{ut(Mo.element,e.markers.backgroundMenu)}),Ur(Mn.element)||Bn.append(ve,yl(Mn)),De(Mn.element,[e.markers.backgroundMenu]),V(ve,Mn),J(ve,Ke,In),F.some(Mn)}}));let Pt;(function(ve){ve[ve.HighlightSubmenu=0]="HighlightSubmenu",ve[ve.HighlightParent=1]="HighlightParent"})(Pt||(Pt={}));const yt=(ve,Ke,In)=>{if(In.type==="notbuilt"){const xn=ve.getSystem().build(In.nbMenu());return g.setMenuBuilt(Ke,xn),xn}else return In.menu},kt=(ve,Ke,In=Pt.HighlightSubmenu)=>{if(Ke.hasConfigured(En)&&En.isDisabled(Ke))return F.some(Ke);{const xn=w(Ke);return g.expand(xn).bind(cn=>(ot(ve,cn),F.from(cn[0]).bind(Mn=>g.lookupMenu(Mn).bind(Jo=>{const Mo=yt(ve,Mn,Jo);return Ur(Mo.element)||Bn.append(ve,yl(Mo)),e.onOpenSubmenu(ve,Ke,Mo,kn(cn)),In===Pt.HighlightSubmenu?(Ro.highlightFirst(Mo),dt(ve,g,cn)):(Ro.dehighlightAll(Mo),F.some(Ke))}))))}},Ct=(ve,Ke)=>{const In=w(Ke);return g.collapse(In).bind(xn=>(ot(ve,xn),dt(ve,g,xn).map(cn=>(e.onCollapseMenu(ve,Ke,cn),cn))))},ne=(ve,Ke)=>{const In=w(Ke);return g.refresh(In).bind(xn=>(ot(ve,xn),dt(ve,g,xn)))},ee=(ve,Ke)=>rf(Ke.element)?F.none():kt(ve,Ke,Pt.HighlightSubmenu),ae=(ve,Ke)=>rf(Ke.element)?F.none():Ct(ve,Ke),we=(ve,Ke)=>Ct(ve,Ke).orThunk(()=>e.onEscape(ve,Ke).map(()=>ve)),te=ve=>(Ke,In)=>td(In.getSource(),`.${e.markers.item}`).bind(xn=>Ke.getSystem().getByDom(xn).toOptional().bind(cn=>ve(Ke,cn).map(Ye))),An=jo([Xt(EE(),(ve,Ke)=>{const In=Ke.event.item;g.lookupItem(w(In)).each(()=>{const xn=Ke.event.menu;Ro.highlight(ve,xn);const cn=w(Ke.event.item);g.refresh(cn).each(Mn=>J(ve,g,Mn))})}),Oa((ve,Ke)=>{const In=Ke.event.target;ve.getSystem().getByDom(In).each(xn=>{w(xn).indexOf("collapse-item")===0&&Ct(ve,xn),kt(ve,xn,Pt.HighlightSubmenu).fold(()=>{e.onExecute(ve,xn)},ft)})}),ps((ve,Ke)=>{x(ve).each(In=>{Bn.append(ve,yl(In)),e.onOpenMenu(ve,In),e.highlightOnOpen===La.HighlightMenuAndItem?V(ve,In):e.highlightOnOpen===La.HighlightJustMenu&&I(ve,In)})}),Xt(e3,(ve,Ke)=>{e.onHighlightItem(ve,Ke.event.menuComp,Ke.event.itemComp)}),Xt(Wy,(ve,Ke)=>{e.onDehighlightItem(ve,Ke.event.menuComp,Ke.event.itemComp)}),...e.navigateOnHover?[Xt(ZN(),(ve,Ke)=>{const In=Ke.event.item;ne(ve,In),kt(ve,In,Pt.HighlightParent),e.onHover(ve,In)})]:[]]),qe=ve=>Ro.getHighlighted(ve).bind(Ro.getHighlighted),vn=ve=>{qe(ve).each(Ke=>{Ct(ve,Ke)})},rn=ve=>{g.getPrimary().each(Ke=>{V(ve,Ke)})},Ao=ve=>F.from(ve.components()[0]).filter(Ke=>$s(Ke.element,"role")==="menu"),Jn={collapseMenu:vn,highlightPrimary:rn,repositionMenus:ve=>{g.getPrimary().bind(In=>qe(ve).bind(xn=>{const cn=w(xn),Mn=Il(g.getMenus()),Jo=ku(Gt(Mn,zy.extractPreparedMenu));return g.getTriggeringPath(cn,Mo=>D(ve,Jo,Mo))}).map(xn=>({primary:In,triggeringPath:xn}))).fold(()=>{Ao(ve).each(In=>{e.onRepositionMenu(ve,In,[])})},({primary:In,triggeringPath:xn})=>{e.onRepositionMenu(ve,In,xn)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Kr(e.tmenuBehaviours,[fn.config({mode:"special",onRight:te(ee),onLeft:te(ae),onEscape:te(we),focusIn:(ve,Ke)=>{g.getPrimary().each(In=>{Np(ve,In.element,Kf())})}}),Ro.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),lo.config({find:ve=>Ro.getHighlighted(ve)}),Bn.config({})]),eventOrder:e.eventOrder,apis:Jn,events:An}},o3=vt("collapse-item"),Y7=(e,s,i)=>({primary:e,menus:s,expansions:i}),X7=(e,s)=>({primary:e,menus:Lc(e,s),expansions:{}}),s3=e=>({value:Ue(o3()),meta:{text:e}}),gv=Ir({name:"TieredMenu",configFields:[gx("onExecute"),gx("onEscape"),Tg("onOpenMenu"),Tg("onOpenSubmenu"),po("onRepositionMenu"),po("onCollapseMenu"),Rt("highlightOnOpen",La.HighlightMenuAndItem),Pc("data",[oe("primary"),oe("menus"),oe("expansions")]),Rt("fakeFocus",!1),po("onHighlightItem"),po("onDehighlightItem"),po("onHover"),mx(),oe("dom"),Rt("navigateOnHover",!0),Rt("stayInDom",!1),qr("tmenuBehaviours",[fn,Ro,lo,Bn]),Rt("eventOrder",{})],apis:{collapseMenu:(e,s)=>{e.collapseMenu(s)},highlightPrimary:(e,s)=>{e.highlightPrimary(s)},repositionMenus:(e,s)=>{e.repositionMenus(s)}},factory:n3,extraApis:{tieredData:Y7,singleData:X7,collapseItem:s3}}),r3=(e,s,i,l,g)=>{const x=()=>e.lazySink(s),w=l.type==="horizontal"?{layouts:{onLtr:()=>M1(),onRtl:()=>G0()}}:{},D=I=>I.length===2,P=I=>D(I)?w:{};return gv.sketch({dom:{tag:"div"},data:l.data,markers:l.menu.markers,highlightOnOpen:l.menu.highlightOnOpen,fakeFocus:l.menu.fakeFocus,onEscape:()=>(Yn.close(s),e.onEscape.map(I=>I(s)),F.some(!0)),onExecute:()=>F.some(!0),onOpenMenu:(I,V)=>{vi.positionWithinBounds(x().getOrDie(),V,i,g())},onOpenSubmenu:(I,V,Z,J)=>{const Q=x().getOrDie();vi.position(Q,Z,{anchor:{type:"submenu",item:V,...P(J)}})},onRepositionMenu:(I,V,Z)=>{const J=x().getOrDie();vi.positionWithinBounds(J,V,i,g()),Ae(Z,Q=>{const ot=P(Q.triggeringPath);vi.position(J,Q.triggeredMenu,{anchor:{type:"submenu",item:Q.triggeringItem,...ot}})})}})},J7=(e,s)=>{const i=(J,Q)=>e.getRelated(J).exists(dt=>pm(dt,Q)),l=(J,Q)=>{Yn.setContent(J,Q)},g=(J,Q,ot)=>{const dt=F.none;x(J,Q,ot,dt)},x=(J,Q,ot,dt)=>{const Pt=e.lazySink(J).getOrDie();Yn.openWhileCloaked(J,Q,()=>vi.positionWithinBounds(Pt,J,ot,dt())),Ie.setValue(J,F.some({mode:"position",config:ot,getBounds:dt}))},w=(J,Q,ot)=>{D(J,Q,ot,F.none)},D=(J,Q,ot,dt)=>{const Pt=r3(e,J,Q,ot,dt);Yn.open(J,Pt),Ie.setValue(J,F.some({mode:"menu",menu:Pt}))},P=J=>{Yn.isOpen(J)&&(Ie.setValue(J,F.none()),Yn.close(J))},I=J=>Yn.getState(J),V=J=>{Yn.isOpen(J)&&Ie.getValue(J).each(Q=>{switch(Q.mode){case"menu":Yn.getState(J).each(gv.repositionMenus);break;case"position":const ot=e.lazySink(J).getOrDie();vi.positionWithinBounds(ot,J,Q.config,Q.getBounds());break}})},Z={setContent:l,showAt:g,showWithinBounds:x,showMenuAt:w,showMenuWithinBounds:D,hide:P,getContent:I,reposition:V,isOpen:Yn.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Kr(e.inlineBehaviours,[Yn.config({isPartOf:(J,Q,ot)=>pm(Q,ot)||i(J,ot),getAttachPoint:J=>e.lazySink(J).getOrDie(),onOpen:J=>{e.onShow(J)},onClose:J=>{e.onHide(J)}}),Ie.config({store:{mode:"memory",initialValue:F.none()}}),bc.config({channels:{...Y1({isExtraPart:s.isExtraPart,...e.fireDismissalEventInstead.map(J=>({fireEventInstead:{event:J.event}})).getOr({})}),...gy({...e.fireRepositionEventInstead.map(J=>({fireEventInstead:{event:J.event}})).getOr({}),doReposition:V})}})]),eventOrder:e.eventOrder,apis:Z}},qs=Ir({name:"InlineView",configFields:[oe("lazySink"),po("onShow"),po("onHide"),Ta("onEscape"),qr("inlineBehaviours",[Yn,Ie,bc]),Li("fireDismissalEventInstead",[Rt("event",Ql())]),Li("fireRepositionEventInstead",[Rt("event",Yf())]),Rt("getRelated",F.none),Rt("isExtraPart",pn),Rt("eventOrder",F.none)],factory:J7,apis:{showAt:(e,s,i,l)=>{e.showAt(s,i,l)},showWithinBounds:(e,s,i,l,g)=>{e.showWithinBounds(s,i,l,g)},showMenuAt:(e,s,i,l)=>{e.showMenuAt(s,i,l)},showMenuWithinBounds:(e,s,i,l,g)=>{e.showMenuWithinBounds(s,i,l,g)},hide:(e,s)=>{e.hide(s)},isOpen:(e,s)=>e.isOpen(s),getContent:(e,s)=>e.getContent(s),setContent:(e,s,i)=>{e.setContent(s,i)},reposition:(e,s)=>{e.reposition(s)}}});var Nw=tinymce.util.Tools.resolve("tinymce.util.Delay");const xi=Ir({name:"Button",factory:e=>{const s=vh(e.action),i=e.dom.tag,l=x=>Me(e.dom,"attributes").bind(w=>Me(w,x)),g=()=>{if(i==="button"){const x=l("type").getOr("button"),w=l("role").map(D=>({role:D})).getOr({});return{type:x,...w}}else return{role:e.role.getOr(l("role").getOr("button"))}};return{uid:e.uid,dom:e.dom,components:e.components,events:s,behaviours:Zc.augment(e.buttonBehaviours,[gn.config({}),fn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:g()},eventOrder:e.eventOrder}},configFields:[Rt("uid",void 0),oe("dom"),Rt("components",[]),Zc.field("buttonBehaviours",[gn,fn]),So("action"),So("role"),Rt("eventOrder",{})]}),vD=e=>{const s=e.dom.attributes!==void 0?e.dom.attributes:[];return ie(s,(i,l)=>l.name==="class"?i:{...i,[l.name]:l.value},{})},Q7=e=>Array.prototype.slice.call(e.dom.classList,0),qg=e=>{const s=At.fromHtml(e),i=Sc(s),l=vD(s),g=Q7(s),x=i.length===0?{}:{innerHtml:gl(s)};return{tag:xa(s),classes:g,attributes:l,...x}},Fo=e=>{const s=gw(e)&&Wr(e,"uid")?e.uid:Ju("memento");return{get:x=>x.getSystem().getByUid(s).getOrDie(),getOpt:x=>x.getSystem().getByUid(s).toOptional(),asSpec:()=>({...e,uid:s})}},{entries:i3,setPrototypeOf:yD,isFrozen:a3,getPrototypeOf:t8,getOwnPropertyDescriptor:e8}=Object;let{freeze:Rl,seal:yh,create:n8}=Object,{apply:_D,construct:TE}=typeof Reflect<"u"&&Reflect;_D||(_D=function(s,i,l){return s.apply(i,l)}),Rl||(Rl=function(s){return s}),yh||(yh=function(s){return s}),TE||(TE=function(s,i){return new s(...i)});const o8=Ba(Array.prototype.forEach),s8=Ba(Array.prototype.pop),Lw=Ba(Array.prototype.push),AE=Ba(String.prototype.toLowerCase),xD=Ba(String.prototype.toString),pv=Ba(String.prototype.match),_h=Ba(String.prototype.replace),r8=Ba(String.prototype.indexOf),bv=Ba(String.prototype.trim),vu=Ba(RegExp.prototype.test),Bw=i8(TypeError);function Ba(e){return function(s){for(var i=arguments.length,l=new Array(i>1?i-1:0),g=1;g<i;g++)l[g-1]=arguments[g];return _D(e,s,l)}}function i8(e){return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return TE(e,i)}}function qo(e,s,i){var l;i=(l=i)!==null&&l!==void 0?l:AE,yD&&yD(e,null);let g=s.length;for(;g--;){let x=s[g];if(typeof x=="string"){const w=i(x);w!==x&&(a3(s)||(s[g]=w),x=w)}e[x]=!0}return e}function ec(e){const s=n8(null);for(const[i,l]of i3(e))s[i]=l;return s}function Iw(e,s){for(;e!==null;){const l=e8(e,s);if(l){if(l.get)return Ba(l.get);if(typeof l.value=="function")return Ba(l.value)}e=t8(e)}function i(l){return console.warn("fallback value for",l),null}return i}const wD=Rl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kE=Rl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),CD=Rl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SD=Rl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ED=Rl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),a8=Rl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),c3=Rl(["#text"]),$w=Rl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Fw=Rl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),TD=Rl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Hw=Rl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),l3=yh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),c8=yh(/<%[\w\W]*|[\w\W]*%>/gm),AD=yh(/\${[\w\W]*}/gm),u3=yh(/^data-[\-\w.\u00B7-\uFFFF]/),l8=yh(/^aria-[\-\w]+$/),d3=yh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),u8=yh(/^(?:\w+script|data):/i),kD=yh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),f3=yh(/^html$/i);var Uy=Object.freeze({__proto__:null,MUSTACHE_EXPR:l3,ERB_EXPR:c8,TMPLIT_EXPR:AD,DATA_ATTR:u3,ARIA_ATTR:l8,IS_ALLOWED_URI:d3,IS_SCRIPT_OR_DATA:u8,ATTR_WHITESPACE:kD,DOCTYPE_NAME:f3});const OE=()=>typeof window>"u"?null:window,h3=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let l=null;const g="data-tt-policy-suffix";i&&i.hasAttribute(g)&&(l=i.getAttribute(g));const x="dompurify"+(l?"#"+l:"");try{return s.createPolicy(x,{createHTML(w){return w},createScriptURL(w){return w}})}catch{return console.warn("TrustedTypes policy "+x+" could not be created."),null}};function OD(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OE();const s=io=>OD(io);if(s.version="3.0.5",s.removed=[],!e||!e.document||e.document.nodeType!==9)return s.isSupported=!1,s;const i=e.document,l=i.currentScript;let{document:g}=e;const{DocumentFragment:x,HTMLTemplateElement:w,Node:D,Element:P,NodeFilter:I,NamedNodeMap:V=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Z,DOMParser:J,trustedTypes:Q}=e,ot=P.prototype,dt=Iw(ot,"cloneNode"),Pt=Iw(ot,"nextSibling"),yt=Iw(ot,"childNodes"),kt=Iw(ot,"parentNode");if(typeof w=="function"){const io=g.createElement("template");io.content&&io.content.ownerDocument&&(g=io.content.ownerDocument)}let Ct,ne="";const{implementation:ee,createNodeIterator:ae,createDocumentFragment:we,getElementsByTagName:te}=g,{importNode:An}=i;let qe={};s.isSupported=typeof i3=="function"&&typeof kt=="function"&&ee&&ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:vn,ERB_EXPR:rn,TMPLIT_EXPR:Ao,DATA_ATTR:bo,ARIA_ATTR:Jn,IS_SCRIPT_OR_DATA:ve,ATTR_WHITESPACE:Ke}=Uy;let{IS_ALLOWED_URI:In}=Uy,xn=null;const cn=qo({},[...wD,...kE,...CD,...ED,...c3]);let Mn=null;const Jo=qo({},[...$w,...Fw,...TD,...Hw]);let Mo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),za=null,Tu=null,Nh=!0,ba=!0,Au=!1,wd=!0,Yc=!1,Wm=!1,e0=!1,D4=!1,I_=!1,tk=!1,o6=!1,_J=!0,xJ=!1;const Bnt="user-content-";let lK=!0,R4=!1,ek={},nk=null;const wJ=qo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let CJ=null;const SJ=qo({},["audio","video","img","source","image","track"]);let uK=null;const EJ=qo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),s6="http://www.w3.org/1998/Math/MathML",r6="http://www.w3.org/2000/svg",n0="http://www.w3.org/1999/xhtml";let ok=n0,dK=!1,fK=null;const Int=qo({},[s6,r6,n0],xD);let hS;const $nt=["application/xhtml+xml","text/html"],Fnt="text/html";let Xc,sk=null;const Hnt=g.createElement("form"),TJ=function(Wt){return Wt instanceof RegExp||Wt instanceof Function},hK=function(Wt){if(!(sk&&sk===Wt)){if((!Wt||typeof Wt!="object")&&(Wt={}),Wt=ec(Wt),hS=$nt.indexOf(Wt.PARSER_MEDIA_TYPE)===-1?hS=Fnt:hS=Wt.PARSER_MEDIA_TYPE,Xc=hS==="application/xhtml+xml"?xD:AE,xn="ALLOWED_TAGS"in Wt?qo({},Wt.ALLOWED_TAGS,Xc):cn,Mn="ALLOWED_ATTR"in Wt?qo({},Wt.ALLOWED_ATTR,Xc):Jo,fK="ALLOWED_NAMESPACES"in Wt?qo({},Wt.ALLOWED_NAMESPACES,xD):Int,uK="ADD_URI_SAFE_ATTR"in Wt?qo(ec(EJ),Wt.ADD_URI_SAFE_ATTR,Xc):EJ,CJ="ADD_DATA_URI_TAGS"in Wt?qo(ec(SJ),Wt.ADD_DATA_URI_TAGS,Xc):SJ,nk="FORBID_CONTENTS"in Wt?qo({},Wt.FORBID_CONTENTS,Xc):wJ,za="FORBID_TAGS"in Wt?qo({},Wt.FORBID_TAGS,Xc):{},Tu="FORBID_ATTR"in Wt?qo({},Wt.FORBID_ATTR,Xc):{},ek="USE_PROFILES"in Wt?Wt.USE_PROFILES:!1,Nh=Wt.ALLOW_ARIA_ATTR!==!1,ba=Wt.ALLOW_DATA_ATTR!==!1,Au=Wt.ALLOW_UNKNOWN_PROTOCOLS||!1,wd=Wt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Yc=Wt.SAFE_FOR_TEMPLATES||!1,Wm=Wt.WHOLE_DOCUMENT||!1,I_=Wt.RETURN_DOM||!1,tk=Wt.RETURN_DOM_FRAGMENT||!1,o6=Wt.RETURN_TRUSTED_TYPE||!1,D4=Wt.FORCE_BODY||!1,_J=Wt.SANITIZE_DOM!==!1,xJ=Wt.SANITIZE_NAMED_PROPS||!1,lK=Wt.KEEP_CONTENT!==!1,R4=Wt.IN_PLACE||!1,In=Wt.ALLOWED_URI_REGEXP||d3,ok=Wt.NAMESPACE||n0,Mo=Wt.CUSTOM_ELEMENT_HANDLING||{},Wt.CUSTOM_ELEMENT_HANDLING&&TJ(Wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Mo.tagNameCheck=Wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Wt.CUSTOM_ELEMENT_HANDLING&&TJ(Wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Mo.attributeNameCheck=Wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Wt.CUSTOM_ELEMENT_HANDLING&&typeof Wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Mo.allowCustomizedBuiltInElements=Wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Yc&&(ba=!1),tk&&(I_=!0),ek&&(xn=qo({},[...c3]),Mn=[],ek.html===!0&&(qo(xn,wD),qo(Mn,$w)),ek.svg===!0&&(qo(xn,kE),qo(Mn,Fw),qo(Mn,Hw)),ek.svgFilters===!0&&(qo(xn,CD),qo(Mn,Fw),qo(Mn,Hw)),ek.mathMl===!0&&(qo(xn,ED),qo(Mn,TD),qo(Mn,Hw))),Wt.ADD_TAGS&&(xn===cn&&(xn=ec(xn)),qo(xn,Wt.ADD_TAGS,Xc)),Wt.ADD_ATTR&&(Mn===Jo&&(Mn=ec(Mn)),qo(Mn,Wt.ADD_ATTR,Xc)),Wt.ADD_URI_SAFE_ATTR&&qo(uK,Wt.ADD_URI_SAFE_ATTR,Xc),Wt.FORBID_CONTENTS&&(nk===wJ&&(nk=ec(nk)),qo(nk,Wt.FORBID_CONTENTS,Xc)),lK&&(xn["#text"]=!0),Wm&&qo(xn,["html","head","body"]),xn.table&&(qo(xn,["tbody"]),delete za.tbody),Wt.TRUSTED_TYPES_POLICY){if(typeof Wt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bw('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Wt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bw('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ct=Wt.TRUSTED_TYPES_POLICY,ne=Ct.createHTML("")}else Ct===void 0&&(Ct=h3(Q,l)),Ct!==null&&typeof ne=="string"&&(ne=Ct.createHTML(""));Rl&&Rl(Wt),sk=Wt}},AJ=qo({},["mi","mo","mn","ms","mtext"]),kJ=qo({},["foreignobject","desc","title","annotation-xml"]),Vnt=qo({},["title","style","font","a","script"]),i6=qo({},kE);qo(i6,CD),qo(i6,SD);const mK=qo({},ED);qo(mK,a8);const znt=function(Wt){let en=kt(Wt);(!en||!en.tagName)&&(en={namespaceURI:ok,tagName:"template"});const Rn=AE(Wt.tagName),Vr=AE(en.tagName);return fK[Wt.namespaceURI]?Wt.namespaceURI===r6?en.namespaceURI===n0?Rn==="svg":en.namespaceURI===s6?Rn==="svg"&&(Vr==="annotation-xml"||AJ[Vr]):!!i6[Rn]:Wt.namespaceURI===s6?en.namespaceURI===n0?Rn==="math":en.namespaceURI===r6?Rn==="math"&&kJ[Vr]:!!mK[Rn]:Wt.namespaceURI===n0?en.namespaceURI===r6&&!kJ[Vr]||en.namespaceURI===s6&&!AJ[Vr]?!1:!mK[Rn]&&(Vnt[Rn]||!i6[Rn]):!!(hS==="application/xhtml+xml"&&fK[Wt.namespaceURI]):!1},mS=function(Wt){Lw(s.removed,{element:Wt});try{Wt.parentNode.removeChild(Wt)}catch{Wt.remove()}},M4=function(Wt,en){try{Lw(s.removed,{attribute:en.getAttributeNode(Wt),from:en})}catch{Lw(s.removed,{attribute:null,from:en})}if(en.removeAttribute(Wt),Wt==="is"&&!Mn[Wt])if(I_||tk)try{mS(en)}catch{}else try{en.setAttribute(Wt,"")}catch{}},OJ=function(Wt){let en,Rn;if(D4)Wt="<remove></remove>"+Wt;else{const Um=pv(Wt,/^[\r\n\t ]+/);Rn=Um&&Um[0]}hS==="application/xhtml+xml"&&ok===n0&&(Wt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Wt+"</body></html>");const Vr=Ct?Ct.createHTML(Wt):Wt;if(ok===n0)try{en=new J().parseFromString(Vr,hS)}catch{}if(!en||!en.documentElement){en=ee.createDocument(ok,"template",null);try{en.documentElement.innerHTML=dK?ne:Vr}catch{}}const Jc=en.body||en.documentElement;return Wt&&Rn&&Jc.insertBefore(g.createTextNode(Rn),Jc.childNodes[0]||null),ok===n0?te.call(en,Wm?"html":"body")[0]:Wm?en.documentElement:Jc},DJ=function(Wt){return ae.call(Wt.ownerDocument||Wt,Wt,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT,null,!1)},Wnt=function(Wt){return Wt instanceof Z&&(typeof Wt.nodeName!="string"||typeof Wt.textContent!="string"||typeof Wt.removeChild!="function"||!(Wt.attributes instanceof V)||typeof Wt.removeAttribute!="function"||typeof Wt.setAttribute!="function"||typeof Wt.namespaceURI!="string"||typeof Wt.insertBefore!="function"||typeof Wt.hasChildNodes!="function")},a6=function(Wt){return typeof D=="object"?Wt instanceof D:Wt&&typeof Wt=="object"&&typeof Wt.nodeType=="number"&&typeof Wt.nodeName=="string"},o0=function(Wt,en,Rn){qe[Wt]&&o8(qe[Wt],Vr=>{Vr.call(s,en,Rn,sk)})},RJ=function(Wt){let en;if(o0("beforeSanitizeElements",Wt,null),Wnt(Wt))return mS(Wt),!0;const Rn=Xc(Wt.nodeName);if(o0("uponSanitizeElement",Wt,{tagName:Rn,allowedTags:xn}),Wt.hasChildNodes()&&!a6(Wt.firstElementChild)&&(!a6(Wt.content)||!a6(Wt.content.firstElementChild))&&vu(/<[/\w]/g,Wt.innerHTML)&&vu(/<[/\w]/g,Wt.textContent))return mS(Wt),!0;if(!xn[Rn]||za[Rn]){if(!za[Rn]&&PJ(Rn)&&(Mo.tagNameCheck instanceof RegExp&&vu(Mo.tagNameCheck,Rn)||Mo.tagNameCheck instanceof Function&&Mo.tagNameCheck(Rn)))return!1;if(lK&&!nk[Rn]){const Vr=kt(Wt)||Wt.parentNode,Jc=yt(Wt)||Wt.childNodes;if(Jc&&Vr){const Um=Jc.length;for(let Yi=Um-1;Yi>=0;--Yi)Vr.insertBefore(dt(Jc[Yi],!0),Pt(Wt))}}return mS(Wt),!0}return Wt instanceof P&&!znt(Wt)||(Rn==="noscript"||Rn==="noembed"||Rn==="noframes")&&vu(/<\/no(script|embed|frames)/i,Wt.innerHTML)?(mS(Wt),!0):(Yc&&Wt.nodeType===3&&(en=Wt.textContent,en=_h(en,vn," "),en=_h(en,rn," "),en=_h(en,Ao," "),Wt.textContent!==en&&(Lw(s.removed,{element:Wt.cloneNode()}),Wt.textContent=en)),o0("afterSanitizeElements",Wt,null),!1)},MJ=function(Wt,en,Rn){if(_J&&(en==="id"||en==="name")&&(Rn in g||Rn in Hnt))return!1;if(!(ba&&!Tu[en]&&vu(bo,en))){if(!(Nh&&vu(Jn,en))){if(!Mn[en]||Tu[en]){if(!(PJ(Wt)&&(Mo.tagNameCheck instanceof RegExp&&vu(Mo.tagNameCheck,Wt)||Mo.tagNameCheck instanceof Function&&Mo.tagNameCheck(Wt))&&(Mo.attributeNameCheck instanceof RegExp&&vu(Mo.attributeNameCheck,en)||Mo.attributeNameCheck instanceof Function&&Mo.attributeNameCheck(en))||en==="is"&&Mo.allowCustomizedBuiltInElements&&(Mo.tagNameCheck instanceof RegExp&&vu(Mo.tagNameCheck,Rn)||Mo.tagNameCheck instanceof Function&&Mo.tagNameCheck(Rn))))return!1}else if(!uK[en]){if(!vu(In,_h(Rn,Ke,""))){if(!((en==="src"||en==="xlink:href"||en==="href")&&Wt!=="script"&&r8(Rn,"data:")===0&&CJ[Wt])){if(!(Au&&!vu(ve,_h(Rn,Ke,"")))){if(Rn)return!1}}}}}}return!0},PJ=function(Wt){return Wt.indexOf("-")>0},NJ=function(Wt){let en,Rn,Vr,Jc;o0("beforeSanitizeAttributes",Wt,null);const{attributes:Um}=Wt;if(!Um)return;const Yi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Mn};for(Jc=Um.length;Jc--;){en=Um[Jc];const{name:jm,namespaceURI:gK}=en;Rn=jm==="value"?en.value:bv(en.value);const jnt=Rn;if(Vr=Xc(jm),Yi.attrName=Vr,Yi.attrValue=Rn,Yi.keepAttr=!0,Yi.forceKeepAttr=void 0,o0("uponSanitizeAttribute",Wt,Yi),Rn=Yi.attrValue,Yi.forceKeepAttr)continue;if(!Yi.keepAttr){M4(jm,Wt);continue}if(!wd&&vu(/\/>/i,Rn)){M4(jm,Wt);continue}Yc&&(Rn=_h(Rn,vn," "),Rn=_h(Rn,rn," "),Rn=_h(Rn,Ao," "));const LJ=Xc(Wt.nodeName);if(!MJ(LJ,Vr,Rn)){M4(jm,Wt);continue}if(xJ&&(Vr==="id"||Vr==="name")&&(M4(jm,Wt),Rn=Bnt+Rn),Ct&&typeof Q=="object"&&typeof Q.getAttributeType=="function"&&!gK)switch(Q.getAttributeType(LJ,Vr)){case"TrustedHTML":{Rn=Ct.createHTML(Rn);break}case"TrustedScriptURL":{Rn=Ct.createScriptURL(Rn);break}}if(Rn!==jnt)try{gK?Wt.setAttributeNS(gK,jm,Rn):Wt.setAttribute(jm,Rn)}catch{M4(jm,Wt)}}o0("afterSanitizeAttributes",Wt,null)},Unt=function io(Wt){let en;const Rn=DJ(Wt);for(o0("beforeSanitizeShadowDOM",Wt,null);en=Rn.nextNode();)o0("uponSanitizeShadowNode",en,null),!RJ(en)&&(en.content instanceof x&&io(en.content),NJ(en));o0("afterSanitizeShadowDOM",Wt,null)};return s.sanitize=function(io){let Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},en,Rn,Vr,Jc;if(dK=!io,dK&&(io="<!-->"),typeof io!="string"&&!a6(io))if(typeof io.toString=="function"){if(io=io.toString(),typeof io!="string")throw Bw("dirty is not a string, aborting")}else throw Bw("toString is not a function");if(!s.isSupported)return io;if(e0||hK(Wt),s.removed=[],typeof io=="string"&&(R4=!1),R4){if(io.nodeName){const jm=Xc(io.nodeName);if(!xn[jm]||za[jm])throw Bw("root node is forbidden and cannot be sanitized in-place")}}else if(io instanceof D)en=OJ("<!---->"),Rn=en.ownerDocument.importNode(io,!0),Rn.nodeType===1&&Rn.nodeName==="BODY"||Rn.nodeName==="HTML"?en=Rn:en.appendChild(Rn);else{if(!I_&&!Yc&&!Wm&&io.indexOf("<")===-1)return Ct&&o6?Ct.createHTML(io):io;if(en=OJ(io),!en)return I_?null:o6?ne:""}en&&D4&&mS(en.firstChild);const Um=DJ(R4?io:en);for(;Vr=Um.nextNode();)RJ(Vr)||(Vr.content instanceof x&&Unt(Vr.content),NJ(Vr));if(R4)return io;if(I_){if(tk)for(Jc=we.call(en.ownerDocument);en.firstChild;)Jc.appendChild(en.firstChild);else Jc=en;return(Mn.shadowroot||Mn.shadowrootmode)&&(Jc=An.call(i,Jc,!0)),Jc}let Yi=Wm?en.outerHTML:en.innerHTML;return Wm&&xn["!doctype"]&&en.ownerDocument&&en.ownerDocument.doctype&&en.ownerDocument.doctype.name&&vu(f3,en.ownerDocument.doctype.name)&&(Yi="<!DOCTYPE "+en.ownerDocument.doctype.name+`>
`+Yi),Yc&&(Yi=_h(Yi,vn," "),Yi=_h(Yi,rn," "),Yi=_h(Yi,Ao," ")),Ct&&o6?Ct.createHTML(Yi):Yi},s.setConfig=function(io){hK(io),e0=!0},s.clearConfig=function(){sk=null,e0=!1},s.isValidAttribute=function(io,Wt,en){sk||hK({});const Rn=Xc(io),Vr=Xc(Wt);return MJ(Rn,Vr,en)},s.addHook=function(io,Wt){typeof Wt=="function"&&(qe[io]=qe[io]||[],Lw(qe[io],Wt))},s.removeHook=function(io){if(qe[io])return s8(qe[io])},s.removeHooks=function(io){qe[io]&&(qe[io]=[])},s.removeAllHooks=function(){qe={}},s}var d8=OD();const m3=e=>d8().sanitize(e);var yu=tinymce.util.Tools.resolve("tinymce.util.I18n");const f8={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},DE="temporary-placeholder",RE=e=>()=>Me(e,DE).getOr("!not found!"),ME=(e,s)=>{const i=e.toLowerCase();if(yu.isRtl()){const l=Xi(i,"-rtl");return ho(s,l)?l:i}else return i},PE=(e,s)=>Me(s,ME(e,s)),g3=(e,s)=>{const i=s();return PE(e,i).getOrThunk(RE(i))},p3=(e,s,i)=>{const l=s();return PE(e,l).or(i).getOrThunk(RE(l))},h8=e=>yu.isRtl()?ho(f8,e):!1,DD=()=>Fn("add-focusable",[ps(e=>{z0(e.element,"svg").each(s=>Ee(s,"focusable","false"))})]),b3=(e,s,i,l)=>{var g,x;const w=h8(s)?["tox-icon--flip"]:[],D=Me(i,ME(s,i)).or(l).getOrThunk(RE(i));return{dom:{tag:e.tag,attributes:(g=e.attributes)!==null&&g!==void 0?g:{},classes:e.classes.concat(w),innerHtml:D},behaviours:pe([...(x=e.behaviours)!==null&&x!==void 0?x:[],DD()])}},ld=(e,s,i,l=F.none())=>b3(s,e,i(),l),m8=(e,s,i)=>{const l=i(),g=Mt(e,x=>ho(l,ME(x,l)));return b3(s,g.getOr(DE),l,F.none())},g8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},NE=Ir({name:"Notification",factory:e=>{const s=Fo({dom:qg(`<p>${m3(e.translationProvider(e.text))}</p>`),behaviours:pe([Bn.config({})])}),i=Q=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Q}%`}}}),l=Q=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Q}%`}}),g=Fo({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},l(0)],behaviours:pe([Bn.config({})])}),D={updateProgress:(Q,ot)=>{Q.getSystem().isConnected()&&g.getOpt(Q).each(dt=>{Bn.set(dt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(ot)]},l(ot)])})},updateText:(Q,ot)=>{if(Q.getSystem().isConnected()){const dt=s.get(Q);Bn.set(dt,[rr(ot)])}}},P=Ht([e.icon.toArray(),e.level.toArray(),e.level.bind(Q=>F.from(g8[Q])).toArray()]),I=Fo(xi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[ld("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:Q=>{e.onAction(Q)}})),V=m8(P,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),Z={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:pe([Bn.config({})])},J=[V,Z];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(Q=>["tox-notification","tox-notification--in",`tox-notification--${Q}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:pe([gn.config({}),Fn("notification-events",[Xt(Bc(),Q=>{I.getOpt(Q).each(gn.focus)})])]),components:J.concat(e.progress?[g.asSpec()]:[]).concat([I.asSpec()]),apis:D}},configFields:[So("level"),oe("progress"),So("icon"),oe("onAction"),oe("text"),oe("iconProvider"),oe("translationProvider")],apis:{updateProgress:(e,s,i)=>{e.updateProgress(s,i)},updateText:(e,s,i)=>{e.updateText(s,i)}}});var y3=(e,s,i)=>{const l=s.backstage.shared,g=()=>{const P=Hs(At.fromDom(e.getContentAreaContainer())),I=Ni(),V=Js(I.x,P.x,P.right),Z=Js(I.y,P.y,P.bottom),J=Math.max(P.right,I.right),Q=Math.max(P.bottom,I.bottom);return F.some(hr(V,Z,J-V,Q-Z))};return{open:(P,I)=>{const V=()=>{I(),qs.hide(J)},Z=ai(NE.sketch({text:P.text,level:go(["success","error","warning","warn","info"],P.type)?P.type:void 0,progress:P.progressBar===!0,icon:P.icon,onAction:V,iconProvider:l.providers.icons,translationProvider:l.providers.translate})),J=ai(qs.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:l.getSink,fireDismissalEventInstead:{},...l.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));i.add(J),Je(P.timeout)&&P.timeout>0&&Nw.setEditorTimeout(e,()=>{V()},P.timeout);const ot={close:V,reposition:()=>{const dt=yl(Z),Pt={maxHeightFunction:Rg()},yt=e.notificationManager.getNotifications();if(yt[0]===ot){const kt={...l.anchors.banner(),overrides:Pt};qs.showWithinBounds(J,dt,{anchor:kt},g)}else Kt(yt,ot).each(kt=>{const Ct=yt[kt-1].getEl(),ne={type:"node",root:ki(),node:F.some(At.fromDom(Ct)),overrides:Pt,layouts:{onRtl:()=>[ar],onLtr:()=>[ar]}};qs.showWithinBounds(J,dt,{anchor:ne},g)})},text:dt=>{NE.updateText(Z,dt)},settings:P,getEl:()=>Z.element.dom,progressBar:{value:dt=>{NE.updateProgress(Z,dt)}}};return ot},close:P=>{P.close()},getArgs:P=>P.settings}},jy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),RD=tinymce.util.Tools.resolve("tinymce.EditorManager"),Zy=tinymce.util.Tools.resolve("tinymce.Env"),ud;(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(ud||(ud={}));var Vw;(function(e){e.auto="auto",e.top="top",e.bottom="bottom"})(Vw||(Vw={}));const rs=e=>s=>s.options.get(e),zw=e=>s=>F.from(e(s)),MD=e=>{const s=Zy.deviceType.isPhone(),i=Zy.deviceType.isTablet()||s,l=e.options.register,g=w=>tt(w)||w===!1,x=w=>tt(w)||Je(w);l("skin",{processor:w=>tt(w)||w===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:x,default:Math.max(e.getElement().offsetHeight,400)}),l("width",{processor:x,default:jy.DOM.getStyle(e.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:w=>tt(w)||Le(w),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:w=>Le(w)||tt(w)||Tt(w)?{value:w,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),ko(9,w=>{l("toolbar"+(w+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Vw.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:e.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:g,default:"#top"}),l("anchor_bottom",{processor:g,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:w=>w==="both"||Le(w),default:!Zy.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},LE=rs("readonly"),PD=rs("height"),Gy=rs("width"),ND=zw(rs("min_width")),LD=zw(rs("min_height")),BE=zw(rs("max_width")),BD=zw(rs("max_height")),_3=zw(rs("style_formats")),x3=rs("style_formats_merge"),ID=rs("style_formats_autohide"),w3=rs("content_langs"),C3=rs("removed_menuitems"),xb=rs("toolbar_mode"),wb=rs("toolbar_groups"),$D=rs("toolbar_location"),p8=rs("fixed_toolbar_container"),FD=rs("fixed_toolbar_container_target"),HD=rs("toolbar_persist"),S3=rs("toolbar_sticky_offset"),E3=rs("menubar"),Ww=rs("toolbar"),T3=rs("file_picker_callback"),VD=rs("file_picker_validator_handler"),zD=rs("font_size_input_default_unit"),IE=rs("file_picker_types"),A3=rs("typeahead_urls"),WD=rs("anchor_top"),k3=rs("anchor_bottom"),qy=rs("draggable_modal"),O3=rs("statusbar"),D3=rs("elementpath"),Uw=rs("branding"),$E=rs("resize"),R3=rs("paste_as_text"),FE=rs("sidebar_show"),M3=rs("promotion"),P3=rs("help_accessibility"),HE=rs("default_font_stack"),UD=e=>e.options.get("skin")===!1,VE=e=>e.options.get("menubar")!==!1,zE=e=>{const s=e.options.get("skin_url");if(UD(e))return s;if(s)return e.documentBaseURI.toAbsolute(s);{const i=e.options.get("skin");return RD.baseURL+"/skins/ui/"+i}},WE=e=>F.from(e.options.get("skin_url")),N3=e=>e.options.get("line_height_formats").split(" "),UE=e=>{const s=Ww(e),i=tt(s),l=Tt(s)&&s.length>0;return!jw(e)&&(l||i||s===!0)},jD=e=>{const s=ko(9,l=>e.options.get("toolbar"+(l+1))),i=oo(s,tt);return Sn(i.length>0,i)},jw=e=>jD(e).fold(()=>{const s=Ww(e);return Nn(s,tt)&&s.length>0},Ye),ZD=e=>$D(e)===Vw.bottom,L3=e=>{var s;if(!e.inline)return F.none();const i=(s=p8(e))!==null&&s!==void 0?s:"";if(i.length>0)return Es(ki(),i);const l=FD(e);return _e(l)?F.some(At.fromDom(l)):F.none()},Ky=e=>e.inline&&L3(e).isSome(),GD=e=>L3(e).getOrThunk(()=>zi(gs(At.fromDom(e.getElement())))),Zw=e=>e.inline&&!VE(e)&&!UE(e)&&!jw(e),Gw=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Ky(e)&&!Zw(e),Cb=e=>!Ky(e)&&e.options.get("ui_mode")==="split",B3=e=>{const s=e.options.get("menu");return Co(s,i=>({...i,items:i.items}))};var I3=Object.freeze({__proto__:null,get ToolbarMode(){return ud},get ToolbarLocation(){return Vw},register:MD,getSkinUrl:zE,getSkinUrlOption:WE,isReadOnly:LE,isSkinDisabled:UD,getHeightOption:PD,getWidthOption:Gy,getMinWidthOption:ND,getMinHeightOption:LD,getMaxWidthOption:BE,getMaxHeightOption:BD,getUserStyleFormats:_3,shouldMergeStyleFormats:x3,shouldAutoHideStyleFormats:ID,getLineHeightFormats:N3,getContentLanguages:w3,getRemovedMenuItems:C3,isMenubarEnabled:VE,isMultipleToolbars:jw,isToolbarEnabled:UE,isToolbarPersist:HD,getMultipleToolbarsOption:jD,getUiContainer:GD,useFixedContainer:Ky,isSplitUiMode:Cb,getToolbarMode:xb,isDraggableModal:qy,isDistractionFree:Zw,isStickyToolbar:Gw,getStickyToolbarOffset:S3,getToolbarLocation:$D,isToolbarLocationBottom:ZD,getToolbarGroups:wb,getMenus:B3,getMenubar:E3,getToolbar:Ww,getFilePickerCallback:T3,getFilePickerTypes:IE,useTypeaheadUrls:A3,getAnchorTop:WD,getAnchorBottom:k3,getFilePickerValidatorHandler:VD,getFontSizeInputDefaultUnit:zD,useStatusBar:O3,useElementPath:D3,promotionEnabled:M3,useBranding:Uw,getResize:$E,getPasteAsText:R3,getSidebarShow:FE,useHelpAccessibility:P3,getDefaultFontStack:HE});const b8={setup:(e,s)=>{const i=(g,x)=>{on(g,Ic(),{raw:x})},l=()=>e.getMenu().bind(Ro.getHighlighted);s.on("keydown",g=>{const x=g.which;e.isActive()&&(e.isMenuOpen()?x===13?(l().each(tu),g.preventDefault()):x===40?(l().fold(()=>{e.getMenu().each(Ro.highlightFirst)},w=>{i(w,g)}),g.preventDefault(),g.stopImmediatePropagation()):(x===37||x===38||x===39)&&l().each(w=>{i(w,g),g.preventDefault(),g.stopImmediatePropagation()}):(x===13||x===38||x===40)&&e.cancelIfNecessary())}),s.on("NodeChange",()=>{e.isActive()&&!e.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&e.cancelIfNecessary()})}};var qD;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(qD||(qD={}));var xh=qD;const KD="tox-menu-nav__js",jE="tox-collection__item",qw="tox-swatch",v8={normal:KD,color:qw},$3="tox-collection__item--enabled",y8="tox-collection__group-heading",F3="tox-collection__item-icon",YD="tox-collection__item-label",_8="tox-collection__item-accessory",H3="tox-collection__item-caret",x8="tox-collection__item-checkmark",vv="tox-collection__item--active",V3="tox-collection__item-container",w8="tox-collection__item-container--column",z3="tox-collection__item-container--row",C8="tox-collection__item-container--align-right",ZE="tox-collection__item-container--align-left",S8="tox-collection__item-container--valign-top",XD="tox-collection__item-container--valign-middle",E8="tox-collection__item-container--valign-bottom",W3=e=>Me(v8,e).getOr(KD),T8=e=>e==="color"?"tox-swatches":"tox-menu",GE=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:T8(e),tieredMenu:"tox-tiered-menu"}),yv=e=>{const s=GE(e);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:W3(e)}},JD=(e,s,i)=>{const l=GE(i);return{tag:"div",classes:Ht([[l.menu,`tox-menu-${s}-column`],e?[l.hasIcons]:[]])}},QD=[mv.parts.items({})],Kw=(e,s,i)=>{const l=GE(i);return{dom:{tag:"div",classes:Ht([[l.tieredMenu]])},markers:yv(i)}},qE=vt([So("data"),Rt("inputAttributes",{}),Rt("inputStyles",{}),Rt("tag","input"),Rt("inputClasses",[]),po("onSetValue"),Rt("styles",{}),Rt("eventOrder",{}),qr("inputBehaviours",[Ie,gn]),Rt("selectOnFocus",!0)]),Yw=e=>pe([gn.config({onFocus:e.selectOnFocus?s=>{const i=s.element,l=$n(i);i.dom.setSelectionRange(0,l.length)}:ft})]),U3=e=>({...Yw(e),...Kr(e.inputBehaviours,[Ie.config({store:{mode:"manual",...e.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>$n(s.element),setValue:(s,i)=>{$n(s.element)!==i&&On(s.element,i)}},onSetValue:e.onSetValue})])}),wh=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),tR=(e,s)=>({uid:e.uid,dom:wh(e),components:[],behaviours:U3(e),eventOrder:e.eventOrder}),_v=Ir({name:"Input",configFields:qE(),factory:tR}),j3=Ue("refetch-trigger-event"),Z3=Ue("redirect-menu-item-interaction"),G3="tox-menu__searcher",Sb=e=>Es(e.element,`.${G3}`).bind(s=>e.getSystem().getByDom(s).toOptional()),q3=Sb,K3=(e,s)=>{Ie.setValue(e,s.fetchPattern),e.element.dom.selectionStart=s.selectionStart,e.element.dom.selectionEnd=s.selectionEnd},KE=e=>{const s=Ie.getValue(e),i=e.element.dom.selectionStart,l=e.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:l}},A8=(e,s)=>{Pr(s.element,"id").each(i=>Ee(e.element,"aria-activedescendant",i))},eR=e=>{const s=(g,x)=>(x.cut(),F.none()),i=(g,x)=>{const w={interactionEvent:x.event,eventType:x.event.raw.type};return on(g,Z3,w),F.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[jE]},components:[_v.sketch({inputClasses:[G3,"tox-textfield"],inputAttributes:{...e.placeholder.map(g=>({placeholder:e.i18n(g)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:pe([Fn(l,[Xt(hl(),g=>{zn(g,j3)}),Xt(Ic(),(g,x)=>{x.event.raw.key==="Escape"&&x.stop()})]),fn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[l,fn.name()]}})]}},Yy="tox-collection--results__js",Y3=e=>{var s;return e.dom?{...e,dom:{...e.dom,attributes:{...(s=e.dom.attributes)!==null&&s!==void 0?s:{},id:Ue("aria-item-search-result-id"),"aria-selected":"false"}}}:e},YE=(e,s)=>i=>{const l=Bo(i,s);return Gt(l,g=>({dom:e,components:g}))},X3=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[mv.parts.items({preprocess:e!=="auto"?YE({tag:"div",classes:["tox-swatches__row"]},e):wn})]}]}),k8=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[mv.parts.items({preprocess:YE({tag:"div",classes:["tox-collection__group"]},e)})]}),J3=(e,s)=>{const i=[];let l=[];return Ae(e,(g,x)=>{s(g,x)?(l.length>0&&i.push(l),l=[],(ho(g.dom,"innerHtml")||g.components&&g.components.length>0)&&l.push(g)):l.push(g)}),l.length>0&&i.push(l),Gt(i,g=>({dom:{tag:"div",classes:["tox-collection__group"]},components:g}))},nR=(e,s,i)=>mv.parts.items({preprocess:l=>{const g=Gt(l,i);return e!=="auto"&&e>1?YE({tag:"div",classes:["tox-collection__group"]},e)(g):J3(g,(x,w)=>s[w].type==="separator")}}),Q3=(e,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[nR(e,s,wn)]}),O8=(e,s,i=!0)=>{const l=Ue("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Yy].concat(e===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:l}},components:[nR(e,s,Y3)]}},D8=(e,s,i)=>{const l=Ue("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[eR({i18n:yu.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...e===1?["tox-collection--list"]:["tox-collection--grid"],Yy],attributes:{id:l}},components:[nR(e,s,Y3)]}]}},tL=(e,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[mv.parts.items({preprocess:i=>J3(i,(l,g)=>e[g].type==="separator")})]}),Xw=e=>Cr(e,s=>"icon"in s&&s.icon!==void 0),Kg=e=>(console.error(nm(e)),console.log(e),F.none()),eL=(e,s,i,l,g)=>{const x=tL(i);return{value:e,dom:x.dom,components:x.components,items:i}},xv=(e,s,i,l,g)=>{const x=()=>g.menuType!=="searchable"?Q3(l,i):g.searchMode.searchMode==="search-with-field"?D8(l,i,g.searchMode):O8(l,i);if(g.menuType==="color"){const w=X3(l);return{value:e,dom:w.dom,components:w.components,items:i}}else if(g.menuType==="normal"&&l==="auto"){const w=Q3(l,i);return{value:e,dom:w.dom,components:w.components,items:i}}else if(g.menuType==="normal"||g.menuType==="searchable"){const w=x();return{value:e,dom:w.dom,components:w.components,items:i}}else if(g.menuType==="listpreview"&&l!=="auto"){const w=k8(l);return{value:e,dom:w.dom,components:w.components,items:i}}else return{value:e,dom:JD(s,l,g.menuType),components:QD,items:i}},_r=Ys("type"),oR=Ys("name"),sR=Ys("label"),Om=Ys("text"),nL=Ys("title"),oL=Ys("icon"),Xy=Ys("value"),sL=gr("fetch"),rL=gr("getSubmenuItems"),wv=gr("onAction"),R8=gr("onItemAction"),Cv=Ss("onSetup",()=>ft),iL=$o("name"),Dm=$o("text"),Ml=$o("icon"),Jy=$o("tooltip"),XE=$o("label"),JE=$o("shortcut"),M8=Ta("select"),Qy=ii("active",!1),P8=ii("borderless",!1),dd=ii("enabled",!0),Jw=ii("primary",!1),Eb=e=>Rt("columns",e),rR=Rt("meta",{}),Qw=Ss("onAction",ft),Rm=e=>pi("type",e),iR=e=>sr("name","name",al(()=>Ue(`${e}-name`)),Cs),aL=e=>sr("value","value",al(()=>Ue(`${e}-value`)),Kl()),aR=mn([_r,Dm]),cL=e=>as("separatormenuitem",aR,e),cR=mn([Rm("autocompleteitem"),Qy,dd,rR,Xy,Dm,Ml]),lL=e=>as("Autocompleter.Separator",aR,e),N8=e=>as("Autocompleter.Item",cR,e),t_=[dd,Jy,Ml,Dm,Cv],uL=mn([_r,wv,JE].concat(t_)),lR=e=>as("toolbarbutton",uL,e),QE=[Qy].concat(t_),L8=mn(QE.concat([_r,wv,JE])),uR=e=>as("ToggleButton",L8,e),dL=[Ss("predicate",pn),Ws("scope","node",["node","editor"]),Ws("position","selection",["node","selection","line"])],B8=t_.concat([Rm("contextformbutton"),Jw,wv,se("original",wn)]),I8=QE.concat([Rm("contextformbutton"),Jw,wv,se("original",wn)]),$8=t_.concat([Rm("contextformbutton")]),fL=QE.concat([Rm("contextformtogglebutton")]),tC=or("type",{contextformbutton:B8,contextformtogglebutton:I8}),hL=mn([Rm("contextform"),Ss("initValue",vt("")),XE,Xs("commands",tC),Nc("launch",or("type",{contextformbutton:$8,contextformtogglebutton:fL}))].concat(dL)),F8=e=>as("ContextForm",hL,e),H8=mn([Rm("contexttoolbar"),Ys("items")].concat(dL)),V8=e=>as("ContextToolbar",H8,e),z8=[_r,Ys("src"),$o("alt"),Wu("classes",[],Cs)],W8=mn(z8),tT=[_r,Om,iL,Wu("classes",["tox-collection__item-label"],Cs)],U8=mn(tT),dR=mr(()=>Ge("type",{cardimage:W8,cardtext:U8,cardcontainer:j8})),j8=mn([_r,pi("direction","horizontal"),pi("align","left"),pi("valign","middle"),Xs("items",dR)]),Sv=[dd,Dm,JE,aL("menuitem"),rR],mL=mn([_r,XE,Xs("items",dR),Cv,Qw].concat(Sv)),Z8=e=>as("cardmenuitem",mL,e),gL=mn([_r,Qy,Ml].concat(Sv)),pL=e=>as("choicemenuitem",gL,e),fR=[_r,Ys("fancytype"),Qw],bL=[Rt("initData",{})].concat(fR),G8=[Ta("select"),Op("initData",{},[ii("allowCustomColors",!0),pi("storageKey","default"),Bd("colors",Kl())])].concat(fR),q8=or("fancytype",{inserttable:bL,colorswatch:G8}),K8=e=>as("fancymenuitem",q8,e),Y8=mn([_r,Cv,Qw,Ml].concat(Sv)),vL=e=>as("menuitem",Y8,e),yL=mn([_r,rL,Cv,Ml].concat(Sv)),X8=e=>as("nestedmenuitem",yL,e),J8=mn([_r,Ml,Qy,Cv,wv].concat(Sv)),Q8=e=>as("togglemenuitem",J8,e),hR=(e,s,i)=>{const l=Ma(e.element,"."+i);if(l.length>0){const g=_t(l,x=>{const w=x.dom.getBoundingClientRect().top,D=l[0].dom.getBoundingClientRect().top;return Math.abs(w-D)>s}).getOr(l.length);return F.some({numColumns:g,numRows:Math.ceil(l.length/g)})}else return F.none()},_L=(e,s)=>pe([Fn(e,s)]),eC={namedEvents:_L,unnamedEvents:e=>_L(Ue("unnamed-events"),e)},eT=Ue("tooltip.exclusive"),e_=Ue("tooltip.show"),nC=Ue("tooltip.hide"),nT=Ue("tooltip.immediateHide"),oC=Ue("tooltip.immediateShow"),xL=(e,s,i)=>{e.getSystem().broadcastOn([eT],{})};var wL=Object.freeze({__proto__:null,hideAllExclusive:xL,setComponents:(e,s,i,l)=>{i.getTooltip().each(g=>{g.getSystem().isConnected()&&Bn.set(g,l)})}}),CL=Object.freeze({__proto__:null,events:(e,s)=>{const i=w=>{s.getTooltip().each(D=>{D.getSystem().isConnected()&&(ef(D),e.onHide(w,D),s.clearTooltip())}),s.clearTimer()},l=w=>{if(!s.isShowing()){xL(w);const D=e.lazySink(w).getOrDie(),P=w.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:jo(e.mode==="normal"?[Xt(Xl(),I=>{zn(w,e_)}),Xt(qf(),I=>{zn(w,nC)})]:[]),behaviours:pe([Bn.config({})])});s.setTooltip(P),nd(D,P),e.onShow(w,P),vi.position(D,P,{anchor:e.anchor(w)})}},g=w=>{s.getTooltip().each(D=>{const P=e.lazySink(w).getOrDie();vi.position(P,D,{anchor:e.anchor(w)})})},x=()=>{switch(e.mode){case"normal":return[Xt(Bc(),w=>{zn(w,oC)}),Xt(Ku(),w=>{zn(w,nT)}),Xt(Xl(),w=>{zn(w,e_)}),Xt(qf(),w=>{zn(w,nC)})];case"follow-highlight":return[Xt(cm(),(w,D)=>{zn(w,e_)}),Xt(Xf(),w=>{zn(w,nC)})];case"children-normal":return[Xt(Bc(),(w,D)=>{bi(w.element).each(P=>{Ji(D.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{zn(w,oC)},I=>{s.isShowing()&&(e.onShow(w,I),g(w))})})}),Xt(Ku(),w=>{bi(w.element).fold(()=>{zn(w,nT)},ft)}),Xt(Xl(),w=>{Es(w.element,"[data-mce-tooltip]:hover").each(D=>{s.getTooltip().fold(()=>{zn(w,e_)},P=>{s.isShowing()&&(e.onShow(w,P),g(w))})})}),Xt(qf(),w=>{Es(w.element,"[data-mce-tooltip]:hover").fold(()=>{zn(w,nC)},ft)})];default:return[Xt(Bc(),(w,D)=>{bi(w.element).each(P=>{Ji(D.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{zn(w,oC)},I=>{s.isShowing()&&(e.onShow(w,I),g(w))})})}),Xt(Ku(),w=>{bi(w.element).fold(()=>{zn(w,nT)},ft)})]}};return jo(Ht([[Xt(e_,w=>{s.resetTimer(()=>{l(w)},e.delayForShow())}),Xt(nC,w=>{s.resetTimer(()=>{i(w)},e.delayForHide())}),Xt(oC,w=>{s.resetTimer(()=>{l(w)},0)}),Xt(nT,w=>{s.resetTimer(()=>{i(w)},0)}),Xt($c(),(w,D)=>{const P=D;P.universal||go(P.channels,eT)&&i(w)}),mc(w=>{i(w)})],x()]))}}),eV=[oe("lazySink"),oe("tooltipDom"),Rt("exclusive",!0),Rt("tooltipComponents",[]),Ss("delayForShow",vt(300)),Ss("delayForHide",vt(300)),Ws("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Rt("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:vt([ar,li,Dr,us,yr,Lr]),onRtl:vt([ar,li,Dr,us,yr,Lr])},bubble:du(0,-2,{})})),po("onHide"),po("onShow")],nV=Object.freeze({__proto__:null,init:()=>{const e=ds(),s=ds(),i=()=>{e.on(clearTimeout)},l=(x,w)=>{i(),e.set(setTimeout(x,w))},g=vt("not-implemented");return gc({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:i,resetTimer:l,readState:g})}});const qi=ui({fields:eV,name:"tooltipping",active:CL,state:nV,apis:wL}),mR=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),SL="silver.readonly",oV=mn([Ap("readonly")]),oT=(e,s)=>{const l=e.mainUi.outerContainer.element,g=[e.mainUi.mothership,...e.uiMotherships];s&&Ae(g,x=>{x.broadcastOn([Cm()],{target:l})}),Ae(g,x=>{x.broadcastOn([SL],{readonly:s})})},EL=(e,s)=>{e.on("init",()=>{e.mode.isReadOnly()&&oT(s,!0)}),e.on("SwitchMode",()=>oT(s,e.mode.isReadOnly())),LE(e)&&e.mode.set("readonly")},di=()=>bc.config({channels:{[SL]:{schema:oV,onReceive:(e,s)=>{En.set(e,s.readonly)}}}}),uf={item:e=>En.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),button:e=>En.config({disabled:e}),splitButton:e=>En.config({disabled:e,disableClass:"tox-tbtn--disabled"}),toolbarButton:e=>En.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},sT=(e,s)=>{const i=e.getApi(s);return l=>{l(i)}},Fi=(e,s)=>ps(i=>{sT(e,i)(g=>{const x=e.onSetup(g);$t(x)&&s.set(x)})}),nc=(e,s)=>mc(i=>sT(e,i)(s.get())),iV=(e,s)=>Oa((i,l)=>{sT(e,i)(e.onAction),!e.triggersSubmenu&&s===xh.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&zn(i,wg()),l.stop())}),gR={[ka()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Tb=ku,n_=(e,s,i,l)=>{const g=an(ft);return{type:"item",dom:s.dom,components:Tb(s.optComponents),data:e.data,eventOrder:gR,hasSubmenu:e.triggersSubmenu,itemBehaviours:pe([Fn("item-events",[iV(e,i),Fi(e,g),nc(e,g)]),uf.item(()=>!e.enabled||l.isDisabled()),di(),Bn.config({})].concat(e.itemBehaviours))}},o_=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Ev=e=>{const s=Zy.os.isMacOS()||Zy.os.isiOS(),g=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},x=e.split("+"),w=Gt(x,D=>{const P=D.toLowerCase().trim();return ho(g,P)?g[P]:D});return s?w.join(""):w.join("+")},s_=(e,s,i=[F3])=>ld(e,{tag:"div",classes:i},s),rT=e=>({dom:{tag:"div",classes:[YD]},components:[rr(yu.translate(e))]}),TL=(e,s)=>({dom:{tag:"div",classes:s,innerHtml:e}}),Ch=(e,s)=>({dom:{tag:"div",classes:[YD]},components:[{dom:{tag:e.tag,styles:e.styles},components:[rr(yu.translate(s))]}]}),aV=e=>({dom:{tag:"div",classes:[_8]},components:[rr(Ev(e))]}),AL=e=>s_("checkmark",e,[x8]),fd=e=>s_("chevron-right",e,[H3]),sC=e=>s_("chevron-down",e,[H3]),df=(e,s)=>{const i=e.direction==="vertical"?w8:z3,l=e.align==="left"?ZE:C8;return{dom:{tag:"div",classes:[V3,i,l,(()=>{switch(e.valign){case"top":return S8;case"middle":return XD;case"bottom":return E8}})()]},components:s}},cV=(e,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:e,alt:i.getOr("")}}}),Ko=(e,s,i)=>{const l="custom",g="remove",x=e.value,w=e.iconContent.map(I=>p3(I,s.icons,i)),D=e.ariaLabel.map(I=>({"aria-label":s.translate(I),"data-mce-name":I})).getOr({});return{dom:(()=>{const I=qw,V=w.getOr(""),Z={tag:"div",attributes:D,classes:[I]};return x===l?{...Z,tag:"button",classes:[...Z.classes,"tox-swatches__picker-btn"],innerHtml:V}:x===g?{...Z,classes:[...Z.classes,"tox-swatch--remove"],innerHtml:V}:_e(x)?{...Z,attributes:{...Z.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:V}:Z})(),optComponents:[]}},Tv=e=>{const s=e.map(i=>({attributes:{id:Ue("menu-item"),"aria-label":yu.translate(i)}})).getOr({});return{tag:"div",classes:[KD,jE],...s}},iT=(e,s,i,l)=>{const g={tag:"div",classes:[F3]},x=J=>ld(J,g,s.icons,l),w=()=>F.some({dom:g}),D=i?e.iconContent.map(x).orThunk(w):F.none(),P=e.checkMark,I=F.from(e.meta).fold(()=>rT,J=>ho(J,"style")?sn(Ch,J.style):rT),V=e.htmlContent.fold(()=>e.textContent.map(I),J=>F.some(TL(J,[YD])));return{dom:Tv(e.ariaLabel),optComponents:[D,V,e.shortcutContent.map(aV),P,e.caret]}},r_=(e,s,i,l=F.none())=>e.presets==="color"?Ko(e,s,l):iT(e,s,i,l),aT=(e,s,i)=>Me(e,"tooltipWorker").map(l=>[qi.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:g=>({type:"submenu",item:g,overrides:{maxHeightFunction:Rg}}),mode:"follow-highlight",onShow:(g,x)=>{l(w=>{qi.setComponents(g,[Kd({element:At.fromDom(w)})])})}})]).getOrThunk(()=>i.map(l=>[qi.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),pR=e=>jy.DOM.encode(e),kL=(e,s)=>{const i=yu.translate(e),l=pR(i);if(s.length>0){const g=new RegExp(mR(s),"gi");return l.replace(g,x=>`<span class="tox-autocompleter-highlight">${x}</span>`)}else return l},bR=(e,s,i,l,g,x,w,D=!0)=>{const P=r_({presets:l,textContent:F.none(),htmlContent:i?e.text.map(V=>kL(V,s)):F.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:F.none(),checkMark:F.none(),caret:F.none(),value:e.value},w.providers,D,e.icon),I=e.text.filter(V=>!i&&V!=="");return n_({data:o_(e),enabled:e.enabled,getApi:vt({}),onAction:V=>g(e.value,e.meta),onSetup:vt(ft),triggersSubmenu:!1,itemBehaviours:aT(e,w,I)},P,x,w.providers)},OL=(e,s)=>Gt(e,i=>{switch(i.type){case"cardcontainer":return df(i,OL(i.items,s));case"cardimage":return cV(i.src,i.classes,i.alt);case"cardtext":const g=i.name.exists(x=>go(s.cardText.highlightOn,x))?F.from(s.cardText.matchText).getOr(""):"";return TL(kL(i.text,g),i.classes)}}),DL=(e,s,i,l)=>{const g=w=>({isEnabled:()=>!En.isDisabled(w),setEnabled:D=>{En.set(w,!D),Ae(Ma(w.element,"*"),P=>{w.getSystem().getByDom(P).each(I=>{I.hasConfigured(En)&&En.set(I,!D)})})}}),x={dom:Tv(e.label),optComponents:[F.some({dom:{tag:"div",classes:[V3,z3]},components:OL(e.items,l)})]};return n_({data:o_({text:F.none(),...e}),enabled:e.enabled,getApi:g,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:F.from(l.itemBehaviours).getOr([])},x,s,i.providers)},RL=(e,s,i,l,g,x,w,D=!0)=>{const P=Z=>({setActive:J=>{Zn.set(Z,J)},isActive:()=>Zn.isOn(Z),isEnabled:()=>!En.isDisabled(Z),setEnabled:J=>En.set(Z,!J)}),I=r_({presets:i,textContent:s?e.text:F.none(),htmlContent:F.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:s?e.shortcut:F.none(),checkMark:s?F.some(AL(w.icons)):F.none(),caret:F.none(),value:e.value},w,D),V=e.text.filter(vt(!s)).map(Z=>qi.config(w.tooltips.getConfig({tooltipText:w.translate(Z)})));return ts(n_({data:o_(e),enabled:e.enabled,getApi:P,onAction:Z=>l(e.value),onSetup:Z=>(Z.setActive(g),ft),triggersSubmenu:!1,itemBehaviours:[...V.toArray()]},I,x,w),{toggling:{toggleClass:$3,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},cT=Cy(Vy(),Pw()),vR=e=>({value:NL(e)}),rC=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ML=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,PL=e=>rC.test(e)||ML.test(e),NL=e=>lp(e,"#").toUpperCase(),lV=e=>PL(e)?F.some({value:NL(e)}):F.none(),uV=e=>({value:e.value.replace(rC,(i,l,g,x)=>l+l+g+g+x+x)}),LL=e=>{const s=uV(e),i=ML.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},yR=e=>{const s=e.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},iC=e=>{const s=yR(e.red)+yR(e.green)+yR(e.blue);return vR(s)},_R=Math.min,xR=Math.max,lT=Math.round,dV=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,BL=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Yg=(e,s,i,l)=>({red:e,green:s,blue:i,alpha:l}),uT=e=>{const s=parseInt(e,10);return s.toString()===e&&s>=0&&s<=255},IL=e=>{let s,i,l;const g=(e.hue||0)%360;let x=e.saturation/100,w=e.value/100;if(x=xR(0,_R(x,1)),w=xR(0,_R(w,1)),x===0)return s=i=l=lT(255*w),Yg(s,i,l,1);const D=g/60,P=w*x,I=P*(1-Math.abs(D%2-1)),V=w-P;switch(Math.floor(D)){case 0:s=P,i=I,l=0;break;case 1:s=I,i=P,l=0;break;case 2:s=0,i=P,l=I;break;case 3:s=0,i=I,l=P;break;case 4:s=I,i=0,l=P;break;case 5:s=P,i=0,l=I;break;default:s=i=l=0}return s=lT(255*(s+V)),i=lT(255*(i+V)),l=lT(255*(l+V)),Yg(s,i,l,1)},aC=e=>{const s=LL(e),i=parseInt(s[1],16),l=parseInt(s[2],16),g=parseInt(s[3],16);return Yg(i,l,g,1)},$L=(e,s,i,l)=>{const g=parseInt(e,10),x=parseInt(s,10),w=parseInt(i,10),D=parseFloat(l);return Yg(g,x,w,D)},wR=e=>{if(e==="transparent")return F.some(Yg(0,0,0,0));const s=dV.exec(e);if(s!==null)return F.some($L(s[1],s[2],s[3],"1"));const i=BL.exec(e);return i!==null?F.some($L(i[1],i[2],i[3],i[4])):F.none()},FL=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,HL=Yg(255,0,0,1),VL=e=>{e.dispatch("SkinLoaded")},ff=(e,s)=>{e.dispatch("SkinLoadError",s)},fV=e=>{e.dispatch("ResizeEditor")},cC=(e,s)=>{e.dispatch("ResizeContent",s)},zL=(e,s)=>{e.dispatch("ScrollContent",s)},CR=(e,s)=>{e.dispatch("TextColorChange",s)},hV=(e,s)=>{e.dispatch("AfterProgressState",{state:s})},WL=(e,s)=>e.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),UL=(e,s)=>{e.dispatch("ToggleToolbarDrawer",{state:s})},jL=(e,s)=>{e.dispatch("StylesTextUpdate",s)},mV=(e,s)=>{e.dispatch("AlignTextUpdate",s)},gV=(e,s)=>{e.dispatch("FontSizeTextUpdate",s)},pV=(e,s)=>{e.dispatch("FontSizeInputTextUpdate",s)},bV=(e,s)=>{e.dispatch("BlocksTextUpdate",s)},vV=(e,s)=>{e.dispatch("FontFamilyTextUpdate",s)},lC=(e,s)=>()=>{e(),s()},Ia=e=>Av(e,"NodeChange",s=>{s.setEnabled(e.selection.isEditable())}),ZL=(e,s)=>i=>{const l=tb(),g=()=>{i.setActive(e.formatter.match(s));const x=e.formatter.formatChanged(s,i.setActive);l.set(x)};return e.initialized?g():e.once("init",g),()=>{e.off("init",g),l.clear()}},dT=(e,s)=>i=>{const l=Ia(e)(i),g=ZL(e,s)(i);return()=>{l(),g()}},Av=(e,s,i)=>l=>{const g=()=>i(l),x=()=>{i(l),e.on(s,g)};return e.initialized?x():e.once("init",x),()=>{e.off("init",x),e.off(s,g)}},GL=e=>s=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,s.format)})},ma=(e,s)=>()=>e.execCommand(s);var kv=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const SR={},qL=(e,s=10)=>{const i=kv.getItem(e),l=tt(i)?JSON.parse(i):[],x=(I=>s-I.length<0?I.slice(0,s):I)(l),w=I=>{Kt(x,I).each(D),x.unshift(I),x.length>s&&x.pop(),kv.setItem(e,JSON.stringify(x))},D=I=>{x.splice(I,1)};return{add:w,state:()=>x.slice(0)}},ER=e=>Me(SR,e).getOrThunk(()=>{const s=`tinymce-custom-colors-${e}`,i=kv.getItem(s);if(ze(i)){const g=kv.getItem("tinymce-custom-colors");kv.setItem(s,_e(g)?g:"[]")}const l=qL(s,10);return SR[e]=l,l}),KL=e=>Gt(ER(e).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),fT=(e,s)=>{ER(e).add(s)},Ov=(e,s,i)=>({hue:e,saturation:s,value:i}),uC=e=>{let s=0,i=0,l=0;const g=e.red/255,x=e.green/255,w=e.blue/255,D=Math.min(g,Math.min(x,w)),P=Math.max(g,Math.max(x,w));if(D===P)return l=D,Ov(0,0,l*100);const I=g===D?x-w:w===D?g-x:w-g;return s=g===D?3:w===D?1:5,s=60*(s-I/(P-D)),i=(P-D)/P,l=P,Ov(Math.round(s),Math.round(i*100),Math.round(l*100))},YL=e=>uC(aC(e)),XL=e=>iC(IL(e)),JL=e=>lV(e).orThunk(()=>wR(e).map(iC)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=e,i.fillRect(0,0,1,1);const l=i.getImageData(0,0,1,1).data,g=l[0],x=l[1],w=l[2],D=l[3];return iC(Yg(g,x,w,D))}),TR="forecolor",AR="hilitecolor",yV=5,QL=e=>{const s=[];for(let i=0;i<e.length;i+=2)s.push({text:e[i+1],value:"#"+JL(e[i]).value,icon:"checkmark",type:"choiceitem"});return s},Sh=e=>s=>s.options.get(e),hT="#000000",_V=e=>{const s=e.options.register,i=g=>Nn(g,tt)?{value:QL(g),valid:!0}:{valid:!1,message:"Must be an array of strings."},l=g=>Je(g)&&g>0?{value:g,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:l,default:kR(e)}),s("color_cols_foreground",{processor:l,default:tB(e,TR)}),s("color_cols_background",{processor:l,default:tB(e,AR)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:hT}),s("color_default_background",{processor:"string",default:hT})},mT=(e,s)=>s===TR&&e.options.isSet("color_map_foreground")?Sh("color_map_foreground")(e):s===AR&&e.options.isSet("color_map_background")?Sh("color_map_background")(e):Sh("color_map")(e),kR=(e,s="default")=>Math.max(yV,Math.ceil(Math.sqrt(mT(e,s).length))),tB=(e,s)=>{const i=Sh("color_cols")(e),l=kR(e,s);return i===kR(e)?l:i},eB=(e,s="default")=>Math.round((()=>s===TR?Sh("color_cols_foreground")(e):s===AR?Sh("color_cols_background")(e):Sh("color_cols")(e))()),nB=Sh("custom_colors"),xV=Sh("color_default_foreground"),wV=Sh("color_default_background"),CV="rgba(0, 0, 0, 0)",SV=e=>wR(e).exists(s=>s.alpha!==0),EV=e=>$d(e,s=>{if(Wo(s)){const i=Fs(s,"background-color");return Sn(SV(i),i)}else return F.none()}).getOr(CV),OR=(e,s)=>{const i=At.fromDom(e.selection.getStart()),l=s==="hilitecolor"?EV(i):Fs(i,"color");return wR(l).map(g=>"#"+iC(g).value)},TV=(e,s,i)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.apply(s,{value:i}),e.nodeChanged()})},AV=(e,s)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.remove(s,{value:null},void 0,!0),e.nodeChanged()})},kV=e=>{e.addCommand("mceApplyTextcolor",(s,i)=>{TV(e,s,i)}),e.addCommand("mceRemoveTextcolor",s=>{AV(e,s)})},oB=e=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},DR=(e,s,i,l)=>{i==="custom"?gT(e)(x=>{x.each(w=>{fT(s,w),e.execCommand("mceApplyTextcolor",s,w),l(w)})},OR(e,s).getOr(hT)):i==="remove"?(l(""),e.execCommand("mceRemoveTextcolor",s)):(l(i),e.execCommand("mceApplyTextcolor",s,i))},i_=(e,s,i)=>e.concat(KL(s).concat(oB(i))),RR=(e,s,i)=>l=>{l(i_(e,s,i))},MR=(e,s,i)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(l,i)},sB=(e,s)=>{e.setTooltip(s)},rB=(e,s)=>i=>{const l=OR(e,s);return va(l,i.toUpperCase())},PR=(e,s,i)=>{if(Ns(i))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",g=i_(mT(e,s),s,!1),x=Mt(g,w=>w.value===i).getOr({text:""}).text;return e.translate([l,e.translate(x)])},iB=(e,s,i,l)=>{e.ui.registry.addSplitButton(s,{tooltip:PR(e,i,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:rB(e,i),columns:eB(e,i),fetch:RR(mT(e,i),i,nB(e)),onAction:g=>{DR(e,i,l.get(),ft)},onItemAction:(g,x)=>{DR(e,i,x,w=>{l.set(w),CR(e,{name:s,color:w})})},onSetup:g=>{MR(g,s,l.get());const x=w=>{w.name===s&&(MR(g,w.name,w.color),sB(g,PR(e,i,w.color)))};return e.on("TextColorChange",x),lC(Ia(e)(g),()=>{e.off("TextColorChange",x)})}})},aB=(e,s,i,l,g)=>{e.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:x=>(sB(x,PR(e,i,g.get())),MR(x,s,g.get()),Ia(e)(x)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:rB(e,i),initData:{storageKey:i},onAction:x=>{DR(e,i,x.value,w=>{g.set(w),CR(e,{name:s,color:w})})}}]})},gT=e=>(s,i)=>{let l=!1;const g=D=>{const I=D.getData().colorpicker;l?(s(F.from(I)),D.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",I]))},x=(D,P)=>{P.name==="hex-valid"&&(l=P.value)},w={colorpicker:i};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:w,onAction:x,onSubmit:g,onClose:ft,onCancel:()=>{s(F.none())}})},cB=e=>{kV(e);const s=xV(e),i=wV(e),l=an(s),g=an(i);iB(e,"forecolor","forecolor",l),iB(e,"backcolor","hilitecolor",g),aB(e,"forecolor","forecolor","Text color",l),aB(e,"backcolor","hilitecolor","Background color",g)},pT=(e,s,i,l,g,x,w,D)=>{const P=Xw(s),V=OV(s,i,l,g!=="color"?"normal":"color",x,w,D);return xv(e,P,V,l,{menuType:g})},OV=(e,s,i,l,g,x,w)=>ku(Gt(e,D=>D.type==="choiceitem"?pL(D).fold(Kg,P=>F.some(RL(P,i===1,l,s,x(P.value),g,w,Xw(e)))):F.none())),a_=(e,s)=>{const i=yv(s);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:g=>s==="color"?Es(g.element,"[aria-checked=true]"):F.none()}},DV=(e,s)=>e===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:e==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${qw}`:`.${jE}`}},RV=(e,s)=>{const i=MV(e,s),l=s.colorinput.getColorCols(e.initData.storageKey),g="color",w={...pT(Ue("menu-value"),i,D=>{e.onAction({value:D})},l,g,xh.CLOSE_ON_EXECUTE,e.select.getOr(pn),s.shared.providers),markers:yv(g),movement:a_(l,g)};return{type:"widget",data:{value:Ue("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[cT.widget(mv.sketch(w))]}},MV=(e,s)=>{const i=e.initData.allowCustomColors&&s.colorinput.hasCustomColors();return e.initData.colors.fold(()=>i_(s.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,i),l=>l.concat(oB(i)))},lB=Ue("cell-over"),uB=Ue("cell-execute"),PV=e=>(s,i)=>e.shared.providers.translate(["{0} columns, {1} rows",i,s]),NV=(e,s,i)=>{const l=w=>on(w,lB,{row:e,col:s}),g=w=>on(w,uB,{row:e,col:s}),x=(w,D)=>{D.stop(),g(w)};return ai({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:pe([Fn("insert-table-picker-cell",[Xt(Xl(),gn.focus),Xt(ka(),g),Xt(Gu(),x),Xt(Bi(),x)]),Zn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),gn.config({onFocus:l})])})},LV=(e,s,i)=>{const l=[];for(let g=0;g<s;g++){const x=[];for(let w=0;w<i;w++){const D=e(g+1,w+1);x.push(NV(g,w,D))}l.push(x)}return l},BV=(e,s,i,l,g)=>{for(let x=0;x<l;x++)for(let w=0;w<g;w++)Zn.set(e[x][w],x<=s&&w<=i)},IV=e=>wt(e,s=>Gt(s,yl)),dC=(e,s)=>rr(`${s}x${e}`),NR={inserttable:(e,s)=>{const g=PV(s),x=LV(g,10,10),w=dC(0,0),D=Fo({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[w],behaviours:pe([Bn.config({})])});return{type:"widget",data:{value:Ue("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[cT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:IV(x).concat(D.asSpec()),behaviours:pe([Fn("insert-table-picker",[ps(P=>{Bn.set(D.get(P),[w])}),Jf(lB,(P,I,V)=>{const{row:Z,col:J}=V.event;BV(x,Z,J,10,10),Bn.set(D.get(P),[dC(Z+1,J+1)])}),Jf(uB,(P,I,V)=>{const{row:Z,col:J}=V.event;e.onAction({numRows:Z+1,numColumns:J+1}),zn(P,wg())})]),fn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:RV},fB=(e,s)=>Me(NR,e.fancytype).map(i=>i(e,s)),$V=(e,s,i,l=!0,g=!1)=>{const x=g?sC(i.icons):fd(i.icons),w=P=>({isEnabled:()=>!En.isDisabled(P),setEnabled:I=>En.set(P,!I),setIconFill:(I,V)=>{Es(P.element,`svg path[class="${I}"], rect[class="${I}"]`).each(Z=>{Ee(Z,"fill",V)})},setTooltip:I=>{const V=i.translate(I);Ee(P.element,"aria-label",V)}}),D=r_({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:F.none(),ariaLabel:e.text,caret:F.some(x),checkMark:F.none(),shortcutContent:e.shortcut},i,l);return n_({data:o_(e),getApi:w,enabled:e.enabled,onAction:ft,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},D,s,i)},FV=(e,s,i,l=!0)=>{const g=w=>({isEnabled:()=>!En.isDisabled(w),setEnabled:D=>En.set(w,!D)}),x=r_({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:F.none(),ariaLabel:e.text,caret:F.none(),checkMark:F.none(),shortcutContent:e.shortcut},i,l);return n_({data:o_(e),getApi:g,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},x,s,i)},LR=e=>({type:"separator",dom:{tag:"div",classes:[jE,y8]},components:e.text.map(rr).toArray()}),BR=(e,s,i,l=!0)=>{const g=w=>({setActive:D=>{Zn.set(w,D)},isActive:()=>Zn.isOn(w),isEnabled:()=>!En.isDisabled(w),setEnabled:D=>En.set(w,!D)}),x=r_({iconContent:e.icon,textContent:e.text,htmlContent:F.none(),ariaLabel:e.text,checkMark:F.some(AL(i.icons)),caret:F.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},i,l);return ts(n_({data:o_(e),enabled:e.enabled,getApi:g,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},x,s,i),{toggling:{toggleClass:$3,toggleOnExecute:!1,selected:e.active}})},bT=bR,IR=LR,HV=FV,VV=$V,zV=BR,WV=fB,UV=DL;var jV=Object.freeze({__proto__:null,getCoupled:(e,s,i,l)=>i.getOrCreate(e,s,l),getExistingCoupled:(e,s,i,l)=>i.getExisting(e,s,l)}),ZV=[jr("others",Zf(Ln.value,Kl()))],GV=Object.freeze({__proto__:null,init:()=>{const e={},s=(x,w)=>{if(Qo(x.others).length===0)throw new Error("Cannot find any known coupled components");return Me(e,w)},i=(x,w,D)=>s(w,D).getOrThunk(()=>{const I=Me(w.others,D).getOrDie("No information found for coupled component: "+D)(x),V=x.getSystem().build(I);return e[D]=V,V}),l=(x,w,D)=>s(w,D).orThunk(()=>(Me(w.others,D).getOrDie("No information found for coupled component: "+D),F.none())),g=vt({});return gc({readState:g,getExisting:l,getOrCreate:i})}});const cr=ui({fields:ZV,name:"coupling",apis:jV,state:GV}),$R=e=>{let s=F.none(),i=[];const l=I=>$R(V=>{g(Z=>{V(I(Z))})}),g=I=>{w()?P(I):i.push(I)},x=I=>{w()||(s=F.some(I),D(i),i=[])},w=()=>s.isSome(),D=I=>{Ae(I,P)},P=I=>{s.each(V=>{setTimeout(()=>{I(V)},0)})};return e(x),{get:g,map:l,isReady:w}},KV={nu:$R,pure:e=>$R(s=>{s(e)})},YV=e=>{setTimeout(()=>{throw e},0)},Pl=e=>{const s=P=>{e().then(P,YV)};return{map:P=>Pl(()=>e().then(P)),bind:P=>Pl(()=>e().then(I=>P(I).toPromise())),anonBind:P=>Pl(()=>e().then(()=>P.toPromise())),toLazy:()=>KV.nu(s),toCached:()=>{let P=null;return Pl(()=>(P===null&&(P=e()),P))},toPromise:e,get:s}},Hi={nu:e=>Pl(()=>new Promise(e)),pure:e=>Pl(()=>Promise.resolve(e))},fi=vt("sink"),hB=vt(vc({name:fi(),overrides:vt({dom:{tag:"div"},behaviours:pe([vi.config({useFixed:Ye})]),events:jo([Vc(Ic()),Vc(ia()),Vc(Gu())])})})),mB=(e,s)=>{const i=e.getHotspot(s).getOr(s),l="hotspot",g=e.getAnchorOverrides();return e.layouts.fold(()=>({type:l,hotspot:i,overrides:g}),x=>({type:l,hotspot:i,overrides:g,layouts:x}))},XV=(e,s,i)=>{const l=e.fetch;return l(i).map(s)},JV=(e,s,i,l,g,x,w)=>{const D=XV(e,s,l),P=gB(l,e);return D.map(I=>I.bind(V=>F.from(gv.sketch({...x.menu(),uid:Ju(""),data:V,highlightOnOpen:w,onOpenMenu:(Z,J)=>{const Q=P().getOrDie();vi.position(Q,J,{anchor:i}),Yn.decloak(g)},onOpenSubmenu:(Z,J,Q)=>{const ot=P().getOrDie();vi.position(ot,Q,{anchor:{type:"submenu",item:J}}),Yn.decloak(g)},onRepositionMenu:(Z,J,Q)=>{const ot=P().getOrDie();vi.position(ot,J,{anchor:i}),Ae(Q,dt=>{vi.position(ot,dt.triggeredMenu,{anchor:{type:"submenu",item:dt.triggeringItem}})})},onEscape:()=>(gn.focus(l),Yn.close(g),F.some(!0))}))))},vT=(e,s,i,l,g,x,w)=>{const D=mB(e,i);return JV(e,s,D,i,l,g,w).map(I=>(I.fold(()=>{Yn.isOpen(l)&&Yn.close(l)},V=>{Yn.cloak(l),Yn.open(l,V),x(l)}),l))},QV=(e,s,i,l,g,x,w)=>(Yn.close(l),Hi.pure(l)),FR=(e,s,i,l,g,x)=>{const w=cr.getCoupled(i,"sandbox");return(Yn.isOpen(w)?QV:vT)(e,s,i,w,l,g,x)},tz=(e,s,i)=>{const l=lo.getCurrent(s).getOr(s),g=ni(e.element);i?Pn(l.element,"min-width",g+"px"):xo(l.element,g)},gB=(e,s)=>e.getSystem().getByUid(s.uid+"-"+fi()).map(i=>()=>Ln.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>Ln.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(e))),pB=e=>{Yn.getState(e).each(s=>{gv.repositionMenus(s)})},HR=(e,s,i)=>{const l=HS(),g=(D,P)=>{const I=mB(e,s);l.link(s.element),e.matchWidth&&tz(I.hotspot,P,e.useMinWidth),e.onOpen(I,D,P),i!==void 0&&i.onOpen!==void 0&&i.onOpen(D,P)},x=(D,P)=>{l.unlink(s.element),w().getOr(P).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(D,P)},w=gB(s,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:Zc.augment(e.sandboxBehaviours,[Ie.config({store:{mode:"memory",initialValue:s}}),Yn.config({onOpen:g,onClose:x,isPartOf:(D,P,I)=>pm(P,I)||pm(s,I),getAttachPoint:()=>w().getOrDie()}),lo.config({find:D=>Yn.getState(D).bind(P=>lo.getCurrent(P))}),bc.config({channels:{...Y1({isExtraPart:pn}),...gy({doReposition:pB})}})])}},bB=e=>{const s=cr.getCoupled(e,"sandbox");pB(s)},VR=()=>[Rt("sandboxClasses",[]),Zc.field("sandboxBehaviours",[lo,bc,Yn,Ie])],ez=vt([oe("dom"),oe("fetch"),po("onOpen"),Ra("onExecute"),Rt("getHotspot",F.some),Rt("getAnchorOverrides",vt({})),fu(),qr("dropdownBehaviours",[Zn,cr,fn,gn]),oe("toggleClass"),Rt("eventOrder",{}),So("lazySink"),Rt("matchWidth",!1),Rt("useMinWidth",!1),So("role")].concat(VR())),nz=vt([gu({schema:[mx(),Rt("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),hB()]),oz=(e,s,i,l)=>{const g=V=>Me(e.dom,"attributes").bind(Z=>Me(Z,V)),x=V=>{Yn.getState(V).each(Z=>{gv.highlightPrimary(Z)})},w=(V,Z,J)=>FR(e,wn,V,l,Z,J),D=V=>{w(V,x,La.HighlightMenuAndItem).get(ft)},P={expand:V=>{Zn.isOn(V)||w(V,ft,La.HighlightNone).get(ft)},open:V=>{Zn.isOn(V)||w(V,ft,La.HighlightMenuAndItem).get(ft)},refetch:V=>cr.getExistingCoupled(V,"sandbox").fold(()=>w(V,ft,La.HighlightMenuAndItem).map(ft),J=>vT(e,wn,V,J,l,ft,La.HighlightMenuAndItem).map(ft)),isOpen:Zn.isOn,close:V=>{Zn.isOn(V)&&w(V,ft,La.HighlightMenuAndItem).get(ft)},repositionMenus:V=>{Zn.isOn(V)&&bB(V)}},I=(V,Z)=>(tu(V),F.some(!0));return{uid:e.uid,dom:e.dom,components:s,behaviours:Kr(e.dropdownBehaviours,[Zn.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),cr.config({others:{sandbox:V=>HR(e,V,{onOpen:()=>Zn.on(V),onClose:()=>Zn.off(V)})}}),fn.config({mode:"special",onSpace:I,onEnter:I,onDown:(V,Z)=>{if(hd.isOpen(V)){const J=cr.getCoupled(V,"sandbox");x(J)}else hd.open(V);return F.some(!0)},onEscape:(V,Z)=>hd.isOpen(V)?(hd.close(V),F.some(!0)):F.none()}),gn.config({})]),events:vh(F.some(D)),eventOrder:{...e.eventOrder,[ka()]:["disabling","toggling","alloy.base.behaviour"]},apis:P,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold(()=>({}),V=>({role:V})),...e.dom.tag==="button"?{type:g("type").getOr("button")}:{}}}}},hd=Zi({name:"Dropdown",configFields:ez(),partFields:nz(),factory:oz,apis:{open:(e,s)=>e.open(s),refetch:(e,s)=>e.refetch(s),expand:(e,s)=>e.expand(s),close:(e,s)=>e.close(s),isOpen:(e,s)=>e.isOpen(s),repositionMenus:(e,s)=>e.repositionMenus(s)}}),sz=e=>{switch(e.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:e}}},rz=e=>{const s=Ie.getValue(e),i=Sb(e).map(KE);hd.refetch(s).get(()=>{const l=cr.getCoupled(s,"sandbox");i.each(g=>Sb(l).each(x=>K3(x,g)))})},iz=(e,s)=>{az(e).each(i=>{p1(e,i.element,s.event.eventType,s.event.interactionEvent)})},az=e=>Yn.getState(e).bind(Ro.getHighlighted).bind(Ro.getHighlighted),cz=e=>Yt(e.element,Yy)?F.some(e.element):Es(e.element,"."+Yy),vB=(e,s,i)=>{q3(e).each(l=>{A8(l,i),cz(s).each(x=>{Pr(x,"id").each(w=>Ee(l.element,"aria-controls",w))})}),Ee(i.element,"aria-selected","true")},lz=(e,s,i)=>{Ee(i.element,"aria-selected","false")},uz=e=>{q3(e).each(s=>gn.focus(s))},yB=e=>cr.getExistingCoupled(e,"sandbox").bind(Sb).map(KE).map(i=>i.fetchPattern).getOr("");var yT;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(yT||(yT={}));const _B=(e,s,i,l,g)=>{const x=i.shared.providers,w=D=>g?{...D,shortcut:F.none(),icon:D.text.isSome()?F.none():D.icon}:D;switch(e.type){case"menuitem":return vL(e).fold(Kg,D=>F.some(HV(w(D),s,x,l)));case"nestedmenuitem":return X8(e).fold(Kg,D=>F.some(VV(w(D),s,x,l,g)));case"togglemenuitem":return Q8(e).fold(Kg,D=>F.some(zV(w(D),s,x,l)));case"separator":return cL(e).fold(Kg,D=>F.some(IR(D)));case"fancymenuitem":return K8(e).fold(Kg,D=>WV(D,i));default:return console.error("Unknown item in general menu",e),F.none()}},dz=(e,s,i,l,g,x,w)=>{const D=l===1,P=!D||Xw(e);return ku(Gt(e,I=>{switch(I.type){case"separator":return lL(I).fold(Kg,V=>F.some(IR(V)));case"cardmenuitem":return Z8(I).fold(Kg,V=>F.some(UV({...V,onAction:Z=>{V.onAction(Z),i(V.value,V.meta)}},g,x,{itemBehaviours:aT(V.meta,x,F.none()),cardText:{matchText:s,highlightOn:w}})));case"autocompleteitem":default:return N8(I).fold(Kg,V=>F.some(bT(V,s,D,"normal",i,g,x,P)))}}))},xB=(e,s,i,l,g,x)=>{const w=Xw(s),D=ku(Gt(s,V=>{const Z=Q=>g?!ho(Q,"text"):w,J=Q=>_B(Q,i,l,Z(Q),g);return V.type==="nestedmenuitem"&&V.getSubmenuItems().length<=0?J({...V,enabled:!1}):J(V)})),P=sz(x);return(g?eL:xv)(e,w,D,1,P)},zR=e=>gv.singleData(e.value,e),wB=(e,s,i,l)=>{const g=a_(s,l),x=yv(l);return{data:zR({...e,movement:g,menuBehaviours:eC.unnamedEvents(s!=="auto"?[]:[ps((w,D)=>{hR(w,4,x.item).each(({numColumns:P,numRows:I})=>{fn.setGridSize(w,I,P)})})])}),menu:{markers:yv(l),fakeFocus:i===yT.ContentFocus}}},fz=e=>dh.create(At.fromDom(e.startContainer),e.startOffset,At.fromDom(e.endContainer),e.endOffset),hz={register:(e,s)=>{const i=Ue("autocompleter"),l=an(!1),g=an(!1),x=ds(),w=ai(qs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:pe([Fn("dismissAutocompleter",[Xt(Ql(),()=>Z()),Xt(cm(),(yt,kt)=>{Pr(kt.event.target,"id").each(Ct=>Ee(At.fromDom(e.getBody()),"aria-activedescendant",Ct))})])]),lazySink:s.getSink})),D=()=>qs.isOpen(w),P=g.get,I=()=>{if(D()){qs.hide(w),e.dom.remove(i,!1);const yt=At.fromDom(e.getBody());Pr(yt,"aria-owns").filter(kt=>kt===i).each(()=>{js(yt,"aria-owns"),js(yt,"aria-activedescendant")})}},V=()=>qs.getContent(w).bind(yt=>co(yt.components(),0)),Z=()=>e.execCommand("mceAutocompleterClose"),J=yt=>{const kt=vs(yt,Ct=>F.from(Ct.columns)).getOr(1);return wt(yt,Ct=>{const ne=Ct.items;return dz(ne,Ct.matchText,(ee,ae)=>{const we={hide:()=>Z(),reload:te=>{I(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:te})}};e.execCommand("mceAutocompleterRefreshActiveRange"),x.get().each(te=>{l.set(!0),Ct.onAction(we,te,ee,ae),l.set(!1)})},kt,xh.BUBBLE_TO_SANDBOX,s,Ct.highlightOn)})},Q=(yt,kt)=>{const Ct=vs(yt,ne=>F.from(ne.columns)).getOr(1);qs.showMenuAt(w,{anchor:{type:"selection",getSelection:()=>x.get().map(fz),root:At.fromDom(e.getBody())}},wB(xv("autocompleter-value",!0,kt,Ct,{menuType:"normal"}),Ct,yT.ContentFocus,"normal")),V().each(Ro.highlightFirst)},ot=yt=>{const kt=J(yt);kt.length>0?(Q(yt,kt),Ee(At.fromDom(e.getBody()),"aria-owns",i),e.inline||dt()):I()},dt=()=>{e.dom.get(i)&&e.dom.remove(i,!1);const yt=e.getDoc().documentElement,kt=e.selection.getNode(),Ct=Fp(w.element);Ca(Ct,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${kt.offsetTop}px`,left:`${kt.offsetLeft}px`}),e.dom.add(yt,Ct.dom),Es(Ct,'[role="menu"]').each(ne=>{_o(ne,"position"),_o(ne,"max-height")})};e.on("AutocompleterStart",({lookupData:yt})=>{g.set(!0),l.set(!1),ot(yt)}),e.on("AutocompleterUpdate",({lookupData:yt})=>ot(yt)),e.on("AutocompleterUpdateActiveRange",({range:yt})=>x.set(yt)),e.on("AutocompleterEnd",()=>{I(),g.set(!1),l.set(!1),x.clear()});const Pt={cancelIfNecessary:Z,isMenuOpen:D,isActive:P,isProcessingAction:l.get,getMenu:V};b8.setup(Pt,e)}},mz=["visible","hidden","clip"],WR=e=>tl(e).length>0&&!go(mz,e),CB=e=>{if(kd(e)){const s=Fs(e,"overflow-x"),i=Fs(e,"overflow-y");return WR(s)||WR(i)}else return!1},SB=e=>{const s=N2(e,CB),i=s.length===0?Rf(e).map(Ec).map(l=>N2(l,CB)).getOr([]):s;return ks(i).map(l=>({element:l,others:i.slice(1)}))},Dv=(e,s)=>Cb(e)?SB(s):F.none(),Rv=e=>{const s=[...Gt(e.others,Hs),Ni()];return v0(Hs(e.element),s)},fC=(e,s,i)=>td(e,s,i).isSome(),EB=(e,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...x)=>{i=setTimeout(()=>{e.apply(null,x),i=null},s)}}},TB=5,gz=400,AB=e=>{const s=e.raw;return s.touches===void 0||s.touches.length!==1?F.none():F.some(s.touches[0])},pz=(e,s)=>{const i=Math.abs(e.clientX-s.x),l=Math.abs(e.clientY-s.y);return i>TB||l>TB},bz=e=>{const s=ds(),i=an(!1),l=EB(I=>{e.triggerEvent(br(),I),i.set(!0)},gz),g=I=>(AB(I).each(V=>{l.cancel();const Z={x:V.clientX,y:V.clientY,target:I.target};l.schedule(I),i.set(!1),s.set(Z)}),F.none()),x=I=>(l.cancel(),AB(I).each(V=>{s.on(Z=>{pz(V,Z)&&s.clear()})}),F.none()),w=I=>{l.cancel();const V=Z=>No(Z.target,I.target);return s.get().filter(V).map(Z=>i.get()?(I.prevent(),!1):e.triggerEvent(Bi(),I))},D=ju([{key:dl(),value:g},{key:Rp(),value:x},{key:Yl(),value:w}]);return{fireIfReady:(I,V)=>Me(D,V).bind(Z=>Z(I))}},vz=e=>e.raw.which===Py[0]&&!go(["input","textarea"],xa(e.target))&&!fC(e.target,'[contenteditable="true"]'),yz=(e,s)=>{const i={stopBackspace:!0,...s},l=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],g=bz(i),x=Gt(l.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Q=>$i(e,Q,ot=>{g.fireIfReady(ot,Q).each(Pt=>{Pt&&ot.kill()}),i.triggerEvent(Q,ot)&&ot.kill()})),w=ds(),D=$i(e,"paste",Q=>{g.fireIfReady(Q,"paste").each(dt=>{dt&&Q.kill()}),i.triggerEvent("paste",Q)&&Q.kill(),w.set(setTimeout(()=>{i.triggerEvent(Vd(),Q)},0))}),P=$i(e,"keydown",Q=>{i.triggerEvent("keydown",Q)?Q.kill():i.stopBackspace&&vz(Q)&&Q.prevent()}),I=$i(e,"focusin",Q=>{i.triggerEvent("focusin",Q)&&Q.kill()}),V=ds(),Z=$i(e,"focusout",Q=>{i.triggerEvent("focusout",Q)&&Q.kill(),V.set(setTimeout(()=>{i.triggerEvent(Ku(),Q)},0))});return{unbind:()=>{Ae(x,Q=>{Q.unbind()}),P.unbind(),I.unbind(),Z.unbind(),D.unbind(),w.on(clearTimeout),V.on(clearTimeout)}}},kB=(e,s)=>{const i=Me(e,"target").getOr(s);return an(i)},_z=(e,s)=>{const i=an(!1),l=an(!1);return{stop:()=>{i.set(!0)},cut:()=>{l.set(!0)},isStopped:i.get,isCut:l.get,event:e,setSource:s.set,getSource:s.get}},xz=e=>{const s=an(!1);return{stop:()=>{s.set(!0)},cut:ft,isStopped:s.get,isCut:pn,event:e,setSource:pt("Cannot set source of a broadcasted event"),getSource:pt("Cannot get source of a broadcasted event")}},hC=ul.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),UR=(e,s,i,l,g,x)=>{const w=e(s,l),D=_z(i,g);return w.fold(()=>(x.logEventNoHandlers(s,l),hC.complete()),P=>{const I=P.descHandler;return sh(I)(D),D.isStopped()?(x.logEventStopped(s,P.element,I.purpose),hC.stopped()):D.isCut()?(x.logEventCut(s,P.element,I.purpose),hC.complete()):Cc(P.element).fold(()=>(x.logNoParent(s,P.element,I.purpose),hC.complete()),Z=>(x.logEventResponse(s,P.element,I.purpose),hC.resume(Z)))})},OB=(e,s,i,l,g,x)=>UR(e,s,i,l,g,x).fold(Ye,w=>OB(e,s,i,w,g,x),pn),wz=(e,s,i,l,g)=>{const x=kB(i,l);return UR(e,s,i,l,x,g)},Cz=(e,s,i)=>{const l=xz(s);return Ae(e,g=>{const x=g.descHandler;sh(x)(l)}),l.isStopped()},Sz=(e,s,i,l)=>DB(e,s,i,i.target,l),DB=(e,s,i,l,g)=>{const x=kB(i,l);return OB(e,s,i,l,x,g)},jR=(e,s)=>({element:e,descHandler:s}),Ez=(e,s)=>({id:e,descHandler:s}),Tz=()=>{const e={},s=(w,D,P)=>{Oo(P,(I,V)=>{const Z=e[V]!==void 0?e[V]:{};Z[D]=Zp(I,w),e[V]=Z})},i=(w,D)=>nh(D).bind(P=>Me(w,P)).map(P=>jR(D,P));return{registerId:s,unregisterId:w=>{Oo(e,(D,P)=>{ho(D,w)&&delete D[w]})},filterByType:w=>Me(e,w).map(D=>Wa(D,(P,I)=>Ez(I,P))).getOr([]),find:(w,D,P)=>Me(e,D).bind(I=>$d(P,V=>i(I,V),w))}},Az=()=>{const e=Tz(),s={},i=I=>{const V=I.element;return nh(V).getOrThunk(()=>cx("uid-",I.element))},l=(I,V)=>{const Z=s[V];if(Z===I)x(I);else throw new Error('The tagId "'+V+'" is already used by: '+su(Z.element)+`
Cannot use it for: `+su(I.element)+`
The conflicting element is`+(Ur(Z.element)?" ":" not ")+"already in the DOM")},g=I=>{const V=i(I);Wr(s,V)&&l(I,V);const Z=[I];e.registerId(Z,V,I.events),s[V]=I},x=I=>{nh(I.element).each(V=>{delete s[V],e.unregisterId(V)})};return{find:(I,V,Z)=>e.find(I,V,Z),filter:I=>e.filterByType(I),register:g,unregister:x,getById:I=>Me(s,I)}},hf=Ir({name:"Container",factory:e=>{const{attributes:s,...i}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:e.components,behaviours:gh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Rt("components",[]),qr("containerBehaviours",[]),Rt("events",{}),Rt("domModification",{}),Rt("eventOrder",{})]}),ZR=e=>{const s=yt=>Cc(e.element).fold(Ye,kt=>No(yt,kt)),i=Az(),l=(yt,kt)=>i.find(s,yt,kt),g=yz(e.element,{triggerEvent:(yt,kt)=>W0(yt,kt.target,Ct=>Sz(l,yt,kt,Ct))}),x={debugInfo:vt("real"),triggerEvent:(yt,kt,Ct)=>{W0(yt,kt,ne=>DB(l,yt,Ct,kt,ne))},triggerFocus:(yt,kt)=>{nh(yt).fold(()=>{wl(yt)},Ct=>{W0(Jl(),yt,ne=>(wz(l,Jl(),{originator:kt,kill:ft,prevent:ft,target:yt},yt,ne),!1))})},triggerEscape:(yt,kt)=>{x.triggerEvent("keydown",yt.element,kt.event)},getByUid:yt=>dt(yt),getByDom:yt=>Pt(yt),build:ai,buildOrPatch:Ja,addToGui:yt=>{P(yt)},removeFromGui:yt=>{I(yt)},addToWorld:yt=>{w(yt)},removeFromWorld:yt=>{D(yt)},broadcast:yt=>{J(yt)},broadcastOn:(yt,kt)=>{Q(yt,kt)},broadcastEvent:(yt,kt)=>{ot(yt,kt)},isConnected:Ye},w=yt=>{yt.connect(x),Jr(yt.element)||(i.register(yt),Ae(yt.components(),w),x.triggerEvent(Pp(),yt.element,{target:yt.element}))},D=yt=>{Jr(yt.element)||(Ae(yt.components(),D),i.unregister(yt)),yt.disconnect()},P=yt=>{nd(e,yt)},I=yt=>{ef(yt)},V=()=>{g.unbind(),oa(e.element)},Z=yt=>{const kt=i.filter($c());Ae(kt,Ct=>{const ne=Ct.descHandler;sh(ne)(yt)})},J=yt=>{Z({universal:!0,data:yt})},Q=(yt,kt)=>{Z({universal:!1,channels:yt,data:kt})},ot=(yt,kt)=>{const Ct=i.filter(yt);return Cz(Ct,kt)},dt=yt=>i.getById(yt).fold(()=>Ln.error(new Error('Could not find component with uid: "'+yt+'" in system.')),Ln.value),Pt=yt=>{const kt=nh(yt).getOr("not found");return dt(kt)};return w(e),{root:e,element:e.element,destroy:V,add:P,remove:I,getByUid:dt,getByDom:Pt,addToWorld:w,removeFromWorld:D,broadcast:J,broadcastOn:Q,broadcastEvent:ot}},Oz=(e,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Gt(e.items,s.interpreter)}),RB=vt([Rt("prefix","form-field"),qr("fieldBehaviours",[lo,Ie])]),Dz=vt([vc({schema:[oe("dom")],name:"label"}),vc({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[oe("text")],name:"aria-descriptor"}),Uo({factory:{sketch:e=>{const s=sx(e,["factory"]);return e.factory.sketch(s)}},schema:[oe("factory")],name:"field"})]),Rz=(e,s,i,l)=>{const g=Kr(e.fieldBehaviours,[lo.config({find:D=>Go(D,e,"field")}),Ie.config({store:{mode:"manual",getValue:D=>lo.getCurrent(D).bind(Ie.getValue),setValue:(D,P)=>{lo.getCurrent(D).each(I=>{Ie.setValue(I,P)})}}})]),x=jo([ps((D,P)=>{const I=hw(D,e,["label","field","aria-descriptor"]);I.field().each(V=>{const Z=Ue(e.prefix);I.label().each(J=>{Ee(J.element,"for",Z),Ee(V.element,"id",Z)}),I["aria-descriptor"]().each(J=>{const Q=Ue(e.prefix);Ee(J.element,"id",Q),Ee(V.element,"aria-describedby",Q)})})})]),w={getField:D=>Go(D,e,"field"),getLabel:D=>Go(D,e,"label")};return{uid:e.uid,dom:e.dom,components:s,behaviours:g,events:x,apis:w}},Ho=Zi({name:"FormField",configFields:RB(),partFields:Dz(),factory:Rz,apis:{getField:(e,s)=>e.getField(s),getLabel:(e,s)=>e.getLabel(s)}});var Mz=Object.freeze({__proto__:null,exhibit:(e,s)=>Ar({attributes:ju([{key:s.tabAttr,value:"true"}])})}),Pz=[Rt("tabAttr","data-alloy-tabstop")];const As=ui({fields:Pz,name:"tabstopping",active:Mz});var Nz=tinymce.util.Tools.resolve("tinymce.html.Entities");const Ab=(e,s,i,l)=>{const g=Bz(e,s,i,l);return Ho.sketch(g)},Lz=(e,s)=>Ab(e,s,[],[]),Bz=(e,s,i,l)=>({dom:MB(i),components:e.toArray().concat([s]),fieldBehaviours:pe(l)}),Iz=()=>MB([]),MB=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Mv=(e,s)=>Ho.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[rr(s.translate(e))]}),oc=Ue("form-component-change"),Mm=Ue("form-close"),Xg=Ue("form-cancel"),Eh=Ue("form-action"),mC=Ue("form-submit"),GR=Ue("form-block"),qR=Ue("form-unblock"),PB=Ue("form-tabchange"),NB=Ue("form-resize"),$z=(e,s,i)=>{const l=e.label.map(Q=>Mv(Q,s)),g=s.icons(),x=Q=>{var ot;return(ot=g[Q])!==null&&ot!==void 0?ot:Q},w=Q=>(ot,dt)=>{td(dt.event.target,"[data-collection-item-value]").each(Pt=>{Q(ot,dt,Pt,$s(Pt,"data-collection-item-value"))})},D=(Q,ot)=>{const dt=Gt(ot,kt=>{const Ct=yu.translate(kt.text),ne=e.columns===1?`<div class="tox-collection__item-label">${Ct}</div>`:"",ee=`<div class="tox-collection__item-icon">${x(kt.icon)}</div>`,ae={_:" "," - ":" ","-":" "},we=Ct.replace(/\_| \- |\-/g,An=>ae[An]),te=s.isDisabled()?" tox-collection__item--state-disabled":"";return`<div data-mce-tooltip="${we}" class="tox-collection__item${te}" tabindex="-1" data-collection-item-value="${Nz.encodeAllRaw(kt.value)}" aria-label="${we}">${ee}${ne}</div>`}),Pt=e.columns!=="auto"&&e.columns>1?Bo(dt,e.columns):[dt],yt=Gt(Pt,kt=>`<div class="tox-collection__group">${kt.join("")}</div>`);Xu(Q.element,yt.join(""))},P=w((Q,ot,dt,Pt)=>{ot.stop(),s.isDisabled()||on(Q,Eh,{name:e.name,value:Pt})}),I=[Xt(Xl(),w((Q,ot,dt)=>{wl(dt)})),Xt(Gu(),P),Xt(Bi(),P),Xt(Bc(),w((Q,ot,dt)=>{Es(Q.element,"."+vv).each(Pt=>{Ot(Pt,vv)}),ut(dt,vv)})),Xt(rm(),w(Q=>{Es(Q.element,"."+vv).each(ot=>{Ot(ot,vv),K0(ot)})})),Oa(w((Q,ot,dt,Pt)=>{on(Q,Eh,{name:e.name,value:Pt})}))],V=(Q,ot)=>Gt(Ma(Q.element,".tox-collection__item"),ot),Z=Ho.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:wn},behaviours:pe([En.config({disabled:s.isDisabled,onDisabled:Q=>{V(Q,ot=>{ut(ot,"tox-collection__item--state-disabled"),Ee(ot,"aria-disabled",!0)})},onEnabled:Q=>{V(Q,ot=>{Ot(ot,"tox-collection__item--state-disabled"),js(ot,"aria-disabled")})}}),di(),Bn.config({}),qi.config({...s.tooltips.getConfig({tooltipText:"",onShow:Q=>{Es(Q.element,"."+vv+"[data-mce-tooltip]").each(ot=>{Pr(ot,"data-mce-tooltip").each(dt=>{qi.setComponents(Q,s.tooltips.getComponents({tooltipText:dt}))})})}}),mode:"children-keyboard-focus",anchor:Q=>({type:"node",node:Es(Q.element,"."+vv).orThunk(()=>FS(".tox-collection__item")),root:Q.element,layouts:{onLtr:vt([ar,li,Dr,us,yr,Lr]),onRtl:vt([ar,li,Dr,us,yr,Lr])},bubble:du(0,-2,{})})}),Ie.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(Q,ot)=>{D(Q,ot),e.columns==="auto"&&hR(Q,5,"tox-collection__item").each(({numRows:dt,numColumns:Pt})=>{fn.setGridSize(Q,dt,Pt)}),zn(Q,NB)}}),As.config({}),fn.config(DV(e.columns,"normal")),Fn("collection-events",I)]),eventOrder:{[ka()]:["disabling","alloy.base.behaviour","collection-events"],[Bc()]:["collection-events","tooltipping"]}});return Ab(l,Z,["tox-form__group--collection"],[])},Fz=["input","textarea"],LB=e=>{const s=xa(e);return go(Fz,s)},BB=(e,s)=>{const i=s.getRoot(e).getOr(e.element);Ot(i,s.invalidClass),s.notify.each(l=>{LB(e.element)&&Ee(e.element,"aria-invalid",!1),l.getContainer(e).each(g=>{Xu(g,l.validHtml)}),l.onValid(e)})},IB=(e,s,i,l)=>{const g=s.getRoot(e).getOr(e.element);ut(g,s.invalidClass),s.notify.each(x=>{LB(e.element)&&Ee(e.element,"aria-invalid",!0),x.getContainer(e).each(w=>{Xu(w,l)}),x.onInvalid(e,l)})},$B=(e,s,i)=>s.validator.fold(()=>Hi.pure(Ln.value(!0)),l=>l.validate(e)),_T=(e,s,i)=>(s.notify.each(l=>{l.onValidate(e)}),$B(e,s).map(l=>e.getSystem().isConnected()?l.fold(g=>(IB(e,s,i,g),Ln.error(g)),g=>(BB(e,s),Ln.value(g))):Ln.error("No longer in system")));var Pv=Object.freeze({__proto__:null,markValid:BB,markInvalid:IB,query:$B,run:_T,isInvalid:(e,s)=>{const i=s.getRoot(e).getOr(e.element);return Yt(i,s.invalidClass)}}),FB=Object.freeze({__proto__:null,events:(e,s)=>e.validator.map(i=>jo([Xt(i.onEvent,l=>{_T(l,e,s).get(wn)})].concat(i.validateOnLoad?[ps(l=>{_T(l,e,s).get(ft)})]:[]))).getOr({})}),HB=[oe("invalidClass"),Rt("getRoot",F.none),Li("notify",[Rt("aria","alert"),Rt("getContainer",F.none),Rt("validHtml",""),po("onValid"),po("onInvalid"),po("onValidate")]),Li("validator",[oe("validate"),Rt("onEvent","input"),Rt("validateOnLoad",!0)])];const md=ui({fields:HB,name:"invalidating",active:FB,apis:Pv,extra:{validation:e=>s=>{const i=Ie.getValue(s);return Hi.pure(e(i))}}});var pC=Object.freeze({__proto__:null,events:()=>jo([M0(ix(),Ye)]),exhibit:()=>Ar({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const bC=ui({fields:[],name:"unselecting",active:pC}),Hz=(e,s)=>hd.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:pe([uf.button(s.providers.isDisabled),di(),bC.config({}),As.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>Hi.nu(l=>e.fetch(l)).map(l=>F.from(zR(ts(pT(Ue("menu-value"),l,g=>{e.onItemAction(i,g)},e.columns,e.presets,xh.CLOSE_ON_EXECUTE,pn,s.providers),{movement:a_(e.columns,e.presets)})))),parts:{menu:Kw(!1,1,e.presets)}}),VB=Ue("color-input-change"),zB=Ue("color-swatch-change"),WB=Ue("color-picker-cancel"),Vz=(e,s,i,l)=>{const g=Ho.parts.field({factory:_v,inputClasses:["tox-textfield"],data:l,onSetValue:I=>md.run(I).get(ft),inputBehaviours:pe([En.config({disabled:s.providers.isDisabled}),di(),As.config({}),md.config({invalidClass:"tox-textbox-field-invalid",getRoot:I=>nl(I.element),notify:{onValid:I=>{const V=Ie.getValue(I);on(I,VB,{color:V})}},validator:{validateOnLoad:!1,validate:I=>{const V=Ie.getValue(I);if(V.length===0)return Hi.pure(Ln.value(!0));{const Z=At.fromTag("span");Pn(Z,"background-color",V);const J=Qr(Z,"background-color").fold(()=>Ln.error("blah"),Q=>Ln.value(V));return Hi.pure(J)}}}})]),selectOnFocus:!1}),x=e.label.map(I=>Mv(I,s.providers)),w=(I,V)=>{on(I,zB,{value:V})},D=(I,V)=>{P.getOpt(I).each(Z=>{V==="custom"?i.colorPicker(J=>{J.fold(()=>zn(Z,WB),Q=>{w(Z,Q),fT(e.storageKey,Q)})},"#ffffff"):V==="remove"?w(Z,""):w(Z,V)})},P=Fo(Hz({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[yr,Dr,ar],onLtr:()=>[Dr,yr,ar]},components:[],fetch:RR(i.getColors(e.storageKey),e.storageKey,i.hasCustomColors()),columns:i.getColorCols(e.storageKey),presets:"color",onItemAction:D},s));return Ho.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:x.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[g,P.asSpec()]}]),fieldBehaviours:pe([Fn("form-field-events",[Xt(VB,(I,V)=>{P.getOpt(I).each(Z=>{Pn(Z.element,"background-color",V.event.color)}),on(I,oc,{name:e.name})}),Xt(zB,(I,V)=>{Ho.getField(I).each(Z=>{Ie.setValue(Z,V.event.value),lo.getCurrent(I).each(gn.focus)})}),Xt(WB,(I,V)=>{Ho.getField(I).each(Z=>{lo.getCurrent(I).each(gn.focus)})})])])})},wT=vc({schema:[oe("dom")],name:"label"}),kb=e=>vc({name:""+e+"-edge",overrides:s=>s.model.manager.edgeActions[e].fold(()=>({}),l=>({events:jo([$p(dl(),(g,x,w)=>l(g,w),[s]),$p(ia(),(g,x,w)=>l(g,w),[s]),$p(xg(),(g,x,w)=>{w.mouseIsDown.get()&&l(g,w)},[s])])}))}),KR=kb("top-left"),zz=kb("top"),Wz=kb("top-right"),Uz=kb("right"),UB=kb("bottom-right"),jz=kb("bottom"),Zz=kb("bottom-left"),Gz=kb("left"),jB=Uo({name:"thumb",defaults:vt({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:jo([eu(dl(),e,"spectrum"),eu(Rp(),e,"spectrum"),eu(Yl(),e,"spectrum"),eu(ia(),e,"spectrum"),eu(xg(),e,"spectrum"),eu(u1(),e,"spectrum")])})}),CT=e=>Vg(e.event),qz=Uo({schema:[se("mouseIsDown",()=>an(!1))],name:"spectrum",overrides:e=>{const i=e.model.manager,l=(g,x)=>i.getValueFromEvent(x).map(w=>i.setValueFrom(g,e,w));return{behaviours:pe([fn.config({mode:"special",onLeft:(g,x)=>i.onLeft(g,e,CT(x)),onRight:(g,x)=>i.onRight(g,e,CT(x)),onUp:(g,x)=>i.onUp(g,e,CT(x)),onDown:(g,x)=>i.onDown(g,e,CT(x))}),As.config({}),gn.config({})]),events:jo([Xt(dl(),l),Xt(Rp(),l),Xt(ia(),l),Xt(xg(),(g,x)=>{e.mouseIsDown.get()&&l(g,x)})])}}});var Kz=[wT,Gz,Uz,zz,jz,KR,Wz,Zz,UB,jB,qz];const vC=vt("slider.change.value"),ZB=e=>e.type.indexOf("touch")!==-1,ST=e=>{const s=e.event.raw;if(ZB(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?F.some(i.touches[0]).map(l=>xs(l.clientX,l.clientY)):F.none()}else{const i=s;return i.clientX!==void 0?F.some(i).map(l=>xs(l.clientX,l.clientY)):F.none()}},Yz="top",Xz="right",Jz="bottom",Qz="left",Nv=e=>e.model.minX,Ob=e=>e.model.minY,Jg=e=>e.model.minX-1,ET=e=>e.model.minY-1,Lv=e=>e.model.maxX,Bv=e=>e.model.maxY,Iv=e=>e.model.maxX+1,Gc=e=>e.model.maxY+1,TT=(e,s,i)=>s(e)-i(e),AT=e=>TT(e,Lv,Nv),YR=e=>TT(e,Bv,Ob),GB=e=>AT(e)/2,qB=e=>YR(e)/2,c_=(e,s)=>s?e.stepSize*e.speedMultiplier:e.stepSize,XR=e=>e.snapToGrid,JR=e=>e.snapStart,KB=e=>e.rounded,kT=(e,s)=>e[s+"-edge"]!==void 0,QR=e=>kT(e,Qz),YB=e=>kT(e,Xz),tM=e=>kT(e,Yz),eM=e=>kT(e,Jz),Pm=e=>e.model.value.get(),Db=(e,s)=>({x:e,y:s}),mf=(e,s)=>{on(e,vC(),{value:s})},tW=(e,s)=>{mf(e,Db(Jg(s),ET(s)))},eW=(e,s)=>{mf(e,ET(s))},nW=(e,s)=>{mf(e,Db(GB(s),ET(s)))},oW=(e,s)=>{mf(e,Db(Iv(s),ET(s)))},nM=(e,s)=>{mf(e,Iv(s))},sW=(e,s)=>{mf(e,Db(Iv(s),qB(s)))},XB=(e,s)=>{mf(e,Db(Iv(s),Gc(s)))},rW=(e,s)=>{mf(e,Gc(s))},iW=(e,s)=>{mf(e,Db(GB(s),Gc(s)))},aW=(e,s)=>{mf(e,Db(Jg(s),Gc(s)))},cW=(e,s)=>{mf(e,Jg(s))},lW=(e,s)=>{mf(e,Db(Jg(s),qB(s)))},oM=(e,s,i,l)=>e<s?e:e>i?i:e===s?s-1:Math.max(s,e-l),sM=(e,s,i,l)=>e>i?e:e<s?s:e===i?i+1:Math.min(i,e+l),rM=(e,s,i)=>Math.max(s,Math.min(i,e)),JB=(e,s,i,l,g)=>g.fold(()=>{const x=e-s,w=Math.round(x/l)*l;return rM(s+w,s-1,i+1)},x=>{const w=(e-x)%l,D=Math.round(w/l),P=Math.floor((e-x)/l),I=Math.floor((i-x)/l),V=Math.min(I,P+D),Z=x+V*l;return Math.max(x,Z)}),uW=(e,s,i)=>Math.min(i,Math.max(e,s))-s,QB=e=>{const{min:s,max:i,range:l,value:g,step:x,snap:w,snapStart:D,rounded:P,hasMinEdge:I,hasMaxEdge:V,minBound:Z,maxBound:J,screenRange:Q}=e,ot=I?s-1:s,dt=V?i+1:i;if(g<Z)return ot;if(g>J)return dt;{const Pt=uW(g,Z,J),yt=rM(Pt/Q*l+s,ot,dt);return w&&yt>=s&&yt<=i?JB(yt,s,i,x,D):P?Math.round(yt):yt}},tI=e=>{const{min:s,max:i,range:l,value:g,hasMinEdge:x,hasMaxEdge:w,maxBound:D,maxOffset:P,centerMinEdge:I,centerMaxEdge:V}=e;return g<s?x?0:I:g>i?w?D:V:(g-s)/l*P},iM="top",eI="right",nI="bottom",OT="left",oI="width",sI="height",gf=e=>e.element.dom.getBoundingClientRect(),pf=(e,s)=>e[s],yC=e=>{const s=gf(e);return pf(s,OT)},rI=e=>{const s=gf(e);return pf(s,eI)},DT=e=>{const s=gf(e);return pf(s,iM)},iI=e=>{const s=gf(e);return pf(s,nI)},aI=e=>{const s=gf(e);return pf(s,oI)},RT=e=>{const s=gf(e);return pf(s,sI)},Nm=(e,s,i)=>(e+s)/2-i,cI=(e,s)=>{const i=gf(e),l=gf(s),g=pf(i,OT),x=pf(i,eI),w=pf(l,OT);return Nm(g,x,w)},l_=(e,s)=>{const i=gf(e),l=gf(s),g=pf(i,iM),x=pf(i,nI),w=pf(l,iM);return Nm(g,x,w)},MT=(e,s)=>{on(e,vC(),{value:s})},_C=(e,s,i)=>{const l={min:Nv(s),max:Lv(s),range:AT(s),value:i,step:c_(s),snap:XR(s),snapStart:JR(s),rounded:KB(s),hasMinEdge:QR(s),hasMaxEdge:YB(s),minBound:yC(e),maxBound:rI(e),screenRange:aI(e)};return QB(l)},dW=(e,s,i)=>{const l=_C(e,s,i);return MT(e,l),l},fW=(e,s)=>{const i=Nv(s);MT(e,i)},hW=(e,s)=>{const i=Lv(s);MT(e,i)},lI=(e,s,i,l)=>{const x=(e>0?sM:oM)(Pm(i),Nv(i),Lv(i),c_(i,l));return MT(s,x),F.some(x)},uI=e=>(s,i,l)=>lI(e,s,i,l).map(Ye),aM=e=>ST(e).map(i=>i.left),cM=(e,s,i,l,g)=>{const w=aI(e),D=l.bind(V=>F.some(cI(V,e))).getOr(0),P=g.bind(V=>F.some(cI(V,e))).getOr(w),I={min:Nv(s),max:Lv(s),range:AT(s),value:i,hasMinEdge:QR(s),hasMaxEdge:YB(s),minBound:yC(e),minOffset:0,maxBound:rI(e),maxOffset:w,centerMinEdge:D,centerMaxEdge:P};return tI(I)},xC=(e,s,i,l,g,x)=>{const w=cM(s,x,i,l,g);return yC(s)-yC(e)+w},mW=(e,s,i,l)=>{const g=Pm(i),x=xC(e,l.getSpectrum(e),g,l.getLeftEdge(e),l.getRightEdge(e),i),w=ni(s.element)/2;Pn(s.element,"left",x-w+"px")},_u=uI(-1),gW=uI(1),pW=F.none,dI=F.none,fI={"top-left":F.none(),top:F.none(),"top-right":F.none(),right:F.some(nM),"bottom-right":F.none(),bottom:F.none(),"bottom-left":F.none(),left:F.some(cW)};var bW=Object.freeze({__proto__:null,setValueFrom:dW,setToMin:fW,setToMax:hW,findValueOfOffset:_C,getValueFromEvent:aM,findPositionOfValue:xC,setPositionFromValue:mW,onLeft:_u,onRight:gW,onUp:pW,onDown:dI,edgeActions:fI});const PT=(e,s)=>{on(e,vC(),{value:s})},lM=(e,s,i)=>{const l={min:Ob(s),max:Bv(s),range:YR(s),value:i,step:c_(s),snap:XR(s),snapStart:JR(s),rounded:KB(s),hasMinEdge:tM(s),hasMaxEdge:eM(s),minBound:DT(e),maxBound:iI(e),screenRange:RT(e)};return QB(l)},vW=(e,s,i)=>{const l=lM(e,s,i);return PT(e,l),l},yW=(e,s)=>{const i=Ob(s);PT(e,i)},_W=(e,s)=>{const i=Bv(s);PT(e,i)},xW=(e,s,i,l)=>{const x=(e>0?sM:oM)(Pm(i),Ob(i),Bv(i),c_(i,l));return PT(s,x),F.some(x)},uM=e=>(s,i,l)=>xW(e,s,i,l).map(Ye),wW=e=>ST(e).map(i=>i.top),CW=(e,s,i,l,g)=>{const w=RT(e),D=l.bind(V=>F.some(l_(V,e))).getOr(0),P=g.bind(V=>F.some(l_(V,e))).getOr(w),I={min:Ob(s),max:Bv(s),range:YR(s),value:i,hasMinEdge:tM(s),hasMaxEdge:eM(s),minBound:DT(e),minOffset:0,maxBound:iI(e),maxOffset:w,centerMinEdge:D,centerMaxEdge:P};return tI(I)},dM=(e,s,i,l,g,x)=>{const w=CW(s,x,i,l,g);return DT(s)-DT(e)+w},hI=(e,s,i,l)=>{const g=Pm(i),x=dM(e,l.getSpectrum(e),g,l.getTopEdge(e),l.getBottomEdge(e),i),w=fr(s.element)/2;Pn(s.element,"top",x-w+"px")},fM=F.none,SW=F.none,hM=uM(-1),u_=uM(1),mI={"top-left":F.none(),top:F.some(eW),"top-right":F.none(),right:F.none(),"bottom-right":F.none(),bottom:F.some(rW),"bottom-left":F.none(),left:F.none()};var gI=Object.freeze({__proto__:null,setValueFrom:vW,setToMin:yW,setToMax:_W,findValueOfOffset:lM,getValueFromEvent:wW,findPositionOfValue:dM,setPositionFromValue:hI,onLeft:fM,onRight:SW,onUp:hM,onDown:u_,edgeActions:mI});const wC=(e,s)=>{on(e,vC(),{value:s})},NT=(e,s)=>({x:e,y:s}),EW=(e,s,i)=>{const l=_C(e,s,i.left),g=lM(e,s,i.top),x=NT(l,g);return wC(e,x),x},LT=(e,s,i,l,g)=>{const x=e>0?sM:oM,w=s?Pm(l).x:x(Pm(l).x,Nv(l),Lv(l),c_(l,g)),D=s?x(Pm(l).y,Ob(l),Bv(l),c_(l,g)):Pm(l).y;return wC(i,NT(w,D)),F.some(w)},BT=(e,s)=>(i,l,g)=>LT(e,s,i,l,g).map(Ye),TW=(e,s)=>{const i=Nv(s),l=Ob(s);wC(e,NT(i,l))},pI=(e,s)=>{const i=Lv(s),l=Bv(s);wC(e,NT(i,l))},bI=e=>ST(e),mM=(e,s,i,l)=>{const g=Pm(i),x=xC(e,l.getSpectrum(e),g.x,l.getLeftEdge(e),l.getRightEdge(e),i),w=dM(e,l.getSpectrum(e),g.y,l.getTopEdge(e),l.getBottomEdge(e),i),D=ni(s.element)/2,P=fr(s.element)/2;Pn(s.element,"left",x-D+"px"),Pn(s.element,"top",w-P+"px")},vI=BT(-1,!1),_c=BT(1,!1),yI=BT(-1,!0),AW=BT(1,!0),kW={"top-left":F.some(tW),top:F.some(nW),"top-right":F.some(oW),right:F.some(sW),"bottom-right":F.some(XB),bottom:F.some(iW),"bottom-left":F.some(aW),left:F.some(lW)};var _I=Object.freeze({__proto__:null,setValueFrom:EW,setToMin:TW,setToMax:pI,getValueFromEvent:bI,setPositionFromValue:mM,onLeft:vI,onRight:_c,onUp:yI,onDown:AW,edgeActions:kW});const OW=[Rt("stepSize",1),Rt("speedMultiplier",10),Rt("onChange",ft),Rt("onChoose",ft),Rt("onInit",ft),Rt("onDragStart",ft),Rt("onDragEnd",ft),Rt("snapToGrid",!1),Rt("rounded",!0),So("snapStart"),jr("model",or("mode",{x:[Rt("minX",0),Rt("maxX",100),se("value",e=>an(e.mode.minX)),oe("getInitialValue"),Ts("manager",bW)],y:[Rt("minY",0),Rt("maxY",100),se("value",e=>an(e.mode.minY)),oe("getInitialValue"),Ts("manager",gI)],xy:[Rt("minX",0),Rt("maxX",100),Rt("minY",0),Rt("maxY",100),se("value",e=>an({x:e.mode.minX,y:e.mode.minY})),oe("getInitialValue"),Ts("manager",_I)]})),qr("sliderBehaviours",[fn,Ie]),se("mouseIsDown",()=>an(!1))],bf=Zi({name:"Slider",configFields:OW,partFields:Kz,factory:(e,s,i,l)=>{const g=ee=>ph(ee,e,"thumb"),x=ee=>ph(ee,e,"spectrum"),w=ee=>Go(ee,e,"left-edge"),D=ee=>Go(ee,e,"right-edge"),P=ee=>Go(ee,e,"top-edge"),I=ee=>Go(ee,e,"bottom-edge"),V=e.model,Z=V.manager,J=(ee,ae)=>{Z.setPositionFromValue(ee,ae,e,{getLeftEdge:w,getRightEdge:D,getTopEdge:P,getBottomEdge:I,getSpectrum:x})},Q=(ee,ae)=>{V.value.set(ae);const we=g(ee);J(ee,we)},ot=(ee,ae)=>{Q(ee,ae);const we=g(ee);return e.onChange(ee,we,ae),F.some(!0)},dt=ee=>{Z.setToMin(ee,e)},Pt=ee=>{Z.setToMax(ee,e)},yt=ee=>{const ae=()=>{Go(ee,e,"thumb").each(te=>{const An=V.value.get();e.onChoose(ee,te,An)})},we=e.mouseIsDown.get();e.mouseIsDown.set(!1),we&&ae()},kt=(ee,ae)=>{ae.stop(),e.mouseIsDown.set(!0),e.onDragStart(ee,g(ee))},Ct=(ee,ae)=>{ae.stop(),e.onDragEnd(ee,g(ee)),yt(ee)},ne=ee=>{Go(ee,e,"spectrum").map(fn.focusIn)};return{uid:e.uid,dom:e.dom,components:s,behaviours:Kr(e.sliderBehaviours,[fn.config({mode:"special",focusIn:ne}),Ie.config({store:{mode:"manual",getValue:ee=>V.value.get(),setValue:Q}}),bc.config({channels:{[Qx()]:{onReceive:yt}}})]),events:jo([Xt(vC(),(ee,ae)=>{ot(ee,ae.event.value)}),ps((ee,ae)=>{const we=V.getInitialValue();V.value.set(we);const te=g(ee);J(ee,te);const An=x(ee);e.onInit(ee,te,An,V.value.get())}),Xt(dl(),kt),Xt(Yl(),Ct),Xt(ia(),(ee,ae)=>{ne(ee),kt(ee,ae)}),Xt(u1(),Ct)]),apis:{resetToMin:dt,resetToMax:Pt,setValue:Q,refresh:J},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,s,i)=>{e.setValue(s,i)},resetToMin:(e,s)=>{e.resetToMin(s)},resetToMax:(e,s)=>{e.resetToMax(s)},refresh:(e,s)=>{e.refresh(s)}}}),IT=Ue("rgb-hex-update"),Th=Ue("slider-update"),$T=Ue("palette-update"),xI=(e,s)=>{const i=bf.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),l=bf.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return bf.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:vt(0)},components:[i,l],sliderBehaviours:pe([gn.config({})]),onChange:(g,x,w)=>{Ee(g.element,"aria-valuenow",Math.floor(360-w*3.6)),on(g,Th,{value:w})}})},CC="form",gM=[qr("formBehaviours",[Ie])],wI=e=>"<alloy.field."+e+">",DW=e=>{const s=(()=>{const x=[];return{field:(D,P)=>(x.push(D),nE(CC,wI(D),P)),record:vt(x)}})(),i=e(s),l=s.record(),g=Gt(l,x=>Uo({name:x,pname:wI(x)}));return Ey(CC,gM,g,MW,i)},RW=(e,s)=>e.fold(()=>Ln.error(s),Ln.value),MW=(e,s)=>({uid:e.uid,dom:e.dom,components:s,behaviours:Kr(e.formBehaviours,[Ie.config({store:{mode:"manual",getValue:i=>{const l=mw(i,e);return Co(l,(g,x)=>g().bind(w=>{const D=lo.getCurrent(w);return RW(D,new Error(`Cannot find a current component to extract the value from for form part '${x}': `+su(w.element)))}).map(Ie.getValue))},setValue:(i,l)=>{Oo(l,(g,x)=>{Go(i,e,x).each(w=>{lo.getCurrent(w).each(D=>{Ie.setValue(D,g)})})})}}})]),apis:{getField:(i,l)=>Go(i,e,l).bind(lo.getCurrent)}}),d_={getField:zc((e,s,i)=>e.getField(s,i)),sketch:DW},CI=Ue("valid-input"),SI=Ue("invalid-input"),pM=Ue("validating-input"),bM="colorcustom.rgb.",Lm=(e,s,i,l)=>{const g=(J,Q)=>md.config({invalidClass:s("invalid"),notify:{onValidate:ot=>{on(ot,pM,{type:J})},onValid:ot=>{on(ot,CI,{type:J,value:Ie.getValue(ot)})},onInvalid:ot=>{on(ot,SI,{type:J,value:Ie.getValue(ot)})}},validator:{validate:ot=>{const dt=Ie.getValue(ot),Pt=Q(dt)?Ln.value(!0):Ln.error(e("aria.input.invalid"));return Hi.pure(Pt)},validateOnLoad:!1}}),x=(J,Q,ot,dt,Pt)=>{const yt=e(bM+"range"),kt=Ho.parts.label({dom:{tag:"label",attributes:{"aria-label":dt}},components:[rr(ot)]}),Ct=Ho.parts.field({data:Pt,factory:_v,inputAttributes:{type:"text",...Q==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:pe([g(Q,J),As.config({})]),onSetValue:we=>{md.isInvalid(we)&&md.run(we).get(ft)}}),ne=[kt,Ct],ee=Q!=="hex"?[Ho.parts["aria-descriptor"]({text:yt})]:[],ae=ne.concat(ee);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ae}},w=(J,Q)=>{const ot=iC(Q);return d_.getField(J,"hex").each(dt=>{gn.isFocused(dt)||Ie.setValue(J,{hex:ot.value})}),ot},D=(J,Q)=>{const ot=Q.red,dt=Q.green,Pt=Q.blue;Ie.setValue(J,{red:ot,green:dt,blue:Pt})},P=Fo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),I=(J,Q)=>{P.getOpt(J).each(ot=>{Pn(ot.element,"background-color","#"+Q.value)})};return Ir({factory:()=>{const J={red:an(F.some(255)),green:an(F.some(255)),blue:an(F.some(255)),hex:an(F.some("ffffff"))},Q=(rn,Ao)=>{const bo=aC(Ao);D(rn,bo),yt(bo)},ot=rn=>J[rn].get(),dt=(rn,Ao)=>{J[rn].set(Ao)},Pt=()=>ot("red").bind(rn=>ot("green").bind(Ao=>ot("blue").map(bo=>Yg(rn,Ao,bo,1)))),yt=rn=>{const Ao=rn.red,bo=rn.green,Jn=rn.blue;dt("red",F.some(Ao)),dt("green",F.some(bo)),dt("blue",F.some(Jn))},kt=(rn,Ao)=>{const bo=Ao.event;bo.type!=="hex"?dt(bo.type,F.none()):l(rn)},Ct=(rn,Ao)=>{i(rn);const bo=vR(Ao);dt("hex",F.some(bo.value));const Jn=aC(bo);D(rn,Jn),yt(Jn),on(rn,IT,{hex:bo}),I(rn,bo)},ne=(rn,Ao,bo)=>{const Jn=parseInt(bo,10);dt(Ao,F.some(Jn)),Pt().each(ve=>{const Ke=w(rn,ve);on(rn,IT,{hex:Ke}),I(rn,Ke)})},ee=rn=>rn.type==="hex",ae=(rn,Ao)=>{const bo=Ao.event;ee(bo)?Ct(rn,bo.value):ne(rn,bo.type,bo.value)},we=rn=>({label:e(bM+rn+".label"),description:e(bM+rn+".description")}),te=we("red"),An=we("green"),qe=we("blue"),vn=we("hex");return ts(d_.sketch(rn=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[rn.field("red",Ho.sketch(x(uT,"red",te.label,te.description,255))),rn.field("green",Ho.sketch(x(uT,"green",An.label,An.description,255))),rn.field("blue",Ho.sketch(x(uT,"blue",qe.label,qe.description,255))),rn.field("hex",Ho.sketch(x(PL,"hex",vn.label,vn.description,"ffffff"))),P.asSpec()],formBehaviours:pe([md.config({invalidClass:s("form-invalid")}),Fn("rgb-form-events",[Xt(CI,ae),Xt(SI,kt),Xt(pM,kt)])])})),{apis:{updateHex:(rn,Ao)=>{Ie.setValue(rn,{hex:Ao.value}),Q(rn,Ao),I(rn,Ao)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(J,Q,ot)=>{J.updateHex(Q,ot)}},extraApis:{}})},FT=(e,s)=>{const i=bf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),l=bf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),g=(I,V)=>{const{width:Z,height:J}=I,Q=I.getContext("2d");if(Q===null)return;Q.fillStyle=V,Q.fillRect(0,0,Z,J);const ot=Q.createLinearGradient(0,0,Z,0);ot.addColorStop(0,"rgba(255,255,255,1)"),ot.addColorStop(1,"rgba(255,255,255,0)"),Q.fillStyle=ot,Q.fillRect(0,0,Z,J);const dt=Q.createLinearGradient(0,0,0,J);dt.addColorStop(0,"rgba(0,0,0,0)"),dt.addColorStop(1,"rgba(0,0,0,1)"),Q.fillStyle=dt,Q.fillRect(0,0,Z,J)},x=(I,V)=>{const Z=I.components()[0].element.dom,J=Ov(V,100,100),Q=IL(J);g(Z,FL(Q))},w=(I,V)=>{const Z=uC(aC(V));bf.setValue(I,{x:Z.saturation,y:100-Z.value}),Ee(I.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Z.saturation,Z.value]))};return Ir({factory:I=>{const V=vt({x:0,y:0}),Z=(ot,dt,Pt)=>{Je(Pt)||Ee(ot.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(Pt.x),Math.floor(100-Pt.y)])),on(ot,$T,{value:Pt})},J=(ot,dt,Pt,yt)=>{g(Pt.element.dom,FL(HL))},Q=pe([lo.config({find:F.some}),gn.config({})]);return bf.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:V},rounded:!1,components:[i,l],onChange:Z,onInit:J,sliderBehaviours:Q})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(I,V,Z)=>{x(V,Z)},setThumb:(I,V,Z)=>{w(V,Z)}},extraApis:{}})},PW=(e,s)=>{const i=g=>{const x=Lm(e,s,g.onValidHex,g.onInvalidHex),w=FT(e,s),D=ae=>(100-ae)/100*360,P=ae=>100-ae/360*100,I={paletteRgba:an(HL),paletteHue:an(0)},V=Fo(xI(e,s)),Z=Fo(w.sketch({})),J=Fo(x.sketch({})),Q=(ae,we,te)=>{Z.getOpt(ae).each(An=>{w.setHue(An,te)})},ot=(ae,we)=>{J.getOpt(ae).each(te=>{x.updateHex(te,we)})},dt=(ae,we,te)=>{V.getOpt(ae).each(An=>{bf.setValue(An,P(te))})},Pt=(ae,we)=>{Z.getOpt(ae).each(te=>{w.setThumb(te,we)})},yt=(ae,we)=>{const te=aC(ae);I.paletteRgba.set(te),I.paletteHue.set(we)},kt=(ae,we,te,An)=>{yt(we,te),Ae(An,qe=>{qe(ae,we,te)})},Ct=()=>{const ae=[ot];return(we,te)=>{const An=te.event.value,qe=I.paletteHue.get(),vn=Ov(qe,An.x,100-An.y),rn=XL(vn);kt(we,rn,qe,ae)}},ne=()=>{const ae=[Q,ot];return(we,te)=>{const An=D(te.event.value),qe=I.paletteRgba.get(),vn=uC(qe),rn=Ov(An,vn.saturation,vn.value),Ao=XL(rn);kt(we,Ao,An,ae)}},ee=()=>{const ae=[Q,dt,Pt];return(we,te)=>{const An=te.event.hex,qe=YL(An);kt(we,An,qe.hue,ae)}};return{uid:g.uid,dom:g.dom,components:[Z.asSpec(),V.asSpec(),J.asSpec()],behaviours:pe([Fn("colour-picker-events",[Xt(IT,ee()),Xt($T,Ct()),Xt(Th,ne())]),lo.config({find:ae=>J.getOpt(ae)}),fn.config({mode:"acyclic"})])}};return Ir({name:"ColourPicker",configFields:[oe("dom"),Rt("onValidHex",ft),Rt("onInvalidHex",ft)],factory:i})},xu={self:()=>lo.config({find:F.some}),memento:e=>lo.config({find:e.getOpt}),childAt:e=>lo.config({find:s=>zl(s.element,e).bind(i=>s.getSystem().getByDom(i).toOptional())})},HT=mn([Rt("preprocess",wn),Rt("postprocess",wn)]),SC=(e,s)=>{const i=Tr("RepresentingConfigs.memento processors",HT,s);return Ie.config({store:{mode:"manual",getValue:l=>{const g=e.get(l),x=Ie.getValue(g);return i.postprocess(x)},setValue:(l,g)=>{const x=i.preprocess(g),w=e.get(l);Ie.setValue(w,x)}}})},Ah=(e,s,i)=>Ie.config({store:{mode:"manual",...e.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:i}}),vM=(e,s,i)=>Ah(e,l=>s(l.element),(l,g)=>i(l.element,g)),EI=e=>vM(e,gl,Xu),EC=e=>Ie.config({store:{mode:"memory",initialValue:e}}),TI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},BW=e=>s=>tt(s)?e.translate(TI[s]):e.translate(s),IW=(e,s,i)=>{const l=P=>"tox-"+P,g=PW(BW(s),l),x=P=>{on(P,Eh,{name:"hex-valid",value:!0})},w=P=>{on(P,Eh,{name:"hex-valid",value:!1})},D=Fo(g.sketch({dom:{tag:"div",classes:[l("color-picker-container")],attributes:{role:"presentation"}},onValidHex:x,onInvalidHex:w}));return{dom:{tag:"div"},components:[D.asSpec()],behaviours:pe([Ah(i,P=>{const I=D.get(P);return lo.getCurrent(I).bind(J=>Ie.getValue(J).hex).map(J=>"#"+lp(J,"#")).getOr("")},(P,I)=>{const V=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,Z=F.from(V.exec(I)).bind(ot=>co(ot,1)),J=D.get(P);lo.getCurrent(J).fold(()=>{console.log("Can not find form")},ot=>{Ie.setValue(ot,{hex:Z.getOr("")}),d_.getField(ot,"hex").each(dt=>{zn(dt,hl())})})}),xu.self()])}};var $W=tinymce.util.Tools.resolve("tinymce.Resource");const AI=e=>ho(e,"init"),FW=e=>{const s=ds(),i=Fo({dom:{tag:e.tag}}),l=ds(),g=!AI(e)&&e.onFocus.isSome()?[gn.config({onFocus:x=>{e.onFocus.each(w=>{w(x.element.dom)})}}),As.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:pe([Fn("custom-editor-events",[ps(x=>{i.getOpt(x).each(w=>{(AI(e)?e.init(w.element.dom):$W.load(e.scriptId,e.scriptUrl).then(D=>D(w.element.dom,e.settings))).then(D=>{l.on(P=>{D.setValue(P)}),l.clear(),s.set(D)})})})]),Ah(F.none(),()=>s.get().fold(()=>l.get().getOr(""),x=>x.getValue()),(x,w)=>{s.get().fold(()=>l.set(w),D=>D.setValue(w))}),xu.self()].concat(g)),components:[i.asSpec()]}};var Bm=tinymce.util.Tools.resolve("tinymce.util.Tools");const kI=(e,s)=>{const i=Bm.explode(s.getOption("images_file_types")),l=g=>Cr(i,x=>wc(g.name.toLowerCase(),`.${x.toLowerCase()}`));return oo(Ps(e),l)},HW=(e,s,i)=>{const l=(J,Q)=>{Q.stop()},g=J=>(Q,ot)=>{Ae(J,dt=>{dt(Q,ot)})},x=(J,Q)=>{var ot;if(!En.isDisabled(J)){const dt=Q.event.raw;D(J,(ot=dt.dataTransfer)===null||ot===void 0?void 0:ot.files)}},w=(J,Q)=>{const ot=Q.event.raw.target;D(J,ot.files)},D=(J,Q)=>{Q&&(Ie.setValue(J,kI(Q,s)),on(J,oc,{name:e.name}))},P=Fo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:pe([Fn("input-file-events",[Vc(Gu()),Vc(Bi())])])}),I=J=>({uid:J.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:pe([EC(i.getOr([])),xu.self(),En.config({}),Zn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Fn("dropzone-events",[Xt("dragenter",g([l,Zn.toggle])),Xt("dragleave",g([l,Zn.toggle])),Xt("dragover",l),Xt("drop",g([l,x])),Xt(Aa(),w)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[rr(s.translate("Drop an image here"))]},xi.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[rr(s.translate("Browse for an image")),P.asSpec()],action:Q=>{P.get(Q).element.dom.click()},buttonBehaviours:pe([As.config({}),uf.button(s.isDisabled),di()])})]}]}),V=e.label.map(J=>Mv(J,s)),Z=Ho.parts.field({factory:{sketch:I}});return Ab(V,Z,["tox-form__group--stretched"],[])},OI=(e,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:Gt(e.items,s.interpreter)}),VW=(e,s)=>{let i=null,l=null;return{cancel:()=>{Lt(i)||(clearTimeout(i),i=null,l=null)},throttle:(...w)=>{l=w,Lt(i)&&(i=setTimeout(()=>{const D=l;i=null,l=null,e.apply(null,D)},s))}}},DI=(e,s)=>{let i=null;return{cancel:()=>{Lt(i)||(clearTimeout(i),i=null)},throttle:(...x)=>{Lt(i)&&(i=setTimeout(()=>{i=null,e.apply(null,x)},s))}}},$v=(e,s)=>{let i=null;const l=()=>{Lt(i)||(clearTimeout(i),i=null)};return{cancel:l,throttle:(...x)=>{l(),i=setTimeout(()=>{i=null,e.apply(null,x)},s)}}},yM=Ue("alloy-fake-before-tabstop"),VT=Ue("alloy-fake-after-tabstop"),RI=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:pe([gn.config({ignore:!0}),As.config({})])}),MI=(e,s)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[RI([yM]),s,RI([VT])],behaviours:pe([xu.childAt(1)])}),PI=(e,s)=>{on(e,Ic(),{raw:{which:9,shiftKey:s}})},zW=(e,s)=>{const i=s.element;Yt(i,yM)?PI(e,!0):Yt(i,VT)&&PI(e,!1)},f_=e=>fC(e,["."+yM,"."+VT].join(","),pn),zT=Ue("update-dialog"),_M=Ue("update-title"),WT=Ue("update-body"),Im=Ue("update-footer"),UT=Ue("body-send-message"),TC=Ue("dialog-focus-shifted"),jT=lc().browser,Fv=jT.isSafari(),NI=jT.isFirefox(),AC=Fv||NI,LI=jT.isChromium(),BI=({scrollTop:e,scrollHeight:s,clientHeight:i})=>Math.ceil(e)+i>=s,II=(e,s)=>e.scrollTo(0,s==="bottom"?99999999:s),WW=(e,s)=>{const i=e.body;return F.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!LI&&!Fv||_e(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:e.documentElement)},$I=(e,s,i)=>{const l=e.dom;F.from(l.contentDocument).fold(i,g=>{let x=0;const w=WW(g,s).map(P=>(x=P.scrollTop,P)).forall(BI),D=()=>{const P=l.contentWindow;_e(P)&&(w?II(P,"bottom"):!w&&AC&&x!==0&&II(P,x))};Fv&&l.addEventListener("load",D,{once:!0}),g.open(),g.write(s),g.close(),Fv||D()})},UW=Sn(AC,Fv?500:200).map(e=>VW($I,e)),FI=(e,s)=>{const i=an(e.getOr(""));return{getValue:l=>i.get(),setValue:(l,g)=>{if(i.get()!==g){const x=l.element,w=()=>Ee(x,"srcdoc",g);s?UW.fold(vt($I),D=>D.throttle)(x,g,w):w()}i.set(g)}}},HI=(e,s,i)=>{const l="tox-dialog__iframe",g=e.transparent?[]:[`${l}--opaque`],x=e.border?["tox-navobj-bordered"]:[],w={...e.label.map(Z=>({title:Z})).getOr({}),...i.map(Z=>({srcdoc:Z})).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},D=FI(i,e.streamContent),P=e.label.map(Z=>Mv(Z,s)),I=Z=>MI(F.from(x),{uid:Z.uid,dom:{tag:"iframe",attributes:w,classes:[l,...g]},behaviours:pe([As.config({}),gn.config({}),Ah(i,D.getValue,D.setValue),bc.config({channels:{[TC]:{onReceive:(J,Q)=>{Q.newFocus.each(ot=>{nl(J.element).each(dt=>{(No(J.element,ot)?ut:Ot)(dt,"tox-navobj-bordered-focus")})})}}}})])}),V=Ho.parts.field({factory:{sketch:I}});return Ab(P,V,["tox-form__group--stretched"],[])},jW=e=>new Promise((s,i)=>{const l=()=>{x(),s(e)},g=[$i(e,"load",l),$i(e,"error",()=>{x(),i("Unable to load data from image: "+e.dom.src)})],x=()=>Ae(g,w=>w.unbind());e.dom.complete&&l()}),ZW=(e,s,i,l,g)=>{const x=i*g,w=l*g,D=Math.max(0,e/2-x/2),P=Math.max(0,s/2-w/2);return{left:D.toString()+"px",top:P.toString()+"px",width:x.toString()+"px",height:w.toString()+"px"}},GW=(e,s,i)=>{const l=ni(e),g=fr(e);return Math.min(l/s,g/i,1)},ZT=(e,s)=>{const i=an(s.getOr({url:""})),l=Fo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(P=>({src:P.url})).getOr({})}}),g=Fo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[l.asSpec()]}),x=(P,I)=>{const V={url:I.url};I.zoom.each(J=>V.zoom=J),I.cachedWidth.each(J=>V.cachedWidth=J),I.cachedHeight.each(J=>V.cachedHeight=J),i.set(V);const Z=()=>{const{cachedWidth:J,cachedHeight:Q,zoom:ot}=V;if(!He(J)&&!He(Q)){if(He(ot)){const Pt=GW(P.element,J,Q);V.zoom=Pt}const dt=ZW(ni(P.element),fr(P.element),J,Q,V.zoom);g.getOpt(P).each(Pt=>{Ca(Pt.element,dt)})}};l.getOpt(P).each(J=>{const Q=J.element;I.url!==$s(Q,"src")&&(Ee(Q,"src",I.url),Ot(P.element,"tox-imagepreview__loaded")),Z(),jW(Q).then(ot=>{P.getSystem().isConnected()&&(ut(P.element,"tox-imagepreview__loaded"),V.cachedWidth=ot.dom.naturalWidth,V.cachedHeight=ot.dom.naturalHeight,Z())})})},w={};e.height.each(P=>w.height=P);const D=s.map(P=>({url:P.url,zoom:F.from(P.zoom),cachedWidth:F.from(P.cachedWidth),cachedHeight:F.from(P.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[g.asSpec()],behaviours:pe([xu.self(),Ah(D,()=>i.get(),x)])}},qW=(e,s)=>{const i="tox-label",l=e.align==="center"?[`${i}--center`]:[],g=e.align==="end"?[`${i}--end`]:[],x={dom:{tag:"label",classes:[i,...l,...g]},components:[rr(s.providers.translate(e.label))]},w=Gt(e.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[x,...w],behaviours:pe([xu.self(),Bn.config({}),EI(F.none()),fn.config({mode:"acyclic"})])}},VI=Ue("toolbar.button.execute"),zI=e=>Oa((s,i)=>{sT(e,s)(l=>{on(s,VI,{buttonApi:l}),e.onAction(l)})}),Rb=Ue("common-button-display-events"),WI={[ka()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[aa()]:["toolbar-button-events",Rb],[Fc()]:["toolbar-button-events","dropdown-events","tooltipping"],[ia()]:["focusing","alloy.base.behaviour",Rb]},xM=e=>Pn(e.element,"width",Fs(e.element,"width")),GT=(e,s,i)=>ld(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),wM=(e,s)=>GT(e,s,[]),Qg=(e,s)=>GT(e,s,[Bn.config({})]),UI=(e,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[rr(i.translate(e))],behaviours:pe([Bn.config({})])}),gd=Ue("update-menu-text"),Hv=Ue("update-menu-icon"),qT=(e,s,i,l)=>{const g=an(ft),x=e.text.map(ot=>Fo(UI(ot,s,i.providers))),w=e.icon.map(ot=>Fo(Qg(ot,i.providers.icons))),D=(ot,dt)=>{const Pt=Ie.getValue(ot);return gn.focus(Pt),on(Pt,"keydown",{raw:dt.event.raw}),hd.close(Pt),F.some(!0)},P=e.role.fold(()=>({}),ot=>({role:ot})),I=e.ariaLabel.fold(()=>({}),ot=>({"aria-label":i.providers.translate(ot)})),V=ld("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),Z=Ue("common-button-display-events"),J="dropdown-events";return Fo(hd.sketch({...e.uid?{uid:e.uid}:{},...P,dom:{tag:"button",classes:[s,`${s}--select`].concat(Gt(e.classes,ot=>`${s}--${ot}`)),attributes:{...I,..._e(l)?{"data-mce-name":l}:{}}},components:Tb([w.map(ot=>ot.asSpec()),x.map(ot=>ot.asSpec()),F.some(V)]),matchWidth:!0,useMinWidth:!0,onOpen:(ot,dt,Pt)=>{e.searchable&&uz(Pt)},dropdownBehaviours:pe([...e.dropdownBehaviours,uf.button(()=>e.disabled||i.providers.isDisabled()),di(),bC.config({}),Bn.config({}),...e.tooltip.map(ot=>qi.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(ot)}))).toArray(),Fn(J,[Fi(e,g),nc(e,g)]),Fn(Z,[ps((ot,dt)=>xM(ot))]),Fn("menubutton-update-display-text",[Xt(gd,(ot,dt)=>{x.bind(Pt=>Pt.getOpt(ot)).each(Pt=>{Bn.set(Pt,[rr(i.providers.translate(dt.event.text))])})}),Xt(Hv,(ot,dt)=>{w.bind(Pt=>Pt.getOpt(ot)).each(Pt=>{Bn.set(Pt,[Qg(dt.event.icon,i.providers.icons)])})})])]),eventOrder:ts(WI,{[ia()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[aa()]:["toolbar-button-events",qi.name(),J,Z]}),sandboxBehaviours:pe([fn.config({mode:"special",onLeft:D,onRight:D}),Fn("dropdown-sandbox-events",[Xt(j3,(ot,dt)=>{rz(ot),dt.stop()}),Xt(Z3,(ot,dt)=>{iz(ot,dt),dt.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Kw(!1,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:vB,onCollapseMenu:(ot,dt,Pt)=>{Ro.getHighlighted(Pt).each(yt=>{vB(ot,Pt,yt)})},onDehighlightItem:lz}},getAnchorOverrides:()=>({maxHeightFunction:(ot,dt)=>{Ix()(ot,dt-10)}}),fetch:ot=>Hi.nu(sn(e.fetch,ot))})).asSpec()},jI=e=>tt(e),ZI=e=>e.type==="separator",KW=e=>ho(e,"getSubmenuItems"),YW={type:"separator"},XW=(e,s)=>{const i=ie(e,(l,g)=>jI(g)?g===""?l:g==="|"?l.length>0&&!ZI(l[l.length-1])?l.concat([YW]):l:ho(s,g.toLowerCase())?l.concat([s[g.toLowerCase()]]):l:l.concat([g]),[]);return i.length>0&&ZI(i[i.length-1])&&i.pop(),i},GI=(e,s)=>{const i=e.getSubmenuItems(),l=CM(i,s),g=ts(l.menus,{[e.value]:l.items}),x=ts(l.expansions,{[e.value]:e.value});return{item:e,menus:g,expansions:x}},JW=e=>{const s=Me(e,"value").getOrThunk(()=>Ue("generated-menu-item"));return ts({value:s},e)},CM=(e,s)=>{const i=XW(tt(e)?e.split(" "):e,s);return hs(i,(l,g)=>{if(KW(g)){const x=JW(g),w=GI(x,s);return{menus:ts(l.menus,w.menus),items:[w.item,...l.items],expansions:ts(l.expansions,w.expansions)}}else return{...l,items:[g,...l.items]}},{menus:{},expansions:{},items:[]})},QW=e=>e.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),t9=e=>e.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),h_=(e,s,i,l)=>{const g=Ue("primary-menu"),x=CM(e,i.shared.providers.menuItems());if(x.items.length===0)return F.none();const w=QW(l),D=xB(g,x.items,s,i,l.isHorizontalMenu,w),P=t9(l),I=Co(x.menus,(Z,J)=>xB(J,Z,s,i,!1,P)),V=ts(I,Lc(g,D));return F.from(gv.tieredData(g,V,x.expansions))},SM=e=>!ho(e,"items"),qI="data-value",KI=(e,s,i,l)=>Gt(i,g=>SM(g)?{type:"togglemenuitem",text:g.text,value:g.value,active:g.value===l,onAction:()=>{Ie.setValue(e,g.value),on(e,oc,{name:s}),gn.focus(e)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>KI(e,s,g.items,l)}),EM=(e,s)=>vs(e,i=>SM(i)?Sn(i.value===s,i):EM(i.items,s)),e9=(e,s,i)=>{const l=s.shared.providers,g=i.bind(P=>EM(e.items,P)).orThunk(()=>ks(e.items).filter(SM)),x=e.label.map(P=>Mv(P,l)),w=Ho.parts.field({dom:{},factory:{sketch:P=>qT({uid:P.uid,text:g.map(I=>I.text),icon:F.none(),tooltip:F.none(),role:F.none(),ariaLabel:e.label,fetch:(I,V)=>{const Z=KI(I,e.name,e.items,Ie.getValue(I));V(h_(Z,xh.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:F.none()}))},onSetup:vt(ft),getApi:vt({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[As.config({}),Ah(g.map(I=>I.value),I=>$s(I.element,qI),(I,V)=>{EM(e.items,V).each(Z=>{Ee(I.element,qI,Z.value),on(I,gd,{text:Z.text})})})]},"tox-listbox",s.shared)}}),D={dom:{tag:"div",classes:["tox-listboxfield"]},components:[w]};return Ho.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ht([x.toArray(),[D]]),fieldBehaviours:pe([En.config({disabled:vt(!e.enabled),onDisabled:P=>{Ho.getField(P).each(En.disable)},onEnabled:P=>{Ho.getField(P).each(En.enable)}})])})},n9=(e,s)=>({dom:{tag:"div",classes:e.classes},components:Gt(e.items,s.shared.interpreter)}),TM=(e,s)=>{const i=Gt(e.options,g=>({dom:{tag:"option",value:g.value,innerHtml:g.text}})),l=e.data.map(g=>Lc("initialValue",g)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:i,behaviours:Kr(e.selectBehaviours,[gn.config({}),Ie.config({store:{mode:"manual",getValue:g=>$n(g.element),setValue:(g,x)=>{const w=ks(e.options);Mt(e.options,P=>P.value===x).isSome()?On(g.element,x):g.element.dom.selectedIndex===-1&&x===""&&w.each(P=>On(g.element,P.value))},...l}})])}},o9=Ir({name:"HtmlSelect",configFields:[oe("options"),qr("selectBehaviours",[gn,Ie]),Rt("selectClasses",[]),Rt("selectAttributes",{}),So("data")],factory:TM}),s9=(e,s,i)=>{const l=Gt(e.items,P=>({text:s.translate(P.text),value:P.value})),g=e.label.map(P=>Mv(P,s)),x=Ho.parts.field({dom:{},...i.map(P=>({data:P})).getOr({}),selectAttributes:{size:e.size},options:l,factory:o9,selectBehaviours:pe([En.config({disabled:()=>!e.enabled||s.isDisabled()}),As.config({}),Fn("selectbox-change",[Xt(Aa(),(P,I)=>{on(P,oc,{name:e.name})})])])}),w=e.size>1?F.none():F.some(ld("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),D={dom:{tag:"div",classes:["tox-selectfield"]},components:Ht([[x],w.toArray()])};return Ho.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ht([g.toArray(),[D]]),fieldBehaviours:pe([En.config({disabled:()=>!e.enabled||s.isDisabled(),onDisabled:P=>{Ho.getField(P).each(En.disable)},onEnabled:P=>{Ho.getField(P).each(En.enable)}}),di()])})},r9=vt([Rt("field1Name","field1"),Rt("field2Name","field2"),Tg("onLockedChange"),cu(["lockClass"]),Rt("locked",!1),Zc.field("coupledFieldBehaviours",[lo,Ie])]),kC=(e,s,i)=>Go(e,s,i).bind(lo.getCurrent),KT=(e,s)=>Uo({factory:Ho,name:e,overrides:i=>({fieldBehaviours:pe([Fn("coupled-input-behaviour",[Xt(hl(),l=>{kC(l,i,s).each(g=>{Go(l,i,"lock").each(x=>{Zn.isOn(x)&&i.onLockedChange(l,g,x)})})})])])})}),i9=vt([KT("field1","field2"),KT("field2","field1"),Uo({factory:xi,schema:[oe("dom")],name:"lock",overrides:e=>({buttonBehaviours:pe([Zn.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),a9=(e,s,i,l)=>({uid:e.uid,dom:e.dom,components:s,behaviours:Zc.augment(e.coupledFieldBehaviours,[lo.config({find:F.some}),Ie.config({store:{mode:"manual",getValue:g=>{const x=Sy(g,e,["field1","field2"]);return{[e.field1Name]:Ie.getValue(x.field1()),[e.field2Name]:Ie.getValue(x.field2())}},setValue:(g,x)=>{const w=Sy(g,e,["field1","field2"]);Wr(x,e.field1Name)&&Ie.setValue(w.field1(),x[e.field1Name]),Wr(x,e.field2Name)&&Ie.setValue(w.field2(),x[e.field2Name])}}})]),apis:{getField1:g=>Go(g,e,"field1"),getField2:g=>Go(g,e,"field2"),getLock:g=>Go(g,e,"lock")}}),qc=Zi({name:"FormCoupledInputs",configFields:r9(),partFields:i9(),factory:a9,apis:{getField1:(e,s)=>e.getField1(s),getField2:(e,s)=>e.getField2(s),getLock:(e,s)=>e.getLock(s)}}),c9=e=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=g=>g in s?s[g]:1;let l=e.value.toFixed(i(e.unit));return l.indexOf(".")!==-1&&(l=l.replace(/\.?0*$/,"")),l+e.unit},OC=e=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(i!==null){const l=parseFloat(i[1]),g=i[2];return Ln.value({value:l,unit:g})}else return Ln.error(e)},AM=(e,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=g=>ho(i,g);return e.unit===s?F.some(e.value):l(e.unit)&&l(s)?i[e.unit]===i[s]?F.some(e.value):F.some(e.value/i[e.unit]*i[s]):F.none()},kM=e=>F.none(),l9=(e,s)=>i=>AM(i,s).map(l=>({value:l*e,unit:s})),YI=(e,s)=>{const i=OC(e).toOptional(),l=OC(s).toOptional();return Td(i,l,(g,x)=>AM(g,x.unit).map(w=>x.value/w).map(w=>l9(w,x.unit)).getOr(kM)).getOr(kM)},XI=(e,s)=>{let i=kM;const l=Ue("ratio-event"),g=Q=>ld(Q,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Q]},s.icons),x=e.label.getOr("Constrain proportions"),w=s.translate(x),D=qc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":w,"data-mce-name":x}},components:[g("lock"),g("unlock")],buttonBehaviours:pe([En.config({disabled:()=>!e.enabled||s.isDisabled()}),di(),As.config({}),qi.config(s.tooltips.getConfig({tooltipText:w}))])}),P=Q=>({dom:{tag:"div",classes:["tox-form__group"]},components:Q}),I=Q=>Ho.parts.field({factory:_v,inputClasses:["tox-textfield"],inputBehaviours:pe([En.config({disabled:()=>!e.enabled||s.isDisabled()}),di(),As.config({}),Fn("size-input-events",[Xt(Bc(),(ot,dt)=>{on(ot,l,{isField1:Q})}),Xt(Aa(),(ot,dt)=>{on(ot,oc,{name:e.name})})])]),selectOnFocus:!1}),V=Q=>({dom:{tag:"label",classes:["tox-label"]},components:[rr(s.translate(Q))]}),Z=qc.parts.field1(P([Ho.parts.label(V("Width")),I(!0)])),J=qc.parts.field2(P([Ho.parts.label(V("Height")),I(!1)]));return qc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Z,J,P([V(S2),D])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Q,ot,dt)=>{OC(Ie.getValue(Q)).each(Pt=>{i(Pt).each(yt=>{Ie.setValue(ot,c9(yt))})})},coupledFieldBehaviours:pe([En.config({disabled:()=>!e.enabled||s.isDisabled(),onDisabled:Q=>{qc.getField1(Q).bind(Ho.getField).each(En.disable),qc.getField2(Q).bind(Ho.getField).each(En.disable),qc.getLock(Q).each(En.disable)},onEnabled:Q=>{qc.getField1(Q).bind(Ho.getField).each(En.enable),qc.getField2(Q).bind(Ho.getField).each(En.enable),qc.getLock(Q).each(En.enable)}}),di(),Fn("size-input-events2",[Xt(l,(Q,ot)=>{const dt=ot.event.isField1,Pt=dt?qc.getField1(Q):qc.getField2(Q),yt=dt?qc.getField2(Q):qc.getField1(Q),kt=Pt.map(Ie.getValue).getOr(""),Ct=yt.map(Ie.getValue).getOr("");i=YI(kt,Ct)})])])})},u9=(e,s,i)=>{const l=bf.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[rr(s.translate(e.label))]}),g=bf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),x=bf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return bf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:vt(i.getOrThunk(()=>(Math.abs(e.max)-Math.abs(e.min))/2))},components:[l,g,x],sliderBehaviours:pe([xu.self(),gn.config({})]),onChoose:(w,D,P)=>{on(w,oc,{name:e.name,value:P})}})},JI=(e,s)=>{const i=D=>({dom:{tag:"th",innerHtml:s.translate(D)}}),l=D=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Gt(D,i)}]}),g=D=>({dom:{tag:"td",innerHtml:s.translate(D)}}),x=D=>({dom:{tag:"tr"},components:Gt(D,g)}),w=D=>({dom:{tag:"tbody"},components:Gt(D,x)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[l(e.header),w(e.cells)],behaviours:pe([As.config({}),gn.config({})])}},OM=(e,s)=>{const i=e.label.map(Q=>Mv(Q,s)),l=[En.config({disabled:()=>e.disabled||s.isDisabled()}),di(),fn.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:Q=>(zn(Q,mC),F.some(!0))}),Fn("textfield-change",[Xt(hl(),(Q,ot)=>{on(Q,oc,{name:e.name})}),Xt(Vd(),(Q,ot)=>{on(Q,oc,{name:e.name})})]),As.config({})],g=e.validation.map(Q=>md.config({getRoot:ot=>nl(ot.element),invalidClass:"tox-invalid",validator:{validate:ot=>{const dt=Ie.getValue(ot),Pt=Q.validator(dt);return Hi.pure(Pt===!0?Ln.value(dt):Ln.error(Pt))},validateOnLoad:Q.validateOnLoad}})).toArray(),x=e.placeholder.fold(vt({}),Q=>({placeholder:s.translate(Q)})),w=e.inputMode.fold(vt({}),Q=>({inputmode:Q})),D={...x,...w},P=Ho.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(Q=>({data:Q})).getOr({}),inputAttributes:D,inputClasses:[e.classname],inputBehaviours:pe(Ht([l,g])),selectOnFocus:!1,factory:_v}),I=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[P]}:P,Z=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),J=[En.config({disabled:()=>e.disabled||s.isDisabled(),onDisabled:Q=>{Ho.getField(Q).each(En.disable)},onEnabled:Q=>{Ho.getField(Q).each(En.enable)}}),di()];return Ab(i,I,Z,J)},d9=(e,s,i)=>OM({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:F.none(),maximized:e.maximized,data:i},s),QI=(e,s,i)=>OM({name:e.name,multiline:!0,label:e.label,inputMode:F.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:F.none(),maximized:e.maximized,data:i},s),m_=(e,s)=>s.getAnimationRoot.fold(()=>e.element,i=>i(e)),$m=e=>e.dimension.property,Vv=(e,s)=>e.dimension.getDimension(s),YT=(e,s)=>{const i=m_(e,s);De(i,[s.shrinkingClass,s.growingClass])},DM=(e,s)=>{Ot(e.element,s.openClass),ut(e.element,s.closedClass),Pn(e.element,$m(s),"0px"),sl(e.element)},XT=(e,s)=>{Ot(e.element,s.closedClass),ut(e.element,s.openClass),_o(e.element,$m(s))},t$=(e,s,i,l)=>{i.setCollapsed(),Pn(e.element,$m(s),Vv(s,e.element)),YT(e,s),DM(e,s),s.onStartShrink(e),s.onShrunk(e)},e$=(e,s,i,l)=>{const g=l.getOrThunk(()=>Vv(s,e.element));i.setCollapsed(),Pn(e.element,$m(s),g),sl(e.element);const x=m_(e,s);Ot(x,s.growingClass),ut(x,s.shrinkingClass),DM(e,s),s.onStartShrink(e)},n$=(e,s,i)=>{const l=Vv(s,e.element);(l==="0px"?t$:e$)(e,s,i,F.some(l))},o$=(e,s,i)=>{const l=m_(e,s),g=Yt(l,s.shrinkingClass),x=Vv(s,e.element);XT(e,s);const w=Vv(s,e.element);(g?()=>{Pn(e.element,$m(s),x),sl(e.element)}:()=>{DM(e,s)})(),Ot(l,s.shrinkingClass),ut(l,s.growingClass),XT(e,s),Pn(e.element,$m(s),w),i.setExpanded(),s.onStartGrow(e)},RM=(e,s,i)=>{if(i.isExpanded()){_o(e.element,$m(s));const l=Vv(s,e.element);Pn(e.element,$m(s),l)}},f9=(e,s,i)=>{i.isExpanded()||o$(e,s,i)},h9=(e,s,i)=>{i.isExpanded()&&n$(e,s,i)},m9=(e,s,i)=>{i.isExpanded()&&t$(e,s,i)},s$=(e,s,i)=>i.isExpanded(),g9=(e,s,i)=>i.isCollapsed(),MM=(e,s,i)=>{const l=m_(e,s);return Yt(l,s.growingClass)===!0},r$=(e,s,i)=>{const l=m_(e,s);return Yt(l,s.shrinkingClass)===!0};var b9=Object.freeze({__proto__:null,refresh:RM,grow:f9,shrink:h9,immediateShrink:m9,hasGrown:s$,hasShrunk:g9,isGrowing:MM,isShrinking:r$,isTransitioning:(e,s,i)=>MM(e,s)||r$(e,s),toggleGrow:(e,s,i)=>{(i.isExpanded()?n$:o$)(e,s,i)},disableTransitions:YT,immediateGrow:(e,s,i)=>{i.isExpanded()||(XT(e,s),Pn(e.element,$m(s),Vv(s,e.element)),YT(e,s),i.setExpanded(),s.onStartGrow(e),s.onGrown(e))}}),y9=Object.freeze({__proto__:null,exhibit:(e,s,i)=>{const l=s.expanded;return Ar(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Lc(s.dimension.property,"0px")})},events:(e,s)=>jo([lm(ml(),(i,l)=>{l.event.raw.propertyName===e.dimension.property&&(YT(i,e),s.isExpanded()&&_o(i.element,e.dimension.property),(s.isExpanded()?e.onGrown:e.onShrunk)(i))})])}),_9=[oe("closedClass"),oe("openClass"),oe("shrinkingClass"),oe("growingClass"),So("getAnimationRoot"),po("onShrunk"),po("onStartShrink"),po("onGrown"),po("onStartGrow"),Rt("expanded",!1),jr("dimension",or("property",{width:[Ts("property","width"),Ts("getDimension",e=>ni(e)+"px")],height:[Ts("property","height"),Ts("getDimension",e=>fr(e)+"px")]}))],w9=Object.freeze({__proto__:null,init:e=>{const s=an(e.expanded),i=()=>"expanded: "+s.get();return gc({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:sn(s.set,!1),setExpanded:sn(s.set,!0),readState:i})}});const Nl=ui({fields:_9,name:"sliding",active:y9,apis:b9,state:w9}),i$=e=>({isEnabled:()=>!En.isDisabled(e),setEnabled:s=>En.set(e,!s),setActive:s=>{const i=e.element;s?(ut(i,"tox-tbtn--enabled"),Ee(i,"aria-pressed",!0)):(Ot(i,"tox-tbtn--enabled"),js(i,"aria-pressed"))},isActive:()=>Yt(e.element,"tox-tbtn--enabled"),setText:s=>{on(e,gd,{text:s})},setIcon:s=>on(e,Hv,{icon:s})}),g_=(e,s,i,l,g=!0,x)=>qT({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:l,fetch:(w,D)=>{const P={pattern:e.search.isSome()?yB(w):""};e.fetch(I=>{D(h_(I,xh.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:e.search}))},P,i$(w))},onSetup:e.onSetup,getApi:i$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...g?[As.config({})]:[]]},s,i.shared,x),C9=(e,s,i)=>{const l=x=>w=>{const D=!w.isActive();w.setActive(D),x.storage.set(D),i.shared.getSink().each(P=>{s().getOpt(P).each(I=>{wl(I.element),on(I,Eh,{name:x.name,value:x.storage.get()})})})},g=x=>w=>{w.setActive(x.storage.get())};return x=>{x(Gt(e,w=>{const D=w.text.fold(()=>({}),P=>({text:P}));return{type:w.type,active:!1,...D,onAction:l(w),onSetup:g(w)}}))}},a$=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[rr(e)]}),c$=Ue("leaf-label-event-id"),JT=({leaf:e,onLeafAction:s,visible:i,treeId:l,selectedId:g,backstage:x})=>{const w=e.menu.map(P=>g_(P,"tox-mbtn",x,F.none(),i)),D=[a$(e.title)];return w.each(P=>D.push(P)),xi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:D,role:"treeitem",action:P=>{s(e.id),P.getSystem().broadcastOn([`update-active-item-${l}`],{value:e.id})},eventOrder:{[Ic()]:[c$,"keying"]},buttonBehaviours:pe([...i?[As.config({})]:[],Zn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),bc.config({channels:{[`update-active-item-${l}`]:{onReceive:(P,I)=>{(I.value===e.id?Zn.on:Zn.off)(P)}}}}),Fn(c$,[ps((P,I)=>{g.each(V=>{(V===e.id?Zn.on:Zn.off)(P)})}),Xt(Ic(),(P,I)=>{const V=I.event.raw.code==="ArrowLeft",Z=I.event.raw.code==="ArrowRight";V?(Wc(P.element,".tox-tree--directory").each(J=>{P.getSystem().getByDom(J).each(Q=>{z0(J,".tox-tree--directory__label").each(ot=>{Q.getSystem().getByDom(ot).each(gn.focus)})})}),I.stop()):Z&&I.stop()})])])})},l$=(e,s,i)=>ld(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:i},s),u$=(e,s)=>l$(e,s,[]),DC=Ue("directory-label-event-id"),S9=({directory:e,visible:s,noChildren:i,backstage:l})=>{const g=e.menu.map(D=>g_(D,"tox-mbtn",l,F.none())),x=[{dom:{tag:"div",classes:["tox-chevron"]},components:[u$("chevron-right",l.shared.providers.icons)]},a$(e.title)];g.each(D=>{x.push(D)});const w=D=>{Wc(D.element,".tox-tree--directory").each(P=>{D.getSystem().getByDom(P).each(I=>{const V=!Zn.isOn(I);Zn.toggle(I),on(D,"expand-tree-node",{expanded:V,node:e.id})})})};return xi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:x,action:w,eventOrder:{[Ic()]:[DC,"keying"]},buttonBehaviours:pe([...s?[As.config({})]:[],Fn(DC,[Xt(Ic(),(D,P)=>{const I=P.event.raw.code==="ArrowRight",V=P.event.raw.code==="ArrowLeft";I&&i&&P.stop(),(I||V)&&Wc(D.element,".tox-tree--directory").each(Z=>{D.getSystem().getByDom(Z).each(J=>{!Zn.isOn(J)&&I||Zn.isOn(J)&&V?(w(D),P.stop()):V&&!Zn.isOn(J)&&(Wc(J.element,".tox-tree--directory").each(Q=>{z0(Q,".tox-tree--directory__label").each(ot=>{J.getSystem().getByDom(ot).each(gn.focus)})}),P.stop())})})})])])})},E9=({children:e,onLeafAction:s,visible:i,treeId:l,expandedIds:g,selectedId:x,backstage:w})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(D=>D.type==="leaf"?JT({leaf:D,selectedId:x,onLeafAction:s,visible:i,treeId:l,backstage:w}):PM({directory:D,expandedIds:g,selectedId:x,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:w})),behaviours:pe([Nl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Bn.config({})])}),T9=Ue("directory-event-id"),PM=({directory:e,onLeafAction:s,labelTabstopping:i,treeId:l,backstage:g,expandedIds:x,selectedId:w})=>{const{children:D}=e,P=an(x),I=Z=>D.map(J=>J.type==="leaf"?JT({leaf:J,selectedId:w,onLeafAction:s,visible:Z,treeId:l,backstage:g}):PM({directory:J,expandedIds:P.get(),selectedId:w,onLeafAction:s,labelTabstopping:Z,treeId:l,backstage:g})),V=x.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[S9({directory:e,visible:i,noChildren:e.children.length===0,backstage:g}),E9({children:D,expandedIds:x,selectedId:w,onLeafAction:s,visible:V,treeId:l,backstage:g})],behaviours:pe([Fn(T9,[ps((Z,J)=>{Zn.set(Z,V)}),Xt("expand-tree-node",(Z,J)=>{const{expanded:Q,node:ot}=J.event;P.set(Q?[...P.get(),ot]:P.get().filter(dt=>dt!==ot))})]),Zn.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(Z,J)=>{const Q=Z.components()[1],ot=I(J);J?Nl.grow(Q):Nl.shrink(Q),Bn.set(Q,ot)}})])}},d$=Ue("tree-event-id"),A9=(e,s)=>{const i=e.onLeafAction.getOr(ft),l=e.onToggleExpand.getOr(ft),g=e.defaultExpandedIds,x=an(g),w=an(e.defaultSelectedId),D=Ue("tree-id"),P=(I,V)=>e.items.map(Z=>Z.type==="leaf"?JT({leaf:Z,selectedId:I,onLeafAction:i,visible:!0,treeId:D,backstage:s}):PM({directory:Z,selectedId:I,onLeafAction:i,expandedIds:V,labelTabstopping:!0,treeId:D,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:P(w.get(),x.get()),behaviours:pe([fn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Fn(d$,[Xt("expand-tree-node",(I,V)=>{const{expanded:Z,node:J}=V.event;x.set(Z?[...x.get(),J]:x.get().filter(Q=>Q!==J)),l(x.get(),{expanded:Z,node:J})})]),bc.config({channels:{[`update-active-item-${D}`]:{onReceive:(I,V)=>{w.set(F.some(V.value)),Bn.set(I,P(F.some(V.value),x.get()))}}}}),Bn.config({})])}};var k9=Object.freeze({__proto__:null,events:(e,s)=>{const l=e.stream.streams.setup(e,s);return jo([Xt(e.event,l),mc(()=>s.cancel())].concat(e.cancelEvent.map(g=>[Xt(g,()=>s.cancel())]).getOr([])))}});const NM=e=>{const s=an(null);return gc({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:x=>{s.set(x)},cancel:()=>{const x=s.get();x!==null&&x.cancel()}})};var D9=Object.freeze({__proto__:null,throttle:NM,init:e=>e.stream.streams.state(e)});const R9=(e,s)=>{const i=e.stream,l=$v(e.onStream,i.delay);return s.setTimer(l),(g,x)=>{l.throttle(g,x),i.stopEvent&&x.stop()}};var f$=[jr("stream",or("mode",{throttle:[oe("delay"),Rt("stopEvent",!0),Ts("streams",{setup:R9,state:NM})]})),Rt("event","input"),So("cancelEvent"),Tg("onStream")];const LM=ui({fields:f$,name:"streaming",active:k9,state:D9}),QT=(e,s,i)=>{const l=Ie.getValue(i);Ie.setValue(s,l),p_(s)},Dn=(e,s)=>{const i=e.element,l=$n(i),g=i.dom;$s(i,"type")!=="number"&&s(g,l)},p_=e=>{Dn(e,(s,i)=>s.setSelectionRange(i.length,i.length))},h$=(e,s)=>{Dn(e,(i,l)=>i.setSelectionRange(s,l.length))},m$=(e,s,i)=>{if(e.selectsOver){const l=Ie.getValue(s),g=e.getDisplayText(l),x=Ie.getValue(i);return e.getDisplayText(x).indexOf(g)===0?F.some(()=>{QT(e,s,i),h$(s,g.length)}):F.none()}else return F.none()},tA=vt("alloy.typeahead.itemexecute"),g$=(e,s,i,l)=>{const g=(Z,J,Q)=>{e.previewing.set(!1);const ot=cr.getCoupled(Z,"sandbox");if(Yn.isOpen(ot))lo.getCurrent(ot).each(dt=>{Ro.getHighlighted(dt).fold(()=>{Q(dt)},()=>{Yu(ot,dt.element,"keydown",J)})});else{const dt=Pt=>{lo.getCurrent(Pt).each(Q)};vT(e,w(Z),Z,ot,l,dt,La.HighlightMenuAndItem).get(ft)}},x=Yw(e),w=Z=>J=>J.map(Q=>{const ot=Il(Q.menus),dt=wt(ot,yt=>oo(yt.items,kt=>kt.type==="item"));return Ie.getState(Z).update(Gt(dt,yt=>yt.data)),Q}),D=Z=>lo.getCurrent(Z),P="typeaheadevents",I=[gn.config({}),Ie.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:Z=>$n(Z.element),getFallbackEntry:Z=>({value:Z,meta:{}}),setValue:(Z,J)=>{On(Z.element,e.model.getDisplayText(J))},...e.initialData.map(Z=>Lc("initialValue",Z)).getOr({})}}),LM.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(Z,J)=>{const Q=cr.getCoupled(Z,"sandbox");if(gn.isFocused(Z)&&$n(Z.element).length>=e.minChars){const dt=D(Q).bind(yt=>Ro.getHighlighted(yt).map(Ie.getValue));e.previewing.set(!0);const Pt=yt=>{D(Q).each(kt=>{dt.fold(()=>{e.model.selectsOver&&Ro.highlightFirst(kt)},Ct=>{Ro.highlightBy(kt,ne=>Ie.getValue(ne).value===Ct.value),Ro.getHighlighted(kt).orThunk(()=>(Ro.highlightFirst(kt),F.none()))})})};vT(e,w(Z),Z,Q,l,Pt,La.HighlightJustMenu).get(ft)}},cancelEvent:Mp()}),fn.config({mode:"special",onDown:(Z,J)=>(g(Z,J,Ro.highlightFirst),F.some(!0)),onEscape:Z=>{const J=cr.getCoupled(Z,"sandbox");return Yn.isOpen(J)?(Yn.close(J),F.some(!0)):F.none()},onUp:(Z,J)=>(g(Z,J,Ro.highlightLast),F.some(!0)),onEnter:Z=>{const J=cr.getCoupled(Z,"sandbox"),Q=Yn.isOpen(J);if(Q&&!e.previewing.get())return D(J).bind(ot=>Ro.getHighlighted(ot)).map(ot=>(on(Z,tA(),{item:ot}),!0));{const ot=Ie.getValue(Z);return zn(Z,Mp()),e.onExecute(J,Z,ot),Q&&Yn.close(J),F.some(!0)}}}),Zn.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),cr.config({others:{sandbox:Z=>HR(e,Z,{onOpen:()=>Zn.on(Z),onClose:()=>{e.lazyTypeaheadComp.get().each(J=>js(J.element,"aria-activedescendant")),Zn.off(Z)}})}}),Fn(P,[ps(Z=>{e.lazyTypeaheadComp.set(F.some(Z))}),mc(Z=>{e.lazyTypeaheadComp.set(F.none())}),Oa(Z=>{const J=ft;FR(e,w(Z),Z,l,J,La.HighlightMenuAndItem).get(ft)}),Xt(tA(),(Z,J)=>{const Q=cr.getCoupled(Z,"sandbox");QT(e.model,Z,J.event.item),zn(Z,Mp()),e.onItemExecute(Z,Q,J.event.item,Ie.getValue(Z)),Yn.close(Q),p_(Z)})].concat(e.dismissOnBlur?[Xt(Ku(),Z=>{const J=cr.getCoupled(Z,"sandbox");bi(J.element).isNone()&&Yn.close(J)})]:[]))],V={[Fc()]:[Ie.name(),LM.name(),P],...e.eventOrder};return{uid:e.uid,dom:wh(ts(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...x,...Kr(e.typeaheadBehaviours,I)},eventOrder:V}},p$=vt([So("lazySink"),oe("fetch"),Rt("minChars",5),Rt("responseTime",1e3),po("onOpen"),Rt("getHotspot",F.some),Rt("getAnchorOverrides",vt({})),Rt("layouts",F.none()),Rt("eventOrder",{}),Op("model",{},[Rt("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),Rt("selectsOver",!0),Rt("populateFromBrowse",!0)]),po("onSetValue"),Ra("onExecute"),po("onItemExecute"),Rt("inputClasses",[]),Rt("inputAttributes",{}),Rt("inputStyles",{}),Rt("matchWidth",!0),Rt("useMinWidth",!1),Rt("dismissOnBlur",!0),cu(["openClass"]),So("initialData"),qr("typeaheadBehaviours",[gn,Ie,LM,fn,Zn,cr]),se("lazyTypeaheadComp",()=>an(F.none)),se("previewing",()=>an(!0))].concat(qE()).concat(VR())),FX=vt([gu({schema:[mx()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(s,i,l)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(g=>{m$(e.model,g,l).fold(()=>{e.model.selectsOver?(Ro.dehighlight(i,l),e.previewing.set(!0)):e.previewing.set(!1)},x=>{x(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(g=>{e.model.populateFromBrowse&&QT(e.model,g,l),Pr(l.element,"id").each(x=>Ee(g.element,"aria-activedescendant",x))})},onExecute:(s,i)=>e.lazyTypeaheadComp.get().map(l=>(on(l,tA(),{item:i}),!0)),onHover:(s,i)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(l=>{e.model.populateFromBrowse&&QT(e.model,l,i)})}})})]),RC=Zi({name:"Typeahead",configFields:p$(),partFields:FX(),factory:g$}),vf=e=>({...e,toCached:()=>vf(e.toCached()),bindFuture:P=>vf(e.bind(I=>I.fold(V=>Hi.pure(Ln.error(V)),V=>P(V)))),bindResult:P=>vf(e.map(I=>I.bind(P))),mapResult:P=>vf(e.map(I=>I.map(P))),mapError:P=>vf(e.map(I=>I.mapError(P))),foldResult:(P,I)=>e.map(V=>V.fold(P,I)),withTimeout:(P,I)=>vf(Hi.nu(V=>{let Z=!1;const J=setTimeout(()=>{Z=!0,V(Ln.error(I()))},P);e.get(Q=>{Z||(clearTimeout(J),V(Q))})}))}),BM=e=>vf(Hi.nu(e)),b$=e=>vf(Hi.pure(Ln.value(e))),y$={nu:BM,wrap:vf,pure:b$,value:b$,error:e=>vf(Hi.pure(Ln.error(e))),fromResult:e=>vf(Hi.pure(e)),fromFuture:e=>vf(e.map(Ln.value)),fromPromise:e=>BM(s=>{e.then(i=>{s(Ln.value(i))},i=>{s(Ln.error(i))})})},eA=(e,s,i=[],l,g,x,w)=>{const D=s.fold(()=>({}),V=>({action:V})),P={buttonBehaviours:pe([uf.button(()=>!e.enabled||w.isDisabled()),di(),As.config({}),...x.map(V=>qi.config(w.tooltips.getConfig({tooltipText:w.translate(V)}))).toArray(),Fn("button press",[Ip("click"),Ip("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...D},I=ts(P,{dom:l});return ts(I,{components:g})},P9=(e,s,i,l=[],g)=>{const x=e.tooltip.map(I=>({"aria-label":i.translate(I)})).getOr({}),w={tag:"button",classes:["tox-tbtn"],attributes:{...x,"data-mce-name":g}},D=e.icon.map(I=>wM(I,i.icons)),P=Tb([D]);return eA(e,s,l,w,P,e.tooltip,i)},IM=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},_$=(e,s,i,l=[],g=[])=>{const x=i.translate(e.text),w=e.icon.map(Q=>wM(Q,i.icons)),D=[w.getOrThunk(()=>rr(x))],P=e.buttonType.getOr(!e.primary&&!e.borderless?"secondary":"primary"),Z={tag:"button",classes:[...IM(P),...w.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...g],attributes:{"aria-label":x,"data-mce-name":e.text}},J=e.icon.map(vt(x));return eA(e,s,l,Z,D,J,i)},x$=(e,s,i,l=[],g=[])=>{const x=_$(e,F.some(s),i,l,g);return xi.sketch(x)},w$=(e,s)=>i=>{s==="custom"?on(i,Eh,{name:e,value:{}}):s==="submit"?zn(i,mC):s==="cancel"?zn(i,Xg):console.error("Unknown button type: ",s)},N9=(e,s)=>s==="menu",L9=(e,s)=>s==="custom"||s==="cancel"||s==="submit",B9=(e,s)=>s==="togglebutton",I9=(e,s,i)=>{var l,g;const x=e.icon.map(Ct=>Qg(Ct,s.icons)).map(Fo),w=Ct=>{on(Ct,Eh,{name:e.name,value:{setIcon:ne=>{x.map(ee=>ee.getOpt(Ct).each(ae=>{Bn.set(ae,[Qg(ne,s.icons)])}))}}})},D=e.buttonType.getOr(e.primary?"primary":"secondary"),P={...e,name:(l=e.name)!==null&&l!==void 0?l:"",primary:D==="primary",tooltip:e.tooltip,enabled:(g=e.enabled)!==null&&g!==void 0?g:!1,borderless:!1},I=P.tooltip.or(e.text).map(Ct=>({"aria-label":s.translate(Ct)})).getOr({}),V=IM(D??"secondary"),Z=e.icon.isSome()&&e.text.isSome(),J={tag:"button",classes:[...V.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...Z?["tox-button--icon-and-text"]:[]],attributes:{...I,..._e(i)?{"data-mce-name":i}:{}}},Q=[],ot=s.translate(e.text.getOr("")),dt=rr(ot),yt=[...Tb([x.map(Ct=>Ct.asSpec())]),...e.text.isSome()?[dt]:[]],kt=eA(P,F.some(w),Q,J,yt,e.tooltip,s);return xi.sketch(kt)},MC=(e,s,i)=>{if(N9(e,s)){const l=()=>w,g=e,x={...e,type:"menubutton",search:F.none(),onSetup:D=>(D.setEnabled(e.enabled),ft),fetch:C9(g.items,l,i)},w=Fo(g_(x,"tox-tbtn",i,F.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return w.asSpec()}else if(L9(e,s)){const l=w$(e.name,s),g={...e,borderless:!1};return x$(g,l,i.shared.providers,[])}else{if(B9(e,s))return I9(e,i.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},$9=(e,s)=>{const i=w$(e.name,"custom");return Lz(F.none(),Ho.parts.field({factory:xi,..._$(e,F.some(i),s,[EC(""),xu.self()])}))},F9={type:"separator"},H9=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:ft}),$M=(e,s)=>({type:"menuitem",value:s,text:e,meta:{attach:void 0},onAction:ft}),V9=e=>Gt(e,H9),z9=(e,s)=>oo(s,i=>i.type===e),C$=(e,s)=>V9(z9(e,s)),W9=e=>C$("header",e.targets),U9=e=>C$("anchor",e.targets),j9=e=>F.from(e.anchorTop).map(s=>$M("<top>",s)).toArray(),Z9=e=>F.from(e.anchorBottom).map(s=>$M("<bottom>",s)).toArray(),S$=e=>Gt(e,s=>$M(s,s)),G9=e=>ie(e,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(F9,i),[]),FM=(e,s)=>{const i=e.toLowerCase();return oo(s,l=>{var g;const x=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,w=(g=l.value)!==null&&g!==void 0?g:"";return Ti(x.toLowerCase(),i)||Ti(w.toLowerCase(),i)})},q9=(e,s,i)=>{var l,g;const x=Ie.getValue(s),w=(g=(l=x==null?void 0:x.meta)===null||l===void 0?void 0:l.text)!==null&&g!==void 0?g:x.value;return i.getLinkInformation().fold(()=>[],P=>{const I=FM(w,S$(i.getHistory(e)));return e==="file"?G9([I,FM(w,W9(P)),FM(w,Ht([j9(P),U9(P),Z9(P)]))]):I})},E$=Ue("aria-invalid"),K9=(e,s,i,l)=>{const g=s.shared.providers,x=kt=>{const Ct=Ie.getValue(kt);i.addToHistory(Ct.value,e.filetype)},w={...l.map(kt=>({initialData:kt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":E$,type:"url"},minChars:0,responseTime:0,fetch:kt=>{const Ct=q9(e.filetype,kt,i),ne=h_(Ct,xh.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:F.none()});return Hi.pure(ne)},getHotspot:kt=>ot.getOpt(kt),onSetValue:(kt,Ct)=>{kt.hasConfigured(md)&&md.run(kt).get(ft)},typeaheadBehaviours:pe([...i.getValidationHandler().map(kt=>md.config({getRoot:Ct=>nl(Ct.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ct,ne)=>{V.getOpt(Ct).each(ee=>{Ee(ee.element,"title",g.translate(ne))})}},validator:{validate:Ct=>{const ne=Ie.getValue(Ct);return y$.nu(ee=>{kt({type:e.filetype,url:ne.value},ae=>{if(ae.status==="invalid"){const we=Ln.error(ae.message);ee(we)}else{const we=Ln.value(ae.message);ee(we)}})})},validateOnLoad:!1}})).toArray(),En.config({disabled:()=>!e.enabled||g.isDisabled()}),As.config({}),Fn("urlinput-events",[Xt(hl(),kt=>{const Ct=$n(kt.element),ne=Ct.trim();ne!==Ct&&On(kt.element,ne),e.filetype==="file"&&on(kt,oc,{name:e.name})}),Xt(Aa(),kt=>{on(kt,oc,{name:e.name}),x(kt)}),Xt(Vd(),kt=>{on(kt,oc,{name:e.name}),x(kt)})])]),eventOrder:{[hl()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:kt=>kt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Kw(!1,1,"normal")},onExecute:(kt,Ct,ne)=>{on(Ct,mC,{})},onItemExecute:(kt,Ct,ne,ee)=>{x(kt),on(kt,oc,{name:e.name})}},D=Ho.parts.field({...w,factory:RC}),P=e.label.map(kt=>Mv(kt,g)),V=Fo(((kt,Ct,ne=kt,ee=kt)=>ld(ne,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+kt],attributes:{title:g.translate(ee),"aria-live":"polite",...Ct.fold(()=>({}),ae=>({id:ae}))}},g.icons))("invalid",F.some(E$),"warning")),Z=Fo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[V.asSpec()]}),J=i.getUrlPicker(e.filetype),Q=Ue("browser.url.event"),ot=Fo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[D,Z.asSpec()],behaviours:pe([En.config({disabled:()=>!e.enabled||g.isDisabled()})])}),dt=Fo(x$({name:e.name,icon:F.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:!1,buttonType:F.none(),borderless:!0},kt=>zn(kt,Q),g,[],["tox-browse-url"])),Pt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ht([[ot.asSpec()],J.map(()=>dt.asSpec()).toArray()])}),yt=kt=>{lo.getCurrent(kt).each(Ct=>{const ne=Ie.getValue(Ct),ee={fieldname:e.name,...ne};J.each(ae=>{ae(ee).get(we=>{Ie.setValue(Ct,we),on(kt,oc,{name:e.name})})})})};return Ho.sketch({dom:Iz(),components:P.toArray().concat([Pt()]),fieldBehaviours:pe([En.config({disabled:()=>!e.enabled||g.isDisabled(),onDisabled:kt=>{Ho.getField(kt).each(En.disable),dt.getOpt(kt).each(En.disable)},onEnabled:kt=>{Ho.getField(kt).each(En.enable),dt.getOpt(kt).each(En.enable)}}),di(),Fn("url-input-events",[Xt(Q,yt)])])})},Y9=(e,s)=>{const i=g3(e.icon,s.icons);return hf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:e.url?void 0:i},components:e.url?[xi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(e.iconTooltip)}},action:l=>on(l,Eh,{name:"alert-banner",value:e.url}),buttonBehaviours:pe([DD()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(e.text)}}]})},T$=(e,s)=>{e.dom.checked=s},X9=e=>e.dom.checked,A$=(e,s,i)=>{const l=P=>(P.element.dom.click(),F.some(!0)),g=Ho.parts.field({factory:{sketch:wn},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:pe([xu.self(),En.config({disabled:()=>!e.enabled||s.isDisabled(),onDisabled:P=>{nl(P.element).each(I=>ut(I,"tox-checkbox--disabled"))},onEnabled:P=>{nl(P.element).each(I=>Ot(I,"tox-checkbox--disabled"))}}),As.config({}),gn.config({}),vM(i,X9,T$),fn.config({mode:"special",onEnter:l,onSpace:l,stopSpaceKeyup:!0}),Fn("checkbox-events",[Xt(Aa(),(P,I)=>{on(P,oc,{name:e.name})})])])}),x=Ho.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[rr(s.translate(e.label))],behaviours:pe([bC.config({})])}),w=P=>ld(P==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+P]},s.icons),D=Fo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[w("checked"),w("unchecked")]});return Ho.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[g,D.asSpec(),x],fieldBehaviours:pe([En.config({disabled:()=>!e.enabled||s.isDisabled()}),di()])})},J9=(e,s)=>e.presets==="presentation"?hf.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html},containerBehaviours:pe([qi.config({...s.tooltips.getConfig({tooltipText:"",onShow:i=>{Es(i.element,"[data-mce-tooltip]:hover").orThunk(()=>bi(i.element)).each(l=>{Pr(l,"data-mce-tooltip").each(g=>{qi.setComponents(i,s.tooltips.getComponents({tooltipText:g}))})})}}),mode:"children-normal",anchor:i=>({type:"node",node:Es(i.element,"[data-mce-tooltip]:hover").orThunk(()=>bi(i.element).filter(l=>Pr(l,"data-mce-tooltip").isSome())),root:i.element,layouts:{onLtr:vt([ar,li,Dr,us,yr,Lr]),onRtl:vt([ar,li,Dr,us,yr,Lr])},bubble:du(0,-2,{})})})])}):hf.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:pe([As.config({}),gn.config({})])}),Yr=e=>(s,i,l,g)=>Me(i,"name").fold(()=>e(i,g,F.none()),x=>s.field(x,e(i,g,Me(l,x)))),k$=e=>(s,i,l,g)=>{const x=ts(i,{source:"dynamic"});return Yr(e)(s,x,l,g)},HM={bar:Yr((e,s)=>Oz(e,s.shared)),collection:Yr((e,s,i)=>$z(e,s.shared.providers,i)),alertbanner:Yr((e,s)=>Y9(e,s.shared.providers)),input:Yr((e,s,i)=>d9(e,s.shared.providers,i)),textarea:Yr((e,s,i)=>QI(e,s.shared.providers,i)),label:Yr((e,s)=>qW(e,s.shared)),iframe:k$((e,s,i)=>HI(e,s.shared.providers,i)),button:Yr((e,s)=>$9(e,s.shared.providers)),checkbox:Yr((e,s,i)=>A$(e,s.shared.providers,i)),colorinput:Yr((e,s,i)=>Vz(e,s.shared,s.colorinput,i)),colorpicker:Yr((e,s,i)=>IW(e,s.shared.providers,i)),dropzone:Yr((e,s,i)=>HW(e,s.shared.providers,i)),grid:Yr((e,s)=>OI(e,s.shared)),listbox:Yr((e,s,i)=>e9(e,s,i)),selectbox:Yr((e,s,i)=>s9(e,s.shared.providers,i)),sizeinput:Yr((e,s)=>XI(e,s.shared.providers)),slider:Yr((e,s,i)=>u9(e,s.shared.providers,i)),urlinput:Yr((e,s,i)=>K9(e,s,s.urlinput,i)),customeditor:Yr(FW),htmlpanel:Yr((e,s)=>J9(e,s.shared.providers)),imagepreview:Yr((e,s,i)=>ZT(e,i)),table:Yr((e,s)=>JI(e,s.shared.providers)),tree:Yr((e,s)=>A9(e,s)),panel:Yr((e,s)=>n9(e,s))},Q9={field:(e,s)=>s,record:vt([])},VM=(e,s,i,l)=>{const g=ts(l,{shared:{interpreter:x=>nA(e,x,i,g)}});return nA(e,s,i,g)},nA=(e,s,i,l)=>Me(HM,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),g=>g(e,s,i,l)),O$=(e,s,i)=>nA(Q9,e,s,i),tp="layout-inset",zM=e=>e.x,D$=(e,s)=>e.x+e.width/2-s.width/2,pd=(e,s)=>e.x+e.width-s.width,b_=e=>e.y,v_=(e,s)=>e.y+e.height-s.height,R$=(e,s)=>e.y+e.height/2-s.height/2,y_=(e,s,i)=>ci(pd(e,s),v_(e,s),i.insetSouthwest(),Ag(),"southwest",ir(e,{right:0,bottom:3}),tp),oA=(e,s,i)=>ci(zM(e),v_(e,s),i.insetSoutheast(),T1(),"southeast",ir(e,{left:1,bottom:3}),tp),zv=(e,s,i)=>ci(pd(e,s),b_(e),i.insetNorthwest(),Jp(),"northwest",ir(e,{right:0,top:2}),tp),__=(e,s,i)=>ci(zM(e),b_(e),i.insetNortheast(),_l(),"northeast",ir(e,{left:1,top:2}),tp),wu=(e,s,i)=>ci(D$(e,s),b_(e),i.insetNorth(),U0(),"north",ir(e,{top:2}),tp),PC=(e,s,i)=>ci(D$(e,s),v_(e,s),i.insetSouth(),j0(),"south",ir(e,{bottom:3}),tp),M$=(e,s,i)=>ci(pd(e,s),R$(e,s),i.insetEast(),A1(),"east",ir(e,{right:0}),tp),WM=(e,s,i)=>ci(zM(e),R$(e,s),i.insetWest(),vx(),"west",ir(e,{left:1}),tp),tU=e=>{switch(e){case"north":return wu;case"northeast":return __;case"northwest":return zv;case"south":return PC;case"southeast":return oA;case"southwest":return y_;case"east":return M$;case"west":return WM}},P$=(e,s,i,l,g)=>r2(l).map(tU).getOr(wu)(e,s,i,l,g),UM=e=>{switch(e){case"north":return PC;case"northeast":return oA;case"northwest":return y_;case"south":return wu;case"southeast":return __;case"southwest":return zv;case"east":return WM;case"west":return M$}},eU=(e,s,i,l,g)=>r2(l).map(UM).getOr(wu)(e,s,i,l,g),NC={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},N$=(e,s,i)=>{const g={maxHeightFunction:Rg()},x=()=>({type:"node",root:zi(gs(e())),node:F.from(e()),bubble:du(12,12,NC),layouts:{onRtl:()=>[__],onLtr:()=>[zv]},overrides:g}),w=()=>({type:"hotspot",hotspot:s(),bubble:du(-12,12,NC),layouts:{onRtl:()=>[Dr,yr,ar],onLtr:()=>[yr,Dr,ar]},overrides:g});return()=>i()?x():w()},L$=(e,s,i,l)=>{const x={maxHeightFunction:Rg()},w=()=>({type:"node",root:zi(gs(s())),node:F.from(s()),bubble:du(12,12,NC),layouts:{onRtl:()=>[wu],onLtr:()=>[wu]},overrides:x}),D=()=>e?{type:"node",root:zi(gs(s())),node:F.from(s()),bubble:du(0,-Pu(s()),NC),layouts:{onRtl:()=>[li],onLtr:()=>[li]},overrides:x}:{type:"hotspot",hotspot:i(),bubble:du(0,0,NC),layouts:{onRtl:()=>[li],onLtr:()=>[li]},overrides:x};return()=>l()?w():D()},nU=(e,s,i)=>{const l=()=>({type:"node",root:zi(gs(e())),node:F.from(e()),layouts:{onRtl:()=>[wu],onLtr:()=>[wu]}}),g=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ar],onLtr:()=>[ar]}});return()=>i()?l():g()},oU=(e,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=e.selection.getRng(),l=e.model.table.getSelectedCells();if(l.length>1){const g=l[0],x=l[l.length-1],w={firstCell:At.fromDom(g),lastCell:At.fromDom(x)};return F.some(w)}return F.some($1.range(At.fromDom(i.startContainer),i.startOffset,At.fromDom(i.endContainer),i.endOffset))}}),sU=e=>s=>({type:"node",root:e(),node:s}),rU=(e,s,i,l)=>{const g=Ky(e),x=()=>At.fromDom(e.getBody()),w=()=>At.fromDom(e.getContentAreaContainer()),D=()=>g||!l();return{inlineDialog:N$(w,s,D),inlineBottomDialog:L$(e.inline,w,i,D),banner:nU(w,s,D),cursor:oU(e,x),node:sU(x)}},B$=e=>(s,i)=>{gT(e)(s,i)},kh=e=>()=>nB(e),jM=e=>s=>mT(e,s),iU=e=>s=>eB(e,s),aU=e=>({colorPicker:B$(e),hasCustomColors:kh(e),getColors:jM(e),getColorCols:iU(e)}),cU=e=>()=>qy(e),lU=e=>({isDraggableModal:cU(e)}),uU=e=>{const s=an(ZD(e)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},ZM=e=>Wr(e,"items"),GM=e=>Wr(e,"format"),dU=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],zX=e=>ho(e,"items"),ga=e=>ho(e,"block"),qM=e=>ho(e,"inline"),fU=e=>ho(e,"selector"),LC=e=>ie(e,(s,i)=>{if(zX(i)){const l=LC(i.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:i.title,items:l.formats}])}}else if(qM(i)||ga(i)||fU(i)){const g=`custom-${tt(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:g,format:i}]),formats:s.formats.concat([{title:i.title,format:g,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),hU=(e,s)=>{const i=LC(s),l=g=>{Ae(g,x=>{e.formatter.has(x.name)||e.formatter.register(x.name,x.format)})};return e.formatter?l(i.customFormats):e.on("init",()=>{l(i.customFormats)}),i.formats},I$=e=>_3(e).map(s=>{const i=hU(e,s);return x3(e)?dU.concat(i):i}).getOr(dU),mU=e=>{const s=Qo(e);return s.length===1&&go(s,"title")},$$=(e,s,i)=>({...e,type:"formatter",isSelected:s(e.format),getStylePreview:i(e.format)}),F$=(e,s,i,l)=>{const g=P=>$$(P,i,l),x=P=>{const I=D(P.items);return{...P,type:"submenu",getStyleItems:vt(I)}},w=P=>{const I=tt(P.name)?P.name:Ue(P.title),V=`custom-${I}`,Z={...P,type:"formatter",format:V,isSelected:i(V),getStylePreview:l(V)};return e.formatter.register(I,Z),Z},D=P=>Gt(P,I=>ZM(I)?x(I):GM(I)?g(I):mU(I)?{...I,type:"separator"}:w(I));return D(s)},gU=e=>{const s=D=>()=>e.formatter.match(D),i=D=>()=>{const P=e.formatter.get(D);return P!==void 0?F.some({tag:P.length>0&&(P[0].inline||P[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(D))}):F.none()},l=an([]),g=an([]),x=an(!1);return e.on("PreInit",D=>{const P=I$(e),I=F$(e,P,s,i);l.set(I)}),e.on("addStyleModifications",D=>{const P=F$(e,D.items,s,i);g.set(P),x.set(D.replace)}),{getData:()=>{const D=x.get()?[]:l.get(),P=g.get();return D.concat(P)}}},pU=e=>{let l=0;const g=()=>l>0,x=D=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[rr(D.tooltipText)]}];return{getConfig:D=>({delayForShow:()=>g()?60:300,delayForHide:vt(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:x(D),onShow:(P,I)=>{l++,D.onShow&&D.onShow(P,I)},onHide:()=>{l--}}),getComponents:x}},bU=e=>_e(e)&&e.nodeType===1,H$=Bm.trim,BC=e=>s=>!!(bU(s)&&(s.contentEditable===e||s.getAttribute("data-mce-contenteditable")===e)),vU=BC("true"),V$=BC("false"),z$=(e,s,i,l,g)=>({type:e,title:s,url:i,level:l,attach:g}),W$=e=>{let s=e;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return vU(s)}return!1},yU=(e,s)=>Gt(Ma(At.fromDom(s),e),i=>i.dom),U$=e=>e.innerText||e.textContent,j$=e=>e.id?e.id:Ue("h"),WX=e=>e&&e.nodeName==="A"&&(e.id||e.name)!==void 0,UX=e=>WX(e)&&G$(e),Z$=e=>e&&/^(H[1-6])$/.test(e.nodeName),G$=e=>W$(e)&&!V$(e),_U=e=>Z$(e)&&G$(e),q$=e=>Z$(e)?parseInt(e.nodeName.substr(1),10):0,KM=e=>{var s;const i=j$(e),l=()=>{e.id=i};return z$("header",(s=U$(e))!==null&&s!==void 0?s:"","#"+i,q$(e),l)},xU=e=>{const s=e.id||e.name,i=U$(e);return z$("anchor",i||"#"+s,"#"+s,0,ft)},wU=e=>Gt(oo(e,_U),KM),K$=e=>Gt(oo(e,UX),xU),CU=e=>yU("h1,h2,h3,h4,h5,h6,a:not([href])",e),SU=e=>H$(e.title).length>0,EU={find:e=>{const s=CU(e);return oo(wU(s).concat(K$(s)),SU)}},x_="tinymce-url-history",YM=5,Y$=e=>tt(e)&&/^https?/.test(e),TU=e=>Tt(e)&&e.length<=YM&&Gn(e,Y$),X$=e=>gt(e)&&zr(e,s=>!TU(s)).isNone(),J$=()=>{const e=kv.getItem(x_);if(e===null)return{};let s;try{s=JSON.parse(e)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+x_+" was not valid JSON",i),{};throw i}return X$(s)?s:(console.log("Local storage "+x_+" was not valid format",s),{})},Q$=e=>{if(!X$(e))throw new Error(`Bad format for history:
`+JSON.stringify(e));kv.setItem(x_,JSON.stringify(e))},AU=e=>{const s=J$();return Me(s,e).getOr([])},sA=(e,s)=>{if(!Y$(e))return;const i=J$(),l=Me(i,s).getOr([]),g=oo(l,x=>x!==e);i[s]=[e].concat(g).slice(0,YM),Q$(i)},tF=e=>!!e,rA=e=>Co(Bm.makeMap(e,/[, ]/),tF),XM=e=>F.from(T3(e)),JM=e=>{const s=F.from(IE(e)).filter(tF).map(rA);return XM(e).fold(pn,i=>s.fold(Ye,l=>Qo(l).length>0?l:!1))},IC=(e,s)=>{const i=JM(e);return Le(i)?i?XM(e):F.none():i[s]?XM(e):F.none()},eF=(e,s)=>IC(e,s).map(i=>l=>Hi.nu(g=>{const x=(D,P)=>{if(!tt(D))throw new Error("Expected value to be string");if(P!==void 0&&!gt(P))throw new Error("Expected meta to be a object");g({value:D,meta:P})},w={filetype:s,fieldname:l.fieldname,...F.from(l.meta).getOr({})};i.call(e,x,l.value,w)})),nF=e=>F.from(e).filter(tt).getOrUndefined(),oF=e=>A3(e)?F.some({targets:EU.find(e.getBody()),anchorTop:nF(WD(e)),anchorBottom:nF(k3(e))}):F.none(),sF=e=>F.from(VD(e)),rF=e=>({getHistory:AU,addToHistory:sA,getLinkInformation:()=>oF(e),getValidationHandler:()=>sF(e),getUrlPicker:s=>eF(e,s)}),kU=(e,s,i,l)=>{const g=an(!1),x=uU(s),w={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:yu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get,tooltips:pU(e.dialog)},D=rF(s),P=gU(s),I=aU(s),V=lU(s),Z=()=>g.get(),J=Pt=>g.set(Pt),Q={shared:{providers:w,anchors:rU(s,i,l,x.isPositionedAtTop),header:x},urlinput:D,styles:P,colorinput:I,dialog:V,isContextMenuOpen:Z,setContextMenuState:J},ot={...Q,shared:{...Q.shared,interpreter:Pt=>O$(Pt,{},ot),getSink:e.popup}},dt={...Q,shared:{...Q.shared,interpreter:Pt=>O$(Pt,{},dt),getSink:e.dialog}};return{popup:ot,dialog:dt}},QM=(e,s,i)=>{const l=(te,An)=>{Ae([s,...i],qe=>{qe.broadcastEvent(te,An)})},g=(te,An)=>{Ae([s,...i],qe=>{qe.broadcastOn([te],An)})},x=te=>g(Cm(),{target:te.target}),w=Vf(),D=$i(w,"touchstart",x),P=$i(w,"touchmove",te=>l(f1(),te)),I=$i(w,"touchend",te=>l(R0(),te)),V=$i(w,"mousedown",x),Z=$i(w,"mouseup",te=>{te.raw.button===0&&g(Qx(),{target:te.target})}),J=te=>g(Cm(),{target:At.fromDom(te.target)}),Q=te=>{te.button===0&&g(Qx(),{target:At.fromDom(te.target)})},ot=()=>{Ae(e.editorManager.get(),te=>{e!==te&&te.dispatch("DismissPopups",{relatedTarget:e})})},dt=te=>l(im(),c2(te)),Pt=te=>{g(ub(),{}),l(zd(),c2(te))},yt=gs(At.fromDom(e.getElement())),kt=Br(yt,"scroll",te=>{requestAnimationFrame(()=>{const An=e.getContainer();if(An!=null){const vn=Dv(e,s.element).map(rn=>[rn.element,...rn.others]).getOr([]);Cr(vn,rn=>No(rn,te.target))&&(e.dispatch("ElementScroll",{target:te.target.dom}),l(h1(),te))}})}),Ct=()=>g(ub(),{}),ne=te=>{te.state&&g(Cm(),{target:At.fromDom(e.getContainer())})},ee=te=>{g(Cm(),{target:At.fromDom(te.relatedTarget.getContainer())})},ae=te=>e.dispatch("focusin",te),we=te=>e.dispatch("focusout",te);e.on("PostRender",()=>{e.on("click",J),e.on("tap",J),e.on("mouseup",Q),e.on("mousedown",ot),e.on("ScrollWindow",dt),e.on("ResizeWindow",Pt),e.on("ResizeEditor",Ct),e.on("AfterProgressState",ne),e.on("DismissPopups",ee),Ae([s,...i],te=>{te.element.dom.addEventListener("focusin",ae),te.element.dom.addEventListener("focusout",we)})}),e.on("remove",()=>{e.off("click",J),e.off("tap",J),e.off("mouseup",Q),e.off("mousedown",ot),e.off("ScrollWindow",dt),e.off("ResizeWindow",Pt),e.off("ResizeEditor",Ct),e.off("AfterProgressState",ne),e.off("DismissPopups",ee),Ae([s,...i],te=>{te.element.dom.removeEventListener("focusin",ae),te.element.dom.removeEventListener("focusout",we)}),V.unbind(),D.unbind(),P.unbind(),I.unbind(),Z.unbind(),kt.unbind()}),e.on("detach",()=>{Ae([s,...i],Z2),Ae([s,...i],te=>te.destroy())})},$r=RO,Fm=lw,OU=vt([Rt("shell",!1),oe("makeItem"),Rt("setupItem",ft),Zc.field("listBehaviours",[Bn])]),iF=vc({name:"items",overrides:()=>({behaviours:pe([Bn.config({})])})}),DU=vt([iF]),aF=vt("CustomList"),tP=(e,s,i,l)=>{const g=(D,P)=>{w(D).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},I=>{const V=Bn.contents(I),Z=P.length,J=Z-V.length,Q=J>0?ko(J,()=>e.makeItem()):[],ot=V.slice(Z);Ae(ot,Pt=>Bn.remove(I,Pt)),Ae(Q,Pt=>Bn.append(I,Pt));const dt=Bn.contents(I);Ae(dt,(Pt,yt)=>{e.setupItem(D,Pt,P[yt],yt)})})},x=e.shell?{behaviours:[Bn.config({})],components:[]}:{behaviours:[],components:s},w=D=>e.shell?F.some(D):Go(D,e,"items");return{uid:e.uid,dom:e.dom,components:x.components,behaviours:Kr(e.listBehaviours,x.behaviours),apis:{setItems:g}}},iA=Zi({name:aF(),configFields:OU(),partFields:DU(),factory:tP,apis:{setItems:(e,s,i)=>{e.setItems(s,i)}}}),w_=vt([oe("dom"),Rt("shell",!0),qr("toolbarBehaviours",[Bn])]),RU=vt([vc({name:"groups",overrides:()=>({behaviours:pe([Bn.config({})])})})]),eP=(e,s,i,l)=>{const g=(D,P)=>{x(D).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},I=>{Bn.set(I,P)})},x=D=>e.shell?F.some(D):Go(D,e,"groups"),w=e.shell?{behaviours:[Bn.config({})],components:[]}:{behaviours:[],components:s};return{uid:e.uid,dom:e.dom,components:w.components,behaviours:Kr(e.toolbarBehaviours,w.behaviours),apis:{setGroups:g,refresh:ft},domModification:{attributes:{role:"group"}}}},Oh=Zi({name:"Toolbar",configFields:w_(),partFields:RU(),factory:eP,apis:{setGroups:(e,s,i)=>{e.setGroups(s,i)}}}),MU=ft,PU=pn,cF=vt([]);var NU=Object.freeze({__proto__:null,setup:MU,isDocked:PU,getBehaviours:cF});const nP=e=>(va(Qr(e,"position"),"fixed")?F.none():dp(e)).orThunk(()=>{const l=At.fromTag("span");return Cc(e).bind(g=>{qa(g,l);const x=dp(l);return oa(l),x})}),lF=e=>nP(e).map(ta).getOrThunk(()=>xs(0,0)),uF=(e,s)=>{const i=e.element;ut(i,s.transitionClass),Ot(i,s.fadeOutClass),ut(i,s.fadeInClass),s.onShow(e)},LU=(e,s)=>{const i=e.element;ut(i,s.transitionClass),Ot(i,s.fadeInClass),ut(i,s.fadeOutClass),s.onHide(e)},FC=(e,s)=>e.y<s.bottom&&e.bottom>s.y,dF=(e,s)=>e.y>=s.y,fF=(e,s)=>e.bottom<=s.bottom,HC=(e,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-e.y}),aA=(e,s,i)=>({location:"bottom",leftX:s,bottomY:e.bottom-i.bounds.bottom}),oP=e=>e.box.x-e.win.x,BU=(e,s,i)=>{const l=s.win,g=s.box,x=oP(s);return vs(e,w=>{switch(w){case"bottom":return fF(g,i.bounds)?F.none():F.some(aA(l,x,i));case"top":return dF(g,i.bounds)?F.none():F.some(HC(l,x,i));default:return F.none()}}).getOr({location:"no-dock"})},IU=(e,s,i)=>Gn(e,l=>{switch(l){case"bottom":return fF(s,i.bounds);case"top":return dF(s,i.bounds)}}),$U=(e,s)=>{const i=s.optScrollEnv.fold(vt(e.bounds.y),l=>l.scrollElmTop+(e.bounds.y-l.currentScrollTop));return xs(e.bounds.x,i)},FU=(e,s)=>{const i=s.optScrollEnv.fold(vt(e.y),l=>e.y+l.currentScrollTop-l.scrollElmTop);return xs(e.x,i)},sP=(e,s,i)=>i.getInitialPos().map(l=>{const g=$U(l,s);return{box:hr(g.left,g.top,ni(e),fr(e)),location:l.location}}),hF=(e,s,i,l,g)=>{const x=FU(s,i),w=hr(x.left,x.top,s.width,s.height);l.setInitialPos({style:ti(e),position:Fs(e,"position")||"static",bounds:w,location:g.location})},HU=(e,s,i,l,g)=>{l.getInitialPos().fold(()=>hF(e,s,i,l,g),()=>ft)},mF=(e,s,i)=>i.getInitialPos().bind(l=>{var g;switch(i.clearInitialPos(),l.position){case"static":return F.some({morph:"static"});case"absolute":const x=nP(e).getOr(ki()),w=Hs(x),D=(g=x.dom.scrollTop)!==null&&g!==void 0?g:0;return F.some({morph:"absolute",positionCss:uu("absolute",Me(l.style,"left").map(P=>s.x-w.x),Me(l.style,"top").map(P=>s.y-w.y+D),Me(l.style,"right").map(P=>w.right-s.right),Me(l.style,"bottom").map(P=>w.bottom-s.bottom))});default:return F.none()}}),GX=(e,s,i)=>sP(e,s,i).filter(({box:l})=>IU(i.getModes(),l,s)).bind(({box:l})=>mF(e,l,i)),rP=e=>{switch(e.location){case"top":return F.some({morph:"fixed",positionCss:uu("fixed",F.some(e.leftX),F.some(e.topY),F.none(),F.none())});case"bottom":return F.some({morph:"fixed",positionCss:uu("fixed",F.some(e.leftX),F.none(),F.none(),F.some(e.bottomY))});default:return F.none()}},gF=(e,s,i)=>{const l=Hs(e),g=Ni(),x=BU(i.getModes(),{win:g,box:l},s);return x.location==="top"||x.location==="bottom"?(hF(e,l,s,i,x),rP(x)):F.none()},pF=(e,s,i)=>GX(e,s,i).orThunk(()=>s.optScrollEnv.bind(l=>sP(e,s,i)).bind(({box:l,location:g})=>{const x=Ni(),w=oP({win:x,box:l}),D=g==="top"?HC(x,w,s):aA(x,w,s);return rP(D)})),cA=(e,s,i)=>{const l=e.element;return va(Qr(l,"position"),"fixed")?pF(l,s,i):gF(l,s,i)},bF=(e,s,i)=>{const l=e.element;return sP(l,s,i).bind(({box:g})=>mF(l,g,i))},VU=(e,s,i,l)=>{const g=Hs(e),x=Ni(),w=oP({win:x,box:g}),D=l(x,w,s);return D.location==="bottom"||D.location==="top"?(HU(e,g,s,i,D),rP(D)):F.none()},vF=(e,s,i)=>{i.setDocked(!1),Ae(["left","right","top","bottom","position"],l=>_o(e.element,l)),s.onUndocked(e)},iP=(e,s,i,l)=>{const g=l.position==="fixed";i.setDocked(g),kx(e.element,l),(g?s.onDocked:s.onUndocked)(e)},yF=(e,s,i,l,g=!1)=>{s.contextual.each(x=>{x.lazyContext(e).each(w=>{const D=FC(w,l.bounds);D!==i.isVisible()&&(i.setVisible(D),g&&!D?(de(e.element,[x.fadeOutClass]),x.onHide(e)):(D?uF:LU)(e,x))})})},_F=(e,s,i,l,g)=>{yF(e,s,i,l,!0),iP(e,s,i,g.positionCss)},zU=(e,s,i,l,g)=>{switch(g.morph){case"static":return vF(e,s,i);case"absolute":return iP(e,s,i,g.positionCss);case"fixed":return _F(e,s,i,l,g)}},WU=(e,s,i)=>{const l=s.lazyViewport(e);yF(e,s,i,l),cA(e,l,i).each(g=>{zU(e,s,i,l,g)})},xF=(e,s,i)=>{const l=e.element;i.setDocked(!1);const g=s.lazyViewport(e);bF(e,g,i).each(x=>{switch(x.morph){case"static":{vF(e,s,i);break}case"absolute":{iP(e,s,i,x.positionCss);break}}}),i.setVisible(!0),s.contextual.each(x=>{De(l,[x.fadeInClass,x.fadeOutClass,x.transitionClass]),x.onShow(e)}),VC(e,s,i)},VC=(e,s,i)=>{e.getSystem().isConnected()&&WU(e,s,i)},wF=(e,s,i)=>{i.isDocked()&&xF(e,s,i)},aP=e=>(s,i,l)=>{const g=i.lazyViewport(s);VU(s.element,g,l,e).each(w=>{_F(s,i,l,g,w)})},UU=aP(HC),jU=aP(aA);var zC=Object.freeze({__proto__:null,refresh:VC,reset:wF,isDocked:(e,s,i)=>i.isDocked(),getModes:(e,s,i)=>i.getModes(),setModes:(e,s,i,l)=>i.setModes(l),forceDockToTop:UU,forceDockToBottom:jU}),CF=Object.freeze({__proto__:null,events:(e,s)=>jo([lm(ml(),(i,l)=>{e.contextual.each(g=>{Yt(i.element,g.transitionClass)&&(De(i.element,[g.transitionClass,g.fadeInClass]),(s.isVisible()?g.onShown:g.onHidden)(i)),l.stop()})}),Xt(im(),(i,l)=>{VC(i,e,s)}),Xt(h1(),(i,l)=>{VC(i,e,s)}),Xt(zd(),(i,l)=>{wF(i,e,s)})])}),SF=[Li("contextual",[Ys("fadeInClass"),Ys("fadeOutClass"),Ys("transitionClass"),gr("lazyContext"),po("onShow"),po("onShown"),po("onHide"),po("onHidden")]),Ss("lazyViewport",()=>({bounds:Ni(),optScrollEnv:F.none()})),Wu("modes",["top","bottom"],Cs),po("onDocked"),po("onUndocked")],KX=Object.freeze({__proto__:null,init:e=>{const s=an(!1),i=an(!0),l=ds(),g=an(e.modes),x=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${g.get().join(",")}`;return gc({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:i.get,setVisible:i.set,getModes:g.get,setModes:g.set,readState:x})}});const xr=ui({fields:SF,name:"docking",active:CF,apis:zC,state:KX}),lP=vt(Ue("toolbar-height-change")),Hm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},EF="tox-tinymce--toolbar-sticky-on",TF="tox-tinymce--toolbar-sticky-off",S_=(e,s)=>{const i=wa(s),g=Of(s).dom.innerHeight,x=oi(i),w=At.fromDom(e.elm),D=Nr(w),P=fr(w),I=D.y,V=I+P,Z=ta(s),J=fr(s),Q=Z.top,ot=Q+J,dt=Math.abs(Q-x.top)<2,Pt=Math.abs(ot-(x.top+g))<2;if(dt&&I<ot)ug(x.left,I-J,i);else if(Pt&&V>Q){const yt=I-g+P+J;ug(x.left,yt,i)}},Mb=(e,s)=>go(xr.getModes(e),s),WC=e=>{const s=l=>Pu(l)+(parseInt(Fs(l,"margin-top"),10)||0)+(parseInt(Fs(l,"margin-bottom"),10)||0),i=e.element;nl(i).each(l=>{const g="padding-"+xr.getModes(e)[0];if(xr.isDocked(e)){const x=ni(l);Pn(i,"width",x+"px"),Pn(l,g,s(i)+"px")}else _o(i,"width"),_o(l,g)})},AF=(e,s)=>{s?(Ot(e,Hm.fadeOutClass),de(e,[Hm.transitionClass,Hm.fadeInClass])):(Ot(e,Hm.fadeInClass),de(e,[Hm.fadeOutClass,Hm.transitionClass]))},kF=(e,s)=>{const i=At.fromDom(e.getContainer());s?(ut(i,EF),Ot(i,TF)):(ut(i,TF),Ot(i,EF))},uP=(e,s)=>{const i=wa(s);lu(i).filter(l=>!No(s,l)).filter(l=>No(l,At.fromDom(i.dom.body))||Qi(e,l)).each(()=>wl(s))},qU=(e,s)=>bi(e).orThunk(()=>s().toOptional().bind(i=>bi(i.element))),UC=(e,s,i)=>{e.inline||(s.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{i().each(xr.reset)}),e.on("ResizeWindow ResizeEditor",()=>{i().each(WC)}),e.on("SkinLoaded",()=>{i().each(l=>{xr.isDocked(l)?xr.reset(l):xr.refresh(l)})}),e.on("FullscreenStateChanged",()=>{i().each(xr.reset)})),e.on("AfterScrollIntoView",l=>{i().each(g=>{xr.refresh(g);const x=g.element;Rs(x)&&S_(l,x)})}),e.on("PostRender",()=>{kF(e,!1)})},OF=e=>e().map(xr.isDocked).getOr(!1),KU=()=>[bc.config({channels:{[lP()]:{onReceive:WC}}})],DF=(e,s)=>{const i=ds(),l=s.getSink,g=D=>{l().each(P=>D(P.element))},x=D=>{e.inline||WC(D),kF(e,xr.isDocked(D)),D.getSystem().broadcastOn([ub()],{}),l().each(P=>P.getSystem().broadcastOn([ub()],{}))},w=e.inline?[]:KU();return[gn.config({}),xr.config({contextual:{lazyContext:D=>{const P=Pu(D.element),I=e.inline?e.getContentAreaContainer():e.getContainer();return F.from(I).map(V=>{const Z=Hs(At.fromDom(V));return Dv(e,D.element).fold(()=>{const Q=Z.height-P,ot=Z.y+(Mb(D,"top")?0:P);return hr(Z.x,ot,Z.width,Q)},Q=>{const ot=yp(Z,Rv(Q)),dt=Mb(D,"top")?ot.y:ot.y+P;return hr(ot.x,dt,ot.width,ot.height-P)})})},onShow:()=>{g(D=>AF(D,!0))},onShown:D=>{g(P=>De(P,[Hm.transitionClass,Hm.fadeInClass])),i.get().each(P=>{uP(D.element,P),i.clear()})},onHide:D=>{qU(D.element,l).fold(i.clear,i.set),g(P=>AF(P,!1))},onHidden:()=>{g(D=>De(D,[Hm.transitionClass]))},...Hm},lazyViewport:D=>Dv(e,D.element).fold(()=>{const I=Ni(),V=S3(e),Z=I.y+(Mb(D,"top")?V:0),J=I.height-(Mb(D,"bottom")?V:0);return{bounds:hr(I.x,Z,I.width,J),optScrollEnv:F.none()}},I=>({bounds:Rv(I),optScrollEnv:F.some({currentScrollTop:I.element.dom.scrollTop,scrollElmTop:ta(I.element).top})})),modes:[s.header.getDockingMode()],onDocked:x,onUndocked:x}),...w]};var YU=Object.freeze({__proto__:null,setup:UC,isDocked:OF,getBehaviours:DF});const XU=e=>{const s=e.editor,i=e.sticky?DF:cF;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:pe(i(s,e.sharedBackstage))}},JU=mn([_r,jr("items",Hu([A0([oR,Xs("items",Cs)]),Cs]))].concat(t_)),QU=e=>as("GroupToolbarButton",JU,e),RF=[$o("text"),$o("tooltip"),$o("icon"),fc("search",!1,Hu([tm,mn([$o("placeholder")])],e=>Le(e)?e?F.some({placeholder:F.none()}):F.none():F.some(e))),gr("fetch"),Ss("onSetup",()=>ft)],dP=mn([_r,...RF]),lA=e=>as("menubutton",dP,e),tj=mn([_r,Jy,Ml,Dm,M8,sL,Cv,Ws("presets","normal",["normal","color","listpreview"]),Eb(1),wv,R8]),uA=e=>as("SplitButton",tj,e);var dA=Ir({factory:(e,s)=>{const i=(g,x)=>{const w=Gt(x,D=>{const P={type:"menubutton",text:D.text,fetch:V=>{V(D.getItems())}},I=lA(P).mapError(V=>nm(V)).getOrDie();return g_(I,"tox-mbtn",s.backstage,F.some("menuitem"))});Bn.set(g,w)},l={focus:fn.focusIn,setMenus:i};return{uid:e.uid,dom:e.dom,components:[],behaviours:pe([Bn.config({}),Fn("menubar-events",[ps(g=>{e.onSetup(g)}),Xt(Xl(),(g,x)=>{Es(g.element,".tox-mbtn--active").each(w=>{td(x.event.target,".tox-mbtn").each(D=>{No(w,D)||g.getSystem().getByDom(w).each(P=>{g.getSystem().getByDom(D).each(I=>{hd.expand(I),hd.close(P),gn.focus(I)})})})})}),Xt(Hc(),(g,x)=>{x.event.prevFocus.bind(w=>g.getSystem().getByDom(w).toOptional()).each(w=>{x.event.newFocus.bind(D=>g.getSystem().getByDom(D).toOptional()).each(D=>{hd.isOpen(w)&&(hd.expand(D),hd.close(w))})})})]),fn.config({mode:"flow",selector:".tox-mbtn",onEscape:g=>(e.onEscape(g),F.some(!0))}),As.config({})]),apis:l,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[oe("dom"),oe("uid"),oe("onEscape"),oe("backstage"),Rt("onSetup",ft)],apis:{focus:(e,s)=>{e.focus(s)},setMenus:(e,s,i)=>{e.setMenus(s,i)}}});const ej="⚡️Upgrade",nj="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",oj=e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:nj,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:ej}}]}),MF="container",hP=[qr("slotBehaviours",[])],fA=e=>"<alloy.field."+e+">",sj=e=>{const s=(()=>{const x=[];return{slot:(D,P)=>(x.push(D),nE(MF,fA(D),P)),record:vt(x)}})(),i=e(s),l=s.record(),g=Gt(l,x=>Uo({name:x,pname:fA(x)}));return Ey(MF,hP,g,mP,i)},mP=(e,s)=>{const i=dt=>cv(e),l=(dt,Pt)=>Go(dt,e,Pt),g=(dt,Pt)=>(yt,kt)=>Go(yt,e,kt).map(Ct=>dt(Ct,kt)).getOr(Pt),x=dt=>(Pt,yt)=>{Ae(yt,kt=>dt(Pt,kt))},w=(dt,Pt)=>$s(dt.element,"aria-hidden")!=="true",D=(dt,Pt)=>{if(!w(dt)){const yt=dt.element;_o(yt,"display"),js(yt,"aria-hidden"),on(dt,am(),{name:Pt,visible:!0})}},P=(dt,Pt)=>{if(w(dt)){const yt=dt.element;Pn(yt,"display","none"),Ee(yt,"aria-hidden","true"),on(dt,am(),{name:Pt,visible:!1})}},I=g(w,!1),V=g(P),Z=x(V),J=dt=>Z(dt,i()),Q=g(D),ot={getSlotNames:i,getSlot:l,isShowing:I,hideSlot:V,hideAllSlots:J,showSlot:Q};return{uid:e.uid,dom:e.dom,components:s,behaviours:gh(e.slotBehaviours),apis:ot}},$a={...Co({getSlotNames:(e,s)=>e.getSlotNames(s),getSlot:(e,s,i)=>e.getSlot(s,i),isShowing:(e,s,i)=>e.isShowing(s,i),hideSlot:(e,s,i)=>e.hideSlot(s,i),hideAllSlots:(e,s)=>e.hideAllSlots(s),showSlot:(e,s,i)=>e.showSlot(s,i)},e=>zc(e)),sketch:sj},rj=mn([Ml,Jy,Ss("onShow",ft),Ss("onHide",ft),Cv]),ij=e=>as("sidebar",rj,e),aj=e=>{const{sidebars:s}=e.ui.registry.getAll();Ae(Qo(s),i=>{const l=s[i],g=()=>va(F.from(e.queryCommandValue("ToggleSidebar")),i);e.ui.registry.addToggleButton(i,{icon:l.icon,tooltip:l.tooltip,onAction:x=>{e.execCommand("ToggleSidebar",!1,i),x.setActive(g())},onSetup:x=>{x.setActive(g());const w=()=>x.setActive(g());return e.on("ToggleSidebar",w),()=>{e.off("ToggleSidebar",w)}}})})},XX=e=>({element:()=>e.element.dom}),JX=(e,s)=>{const i=Gt(Qo(s),l=>{const g=s[l],x=Mc(ij(g));return{name:l,getApi:XX,onSetup:x.onSetup,onShow:x.onShow,onHide:x.onHide}});return Gt(i,l=>{const g=an(ft);return e.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:eC.unnamedEvents([Fi(l,g),nc(l,g),Xt(am(),(x,w)=>{const D=w.event;Mt(i,I=>I.name===D.name).each(I=>{(D.visible?I.onShow:I.onHide)(I.getApi(x))})})])})})},PF=e=>$a.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:JX(s,e),slotBehaviours:eC.unnamedEvents([ps(i=>$a.hideAllSlots(i))])})),cj=(e,s,i)=>{lo.getCurrent(e).each(g=>{Bn.set(g,[PF(s)]);const x=i==null?void 0:i.toLowerCase();tt(x)&&ho(s,x)&&lo.getCurrent(g).each(w=>{$a.showSlot(w,x),Nl.immediateGrow(g),_o(g.element,"width"),jC(e.element,"region")})})},jC=(e,s)=>{Ee(e,"role",s)},lj=(e,s)=>{lo.getCurrent(e).each(l=>{lo.getCurrent(l).each(x=>{Nl.hasGrown(l)?$a.isShowing(x,s)?(Nl.shrink(l),jC(e.element,"presentation")):($a.hideAllSlots(x),$a.showSlot(x,s),jC(e.element,"region")):($a.hideAllSlots(x),$a.showSlot(x,s),Nl.grow(l),jC(e.element,"region"))})})},uj=e=>lo.getCurrent(e).bind(i=>Nl.isGrowing(i)||Nl.hasGrown(i)?lo.getCurrent(i).bind(x=>Mt($a.getSlotNames(x),w=>$a.isShowing(x,w))):F.none()),gP=Ue("FixSizeEvent"),pP=Ue("AutoSizeEvent"),dj=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:pe([As.config({}),gn.config({}),Nl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{lo.getCurrent(s).each($a.hideAllSlots),zn(s,pP)},onGrown:s=>{zn(s,pP)},onStartGrow:s=>{on(s,gP,{width:Qr(s.element,"width").getOr("")})},onStartShrink:s=>{on(s,gP,{width:ni(s.element)+"px"})}}),Bn.config({}),lo.config({find:s=>{const i=Bn.contents(s);return ks(i)}})])}],behaviours:pe([xu.childAt(0),Fn("sidebar-sliding-events",[Xt(gP,(s,i)=>{Pn(s.element,"width",i.event.width)}),Xt(pP,(s,i)=>{_o(s.element,"width")})])])});var hj=Object.freeze({__proto__:null,block:(e,s,i,l)=>{Ee(e.element,"aria-busy",!0);const g=s.getRoot(e).getOr(e),x=pe([fn.config({mode:"special",onTab:()=>F.some(!0),onShiftTab:()=>F.some(!0)}),gn.config({})]),w=l(g,x),D=g.getSystem().build(w);Bn.append(g,yl(D)),D.hasConfigured(fn)&&s.focus&&fn.focusIn(D),i.isBlocked()||s.onBlock(e),i.blockWith(()=>Bn.remove(g,D))},unblock:(e,s,i)=>{js(e.element,"aria-busy"),i.isBlocked()&&s.onUnblock(e),i.clear()},isBlocked:(e,s,i)=>i.isBlocked()}),eJ=[Ss("getRoot",F.none),ii("focus",!0),po("onBlock"),po("onUnblock")],NF=Object.freeze({__proto__:null,init:()=>{const e=Wk(),s=i=>{e.set({destroy:i})};return gc({readState:e.isSet,blockWith:s,clear:e.clear,isBlocked:e.isSet})}});const yf=ui({fields:eJ,name:"blocking",apis:hj,state:NF}),mj=e=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:qg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),LF=e=>lo.getCurrent(e).each(s=>wl(s.element,!0)),Cu=(e,s)=>{const i="tabindex",l=`data-mce-${i}`;F.from(e.iframeElement).map(At.fromDom).each(g=>{s?(Pr(g,i).each(x=>Ee(g,l,x)),Ee(g,i,-1)):(js(g,i),Pr(g,l).each(x=>{Ee(g,i,x),js(g,l)}))})},gj=(e,s,i,l)=>{const g=s.element;if(Cu(e,i),i)yf.block(s,mj(l)),_o(g,"display"),js(g,"aria-hidden"),e.hasFocus()&&LF(s);else{const x=lo.getCurrent(s).exists(w=>Qp(w.element));yf.unblock(s),Pn(g,"display","none"),Ee(g,"aria-hidden","true"),x&&e.focus()}},BF=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:pe([Bn.config({}),yf.config({focus:!1}),lo.config({find:s=>ks(s.components())})]),components:[]}),IF=e=>e.type==="focusin",pj=e=>IF(e)?(e.composed?ks(e.composedPath()):F.from(e.target)).map(At.fromDom).filter(Wo).exists(i=>Yt(i,"mce-pastebin")):!1,ZC=(e,s,i)=>{const l=an(!1),g=ds(),x=D=>{l.get()&&!pj(D)&&(D.preventDefault(),LF(s()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",x),e.on("BeforeExecCommand",D=>{D.command.toLowerCase()==="mcefocus"&&D.value!==!0&&x(D)})});const w=D=>{D!==l.get()&&(l.set(D),gj(e,s(),D,i.providers),hV(e,D))};e.on("ProgressState",D=>{if(g.on(clearTimeout),Je(D.time)){const P=Nw.setEditorTimeout(e,()=>w(D.state),D.time);g.set(P)}else w(D.state),g.clear()})},bj=(e,s)=>ie(e,(g,x)=>s(x,g.len).fold(vt(g),D=>({len:D.finish,list:g.list.concat([D])})),{len:0,list:[]}).list,E_=(e,s,i)=>({within:e,extra:s,withinWidth:i}),$F=(e,s,i)=>{const l=bj(e,(D,P)=>{const I=i(D);return F.some({element:D,start:P,finish:P+I,width:I})}),g=oo(l,D=>D.finish<=s),x=hs(g,(D,P)=>D+P.width,0),w=l.slice(g.length);return{within:g,extra:w,withinWidth:x}},Wv=e=>Gt(e,s=>s.element),vj=(e,s,i)=>{const l=Wv(e.concat(s));return E_(l,[],i)},yj=(e,s,i,l)=>{const g=Wv(e).concat([i]);return E_(g,Wv(s),l)},bd=(e,s,i)=>E_(Wv(e),[],i),_j=(e,s,i)=>{const l=$F(s,e,i);return l.extra.length===0?F.some(l):F.none()},hA=(e,s,i,l)=>{const g=_j(e,s,i).getOrThunk(()=>$F(s,e-i(l),i)),x=g.within,w=g.extra,D=g.withinWidth;return w.length===1&&w[0].width<=i(l)?vj(x,w,D):w.length>=1?yj(x,w,l,D):bd(x,w,D)},bP=(e,s)=>{const i=Gt(s,l=>yl(l));Oh.setGroups(e,i)},FF=e=>vs(e,s=>bi(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),HF=(e,s,i)=>{const l=s.builtGroups.get();if(l.length===0)return;const g=ph(e,s,"primary"),x=cr.getCoupled(e,"overflowGroup");Pn(g.element,"visibility","hidden");const w=l.concat([x]),D=FF(w);i([]),bP(g,w);const P=ni(g.element),I=hA(P,s.builtGroups.get(),V=>Math.ceil(V.element.dom.getBoundingClientRect().width),x);I.extra.length===0?(Bn.remove(g,x),i([])):(bP(g,I.within),i(I.extra)),_o(g.element,"visibility"),sl(g.element),D.each(gn.focus)},vP=vt([qr("splitToolbarBehaviours",[cr]),se("builtGroups",()=>an([]))]),xj=vt([cu(["overflowToggledClass"]),Ta("getOverflowBounds"),oe("lazySink"),se("overflowGroups",()=>an([])),po("onOpened"),po("onClosed")].concat(vP())),wj=vt([Uo({factory:Oh,schema:w_(),name:"primary"}),gu({schema:w_(),name:"overflow"}),gu({name:"overflow-button"}),gu({name:"overflow-group"})]),yP=vt((e,s)=>{Mf(e,Math.floor(s))}),Cj=vt([cu(["toggledClass"]),oe("lazySink"),gr("fetch"),Ta("getBounds"),Li("fireDismissalEventInstead",[Rt("event",Ql())]),fu(),po("onToggled")]),Sj=vt([gu({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:pe([Zn.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),gu({factory:Oh,schema:w_(),name:"toolbar",overrides:e=>({toolbarBehaviours:pe([fn.config({mode:"cyclic",onEscape:s=>(Go(s,e,"button").each(gn.focus),F.none())})])})})]),mA=ds(),Ej=(e,s)=>{mA.set(!0),gA(e,s),mA.clear()},gA=(e,s)=>{const i=cr.getCoupled(e,"toolbarSandbox");Yn.isOpen(i)?Yn.close(i):Yn.open(i,s.toolbar())},pA=(e,s,i,l)=>{const g=i.getBounds.map(w=>w()),x=i.lazySink(e).getOrDie();vi.positionWithinBounds(x,s,{anchor:{type:"hotspot",hotspot:e,layouts:l,overrides:{maxWidthFunction:yP()}}},g)},_P=(e,s,i,l,g)=>{Oh.setGroups(s,g),pA(e,s,i,l),Zn.on(e)},Tj=(e,s,i)=>{const l=HS(),g=(w,D)=>{const P=mA.get().getOr(!1);i.fetch().get(I=>{_P(e,D,i,s.layouts,I),l.link(e.element),P||fn.focusIn(D)})},x=()=>{Zn.off(e),mA.get().getOr(!1)||gn.focus(e),l.unlink(e.element)};return{dom:{tag:"div",attributes:{id:l.id}},behaviours:pe([fn.config({mode:"special",onEscape:w=>(Yn.close(w),F.some(!0))}),Yn.config({onOpen:g,onClose:x,isPartOf:(w,D,P)=>pm(D,P)||pm(e,P),getAttachPoint:()=>i.lazySink(e).getOrDie()}),bc.config({channels:{...Y1({isExtraPart:pn,...i.fireDismissalEventInstead.map(w=>({fireEventInstead:{event:w.event}})).getOr({})}),...gy({doReposition:()=>{Yn.getState(cr.getCoupled(e,"toolbarSandbox")).each(w=>{pA(e,w,i,s.layouts)})}})}})])}},ep=Zi({name:"FloatingToolbarButton",factory:(e,s,i,l)=>({...xi.sketch({...l.button(),action:g=>{gA(g,l)},buttonBehaviours:Zc.augment({dump:l.button().buttonBehaviours},[cr.config({others:{toolbarSandbox:g=>Tj(g,i,e)}})])}),apis:{setGroups:(g,x)=>{Yn.getState(cr.getCoupled(g,"toolbarSandbox")).each(w=>{_P(g,w,e,i.layouts,x)})},reposition:g=>{Yn.getState(cr.getCoupled(g,"toolbarSandbox")).each(x=>{pA(g,x,e,i.layouts)})},toggle:g=>{gA(g,l)},toggleWithoutFocusing:g=>{Ej(g,l)},getToolbar:g=>Yn.getState(cr.getCoupled(g,"toolbarSandbox")),isOpen:g=>Yn.isOpen(cr.getCoupled(g,"toolbarSandbox"))}}),configFields:Cj(),partFields:Sj(),apis:{setGroups:(e,s,i)=>{e.setGroups(s,i)},reposition:(e,s)=>{e.reposition(s)},toggle:(e,s)=>{e.toggle(s)},toggleWithoutFocusing:(e,s)=>{e.toggleWithoutFocusing(s)},getToolbar:(e,s)=>e.getToolbar(s),isOpen:(e,s)=>e.isOpen(s)}}),VF=vt([oe("items"),cu(["itemSelector"]),qr("tgroupBehaviours",[fn])]),zF=vt([pu({name:"items",unit:"item"})]),Aj=(e,s,i,l)=>({uid:e.uid,dom:e.dom,components:s,behaviours:Kr(e.tgroupBehaviours,[fn.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),bA=Zi({name:"ToolbarGroup",configFields:VF(),partFields:zF(),factory:Aj}),WF=e=>Gt(e,s=>yl(s)),xP=(e,s,i)=>{HF(e,i,l=>{i.overflowGroups.set(l),s.getOpt(e).each(g=>{ep.setGroups(g,WF(l))})})},kj=(e,s,i,l)=>{const g=Fo(ep.sketch({fetch:()=>Hi.nu(x=>{x(WF(e.overflowGroups.get()))}),layouts:{onLtr:()=>[yr,Dr],onRtl:()=>[Dr,yr],onBottomLtr:()=>[Lr,us],onBottomRtl:()=>[us,Lr]},getBounds:i.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(x,w)=>e[w?"onOpened":"onClosed"](x)}));return{uid:e.uid,dom:e.dom,components:s,behaviours:Kr(e.splitToolbarBehaviours,[cr.config({others:{overflowGroup:()=>bA.sketch({...l["overflow-group"](),items:[g.asSpec()]})}})]),apis:{setGroups:(x,w)=>{e.builtGroups.set(Gt(w,x.getSystem().build)),xP(x,g,e)},refresh:x=>xP(x,g,e),toggle:x=>{g.getOpt(x).each(w=>{ep.toggle(w)})},toggleWithoutFocusing:x=>{g.getOpt(x).each(ep.toggleWithoutFocusing)},isOpen:x=>g.getOpt(x).map(ep.isOpen).getOr(!1),reposition:x=>{g.getOpt(x).each(w=>{ep.reposition(w)})},getOverflow:x=>g.getOpt(x).bind(ep.getToolbar)},domModification:{attributes:{role:"group"}}}},UF=Zi({name:"SplitFloatingToolbar",configFields:xj(),partFields:wj(),factory:kj,apis:{setGroups:(e,s,i)=>{e.setGroups(s,i)},refresh:(e,s)=>{e.refresh(s)},reposition:(e,s)=>{e.reposition(s)},toggle:(e,s)=>{e.toggle(s)},toggleWithoutFocusing:(e,s)=>{e.toggle(s)},isOpen:(e,s)=>e.isOpen(s),getOverflow:(e,s)=>e.getOverflow(s)}}),Oj=vt([cu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),po("onOpened"),po("onClosed")].concat(vP())),Dj=vt([Uo({factory:Oh,schema:w_(),name:"primary"}),Uo({factory:Oh,schema:w_(),name:"overflow",overrides:e=>({toolbarBehaviours:pe([Nl.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:s=>{Go(s,e,"overflow-button").each(i=>{Zn.off(i),gn.focus(i)}),e.onClosed(s)},onGrown:s=>{fn.focusIn(s),e.onOpened(s)},onStartGrow:s=>{Go(s,e,"overflow-button").each(Zn.on)}}),fn.config({mode:"acyclic",onEscape:s=>(Go(s,e,"overflow-button").each(gn.focus),F.some(!0))})])})}),gu({name:"overflow-button",overrides:e=>({buttonBehaviours:pe([Zn.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),gu({name:"overflow-group"})]),Rj=(e,s)=>Go(e,s,"overflow").map(Nl.hasGrown).getOr(!1),jF=(e,s)=>{Go(e,s,"overflow-button").bind(()=>Go(e,s,"overflow")).each(i=>{wP(e,s),Nl.toggleGrow(i)})},wP=(e,s)=>{Go(e,s,"overflow").each(i=>{HF(e,s,l=>{const g=Gt(l,x=>yl(x));Oh.setGroups(i,g)}),Go(e,s,"overflow-button").each(l=>{Nl.hasGrown(i)&&Zn.on(l)}),Nl.refresh(i)})},Mj=(e,s,i,l)=>{const g="alloy.toolbar.toggle",x=(w,D)=>{const P=Gt(D,w.getSystem().build);e.builtGroups.set(P)};return{uid:e.uid,dom:e.dom,components:s,behaviours:Kr(e.splitToolbarBehaviours,[cr.config({others:{overflowGroup:w=>bA.sketch({...l["overflow-group"](),items:[xi.sketch({...l["overflow-button"](),action:D=>{zn(w,g)}})]})}}),Fn("toolbar-toggle-events",[Xt(g,w=>{jF(w,e)})])]),apis:{setGroups:(w,D)=>{x(w,D),wP(w,e)},refresh:w=>wP(w,e),toggle:w=>jF(w,e),isOpen:w=>Rj(w,e)},domModification:{attributes:{role:"group"}}}},CP=Zi({name:"SplitSlidingToolbar",configFields:Oj(),partFields:Dj(),factory:Mj,apis:{setGroups:(e,s,i)=>{e.setGroups(s,i)},refresh:(e,s)=>{e.refresh(s)},toggle:(e,s)=>{e.toggle(s)},isOpen:(e,s)=>e.isOpen(s)}}),ZF=e=>{const s=e.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[bA.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:pe([As.config({}),gn.config({})])}},GC=e=>bA.sketch(ZF(e)),GF=(e,s)=>{const i=ps(l=>{const g=Gt(e.initGroups,GC);Oh.setGroups(l,g)});return pe([uf.toolbarButton(e.providers.isDisabled),di(),fn.config({mode:s,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Fn("toolbar-events",[i])])},qF=e=>{const s=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ZF({title:F.none(),items:[]}),"overflow-button":P9({name:"more",icon:F.some("more-drawer"),enabled:!0,tooltip:F.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:F.none(),borderless:!1},F.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:GF(e,s)}},SP=e=>{const s=qF(e),i=4,l=UF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return UF.sketch({...s,lazySink:e.getSink,getOverflowBounds:()=>{const g=e.moreDrawerData.lazyHeader().element,x=Nr(g),w=Vl(g),D=Nr(w),P=Math.max(w.dom.scrollHeight,D.height);return hr(x.x+i,D.y,x.width-i*2,P)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[l],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>e.onToggled(g,!0),onClosed:g=>e.onToggled(g,!1)})},Pj=e=>{const s=CP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=CP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=qF(e);return CP.sketch({...l,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>{g.getSystem().broadcastOn([lP()],{type:"opened"}),e.onToggled(g,!0)},onClosed:g=>{g.getSystem().broadcastOn([lP()],{type:"closed"}),e.onToggled(g,!1)}})},Uv=e=>{const s=e.cyclicKeying?"cyclic":"acyclic";return Oh.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===ud.scrolling?["tox-toolbar--scrolling"]:[])},components:[Oh.parts.groups({})],toolbarBehaviours:GF(e,s)})},KF=[Dm,Ml,$o("tooltip"),Ws("buttonType","secondary",["primary","secondary"]),ii("borderless",!1),gr("onAction")],YF=[...KF,Om,es("type",["button"])],Nj=[...KF,ii("active",!1),es("type",["togglebutton"])],XF={button:YF,togglebutton:Nj},oJ=[es("type",["group"]),Wu("buttons",[],or("type",XF))],Lj=or("type",{...XF,group:oJ}),Bj=mn([Wu("buttons",[],Lj),gr("onShow"),gr("onHide")]),EP=e=>as("view",Bj,e),Ij=(e,s)=>{var i,l;const g=e.type==="togglebutton",x=e.icon.map(Ct=>Qg(Ct,s.icons)).map(Fo),D=(()=>Ct=>{const ne=we=>{x.map(te=>te.getOpt(Ct).each(An=>{Bn.set(An,[Qg(we,s.icons)])}))},ee=we=>{const te=Ct.element;we?(ut(te,"tox-button--enabled"),Ee(te,"aria-pressed",!0)):(Ot(te,"tox-button--enabled"),js(te,"aria-pressed"))},ae=()=>Yt(Ct.element,"tox-button--enabled");if(g)return e.onAction({setIcon:ne,setActive:ee,isActive:ae});if(e.type==="button")return e.onAction({setIcon:ne})})(),P={...e,name:g?e.text.getOr(e.icon.getOr("")):(i=e.text)!==null&&i!==void 0?i:e.icon.getOr(""),primary:e.buttonType==="primary",buttonType:F.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},I=IM((l=e.buttonType)!==null&&l!==void 0?l:"secondary"),V=g?e.text.map(s.translate):F.some(s.translate(e.text)),Z=V.map(rr),J=P.tooltip.or(V).map(Ct=>({"aria-label":s.translate(Ct)})).getOr({}),Q=x.map(Ct=>Ct.asSpec()),ot=Tb([Q,Z]),dt=e.icon.isSome()&&Z.isSome(),Pt={tag:"button",classes:I.concat(...e.icon.isSome()&&!dt?["tox-button--icon"]:[]).concat(...dt?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(...e.type==="togglebutton"&&e.active?["tox-button--enabled"]:[]),attributes:J},yt=[],kt=eA(P,F.some(D),yt,Pt,ot,e.tooltip,s);return xi.sketch(kt)},qC=(e,s)=>Ij(e,s),JF=(e,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Gt(e.buttons,i=>qC(i,s))}),TP=lc().deviceType,AP=TP.isPhone(),$j=TP.isTablet(),QF=e=>{let s=!1;const i=Gt(e.buttons,l=>l.type==="group"?(s=!0,JF(l,e.providers)):qC(l,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...AP||$j?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:pe([gn.config({}),fn.config({mode:"flow",selector:"button, .tox-button",focusInside:Wg.OnEnterOrSpaceMode})]),components:s?i:[hf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),hf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},T_=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),t5=(e,s,i,l)=>{const g={getPane:x=>$r.getPart(x,e,"pane"),getOnShow:x=>e.viewConfig.onShow,getOnHide:x=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:s,apis:g}};var A_=Zi({name:"silver.View",configFields:[oe("viewConfig")],partFields:[vc({factory:{sketch:QF},schema:[oe("buttons"),oe("providers")],name:"header"}),vc({factory:{sketch:T_},schema:[],name:"pane"})],factory:t5,apis:{getPane:(e,s)=>e.getPane(s),getOnShow:(e,s)=>e.getOnShow(s),getOnHide:(e,s)=>e.getOnHide(s)}});const Fj=(e,s,i)=>Wa(s,(l,g)=>{const x=Mc(EP(l));return e.slot(g,A_.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:x,components:[...x.buttons.length>0?[A_.parts.header({buttons:x.buttons,providers:i})]:[],A_.parts.pane({})]}))}),Hj=(e,s)=>$a.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Fj(i,e,s),slotBehaviours:eC.unnamedEvents([ps(l=>$a.hideAllSlots(l))])})),vA=e=>Mt($a.getSlotNames(e),s=>$a.isShowing(e,s)),Vj=e=>{const s=e.element;Pn(s,"display","none"),Ee(s,"aria-hidden","true")},zj=e=>{const s=e.element;_o(s,"display"),js(s,"aria-hidden")},e5=e=>({getContainer:vt(e)}),kP=(e,s,i)=>{$a.getSlot(e,s).each(l=>{A_.getPane(l).each(g=>{i(l)(e5(g.element.dom))})})},yA=(e,s)=>kP(e,s,A_.getOnShow),OP=(e,s)=>kP(e,s,A_.getOnHide);var _A=Ir({factory:(e,s)=>{const x={setViews:(w,D)=>{Bn.set(w,[Hj(D,s.backstage.shared.providers)])},whichView:w=>lo.getCurrent(w).bind(vA),toggleView:(w,D,P,I)=>lo.getCurrent(w).exists(V=>{const Z=vA(V),J=Z.exists(ot=>I===ot),Q=$a.getSlot(V,I).isSome();return Q&&($a.hideAllSlots(V),J?(Vj(w),D()):(P(),zj(w),$a.showSlot(V,I),yA(V,I)),Z.each(ot=>OP(V,ot))),Q})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:pe([Bn.config({}),lo.config({find:w=>{const D=Bn.contents(w);return ks(D)}})]),apis:x}},name:"silver.ViewWrapper",configFields:[oe("backstage")],apis:{setViews:(e,s,i)=>e.setViews(s,i),toggleView:(e,s,i,l,g)=>e.toggleView(s,i,l,g),whichView:(e,s)=>e.whichView(s)}});const n5=(e,s,i)=>{let l=!1;const g=w=>{gm(w,".tox-statusbar").each(D=>{Fs(D,"display")==="none"&&$s(D,"aria-hidden")==="true"?(_o(D,"display"),js(D,"aria-hidden")):(Pn(D,"display","none"),Ee(D,"aria-hidden","true"))})},x={getSocket:w=>$r.getPart(w,e,"socket"),setSidebar:(w,D,P)=>{$r.getPart(w,e,"sidebar").each(I=>cj(I,D,P))},toggleSidebar:(w,D)=>{$r.getPart(w,e,"sidebar").each(P=>lj(P,D))},whichSidebar:w=>$r.getPart(w,e,"sidebar").bind(uj).getOrNull(),getHeader:w=>$r.getPart(w,e,"header"),getToolbar:w=>$r.getPart(w,e,"toolbar"),setToolbar:(w,D)=>{$r.getPart(w,e,"toolbar").each(P=>{const I=Gt(D,GC);P.getApis().setGroups(P,I)})},setToolbars:(w,D)=>{$r.getPart(w,e,"multiple-toolbar").each(P=>{const I=Gt(D,V=>Gt(V,GC));iA.setItems(P,I)})},refreshToolbar:w=>{$r.getPart(w,e,"toolbar").each(P=>P.getApis().refresh(P))},toggleToolbarDrawer:w=>{$r.getPart(w,e,"toolbar").each(D=>{ms(D.getApis().toggle,P=>P(D))})},toggleToolbarDrawerWithoutFocusing:w=>{$r.getPart(w,e,"toolbar").each(D=>{ms(D.getApis().toggleWithoutFocusing,P=>P(D))})},isToolbarDrawerToggled:w=>$r.getPart(w,e,"toolbar").bind(D=>F.from(D.getApis().isOpen).map(P=>P(D))).getOr(!1),getThrobber:w=>$r.getPart(w,e,"throbber"),focusToolbar:w=>{$r.getPart(w,e,"toolbar").orThunk(()=>$r.getPart(w,e,"multiple-toolbar")).each(P=>{fn.focusIn(P)})},setMenubar:(w,D)=>{$r.getPart(w,e,"menubar").each(P=>{dA.setMenus(P,D)})},focusMenubar:w=>{$r.getPart(w,e,"menubar").each(D=>{dA.focus(D)})},setViews:(w,D)=>{$r.getPart(w,e,"viewWrapper").each(P=>{_A.setViews(P,D)})},toggleView:(w,D)=>$r.getPart(w,e,"viewWrapper").exists(P=>_A.toggleView(P,()=>x.showMainView(w),()=>x.hideMainView(w),D)),whichView:w=>$r.getPart(w,e,"viewWrapper").bind(_A.whichView).getOrNull(),hideMainView:w=>{l=x.isToolbarDrawerToggled(w),l&&x.toggleToolbarDrawer(w),$r.getPart(w,e,"editorContainer").each(D=>{const P=D.element;g(P),Pn(P,"display","none"),Ee(P,"aria-hidden","true")})},showMainView:w=>{l&&x.toggleToolbarDrawer(w),$r.getPart(w,e,"editorContainer").each(D=>{const P=D.element;g(P),_o(P,"display"),js(P,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:s,apis:x,behaviours:e.behaviours}},Wj=Fm.optional({factory:dA,name:"menubar",schema:[oe("backstage")]}),Uj=e=>e.type===ud.sliding?Pj:e.type===ud.floating?SP:Uv,jj=Fm.optional({factory:{sketch:e=>iA.sketch({uid:e.uid,dom:e.dom,listBehaviours:pe([fn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Uv({type:e.type,uid:Ue("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),F.some(!0))}),setupItem:(s,i,l,g)=>{Oh.setGroups(i,l)},shell:!0})},name:"multiple-toolbar",schema:[oe("dom"),oe("onEscape")]}),o5=Fm.optional({factory:{sketch:e=>{const s=Uj(e),i={type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),F.some(!0)),onToggled:(l,g)=>e.onToolbarToggled(g),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return s(i)}},name:"toolbar",schema:[oe("dom"),oe("onEscape"),oe("getSink")]}),Zj=Fm.optional({factory:{sketch:XU},name:"header",schema:[oe("dom")]}),Gj=Fm.optional({factory:{sketch:oj},name:"promotion",schema:[oe("dom")]}),DP=Fm.optional({name:"socket",schema:[oe("dom")]}),qj=Fm.optional({factory:{sketch:dj},name:"sidebar",schema:[oe("dom")]}),Kj=Fm.optional({factory:{sketch:BF},name:"throbber",schema:[oe("dom")]}),s5=Fm.optional({factory:_A,name:"viewWrapper",schema:[oe("backstage")]}),Yj=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components}),r5=Fm.optional({factory:{sketch:Yj},name:"editorContainer",schema:[]});var fs=Zi({name:"OuterContainer",factory:n5,configFields:[oe("dom"),oe("behaviours")],partFields:[Zj,Wj,o5,jj,DP,qj,Gj,Kj,s5,r5],apis:{getSocket:(e,s)=>e.getSocket(s),setSidebar:(e,s,i,l)=>{e.setSidebar(s,i,l)},toggleSidebar:(e,s,i)=>{e.toggleSidebar(s,i)},whichSidebar:(e,s)=>e.whichSidebar(s),getHeader:(e,s)=>e.getHeader(s),getToolbar:(e,s)=>e.getToolbar(s),setToolbar:(e,s,i)=>{e.setToolbar(s,i)},setToolbars:(e,s,i)=>{e.setToolbars(s,i)},refreshToolbar:(e,s)=>e.refreshToolbar(s),toggleToolbarDrawer:(e,s)=>{e.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(e,s)=>{e.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(e,s)=>e.isToolbarDrawerToggled(s),getThrobber:(e,s)=>e.getThrobber(s),setMenubar:(e,s,i)=>{e.setMenubar(s,i)},focusMenubar:(e,s)=>{e.focusMenubar(s)},focusToolbar:(e,s)=>{e.focusToolbar(s)},setViews:(e,s,i)=>{e.setViews(s,i)},toggleView:(e,s,i)=>e.toggleView(s,i),whichView:(e,s)=>e.whichView(s)}});const i5="file edit view insert format tools table help",a5={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Xj=(e,s,i)=>{const l=C3(i).split(/[ ,]/);return{text:e.title,getItems:()=>wt(e.items,g=>{const x=g.toLowerCase();return x.trim().length===0?[]:Cr(l,w=>w===x)?[]:x==="separator"||x==="|"?[{type:"separator"}]:s.menuItems[x]?[s.menuItems[x]]:[]})}},RP=e=>e.split(" "),MP=(e,s)=>{const i={...a5,...s.menus},l=Qo(s.menus).length>0,g=s.menubar===void 0||s.menubar===!0?RP(i5):RP(s.menubar===!1?"":s.menubar),x=oo(g,D=>{const P=ho(a5,D);return l?P||Me(s.menus,D).exists(I=>ho(I,"items")):P}),w=Gt(x,D=>{const P=i[D];return Xj({title:P.title,items:RP(P.items)},s,e)});return oo(w,D=>{const P=I=>tt(I)||I.type!=="separator";return D.getItems().length>0&&Cr(D.getItems(),P)})},Jj=e=>{const s=()=>{e._skinLoaded=!0,VL(e)};return()=>{e.initialized?s():e.on("init",s)}},Qj=(e,s)=>()=>ff(e,{message:s}),c5=(e,s,i)=>(e.on("remove",()=>i.unload(s)),i.load(s)),KC=(e,s,i,l)=>(e.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,i)),PP=async(e,s)=>{const l="ui/"+WE(e).getOr("default")+"/skin.css",g=tinymce.Resource.get(l);if(tt(g))return Promise.resolve(KC(e,l,g,e.ui.styleSheetLoader));{const x=s+"/skin.min.css";return c5(e,x,e.ui.styleSheetLoader)}},tZ=async(e,s)=>{if(ng(At.fromDom(e.getElement()))){const g="ui/"+WE(e).getOr("default")+"/skin.shadowdom.css",x=tinymce.Resource.get(g);if(tt(x))return KC(e,g,x,jy.DOM.styleSheetLoader),Promise.resolve();{const w=s+"/skin.shadowdom.min.css";return c5(e,w,jy.DOM.styleSheetLoader)}}},eZ=async(e,s)=>{WE(s).fold(()=>{const l=zE(s);l&&s.contentCSS.push(l+(e?"/content.inline":"/content")+".min.css")},l=>{const g="ui/"+l+(e?"/content.inline":"/content")+".css",x=tinymce.Resource.get(g);if(tt(x))KC(s,g,x,s.ui.styleSheetLoader);else{const w=zE(s);w&&s.contentCSS.push(w+(e?"/content.inline":"/content")+".min.css")}});const i=zE(s);if(!UD(s)&&tt(i))return Promise.all([PP(s,i),tZ(s,i)]).then()},l5=(e,s)=>eZ(e,s).then(Jj(s),Qj(s,"Skin could not be loaded")),nZ=sn(l5,!1),oZ=sn(l5,!0),k_=(e,s,i)=>Ns(i)?e.translate(s):e.translate([s,e.translate(i)]),sZ=(e,s)=>{const i=(w,D,P,I)=>{const V=e.shared.providers.translate(w.title);if(w.type==="separator")return F.some({type:"separator",text:V});if(w.type==="submenu"){const Z=wt(w.getStyleItems(),J=>l(J,D,I));return D===0&&Z.length<=0?F.none():F.some({type:"nestedmenuitem",text:V,enabled:Z.length>0,getSubmenuItems:()=>wt(w.getStyleItems(),J=>l(J,D,I))})}else return F.some({type:"togglemenuitem",text:V,icon:w.icon,active:w.isSelected(I),enabled:!P,onAction:s.onAction(w),...w.getStylePreview().fold(()=>({}),Z=>({meta:{style:Z}}))})},l=(w,D,P)=>{const I=w.type==="formatter"&&s.isInvalid(w);return D===0?I?[]:i(w,D,!1,P).toArray():i(w,D,I,P).toArray()},g=w=>{const D=s.getCurrentValue(),P=s.shouldHide?0:1;return wt(w,I=>l(I,P,D))};return{validateItems:g,getFetch:(w,D)=>(P,I)=>{const V=D(),Z=g(V),J=h_(Z,xh.CLOSE_ON_EXECUTE,w,{isHorizontalMenu:!1,search:F.none()});I(J)}}},O_=(e,s)=>{const i=s.dataset,l=i.type==="basic"?()=>Gt(i.data,g=>$$(g,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:sZ(e,s),getStyleItems:l}},YC=(e,s,i,l,g,x)=>{const{items:w,getStyleItems:D}=O_(s,i),P=an(i.tooltip),I=Z=>({getComponent:vt(Z),setTooltip:J=>{const Q=s.shared.providers.translate(J);Ee(Z.element,"aria-label",Q),P.set(J)}}),V=Z=>{const J=Q=>Z.setTooltip(k_(e,l(Q.value),Q.value));return e.on(g,J),lC(Av(e,"NodeChange",Q=>{const ot=Q.getComponent();i.updateText(ot),En.set(Q.getComponent(),!e.selection.isEditable())})(Z),()=>e.off(g,J))};return qT({text:i.icon.isSome()?F.none():i.text,icon:i.icon,ariaLabel:F.some(i.tooltip),tooltip:F.none(),role:F.none(),fetch:w.getFetch(s,D),onSetup:V,getApi:I,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[qi.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:Z=>{if(i.tooltip!==P.get()){const J=s.shared.providers.translate(P.get());qi.setComponents(Z,s.shared.providers.tooltips.getComponents({tooltipText:J}))}}})})]},"tox-tbtn",s.shared,x)},u5=e=>Gt(e,s=>{let i=s,l=s;const g=s.split("=");return g.length>1&&(i=g[0],l=g[1]),{title:i,format:l}}),xA=e=>({type:"basic",data:e});var Pb;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(Pb||(Pb={}));const d5=(e,s)=>s===Pb.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),Vm=(e,s,i)=>{const l=e.options.get(s);return{type:"basic",data:u5(d5(l,i))}},f5="Align",h5=vt("Alignment {0}"),m5="left",NP=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],g5=e=>{const s=()=>Mt(NP,D=>e.formatter.match(D.format)),i=D=>()=>e.formatter.match(D),l=D=>F.none,g=D=>{const I=s().fold(vt(m5),V=>V.title.toLowerCase());on(D,Hv,{icon:`align-${I}`}),mV(e,{value:I})},x=xA(NP),w=D=>()=>Mt(NP,P=>P.format===D.format).each(P=>e.execCommand(P.command));return{tooltip:k_(e,h5(),m5),text:F.none(),icon:F.some("align-left"),isSelectedFor:i,getCurrentValue:F.none,getPreviewFor:l,onAction:w,updateText:g,dataset:x,shouldHide:!1,isInvalid:D=>!e.formatter.canApply(D.format)}},rZ=(e,s)=>YC(e,s,g5(e),h5,"AlignTextUpdate","align"),iZ=(e,s)=>{const i=O_(s,g5(e));e.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(f5),onSetup:Ia(e),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},p5=(e,s)=>{const i=s(),l=Gt(i,g=>g.format);return F.from(e.formatter.closest(l)).bind(g=>Mt(i,x=>x.format===g))},b5="Blocks",v5=vt("Block {0}"),LP="Paragraph",wA=e=>{const s=x=>()=>e.formatter.match(x),i=x=>()=>{const w=e.formatter.get(x);return w?F.some({tag:w.length>0&&(w[0].inline||w[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(x))}):F.none()},l=x=>{const D=p5(e,()=>g.data).fold(vt(LP),P=>P.title);on(x,gd,{text:D}),bV(e,{value:D})},g=Vm(e,"block_formats",Pb.SemiColon);return{tooltip:k_(e,v5(),LP),text:F.some(LP),icon:F.none(),isSelectedFor:s,getCurrentValue:F.none,getPreviewFor:i,onAction:GL(e),updateText:l,dataset:g,shouldHide:!1,isInvalid:x=>!e.formatter.canApply(x.format)}},aZ=(e,s)=>YC(e,s,wA(e),v5,"BlocksTextUpdate","blocks"),cZ=(e,s)=>{const i=O_(s,wA(e));e.ui.registry.addNestedMenuItem("blocks",{text:b5,onSetup:Ia(e),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},lZ="Fonts",y5=vt("Font {0}"),BP="System Font",uZ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],IP=e=>{const s=e.split(/\s*,\s*/);return Gt(s,i=>i.replace(/^['"]+|['"]+$/g,""))},$P=(e,s)=>s.length>0&&Gn(s,i=>e.indexOf(i.toLowerCase())>-1),_5=(e,s)=>{if(e.indexOf("-apple-system")===0||s.length>0){const i=IP(e.toLowerCase());return $P(i,uZ)||$P(i,s)}else return!1},x5=e=>{const s=()=>{const P=ot=>ot?IP(ot)[0]:"",I=e.queryCommandValue("FontName"),V=D.data,Z=I?I.toLowerCase():"",J=HE(e);return{matchOpt:Mt(V,ot=>{const dt=ot.format;return dt.toLowerCase()===Z||P(dt).toLowerCase()===P(Z).toLowerCase()}).orThunk(()=>Sn(_5(Z,J),{title:BP,format:Z})),font:I}},i=P=>I=>I.exists(V=>V.format===P),l=()=>{const{matchOpt:P}=s();return P},g=P=>()=>F.some({tag:"div",styles:P.indexOf("dings")===-1?{"font-family":P}:{}}),x=P=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,P.format)})},w=P=>{const{matchOpt:I,font:V}=s(),Z=I.fold(vt(V),J=>J.title);on(P,gd,{text:Z}),vV(e,{value:Z})},D=Vm(e,"font_family_formats",Pb.SemiColon);return{tooltip:k_(e,y5(),BP),text:F.some(BP),icon:F.none(),isSelectedFor:i,getCurrentValue:l,getPreviewFor:g,onAction:x,updateText:w,dataset:D,shouldHide:!1,isInvalid:pn}},w5=(e,s)=>YC(e,s,x5(e),y5,"FontFamilyTextUpdate","fontfamily"),dZ=(e,s)=>{const i=O_(s,x5(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(lZ),onSetup:Ia(e),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},fZ={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},hZ=(()=>{const e="[0-9]+",i="[eE]"+("[+-]?"+e),l="\\.",g=D=>`(?:${D})?`,w=`[+-]?(?:${["Infinity",e+l+g(e)+g(i),l+e+g(i),e+g(i)].join("|")})`;return new RegExp(`^(${w})(.*)$`)})(),C5=(e,s)=>Cr(s,i=>Cr(fZ[i],l=>e===l)),CA=(e,s)=>F.from(hZ.exec(e)).bind(l=>{const g=Number(l[1]),x=l[2];return C5(x,s)?F.some({value:g,unit:x}):F.none()}),S5=(e,s)=>CA(e,s).map(({value:i,unit:l})=>i+l),E5={tab:vt(9),escape:vt(27),enter:vt(13),backspace:vt(8),delete:vt(46),left:vt(37),up:vt(38),right:vt(39),down:vt(40),space:vt(32),home:vt(36),end:vt(35),pageUp:vt(33),pageDown:vt(34)},mZ=(e,s,i,l)=>{let g=F.none();const x=Ct=>Ct.map(ne=>Ie.getValue(ne)).getOr(""),w=Av(e,"NodeChange SwitchMode",Ct=>{const ne=Ct.getComponent();g=F.some(ne),i.updateInputValue(ne),En.set(ne,!e.selection.isEditable())}),D=Ct=>({getComponent:vt(Ct)}),P=an(ft),I=Ue("custom-number-input-events"),V=(Ct,ne,ee)=>{const ae=x(g),we=i.getNewValue(ae,Ct),te=ae.length-`${we}`.length,An=g.map(vn=>vn.element.dom.selectionStart-te),qe=g.map(vn=>vn.element.dom.selectionEnd-te);i.onAction(we,ee),g.each(vn=>{Ie.setValue(vn,we),ne&&(An.each(rn=>vn.element.dom.selectionStart=rn),qe.each(rn=>vn.element.dom.selectionEnd=rn))})},Z=(Ct,ne)=>V((ee,ae)=>ee-ae,Ct,ne),J=(Ct,ne)=>V((ee,ae)=>ee+ae,Ct,ne),Q=Ct=>nl(Ct.element).fold(F.none,ne=>(wl(ne),F.some(!0))),ot=Ct=>Qp(Ct.element)?(tg(Ct.element).each(ne=>wl(ne)),F.some(!0)):F.none(),dt=(Ct,ne,ee,ae)=>{const we=an(ft),te=s.shared.providers.translate(ee),An=Ue("altExecuting"),qe=Av(e,"NodeChange SwitchMode",rn=>{En.set(rn.getComponent(),!e.selection.isEditable())}),vn=rn=>{En.isDisabled(rn)||Ct(!0)};return xi.sketch({dom:{tag:"button",attributes:{"aria-label":te,"data-mce-name":ne},classes:ae.concat(ne)},components:[wM(ne,s.shared.providers.icons)],buttonBehaviours:pe([En.config({}),qi.config(s.shared.providers.tooltips.getConfig({tooltipText:te})),Fn(An,[Fi({onSetup:qe,getApi:D},we),nc({getApi:D},we),Xt(Ic(),(rn,Ao)=>{(Ao.event.raw.keyCode===E5.space()||Ao.event.raw.keyCode===E5.enter())&&(En.isDisabled(rn)||Ct(!1))}),Xt(Gu(),vn),Xt(Yl(),vn)])]),eventOrder:{[Ic()]:[An,"keying"],[Gu()]:[An,"alloy.base.behaviour"],[Yl()]:[An,"alloy.base.behaviour"],[aa()]:["alloy.base.behaviour",An,"tooltipping"],[Fc()]:[An,"tooltipping"]}})},Pt=Fo(dt(Ct=>Z(!1,Ct),"minus","Decrease font size",[])),yt=Fo(dt(Ct=>J(!1,Ct),"plus","Increase font size",[])),kt=Fo({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[_v.sketch({inputBehaviours:pe([En.config({}),Fn(I,[Fi({onSetup:w,getApi:D},P),nc({getApi:D},P)]),Fn("input-update-display-text",[Xt(gd,(Ct,ne)=>{Ie.setValue(Ct,ne.event.text)}),Xt(rm(),Ct=>{i.onAction(Ie.getValue(Ct))}),Xt(Aa(),Ct=>{i.onAction(Ie.getValue(Ct))})]),fn.config({mode:"special",onEnter:Ct=>(V(wn,!0,!0),F.some(!0)),onEscape:Q,onUp:Ct=>(J(!0,!1),F.some(!0)),onDown:Ct=>(Z(!0,!1),F.some(!0)),onLeft:(Ct,ne)=>(ne.cut(),F.none()),onRight:(Ct,ne)=>(ne.cut(),F.none())})])})],behaviours:pe([gn.config({}),fn.config({mode:"special",onEnter:ot,onSpace:ot,onEscape:Q}),Fn("input-wrapper-events",[Xt(Xl(),Ct=>{Ae([Pt,yt],ne=>{const ee=At.fromDom(ne.get(Ct).element.dom);Qp(ee)&&K0(ee)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{..._e(l)?{"data-mce-name":l}:{}}},components:[Pt.asSpec(),kt.asSpec(),yt.asSpec()],behaviours:pe([gn.config({}),fn.config({mode:"flow",focusInside:Wg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ct=>Qp(Ct.element)?F.none():(wl(Ct.element),F.some(!0))})])}},gZ="Font sizes",T5=vt("Font size {0}"),A5="12pt",pZ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},bZ={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},k5=(e,s)=>{const i=Math.pow(10,s);return Math.round(e*i)/i},vZ=(e,s)=>/[0-9.]+px$/.test(e)?k5(parseInt(e,10)*72/96,s||0)+"pt":Me(bZ,e).getOr(e),yZ=e=>Me(pZ,e).getOr(""),O5=e=>{const s=()=>{let P=F.none();const I=D.data,V=e.queryCommandValue("FontSize");if(V)for(let Z=3;P.isNone()&&Z>=0;Z--){const J=vZ(V,Z),Q=yZ(J);P=Mt(I,ot=>ot.format===V||ot.format===J||ot.format===Q)}return{matchOpt:P,size:V}},i=P=>I=>I.exists(V=>V.format===P),l=()=>{const{matchOpt:P}=s();return P},g=vt(F.none),x=P=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,P.format)})},w=P=>{const{matchOpt:I,size:V}=s(),Z=I.fold(vt(V),J=>J.title);on(P,gd,{text:Z}),gV(e,{value:Z})},D=Vm(e,"font_size_formats",Pb.Space);return{tooltip:k_(e,T5(),A5),text:F.some(A5),icon:F.none(),isSelectedFor:i,getPreviewFor:g,getCurrentValue:l,onAction:x,updateText:w,dataset:D,shouldHide:!1,isInvalid:pn}},_Z=(e,s)=>YC(e,s,O5(e),T5,"FontSizeTextUpdate","fontsize"),xZ=e=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])!==null&&s!==void 0?s:i},wZ=16,CZ=e=>e>=0,D5=e=>{const s=()=>e.queryCommandValue("FontSize");return{updateInputValue:l=>on(l,gd,{text:s()}),onAction:(l,g)=>e.execCommand("FontSize",!1,l,{skip_focus:!g}),getNewValue:(l,g)=>{CA(l,["unsupportedLength","empty"]);const x=s(),w=CA(l,["unsupportedLength","empty"]).or(CA(x,["unsupportedLength","empty"])),D=w.map(J=>J.value).getOr(wZ),P=zD(e),I=w.map(J=>J.unit).filter(J=>J!=="").getOr(P),V=g(D,xZ(I).step),Z=`${CZ(V)?V:D}${I}`;return Z!==x&&pV(e,{value:Z}),Z}}},SZ=(e,s)=>mZ(e,s,D5(e),"fontsizeinput"),EZ=(e,s)=>{const i=O_(s,O5(e));e.ui.registry.addNestedMenuItem("fontsize",{text:gZ,onSetup:Ia(e),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},R5="Formats",M5=e=>Ns(e)?"Formats":"Format {0}",FP=(e,s)=>{const i="Formats",l=w=>()=>e.formatter.match(w),g=w=>()=>{const D=e.formatter.get(w);return D!==void 0?F.some({tag:D.length>0&&(D[0].inline||D[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(w))}):F.none()},x=w=>{const D=Z=>ZM(Z)?wt(Z.items,D):GM(Z)?[{title:Z.title,format:Z.format}]:[],P=wt(I$(e),D),V=p5(e,vt(P)).fold(vt({title:i,tooltipLabel:""}),Z=>({title:Z.title,tooltipLabel:Z.title}));on(w,gd,{text:V.title}),jL(e,{value:V.tooltipLabel})};return{tooltip:k_(e,M5(""),""),text:F.some(i),icon:F.none(),isSelectedFor:l,getCurrentValue:F.none,getPreviewFor:g,onAction:GL(e),updateText:x,shouldHide:ID(e),isInvalid:w=>!e.formatter.canApply(w.format),dataset:s}},P5=(e,s)=>{const i={type:"advanced",...s.styles};return YC(e,s,FP(e,i),M5,"StylesTextUpdate","styles")},TZ=(e,s)=>{const i={type:"advanced",...s.styles},l=O_(s,FP(e,i));e.ui.registry.addNestedMenuItem("styles",{text:R5,onSetup:Ia(e),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})},AZ=vt([oe("toggleClass"),oe("fetch"),Tg("onExecute"),Rt("getHotspot",F.some),Rt("getAnchorOverrides",vt({})),fu(),Tg("onItemExecute"),So("lazySink"),oe("dom"),po("onOpen"),qr("splitDropdownBehaviours",[cr,fn,gn]),Rt("matchWidth",!1),Rt("useMinWidth",!1),Rt("eventOrder",{}),So("role")].concat(VR())),kZ=Uo({factory:xi,schema:[oe("dom")],name:"arrow",defaults:()=>({buttonBehaviours:pe([gn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(e.uid).each(tu)},buttonBehaviours:pe([Zn.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),D_=Uo({factory:xi,schema:[oe("dom")],name:"button",defaults:()=>({buttonBehaviours:pe([gn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(e.uid).each(i=>{e.onExecute(i,s)})}})}),OZ=vt([kZ,D_,vc({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[oe("text")],name:"aria-descriptor"}),gu({schema:[mx()],name:"menu",defaults:e=>({onExecute:(s,i)=>{s.getSystem().getByUid(e.uid).each(l=>{e.onItemExecute(l,s,i)})}})}),hB()]),DZ=(e,s,i,l)=>{const g=V=>{lo.getCurrent(V).each(Z=>{Ro.highlightFirst(Z),fn.focusIn(Z)})},x=V=>{FR(e,wn,V,l,g,La.HighlightMenuAndItem).get(ft)},w=V=>(x(V),F.some(!0)),D=V=>{const Z=ph(V,e,"button");return tu(Z),F.some(!0)},P={...jo([ps((V,Z)=>{Go(V,e,"aria-descriptor").each(Q=>{const ot=Ue("aria");Ee(Q.element,"id",ot),Ee(V.element,"aria-describedby",ot)})})]),...vh(F.some(x))},I={repositionMenus:V=>{Zn.isOn(V)&&bB(V)}};return{uid:e.uid,dom:e.dom,components:s,apis:I,eventOrder:{...e.eventOrder,[ka()]:["disabling","toggling","alloy.base.behaviour"]},events:P,behaviours:Kr(e.splitDropdownBehaviours,[cr.config({others:{sandbox:V=>{const Z=ph(V,e,"arrow");return HR(e,V,{onOpen:()=>{Zn.on(Z),Zn.on(V)},onClose:()=>{Zn.off(Z),Zn.off(V)}})}}}),fn.config({mode:"special",onSpace:D,onEnter:D,onDown:w}),gn.config({}),Zn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},SA=Zi({name:"SplitDropdown",configFields:AZ(),partFields:OZ(),factory:DZ,apis:{repositionMenus:(e,s)=>e.repositionMenus(s)}}),N5=e=>({isEnabled:()=>!En.isDisabled(e),setEnabled:s=>En.set(e,!s),setText:s=>on(e,gd,{text:s}),setIcon:s=>on(e,Hv,{icon:s})}),RZ=e=>({setActive:s=>{Zn.set(e,s)},isActive:()=>Zn.isOn(e),isEnabled:()=>!En.isDisabled(e),setEnabled:s=>En.set(e,!s),setText:s=>on(e,gd,{text:s}),setIcon:s=>on(e,Hv,{icon:s})}),L5=(e,s)=>e.map(i=>({"aria-label":s.translate(i)})).getOr({}),B5=Ue("focus-button"),HP=(e,s,i,l,g,x)=>{const w=s.map(P=>Fo(UI(P,"tox-tbtn",g))),D=e.map(P=>Fo(Qg(P,g.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...L5(i,g),..._e(x)?{"data-mce-name":x}:{}}},components:Tb([D.map(P=>P.asSpec()),w.map(P=>P.asSpec())]),eventOrder:{[ia()]:["focusing","alloy.base.behaviour",Rb],[aa()]:[Rb,"toolbar-group-button-events"]},buttonBehaviours:pe([uf.toolbarButton(g.isDisabled),di(),Fn(Rb,[ps((P,I)=>xM(P)),Xt(gd,(P,I)=>{w.bind(V=>V.getOpt(P)).each(V=>{Bn.set(V,[rr(g.translate(I.event.text))])})}),Xt(Hv,(P,I)=>{D.bind(V=>V.getOpt(P)).each(V=>{Bn.set(V,[Qg(I.event.icon,g.icons)])})}),Xt(ia(),(P,I)=>{I.event.prevent(),zn(P,B5)})])].concat(l.getOr([])))}},VP=(e,s,i,l,g)=>{const x=s.shared,w=an(ft),D={toolbarButtonBehaviours:[],getApi:N5,onSetup:e.onSetup},P=[Fn("toolbar-group-button-events",[Fi(D,w),nc(D,w)])];return ep.sketch({lazySink:x.getSink,fetch:()=>Hi.nu(I=>{I(Gt(i(e.items),GC))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:HP(e.icon,e.text,e.tooltip,F.some(P),x.providers,g),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:l}}}})},I5=(e,s,i,l)=>{var g;const x=an(ft),w=HP(e.icon,e.text,e.tooltip,F.none(),i,l);return xi.sketch({dom:w.dom,components:w.components,eventOrder:WI,buttonBehaviours:{...pe([Fn("toolbar-button-events",[zI({onAction:e.onAction,getApi:s.getApi}),Fi(s,x),nc(s,x)]),...e.tooltip.map(D=>qi.config(i.tooltips.getConfig({tooltipText:i.translate(D)+e.shortcut.map(P=>` (${Ev(P)})`).getOr("")}))).toArray(),uf.toolbarButton(()=>!e.enabled||i.isDisabled()),di()].concat(s.toolbarButtonBehaviours)),[Rb]:(g=w.buttonBehaviours)===null||g===void 0?void 0:g[Rb]}})},MZ=(e,s,i)=>zP(e,s,[],i),zP=(e,s,i,l)=>I5(e,{toolbarButtonBehaviours:i.length>0?[Fn("toolbarButtonWith",i)]:[],getApi:N5,onSetup:e.onSetup},s,l),$5=(e,s,i)=>F5(e,s,[],i),F5=(e,s,i,l)=>I5(e,{toolbarButtonBehaviours:[Bn.config({}),Zn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Fn("toolbarToggleButtonWith",i)]:[]),getApi:RZ,onSetup:e.onSetup},s,l),PZ=(e,s,i)=>l=>Hi.nu(g=>s.fetch(g)).map(g=>F.from(zR(ts(pT(Ue("menu-value"),g,x=>{s.onItemAction(e(l),x)},s.columns,s.presets,xh.CLOSE_ON_EXECUTE,s.select.getOr(pn),i),{movement:a_(s.columns,s.presets),menuBehaviours:eC.unnamedEvents(s.columns!=="auto"?[]:[ps((x,w)=>{hR(x,4,W3(s.presets)).each(({numRows:D,numColumns:P})=>{fn.setGridSize(x,D,P)})})])})))),NZ=(e,s,i)=>{const l=an(e.tooltip.getOr("")),g=D=>({isEnabled:()=>!En.isDisabled(D),setEnabled:P=>En.set(D,!P),setIconFill:(P,I)=>{Es(D.element,`svg path[class="${P}"], rect[class="${P}"]`).each(V=>{Ee(V,"fill",I)})},setActive:P=>{Ee(D.element,"aria-pressed",P),Es(D.element,"span").each(I=>{D.getSystem().getByDom(I).each(V=>Zn.set(V,P))})},isActive:()=>Es(D.element,"span").exists(P=>D.getSystem().getByDom(P).exists(Zn.isOn)),setText:P=>Es(D.element,"span").each(I=>D.getSystem().getByDom(I).each(V=>on(V,gd,{text:P}))),setIcon:P=>Es(D.element,"span").each(I=>D.getSystem().getByDom(I).each(V=>on(V,Hv,{icon:P}))),setTooltip:P=>{const I=s.providers.translate(P);Ee(D.element,"aria-label",I),l.set(P)}}),x=an(ft),w={getApi:g,onSetup:e.onSetup};return SA.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...L5(e.tooltip,s.providers),..._e(i)?{"data-mce-name":i}:{}}},onExecute:D=>{const P=g(D);P.isEnabled()&&e.onAction(P)},onItemExecute:(D,P,I)=>{},splitDropdownBehaviours:pe([uf.splitButton(s.providers.isDisabled),di(),Fn("split-dropdown-events",[ps((D,P)=>xM(D)),Xt(B5,gn.focus),Fi(w,x),nc(w,x)]),bC.config({}),...e.tooltip.map(D=>qi.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(D),onShow:P=>{if(l.get()!==D){const I=s.providers.translate(l.get());qi.setComponents(P,s.providers.tooltips.getComponents({tooltipText:I}))}}})})).toArray()]),eventOrder:{[aa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Fc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:PZ(g,e,s.providers),parts:{menu:Kw(!1,e.columns,e.presets)},components:[SA.parts.button(HP(e.icon,e.text,F.none(),F.some([Zn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),SA.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:g3("chevron-down",s.providers.icons)},buttonBehaviours:pe([uf.splitButton(s.providers.isDisabled),di(),DD()])}),SA.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},LZ=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],XC=(e,s)=>(i,l,g,x)=>{const w=e(i).mapError(D=>nm(D)).getOrDie();return s(w,l,g,x)},BZ={button:XC(lR,(e,s,i,l)=>MZ(e,s.shared.providers,l)),togglebutton:XC(uR,(e,s,i,l)=>$5(e,s.shared.providers,l)),menubutton:XC(lA,(e,s,i,l)=>g_(e,"tox-tbtn",s,F.none(),!1,l)),splitbutton:XC(uA,(e,s,i,l)=>NZ(e,s.shared,l)),grouptoolbarbutton:XC(QU,(e,s,i,l)=>{const g=i.ui.registry.getAll().buttons,x=D=>jv(i,{buttons:g,toolbar:D,allowToolbarGroups:!1},s,F.none()),w={[ey]:s.shared.header.isPositionedAtTop()?Qd.TopToBottom:Qd.BottomToTop};switch(xb(i)){case ud.floating:return VP(e,s,x,w,l);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},H5=(e,s,i,l)=>Me(BZ,e.type).fold(()=>(console.error("skipping button defined by",e),F.none()),g=>F.some(g(e,s,i,l))),V5={styles:P5,fontsize:_Z,fontsizeinput:SZ,fontfamily:w5,blocks:aZ,align:rZ},IZ=e=>{const s=Gt(LZ,i=>{const l=oo(i.items,g=>ho(e,g)||ho(V5,g));return{name:i.name,items:l}});return oo(s,i=>i.items.length>0)},$Z=e=>{const s=e.split("|");return Gt(s,i=>({items:i.trim().split(" ")}))},FZ=e=>Nn(e,s=>ho(s,"name")&&ho(s,"items")),EA=e=>{const s=e.toolbar,i=e.buttons;return s===!1?[]:s===void 0||s===!0?IZ(i):tt(s)?$Z(s):FZ(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},HZ=(e,s,i,l,g,x)=>Me(s,i.toLowerCase()).orThunk(()=>x.bind(w=>vs(w,D=>Me(s,D+i.toLowerCase())))).fold(()=>Me(V5,i.toLowerCase()).map(w=>w(e,g)),w=>w.type==="grouptoolbarbutton"&&!l?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),F.none()):H5(w,g,e,i.toLowerCase())),jv=(e,s,i,l)=>{const g=EA(s),x=Gt(g,w=>{const D=wt(w.items,P=>P.trim().length===0?[]:HZ(e,s.buttons,P,s.allowToolbarGroups,i,l).toArray());return{title:F.from(e.translate(w.name)),items:D}});return oo(x,w=>w.items.length>0)},JC=(e,s,i,l)=>{const g=s.mainUi.outerContainer,x=i.toolbar,w=i.buttons;if(Nn(x,tt)){const D=x.map(P=>{const I={toolbar:P,buttons:w,allowToolbarGroups:i.allowToolbarGroups};return jv(e,I,l,F.none())});fs.setToolbars(g,D)}else fs.setToolbar(g,jv(e,i,l,F.none()))},WP=lc(),VZ=WP.os.isiOS()&&WP.os.version.major<=12,zZ=(e,s)=>{const{uiMotherships:i}=s,l=e.dom;let g=e.getWin();const x=e.getDoc().documentElement,w=an(xs(g.innerWidth,g.innerHeight)),D=an(xs(x.offsetWidth,x.offsetHeight)),P=()=>{const J=w.get();(J.left!==g.innerWidth||J.top!==g.innerHeight)&&(w.set(xs(g.innerWidth,g.innerHeight)),cC(e))},I=()=>{const J=e.getDoc().documentElement,Q=D.get();(Q.left!==J.offsetWidth||Q.top!==J.offsetHeight)&&(D.set(xs(J.offsetWidth,J.offsetHeight)),cC(e))},V=J=>{zL(e,J)};l.bind(g,"resize",P),l.bind(g,"scroll",V);const Z=Br(At.fromDom(e.getBody()),"load",I);e.on("hide",()=>{Ae(i,J=>{Pn(J.element,"display","none")})}),e.on("show",()=>{Ae(i,J=>{_o(J.element,"display")})}),e.on("NodeChange",I),e.on("remove",()=>{Z.unbind(),l.unbind(g,"resize",P),l.unbind(g,"scroll",V),g=null})},WZ=(e,s,i)=>{Cb(e)&&lb(i.mainUi.mothership.element,i.popupUi.mothership),cb(s,i.dialogUi.mothership)};var UZ=Object.freeze({__proto__:null,render:(e,s,i,l,g)=>{const{mainUi:x,uiMotherships:w}=s,D=an(0),P=x.outerContainer;nZ(e);const I=At.fromDom(g.targetNode),V=zi(gs(I));lb(I,x.mothership),WZ(e,V,s),e.on("SkinLoaded",()=>{fs.setSidebar(P,i.sidebar,FE(e)),JC(e,s,i,l),D.set(e.getWin().innerWidth),fs.setMenubar(P,MP(e,i)),fs.setViews(P,i.views),zZ(e,s)});const Z=fs.getSocket(P).getOrDie("Could not find expected socket element");if(VZ){Ca(Z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const dt=DI(()=>{e.dispatch("ScrollContent")},20),Pt=$i(Z.element,"scroll",dt.throttle);e.on("remove",Pt.unbind)}EL(e,s),e.addCommand("ToggleSidebar",(dt,Pt)=>{fs.toggleSidebar(P,Pt),e.dispatch("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",()=>{var dt;return(dt=fs.whichSidebar(P))!==null&&dt!==void 0?dt:""}),e.addCommand("ToggleView",(dt,Pt)=>{if(fs.toggleView(P,Pt)){const yt=P.element;x.mothership.broadcastOn([Cm()],{target:yt}),Ae(w,kt=>{kt.broadcastOn([Cm()],{target:yt})}),Lt(fs.whichView(P))&&(e.focus(),e.nodeChanged(),fs.refreshToolbar(P))}}),e.addQueryValueHandler("ToggleView",()=>{var dt;return(dt=fs.whichView(P))!==null&&dt!==void 0?dt:""});const J=xb(e),Q=()=>{fs.refreshToolbar(s.mainUi.outerContainer)};(J===ud.sliding||J===ud.floating)&&e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const dt=e.getWin().innerWidth;dt!==D.get()&&(Q(),D.set(dt))});const ot={setEnabled:dt=>{oT(s,!dt)},isEnabled:()=>!En.isDisabled(P)};return{iframeContainer:Z.element.dom,editorContainer:P.element.dom,api:ot}}});const QC=e=>/^[0-9\.]+(|px)$/i.test(""+e)?F.some(parseInt(""+e,10)):F.none(),TA=e=>Je(e)?e+"px":e,tS=(e,s,i)=>{const l=s.filter(x=>e<x),g=i.filter(x=>e>x);return l.or(g).getOr(e)},z5=e=>{const s=PD(e),i=LD(e),l=BD(e);return QC(s).map(g=>tS(g,i,l))},W5=e=>z5(e).getOr(PD(e)),U5=e=>{const s=Gy(e),i=ND(e),l=BE(e);return QC(s).map(g=>tS(g,i,l))},j5=e=>U5(e).getOr(Gy(e)),{ToolbarLocation:UP,ToolbarMode:Z5}=I3,jZ=40,ZZ=(e,s,i,l,g)=>{const{mainUi:x,uiMotherships:w}=i,D=jy.DOM,P=Ky(e),I=Gw(e),V=BE(e).or(U5(e)),Z=l.shared.header,J=Z.isPositionedAtTop,Q=150,ot=xb(e),dt=ot===Z5.sliding||ot===Z5.floating,Pt=an(!1),yt=()=>Pt.get()&&!e.removed,kt=Jn=>dt?Jn.fold(vt(0),ve=>ve.components().length>1?fr(ve.components()[1].element):0):0,Ct=Jn=>{switch($D(e)){case UP.auto:const ve=fs.getToolbar(x.outerContainer),Ke=kt(ve),In=fr(Jn.element)-Ke,xn=Hs(s);if(xn.y>In)return"top";{const Mn=Vl(s),Jo=Math.max(Mn.dom.scrollHeight,fr(Mn));return xn.bottom<Jo-In||Ni().bottom<xn.bottom-In?"bottom":"top"}case UP.bottom:return"bottom";case UP.top:default:return"top"}},ne=Jn=>{g.on(ve=>{xr.setModes(ve,[Jn]),Z.setDockingMode(Jn);const Ke=J()?Qd.TopToBottom:Qd.BottomToTop;Ee(ve.element,ey,Ke)})},ee=()=>{g.on(Jn=>{const ve=V.getOrThunk(()=>Yh().width-Za(s).left-10);Pn(Jn.element,"max-width",ve+"px")})},ae=(Jn,ve)=>{g.on(Ke=>{const In=fs.getToolbar(x.outerContainer),xn=kt(In),cn=Hs(s),Mn=we(e,x.outerContainer.element),Jo=()=>Mn.fold(()=>cn.x,ba=>{const Au=Hs(ba);return No(ba,ki())?cn.x:cn.x-Au.x}),Mo=()=>Mn.fold(()=>J()?Math.max(cn.y-fr(Ke.element)+xn,0):cn.bottom,ba=>{var Au;const wd=Hs(ba),Yc=(Au=ba.dom.scrollTop)!==null&&Au!==void 0?Au:0,e0=No(ba,ki())?Math.max(cn.y-fr(Ke.element)+xn,0):cn.y-wd.y+Yc-fr(Ke.element)+xn;return J()?e0:cn.bottom}),za=Jo(),Tu=Sn(Jn,Math.ceil(x.outerContainer.element.dom.getBoundingClientRect().width)).filter(ba=>ba>Q).map(ba=>{const Au=ve.getOr(oi()),wd=window.innerWidth-(za-Au.left),Yc=Math.max(Math.min(ba,wd),Q);return wd<ba&&Pn(x.outerContainer.element,"width",Yc+"px"),{width:Yc+"px"}}).getOr({width:"max-content"}),Nh={position:"absolute",left:Math.round(za)+"px",top:Mo()+"px"};Ca(x.outerContainer.element,{...Nh,...Tu})})},we=(Jn,ve)=>Cb(Jn)?nP(ve):F.none(),te=()=>{Ae(w,Jn=>{Jn.broadcastOn([ub()],{})})},An=()=>!P&&(ta(x.outerContainer.element).left+ea(x.outerContainer.element)>=window.innerWidth-jZ||Qr(x.outerContainer.element,"width").isSome())?(Pn(x.outerContainer.element,"position","absolute"),Pn(x.outerContainer.element,"left","0px"),_o(x.outerContainer.element,"width"),!0):!1,qe=Jn=>{if(!yt())return;P||ee();const ve=oi(),Ke=P?!1:An();if(dt&&fs.refreshToolbar(x.outerContainer),!P){const In=oi(),xn=Sn(ve.left!==In.left,ve);ae(Ke,xn),xn.each(cn=>{ug(cn.left,In.top)})}I&&g.on(Jn),te()},vn=()=>P||!I||!yt()?!1:g.get().exists(Jn=>{const ve=Z.getDockingMode(),Ke=Ct(Jn);return Ke!==ve?(ne(Ke),!0):!1});return{isVisible:yt,isPositionedAtTop:J,show:()=>{Pt.set(!0),Pn(x.outerContainer.element,"display","flex"),D.addClass(e.getBody(),"mce-edit-focus"),Ae(w,Jn=>{_o(Jn.element,"display")}),vn(),Cb(e)?qe(Jn=>xr.isDocked(Jn)?xr.reset(Jn):xr.refresh(Jn)):qe(xr.refresh)},hide:()=>{Pt.set(!1),Pn(x.outerContainer.element,"display","none"),D.removeClass(e.getBody(),"mce-edit-focus"),Ae(w,Jn=>{Pn(Jn.element,"display","none")})},update:qe,updateMode:()=>{vn()&&qe(xr.reset)},repositionPopups:te}},G5=(e,s)=>{const i=Hs(e);return{pos:s?i.y:i.bottom,bounds:i}},eS=(e,s,i,l)=>{const g=an(G5(s,i.isPositionedAtTop())),x=I=>{const{pos:V,bounds:Z}=G5(s,i.isPositionedAtTop()),{pos:J,bounds:Q}=g.get(),ot=Z.height!==Q.height||Z.width!==Q.width;g.set({pos:V,bounds:Z}),ot&&cC(e,I),i.isVisible()&&(J!==V?i.update(xr.reset):ot&&(i.updateMode(),i.repositionPopups()))};l||(e.on("activate",i.show),e.on("deactivate",i.hide)),e.on("SkinLoaded ResizeWindow",()=>i.update(xr.reset)),e.on("NodeChange keydown",I=>{requestAnimationFrame(()=>x(I))});let w=0;const D=$v(()=>i.update(xr.refresh),33);e.on("ScrollWindow",()=>{const I=oi().left;I!==w&&(w=I,D.throttle()),i.updateMode()}),Cb(e)&&e.on("ElementScroll",I=>{i.update(xr.refresh)});const P=tb();P.set(Br(At.fromDom(e.getBody()),"load",I=>x(I.raw))),e.on("remove",()=>{P.clear()})};var GZ=Object.freeze({__proto__:null,render:(e,s,i,l,g)=>{const{mainUi:x}=s,w=ds(),D=At.fromDom(g.targetNode),P=ZZ(e,D,s,l,w),I=HD(e);oZ(e);const V=()=>{if(w.isSet()){P.show();return}w.set(fs.getHeader(x.outerContainer).getOrDie());const J=GD(e);Cb(e)?(lb(D,x.mothership),lb(D,s.popupUi.mothership)):cb(J,x.mothership),cb(J,s.dialogUi.mothership);const Q=()=>{JC(e,s,i,l),fs.setMenubar(x.outerContainer,MP(e,i)),P.show(),eS(e,D,P,I),e.nodeChanged()};I?e.once("SkinLoaded",Q):Q()};e.on("show",V),e.on("hide",P.hide),I||(e.on("focus",V),e.on("blur",P.hide)),e.on("init",()=>{(e.hasFocus()||I)&&V()}),EL(e,s);const Z={show:V,hide:P.hide,setEnabled:J=>{oT(s,!J)},isEnabled:()=>!En.isDisabled(x.outerContainer)};return{editorContainer:x.outerContainer.element.dom,api:Z}}});const qZ=()=>{const e=ds(),s=ds(),i=ds();return{dialogUi:e,popupUi:s,mainUi:i,getUiMotherships:()=>{const x=e.get().map(D=>D.mothership),w=s.get().map(D=>D.mothership);return x.fold(()=>w.toArray(),D=>w.fold(()=>[D],P=>No(D.element,P.element)?[D]:[D,P]))},lazyGetInOuterOrDie:(x,w)=>()=>i.get().bind(D=>w(D.outerContainer)).getOrDie(`Could not find ${x} element in OuterContainer`)}},q5="contexttoolbar-show",K5="contexttoolbar-hide",Y5=e=>({hide:()=>zn(e,wg()),getValue:()=>Ie.getValue(e)}),X5=(e,s)=>Xt(VI,(i,l)=>{const g=e.get(i),x=Y5(g);s.onAction(x,l.event.buttonApi)}),KZ=(e,s,i)=>{const{primary:l,...g}=s.original,x=Mc(lR({...g,type:"button",onAction:ft}));return zP(x,i,[X5(e,s)])},YZ=(e,s,i)=>{const{primary:l,...g}=s.original,x=Mc(uR({...g,type:"togglebutton",onAction:ft}));return F5(x,i,[X5(e,s)])},XZ=e=>e.type==="contextformtogglebutton",JZ=(e,s,i)=>XZ(s)?YZ(e,s,i):KZ(e,s,i),nS=(e,s,i)=>{const l=Gt(s,w=>Fo(JZ(e,w,i)));return{asSpecs:()=>Gt(l,w=>w.asSpec()),findPrimary:w=>vs(s,(D,P)=>D.primary?F.from(l[P]).bind(I=>I.getOpt(w)).filter(Zt(En.isDisabled)):F.none())}},jP=(e,s)=>{const i=e.label.fold(()=>({}),x=>({"aria-label":x})),l=Fo(_v.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:pe([fn.config({mode:"special",onEnter:x=>g.findPrimary(x).map(w=>(tu(w),!0)),onLeft:(x,w)=>(w.cut(),F.none()),onRight:(x,w)=>(w.cut(),F.none())})])})),g=nS(l,e.commands,s);return[{title:F.none(),items:[l.asSpec()]},{title:F.none(),items:g.asSpecs()}]},QZ={renderContextForm:(e,s,i)=>Uv({type:e,uid:Ue("context-toolbar"),initGroups:jP(s,i),onEscape:F.none,cyclicKeying:!0,providers:i}),buildInitGroups:jP},ZP=(e,s,i)=>s.bottom-e.y>=i&&e.bottom-s.y>=i,GP=e=>{const s=e.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=hp(At.fromDom(e.startContainer),e.startOffset).element;return(Jr(i)?Cc(i):F.some(i)).filter(Wo).map(g=>g.dom.getBoundingClientRect()).getOr(s)}else return s},AA=e=>{const s=e.selection.getRng(),i=GP(s);if(e.inline){const l=oi();return hr(l.left+i.left,l.top+i.top,i.width,i.height)}else{const l=Nr(At.fromDom(e.getBody()));return hr(l.x+i.left,l.y+i.top,i.width,i.height)}},J5=(e,s)=>s.filter(i=>Ur(i)&&kd(i)).map(Nr).getOrThunk(()=>AA(e)),tG=(e,s,i)=>{const l=Math.max(e.x+i,s.x),g=Math.min(e.right-i,s.right);return{x:l,width:g-l}},R_=(e,s,i,l,g,x)=>{const w=At.fromDom(e.getContainer()),D=Es(w,".tox-editor-header").getOr(w),P=Hs(D),I=P.y>=s.bottom,V=l&&!I;if(e.inline&&V)return{y:Math.max(P.bottom+x,i.y),bottom:i.bottom};if(e.inline&&!V)return{y:i.y,bottom:Math.min(P.y-x,i.bottom)};const Z=g==="line"?Hs(w):s;return V?{y:Math.max(P.bottom+x,i.y),bottom:Math.min(Z.bottom-x,i.bottom)}:{y:Math.max(Z.y+x,i.y),bottom:Math.min(P.y-x,i.bottom)}},oS=(e,s,i,l=0)=>{const g=Yh(window),x=Hs(At.fromDom(e.getContentAreaContainer())),w=VE(e)||UE(e)||jw(e),{x:D,width:P}=tG(x,g,l);if(e.inline&&!w)return hr(D,g.y,P,g.height);{const I=s.header.isPositionedAtTop(),{y:V,bottom:Z}=R_(e,x,g,I,i,l);return hr(D,V,P,Z-V)}},Zv=12,kA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},OA={maxHeightFunction:Rg(),maxWidthFunction:yP()},Q5=(e,s)=>{const i=e.selection.getRng(),l=hp(At.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&No(l.element,s)},DA=(e,s,i)=>{const l=Qr(e,"position");Pn(e,"position",s);const g=i(e);return l.each(x=>Pn(e,"position",x)),g},qP=e=>e==="node",tH=(e,s,i,l,g)=>{const x=AA(e),w=l.lastElement().exists(D=>No(i,D));if(Q5(e,i))return w?P$:wu;if(w)return DA(s,l.getMode(),()=>ZP(x,Hs(s),-20)&&!l.isReposition()?eU:P$);{const D=l.getMode()==="fixed"?g.y+oi().top:g.y,P=fr(s)+Zv;return D+P<=x.y?wu:PC}},KP=(e,s,i,l)=>{const g=P=>(I,V,Z,J,Q)=>{const ot=tH(e,J,P,i,Q),dt={...I,y:Q.y,height:Q.height};return{...ot(dt,V,Z,J,Q),alwaysFit:!0}},x=P=>qP(l)?[g(P)]:[];return s?{onLtr:P=>[ar,Dr,yr,us,Lr,li].concat(x(P)),onRtl:P=>[ar,yr,Dr,Lr,us,li].concat(x(P))}:{onLtr:P=>[li,ar,us,Dr,Lr,yr].concat(x(P)),onRtl:P=>[li,ar,Lr,yr,us,Dr].concat(x(P))}},eG=(e,s,i,l)=>s==="line"?{bubble:du(Zv,0,kA),layouts:{onLtr:()=>[xx],onRtl:()=>[Z0]},overrides:OA}:{bubble:du(0,Zv,kA,1/Zv),layouts:KP(e,i,l,s),overrides:OA},RA=(e,s)=>{const i=oo(s,x=>x.predicate(e.dom)),{pass:l,fail:g}=tr(i,x=>x.type==="contexttoolbar");return{contextToolbars:l,contextForms:g}},nG=e=>{if(e.length<=1)return e;{const s=x=>Cr(e,w=>w.position===x),i=x=>oo(e,w=>w.position===x),l=s("selection"),g=s("node");if(l||g)if(g&&l){const x=i("node"),w=Gt(i("selection"),D=>({...D,position:"node"}));return x.concat(w)}else return i(l?"selection":"node");else return i("line")}},oG=e=>{if(e.length<=1)return e;{const s=l=>Mt(e,g=>g.position===l);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(l=>l.position).fold(()=>[],l=>oo(e,g=>g.position===l))}},MA=(e,s,i)=>{const l=RA(e,s);if(l.contextForms.length>0)return F.some({elem:e,toolbars:[l.contextForms[0]]});{const g=RA(e,i);if(g.contextForms.length>0)return F.some({elem:e,toolbars:[g.contextForms[0]]});if(l.contextToolbars.length>0||g.contextToolbars.length>0){const x=nG(l.contextToolbars.concat(g.contextToolbars));return F.some({elem:e,toolbars:x})}else return F.none()}},eH=(e,s,i)=>e(s)?F.none():Gf(s,l=>{if(Wo(l)){const{contextToolbars:g,contextForms:x}=RA(l,i.inNodeScope),w=x.length>0?x:oG(g);return w.length>0?F.some({elem:l,toolbars:w}):F.none()}else return F.none()},e),sG=(e,s)=>{const i=At.fromDom(s.getBody()),l=w=>No(w,i),g=w=>!l(w)&&!Qi(i,w),x=At.fromDom(s.selection.getNode());return g(x)?F.none():MA(x,e.inNodeScope,e.inEditorScope).orThunk(()=>eH(l,x,e))},rG=(e,s)=>{const i={},l=[],g=[],x={},w={},D=(V,Z)=>{const J=Mc(F8(Z));i[V]=J,J.launch.map(Q=>{x["form:"+V]={...Z.launch,type:Q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(J)}}}),J.scope==="editor"?g.push(J):l.push(J),w[V]=J},P=(V,Z)=>{V8(Z).each(J=>{Z.scope==="editor"?g.push(J):l.push(J),w[V]=J})},I=Qo(e);return Ae(I,V=>{const Z=e[V];Z.type==="contextform"?D(V,Z):Z.type==="contexttoolbar"&&P(V,Z)}),{forms:i,inNodeScope:l,inEditorScope:g,lookupTable:w,formNavigators:x}},nH=Ue("forward-slide"),oH=Ue("backward-slide"),YP=Ue("change-slide-event"),PA="tox-pop--resizing",sH=e=>{const s=an([]);return qs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),qs.getContent(i).each(l=>{_o(l.element,"visibility")}),Ot(i.element,PA),_o(i.element,"width")},inlineBehaviours:pe([Fn("context-toolbar-events",[lm(ml(),(i,l)=>{l.event.raw.propertyName==="width"&&(Ot(i.element,PA),_o(i.element,"width"))}),Xt(YP,(i,l)=>{const g=i.element;_o(g,"width");const x=ni(g);qs.setContent(i,l.event.contents),ut(g,PA);const w=ni(g);Pn(g,"width",x+"px"),qs.getContent(i).each(D=>{l.event.focus.bind(P=>(wl(P),bi(g))).orThunk(()=>(fn.focusIn(D),lu(gs(g))))}),setTimeout(()=>{Pn(i.element,"width",w+"px")},0)}),Xt(nH,(i,l)=>{qs.getContent(i).each(g=>{s.set(s.get().concat([{bar:g,focus:lu(gs(i.element))}]))}),on(i,YP,{contents:l.event.forwardContents,focus:F.none()})}),Xt(oH,(i,l)=>{Ei(s.get()).each(g=>{s.set(s.get().slice(0,s.get().length-1)),on(i,YP,{contents:yl(g.bar),focus:g.focus})})})]),fn.config({mode:"special",onEscape:i=>Ei(s.get()).fold(()=>e.onEscape(),l=>(zn(i,oH),F.some(!0)))})]),lazySink:()=>Ln.value(e.sink)})},NA="tox-pop--transition",rH=(e,s,i,l)=>{const g=l.backstage,x=g.shared,w=lc().deviceType.isTouch,D=ds(),P=ds(),I=ds(),V=ai(sH({sink:i,onEscape:()=>(e.focus(),F.some(!0))})),Z=()=>{const qe=I.get().getOr("node"),vn=qP(qe)?1:0;return oS(e,x,qe,vn)},J=()=>!e.removed&&!(w()&&g.isContextMenuOpen()),Q=qe=>va(Td(qe,D.get(),No),!0),ot=()=>{if(J()){const qe=Z(),vn=va(I.get(),"node")?J5(e,D.get()):AA(e);return qe.height<=0||!ZP(vn,qe,.01)}else return!0},dt=()=>{D.clear(),P.clear(),I.clear(),qs.hide(V)},Pt=()=>{if(qs.isOpen(V)){const qe=V.element;_o(qe,"display"),ot()?Pn(qe,"display","none"):(P.set(0),qs.reposition(V))}},yt=qe=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[qe],behaviours:pe([fn.config({mode:"acyclic"}),Fn("pop-dialog-wrap-events",[ps(vn=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>fn.focusIn(vn))}),mc(vn=>{e.shortcuts.remove("ctrl+F9")})])])}),kt=cc(()=>rG(s,qe=>{const vn=ee([qe]);on(V,nH,{forwardContents:yt(vn)})})),Ct=(qe,vn)=>jv(e,{buttons:qe,toolbar:vn.items,allowToolbarGroups:!1},l.backstage,F.some(["form:"])),ne=(qe,vn)=>QZ.buildInitGroups(qe,vn),ee=qe=>{const{buttons:vn}=e.ui.registry.getAll(),rn=kt(),Ao={...vn,...rn.formNavigators},bo=xb(e)===ud.scrolling?ud.scrolling:ud.default,Jn=Ht(Gt(qe,ve=>ve.type==="contexttoolbar"?Ct(Ao,ve):ne(ve,x.providers)));return Uv({type:bo,uid:Ue("context-toolbar"),initGroups:Jn,onEscape:F.none,cyclicKeying:!0,providers:x.providers})},ae=(qe,vn)=>{const rn=qe==="node"?x.anchors.node(vn):x.anchors.cursor(),Ao=eG(e,qe,w(),{lastElement:D.get,isReposition:()=>va(P.get(),0),getMode:()=>vi.getMode(i)});return ts(rn,Ao)},we=(qe,vn)=>{if(An.cancel(),!J())return;const rn=ee(qe),Ao=qe[0].position,bo=ae(Ao,vn);I.set(Ao),P.set(1);const Jn=V.element;_o(Jn,"display"),Q(vn)||(Ot(Jn,NA),vi.reset(i,V)),qs.showWithinBounds(V,yt(rn),{anchor:bo,transition:{classes:[NA],mode:"placement"}},()=>F.some(Z())),vn.fold(D.clear,D.set),ot()&&Pn(Jn,"display","none")};let te=!1;const An=$v(()=>{if(!(!e.hasFocus()||e.removed||te))if(Yt(V.element,NA))An.throttle();else{const qe=kt();sG(qe,e).fold(dt,vn=>{we(vn.toolbars,F.some(vn.elem))})}},17);e.on("init",()=>{e.on("remove",dt),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Pt),e.on("click keyup focus SetContent",An.throttle),e.on(K5,dt),e.on(q5,qe=>{const vn=kt();Me(vn.lookupTable,qe.toolbarKey).each(rn=>{we([rn],Sn(qe.target!==e,qe.target)),qs.getContent(V).each(fn.focusIn)})}),e.on("focusout",qe=>{Nw.setEditorTimeout(e,()=>{bi(i.element).isNone()&&bi(V.element).isNone()&&dt()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&dt()}),e.on("ExecCommand",({command:qe})=>{qe.toLowerCase()==="toggleview"&&dt()}),e.on("AfterProgressState",qe=>{qe.state?dt():e.hasFocus()&&An.throttle()}),e.on("dragstart",()=>{te=!0}),e.on("dragend drop",()=>{te=!1}),e.on("NodeChange",qe=>{bi(V.element).fold(An.throttle,ft)})})},iG=e=>{Ae([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{e.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:ma(e,i.cmd),onSetup:dT(e,i.name)})}),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ia(e),onAction:ma(e,"JustifyNone")})},XP=(e,s)=>{const i=()=>{const l=s.getOptions(e),g=s.getCurrent(e).map(s.hash),x=ds();return Gt(l,w=>({type:"togglemenuitem",text:s.display(w),onSetup:D=>{const P=V=>{V&&(x.on(Z=>Z.setActive(!1)),x.set(D)),D.setActive(V)};P(va(g,s.hash(w)));const I=s.watcher(e,w,P);return()=>{x.clear(),I()}},onAction:()=>s.setCurrent(e,w)}))};e.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(i()),onSetup:s.onToolbarSetup}),e.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},iH=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:N3,hash:s=>S5(s,["fixed","relative","empty"]).getOr(s),display:wn,watcher:(s,i,l)=>s.formatter.formatChanged("lineheight",l,!1,{value:i}).unbind,getCurrent:s=>F.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:Ia(e),onMenuSetup:Ia(e)}),aG=e=>F.from(w3(e)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:vt(i),hash:l=>He(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,g,x)=>{var w;return l.formatter.formatChanged("lang",x,!1,{value:g.code,customValue:(w=g.customCode)!==null&&w!==void 0?w:null}).unbind},getCurrent:l=>{const g=At.fromDom(l.selection.getNode());return $d(g,x=>F.some(x).filter(Wo).bind(w=>Pr(w,"lang").map(P=>{const I=Pr(w,"data-mce-lang").getOrUndefined();return{code:P,customCode:I,title:""}})))},setCurrent:(l,g)=>l.execCommand("Lang",!1,g),onToolbarSetup:l=>{const g=tb();return l.setActive(e.formatter.match("lang",{},void 0,!0)),g.set(e.formatter.formatChanged("lang",l.setActive,!0)),lC(g.clear,Ia(e)(l))},onMenuSetup:Ia(e)})),cJ=e=>{XP(e,iH(e)),aG(e).each(s=>XP(e,s))},cG=(e,s)=>{iZ(e,s),dZ(e,s),TZ(e,s),cZ(e,s),EZ(e,s)},lG=e=>Av(e,"NodeChange",s=>{s.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),uG=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:lG(e),onAction:ma(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ia(e),onAction:ma(e,"indent")})},dG=e=>{uG(e)},aH=(e,s)=>i=>{i.setActive(s.get());const l=g=>{s.set(g.state),i.setActive(g.state)};return e.on("PastePlainTextToggle",l),lC(()=>e.off("PastePlainTextToggle",l),Ia(e)(i))},fG=e=>{const s=an(R3(e)),i=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:aH(e,s)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:aH(e,s)})},JP=(e,s)=>()=>{e.execCommand("mceToggleFormat",!1,s)},hG=e=>{Bm.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{e.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:dT(e,s.name),onAction:JP(e,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,l=`Access+${s}`;e.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:dT(e,i),onAction:JP(e,i),shortcut:l})}},mG=e=>{Bm.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{e.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ma(e,s.action),shortcut:s.shortcut})}),Bm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{e.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ia(e),onAction:ma(e,s.action)})})},gG=e=>{Bm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{e.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ma(e,s.action),onSetup:dT(e,s.name)})})},pG=e=>{hG(e),mG(e),gG(e)},bG=e=>{Bm.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{e.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:ma(e,s.action)})}),Bm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{e.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Ia(e),onAction:ma(e,s.action)})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ia(e),onAction:JP(e,"code")})},vG=e=>{pG(e),bG(e)},sS=(e,s)=>Av(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!e.mode.isReadOnly()&&e.undoManager[s]())}),yG=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:sS(e,"hasUndo"),onAction:ma(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:sS(e,"hasRedo"),onAction:ma(e,"redo")})},_G=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:sS(e,"hasUndo"),onAction:ma(e,"undo"),shortcut:"Meta+Z"}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:sS(e,"hasRedo"),onAction:ma(e,"redo"),shortcut:"Meta+Y"})},xG=e=>{yG(e),_G(e)},wG=e=>Av(e,"VisualAid",s=>{s.setActive(e.hasVisual)}),CG=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:wG(e),onAction:ma(e,"mceToggleVisualAid")})},SG=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ma(e,"mceToggleVisualAid")})},EG=e=>{SG(e),CG(e)},TG=(e,s)=>{iG(e),vG(e),cG(e,s),xG(e),cB(e),EG(e),dG(e),cJ(e),fG(e)},AG=e=>tt(e)?e.split(/[ ,]/):e,LA=e=>s=>s.options.get(e),kG=e=>{const s=e.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:tt(i)||Nn(i,tt)?{value:AG(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},cH=LA("contextmenu_never_use_native"),QP=LA("contextmenu_avoid_overlap"),lH=e=>t4(e).length===0,t4=e=>{const s=e.ui.registry.getAll().contextMenus,i=e.options.get("contextmenu");return e.options.isSet("contextmenu")?i:oo(i,l=>ho(s,l))},rS=(e,s)=>({type:"makeshift",x:e,y:s}),OG=(e,s,i)=>rS(e.x+s,e.y+i),uH=e=>e.type==="longpress"||e.type.indexOf("touch")===0,DG=e=>{if(uH(e)){const s=e.touches[0];return rS(s.pageX,s.pageY)}else return rS(e.pageX,e.pageY)},RG=e=>{if(uH(e)){const s=e.touches[0];return rS(s.clientX,s.clientY)}else return rS(e.clientX,e.clientY)},e4=(e,s)=>{const i=jy.DOM.getPos(e);return OG(s,i.x,i.y)},MG=(e,s)=>s.type==="contextmenu"||s.type==="longpress"?e.inline?DG(s):e4(e.getContentAreaContainer(),RG(s)):n4(e),n4=e=>({type:"selection",root:At.fromDom(e.selection.getNode())}),PG=e=>({type:"node",node:F.some(At.fromDom(e.selection.getNode())),root:At.fromDom(e.getBody())}),dH=(e,s,i)=>{switch(i){case"node":return PG(e);case"point":return MG(e,s);case"selection":return n4(e)}},o4=(e,s,i,l,g,x)=>{const w=i(),D=dH(e,s,x);h_(w,xh.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:F.none()}).map(P=>{s.preventDefault(),qs.showMenuAt(g,{anchor:D},{menu:{markers:yv("normal")},data:P})})},NG={onLtr:()=>[ar,Dr,yr,us,Lr,li,wu,PC,__,oA,zv,y_],onRtl:()=>[ar,yr,Dr,Lr,us,li,wu,PC,zv,y_,__,oA]},fH=12,LG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},BG=(e,s)=>{const i=e.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const l=s.touches[0],g=i.getRng();return I2(e.getWin(),$1.domRange(g)).exists(w=>w.left<=l.clientX&&w.right>=l.clientX&&w.top<=l.clientY&&w.bottom>=l.clientY)}},s4=e=>{const s=e.selection.getRng(),i=()=>{Nw.setEditorTimeout(e,()=>{e.selection.setRng(s)},10),x()};e.once("touchend",i);const l=w=>{w.preventDefault(),w.stopImmediatePropagation()};e.on("mousedown",l,!0);const g=()=>x();e.once("longpresscancel",g);const x=()=>{e.off("touchend",i),e.off("longpresscancel",g),e.off("mousedown",l)}},IG=(e,s,i)=>{const l=dH(e,s,i);return{bubble:du(0,i==="point"?fH:0,LG),layouts:NG,overrides:{maxWidthFunction:yP(),maxHeightFunction:Rg()},...l}},$G=(e,s,i,l,g,x,w)=>{const D=IG(e,s,x);h_(i,xh.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!0,search:F.none()}).map(P=>{s.preventDefault();const I=w?La.HighlightMenuAndItem:La.HighlightNone;qs.showMenuWithinBounds(g,{anchor:D},{menu:{markers:yv("normal"),highlightOnOpen:I},data:P,type:"horizontal"},()=>F.some(oS(e,l.shared,x==="node"?"node":"selection"))),e.dispatch(K5)})},FG=(e,s,i,l,g,x)=>{const w=lc(),D=w.os.isiOS(),P=w.os.isMacOS(),I=w.os.isAndroid(),V=w.deviceType.isTouch(),Z=()=>!(I||D||P&&V),J=()=>{const Q=i();$G(e,s,Q,l,g,x,Z())};if((P||D)&&x!=="node"){const Q=()=>{s4(e),J()};BG(e,s)?Q():(e.once("selectionchange",Q),e.once("touchend",()=>e.off("selectionchange",Q)))}else J()},hH=e=>tt(e)?e==="|":e.type==="separator",r4={type:"separator"},i4=e=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(tt(e))return e;switch(e.type){case"separator":return r4;case"submenu":return{type:"nestedmenuitem",...s(e),getSubmenuItems:()=>{const l=e.getSubmenuItems();return tt(l)?l:Gt(l,i4)}};default:const i=e;return{type:"menuitem",...s(i),onAction:We(i.onAction)}}},mH=(e,s)=>{if(s.length===0)return e;const l=Ei(e).filter(g=>!hH(g)).fold(()=>[],g=>[r4]);return e.concat(l).concat(s).concat([r4])},HG=(e,s,i)=>{const l=ie(s,(g,x)=>Me(e,x.toLowerCase()).map(w=>{const D=w.update(i);if(tt(D)&&Ua(tl(D)))return mH(g,D.split(" "));if(Tt(D)&&D.length>0){const P=Gt(D,i4);return mH(g,P)}else return g}).getOrThunk(()=>g.concat([x])),[]);return l.length>0&&hH(l[l.length-1])&&l.pop(),l},VG=(e,s)=>s.ctrlKey&&!cH(e),zG=e=>e.type==="longpress"||ho(e,"touches"),gH=(e,s)=>!zG(s)&&(s.button!==2||s.target===e.getBody()&&s.pointerType===""),pH=(e,s)=>gH(e,s)?e.selection.getStart(!0):s.target,WG=(e,s)=>{const i=QP(e),l=gH(e,s)?"selection":"point";if(Ua(i)){const g=pH(e,s);return fC(At.fromDom(g),i)?"node":l}else return l},UG=(e,s,i)=>{const g=lc().deviceType.isTouch,x=ai(qs.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>e.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:pe([Fn("dismissContextMenu",[Xt(Ql(),(P,I)=>{Yn.close(P),e.focus()})])])})),w=()=>qs.hide(x),D=P=>{if(cH(e)&&P.preventDefault(),VG(e,P)||lH(e))return;const I=WG(e,P),V=()=>{const J=pH(e,P),Q=e.ui.registry.getAll(),ot=t4(e);return HG(Q.contextMenus,ot,J)};(g()?FG:o4)(e,P,V,i,x,I)};e.on("init",()=>{const P="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(g()?"":" ResizeWindow");e.on(P,w),e.on("longpress contextmenu",D)})},BA=ul.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),IA=e=>s=>s.translate(-e.left,-e.top),iS=e=>s=>s.translate(e.left,e.top),np=e=>(s,i)=>ie(e,(l,g)=>g(l),xs(s,i)),$A=(e,s,i)=>e.fold(np([iS(i),IA(s)]),np([IA(s)]),np([])),M_=(e,s,i)=>e.fold(np([iS(i)]),np([]),np([iS(s)])),Nb=(e,s,i)=>e.fold(np([]),np([IA(i)]),np([iS(s),IA(i)])),bH=(e,s,i,l,g,x)=>{const w=M_(e,g,x),D=M_(s,g,x);return Math.abs(w.left-D.left)<=i&&Math.abs(w.top-D.top)<=l},jG=(e,s,i,l,g,x)=>{const w=M_(e,g,x),D=M_(s,g,x),P=Math.abs(w.left-D.left),I=Math.abs(w.top-D.top);return xs(P,I)},vH=(e,s,i)=>{const l=e.fold((g,x)=>({position:F.some("absolute"),left:F.some(g+"px"),top:F.some(x+"px")}),(g,x)=>({position:F.some("absolute"),left:F.some(g-i.left+"px"),top:F.some(x-i.top+"px")}),(g,x)=>({position:F.some("fixed"),left:F.some(g+"px"),top:F.some(x+"px")}));return{right:F.none(),bottom:F.none(),...l}},ZG=(e,s,i)=>e.fold((l,g)=>aS(l+s,g+i),(l,g)=>Lb(l+s,g+i),(l,g)=>Gv(l+s,g+i)),a4=(e,s,i,l)=>{const g=(x,w)=>(D,P)=>{const I=x(s,i,l);return w(D.getOr(I.left),P.getOr(I.top))};return e.fold(g(Nb,aS),g(M_,Lb),g($A,Gv))},aS=BA.offset,Lb=BA.absolute,Gv=BA.fixed,yH=(e,s)=>{const i=$s(e,s);return He(i)?NaN:parseInt(i,10)},GG=(e,s)=>{const i=e.element,l=yH(i,s.leftAttr),g=yH(i,s.topAttr);return isNaN(l)||isNaN(g)?F.none():F.some(xs(l,g))},qG=(e,s,i)=>{const l=e.element;Ee(l,s.leftAttr,i.left+"px"),Ee(l,s.topAttr,i.top+"px")},KG=(e,s)=>{const i=e.element;js(i,s.leftAttr),js(i,s.topAttr)},YG=(e,s,i,l)=>GG(e,s).fold(()=>i,g=>Gv(g.left+l.left,g.top+l.top)),XG=(e,s,i,l,g,x)=>{const w=YG(e,s,i,l),D=s.mustSnap?xH(e,s,w,g,x):wH(e,s,w,g,x),P=$A(w,g,x);return qG(e,s,P),D.fold(()=>({coord:Gv(P.left,P.top),extra:F.none()}),I=>({coord:I.output,extra:I.extra}))},JG=(e,s)=>{KG(e,s)},_H=(e,s,i,l)=>vs(e,g=>{const x=g.sensor;return bH(s,x,g.range.left,g.range.top,i,l)?F.some({output:a4(g.output,s,i,l),extra:g.extra}):F.none()}),xH=(e,s,i,l,g)=>{const x=s.getSnapPoints(e);return _H(x,i,l,g).orThunk(()=>ie(x,(P,I)=>{const V=I.sensor,Z=jG(i,V,I.range.left,I.range.top,l,g);return P.deltas.fold(()=>({deltas:F.some(Z),snap:F.some(I)}),J=>{const Q=(Z.left+Z.top)/2,ot=(J.left+J.top)/2;return Q<=ot?{deltas:F.some(Z),snap:F.some(I)}:P})},{deltas:F.none(),snap:F.none()}).snap.map(P=>({output:a4(P.output,i,l,g),extra:P.extra})))},wH=(e,s,i,l,g)=>{const x=s.getSnapPoints(e);return _H(x,i,l,g)},QG=(e,s,i)=>({coord:a4(e.output,e.output,s,i),extra:e.extra});var tq=Object.freeze({__proto__:null,snapTo:(e,s,i,l)=>{const g=s.getTarget(e.element);if(s.repositionTarget){const x=wa(e.element),w=oi(x),D=lF(g),P=QG(l,w,D),I=vH(P.coord,w,D);fe(g,I)}}});const c4="data-initial-z-index",l4=e=>{Cc(e.element).filter(Wo).each(s=>{Pr(s,c4).fold(()=>_o(s,"z-index"),i=>Pn(s,"z-index",i)),js(s,c4)})},eq=e=>{Cc(e.element).filter(Wo).each(s=>{Qr(s,"z-index").each(i=>{Ee(s,c4,i)}),Pn(s,"z-index",Fs(e.element,"z-index"))})},CH=(e,s)=>{e.getSystem().addToGui(s),eq(s)},nq=e=>{l4(e),e.getSystem().removeFromGui(e)},SH=(e,s,i)=>e.getSystem().build(hf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var oq=Li("snaps",[oe("getSnapPoints"),po("onSensor"),oe("leftAttr"),oe("topAttr"),Rt("lazyViewport",Ni),Rt("mustSnap",!1)]);const u4=[Rt("useFixed",pn),oe("blockerClass"),Rt("getTarget",wn),Rt("onDrag",ft),Rt("repositionTarget",!0),Rt("onDrop",ft),Ss("getBounds",Ni),oq],sq=e=>Ou(Qr(e,"left"),Qr(e,"top"),Qr(e,"position"),(s,i,l)=>(l==="fixed"?Gv:aS)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=ta(e);return Lb(s.left,s.top)}),rq=(e,s,i,l,g)=>{const x=g.bounds,w=M_(s,i,l),D=Js(w.left,x.x,x.x+x.width-g.width),P=Js(w.top,x.y,x.y+x.height-g.height),I=Lb(D,P);return s.fold(()=>{const V=Nb(I,i,l);return aS(V.left,V.top)},vt(I),()=>{const V=$A(I,i,l);return Gv(V.left,V.top)})},iq=(e,s,i,l,g,x,w)=>{const D=s.fold(()=>{const P=ZG(i,x.left,x.top),I=$A(P,l,g);return Gv(I.left,I.top)},P=>{const I=XG(e,P,i,x,l,g);return I.extra.each(V=>{P.onSensor(e,V)}),I.coord});return rq(e,D,l,g,w)},aq=(e,s,i,l)=>{const g=s.getTarget(e.element);if(s.repositionTarget){const x=wa(e.element),w=oi(x),D=lF(g),P=sq(g),I=iq(e,s.snaps,P,w,D,l,i),V=vH(I,w,D);fe(g,V)}s.onDrag(e,g,l)},EH=(e,s)=>({bounds:e.getBounds(),height:Pu(s.element),width:ea(s.element)}),d4=(e,s,i,l,g)=>{const x=i.update(l,g),w=i.getStartData().getOrThunk(()=>EH(s,e));x.each(D=>{aq(e,s,w,D)})},TH=(e,s,i,l)=>{s.each(nq),i.snaps.each(x=>{JG(e,x)});const g=i.getTarget(e.element);l.reset(),i.onDrop(e,g)},f4=e=>(s,i)=>{const l=g=>{i.setStartData(EH(s,g))};return jo([Xt(im(),g=>{i.getStartData().each(()=>l(g))}),...e(s,i,l)])},cq=e=>jo([Xt(ia(),e.forceDrop),Xt(u1(),e.drop),Xt(xg(),(s,i)=>{e.move(i.event)}),Xt(qf(),e.delayDrop)]);var HA=Object.freeze({__proto__:null,getData:e=>F.from(xs(e.x,e.y)),getDelta:(e,s)=>xs(s.left-e.left,s.top-e.top)});const AH=(e,s,i)=>[Xt(ia(),(l,g)=>{if(g.event.raw.button!==0)return;g.stop();const w=()=>TH(l,F.some(I),e,s),D=EB(w,200),P={drop:w,delayDrop:D.schedule,forceDrop:w,move:Z=>{D.cancel(),d4(l,e,s,HA,Z)}},I=SH(l,e.blockerClass,cq(P));(()=>{i(l),CH(l,I)})()})],lq=[...u4,Ts("dragger",{handlers:f4(AH)})],uq=e=>jo([Xt(dl(),e.forceDrop),Xt(Yl(),e.drop),Xt(_g(),e.drop),Xt(Rp(),(s,i)=>{e.move(i.event)})]),dq=e=>{const s=e[0];return F.some(xs(s.clientX,s.clientY))};var h4=Object.freeze({__proto__:null,getData:e=>{const i=e.raw.touches;return i.length===1?dq(i):F.none()},getDelta:(e,s)=>xs(s.left-e.left,s.top-e.top)});const kH=(e,s,i)=>{const l=ds(),g=x=>{TH(x,l.get(),e,s),l.clear()};return[Xt(dl(),(x,w)=>{w.stop();const D=()=>g(x),P={drop:D,delayDrop:ft,forceDrop:D,move:Z=>{d4(x,e,s,h4,Z)}},I=SH(x,e.blockerClass,uq(P));l.set(I),(()=>{i(x),CH(x,I)})()}),Xt(Rp(),(x,w)=>{w.stop(),d4(x,e,s,h4,w.event)}),Xt(Yl(),(x,w)=>{w.stop(),g(x)}),Xt(_g(),g)]},fq=[...u4,Ts("dragger",{handlers:f4(kH)})],hq=(e,s,i)=>[...AH(e,s,i),...kH(e,s,i)],mq=[...u4,Ts("dragger",{handlers:f4(hq)})];var pq=Object.freeze({__proto__:null,mouse:lq,touch:fq,mouseOrTouch:mq}),bq=Object.freeze({__proto__:null,init:()=>{let e=F.none(),s=F.none();const i=()=>{e=F.none(),s=F.none()},l=(P,I)=>{const V=e.map(Z=>P.getDelta(Z,I));return e=F.some(I),V},g=(P,I)=>P.getData(I).bind(V=>l(P,V)),x=P=>{s=F.some(P)},w=()=>s,D=vt({});return gc({readState:D,reset:i,update:g,getStartData:w,setStartData:x})}});const qv=Tx({branchKey:"mode",branches:pq,name:"dragging",active:{events:(e,s)=>e.dragger.handlers(e,s)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:F.from(e.extra)})},state:bq,apis:tq}),m4=40,VA=m4/2,DH=(e,s,i,l,g,x)=>e.fold(()=>qv.snap({sensor:Lb(i-VA,l-VA),range:xs(g,x),output:Lb(F.some(i),F.some(l)),extra:{td:s}}),w=>{const D=i-VA,P=l-VA,I=m4,V=m4,Z=w.element.dom.getBoundingClientRect();return qv.snap({sensor:Lb(D,P),range:xs(I,V),output:Lb(F.some(i-Z.width/2),F.some(l-Z.height/2)),extra:{td:s}})}),RH=(e,s,i)=>{const l=(g,x)=>g.exists(w=>No(w,x));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(g,x)=>{const w=x.td;l(s.get(),w)||(s.set(w),i(w))},mustSnap:!0}},MH=e=>Fo(xi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:pe([qv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),bC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),vq=(e,s)=>{const i=an([]),l=an([]),g=an(!1),x=ds(),w=ds(),D=we=>{const te=Nr(we);return DH(Q.getOpt(s),we,te.x,te.y,te.width,te.height)},P=()=>Gt(i.get(),we=>D(we)),I=we=>{const te=Nr(we);return DH(ot.getOpt(s),we,te.right,te.bottom,te.width,te.height)},V=()=>Gt(l.get(),we=>I(we)),Z=RH(P,x,we=>{w.get().each(te=>{e.dispatch("TableSelectorChange",{start:we,finish:te})})}),J=RH(V,w,we=>{x.get().each(te=>{e.dispatch("TableSelectorChange",{start:te,finish:we})})}),Q=MH(Z),ot=MH(J),dt=ai(Q.asSpec()),Pt=ai(ot.asSpec()),yt=(we,te,An,qe)=>{const vn=te.dom.getBoundingClientRect();_o(we.element,"display");const rn=Of(At.fromDom(e.getBody())).dom.innerHeight,Ao=An(vn),bo=qe(vn,rn);(Ao||bo)&&Pn(we.element,"display","none")},kt=(we,te,An,qe)=>{const vn=An(te);qv.snapTo(we,vn),yt(we,te,bo=>bo[qe]<0,(bo,Jn)=>bo[qe]>Jn)},Ct=we=>kt(dt,we,D,"top"),ne=()=>x.get().each(Ct),ee=we=>kt(Pt,we,I,"bottom"),ae=()=>w.get().each(ee);if(lc().deviceType.isTouch()){const we=te=>Gt(te,At.fromDom);e.on("TableSelectionChange",te=>{g.get()||(nd(s,dt),nd(s,Pt),g.set(!0));const An=At.fromDom(te.start),qe=At.fromDom(te.finish);x.set(An),w.set(qe),F.from(te.otherCells).each(vn=>{i.set(we(vn.upOrLeftCells)),l.set(we(vn.downOrRightCells)),Ct(An),ee(qe)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{ne(),ae()}),e.on("TableSelectionClear",()=>{g.get()&&(ef(dt),ef(Pt),g.set(!1)),x.clear(),w.clear()})}};var yq=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const _q=e=>e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark",xq=(e,s,i)=>{var l;const g=(l=s.delimiter)!==null&&l!==void 0?l:"›",x=(I,V,Z)=>xi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":Z,"aria-level":Z+1}},components:[rr(I)],action:J=>{e.focus(),e.selection.select(V),e.nodeChanged()},buttonBehaviours:pe([uf.button(i.isDisabled),di()])}),w=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[rr(` ${g} `)]}),D=I=>ie(I,(V,Z,J)=>{const Q=x(Z.name,Z.element,J);return J===0?V.concat([Q]):V.concat([w(),Q])},[]),P=I=>{const V=[];let Z=I.length;for(;Z-- >0;){const J=I[Z];if(J.nodeType===1&&!_q(J)){const Q=WL(e,J);if(Q.isDefaultPrevented()||V.push({name:Q.name,element:J}),Q.isPropagationStopped())break}}return V};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:pe([fn.config({mode:"flow",selector:"div[role=button]"}),En.config({disabled:i.isDisabled}),di(),As.config({}),Bn.config({}),Fn("elementPathEvents",[ps((I,V)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>fn.focusIn(I)),e.on("NodeChange",Z=>{const J=P(Z.parents),Q=J.length>0?D(J):[];Bn.set(I,Q)})})])]),components:[]}};var Bb;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(Bb||(Bb={}));const PH=(e,s,i,l,g)=>{const x={height:tS(l+s.top,LD(e),BD(e))};return i===Bb.Both&&(x.width=tS(g+s.left,ND(e),BE(e))),x},NH=(e,s,i)=>{const l=At.fromDom(e.getContainer()),g=PH(e,s,i,fr(l),ni(l));Oo(g,(x,w)=>{Je(x)&&Pn(l,w,TA(x))}),fV(e)},wq=e=>{const s=$E(e);return s===!1?Bb.None:s==="both"?Bb.Both:Bb.Vertical},zA=(e,s,i,l)=>{const x=xs(i*20,l*20);return NH(e,x,s),F.some(!0)},Cq=(e,s)=>{const i=wq(e);if(i===Bb.None)return F.none();const l=i===Bb.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return F.some(ld("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(l),"data-mce-name":"resize-handle"},behaviours:[qv.config({mode:"mouse",repositionTarget:!1,onDrag:(g,x,w)=>NH(e,w,i),blockerClass:"tox-blocker"}),fn.config({mode:"special",onLeft:()=>zA(e,i,-1,0),onRight:()=>zA(e,i,1,0),onUp:()=>zA(e,i,0,-1),onDown:()=>zA(e,i,0,1)}),As.config({}),gn.config({}),qi.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},Sq=(e,s)=>{const i=(l,g,x)=>Bn.set(l,[rr(s.translate(["{0} "+x,g[x]]))]);return xi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:pe([uf.button(s.isDisabled),di(),As.config({}),Bn.config({}),Ie.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Fn("wordcount-events",[Oa(l=>{const g=Ie.getValue(l),x=g.mode==="words"?"characters":"words";Ie.setValue(l,{mode:x,count:g.count}),i(l,g.count,x)}),ps(l=>{e.on("wordCountUpdate",g=>{const{mode:x}=Ie.getValue(l);Ie.setValue(l,{mode:x,count:g.wordCount}),i(l,g.wordCount,x)})})])]),eventOrder:{[ka()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},Eq=(e,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":yu.translate(["Powered by {0}","Tiny"])},innerHtml:yq.trim()},behaviours:pe([gn.config({})])}]}),l=()=>{const D=Ev("Alt+0"),P="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[rr(yu.translate([P,D]))]}},g=()=>{const D=[];return e.hasPlugin("wordcount")&&D.push(Sq(e,s)),Uw(e)&&D.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:D}},x=()=>{const D=[],P=P3(e),I=D3(e),V=Uw(e)||e.hasPlugin("wordcount"),Z=()=>{const J="tox-statusbar__text-container--flex-start",Q="tox-statusbar__text-container--flex-end",ot="tox-statusbar__text-container--space-around";if(P){const dt="tox-statusbar__text-container-3-cols";return!V&&!I?[dt,ot]:V&&!I?[dt,Q]:[dt,J]}return[V&&!I?Q:J]};return I&&D.push(xq(e,{},s)),P&&D.push(l()),V&&D.push(g()),D.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...Z()]},components:D}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const D=x(),P=Cq(e,s);return D.concat(P.toArray())})()}},LH=(e,s)=>s.get().getOrDie(`UI for ${e} has not been rendered`),Tq=(e,s)=>{const i=e.inline,l=i?GZ:UZ,g=Gw(e)?YU:NU,x=qZ(),w=ds(),D=ds(),P=ds(),J=lc().deviceType.isTouch()?["tox-platform-touch"]:[],Q=ZD(e),ot=xb(e),dt=Fo({dom:{tag:"div",classes:["tox-anchorbar"]}}),Pt=Fo({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),yt=()=>x.mainUi.get().map(cn=>cn.outerContainer).bind(fs.getHeader),kt=()=>Ln.fromOption(x.dialogUi.get().map(cn=>cn.sink),"UI has not been rendered"),Ct=()=>Ln.fromOption(x.popupUi.get().map(cn=>cn.sink),"(popup) UI has not been rendered"),ne=x.lazyGetInOuterOrDie("anchor bar",dt.getOpt),ee=x.lazyGetInOuterOrDie("bottom anchor bar",Pt.getOpt),ae=x.lazyGetInOuterOrDie("toolbar",fs.getToolbar),we=x.lazyGetInOuterOrDie("throbber",fs.getThrobber),te=kU({popup:Ct,dialog:kt},e,ne,ee),An=()=>{const cn={attributes:{[ey]:Q?Qd.BottomToTop:Qd.TopToBottom}},Mn=fs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:te.popup,onEscape:()=>{e.focus()}}),Jo=fs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:te.popup.shared.getSink,providers:te.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:e0=>{UL(e,e0)},type:ot,lazyToolbar:ae,lazyHeader:()=>yt().getOrDie("Could not find header element"),...cn}),Mo=fs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:te.popup.shared.providers,onEscape:()=>{e.focus()},type:ot}),za=jw(e),Tu=UE(e),Nh=VE(e),ba=M3(e),Au=qe(),wd=za||Tu||Nh,Yc=()=>za?[Mo]:Tu?[Jo]:[],Wm=ba?[Au,Mn]:[Mn];return fs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(wd?[]:["tox-editor-header--empty"]),...cn},components:Ht([Nh?Wm:[],Yc(),Ky(e)?[]:[dt.asSpec()]]),sticky:Gw(e),editor:e,sharedBackstage:te.popup.shared})},qe=()=>fs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),vn=()=>{const cn=fs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Mn=fs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[cn,Mn]}},rn=()=>{const cn=GD(e),Mn=No(ki(),cn)&&Fs(cn,"display")==="grid",Jo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(J),attributes:{...yu.isRtl()?{dir:"rtl"}:{}}},behaviours:pe([vi.config({useFixed:()=>g.isDocked(yt)})])},Mo={dom:{styles:{width:document.body.clientWidth+"px"}},events:jo([Xt(zd(),Nh=>{Pn(Nh.element,"width",document.body.clientWidth+"px")})])},za=ai(ts(Jo,Mn?Mo:{})),Tu=ZR(za);return D.set(Tu),{sink:za,mothership:Tu}},Ao=()=>{const cn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(J),attributes:{...yu.isRtl()?{dir:"rtl"}:{}}},behaviours:pe([vi.config({useFixed:()=>g.isDocked(yt),getBounds:()=>s.getPopupSinkBounds()})])},Mn=ai(cn),Jo=ZR(Mn);return P.set(Jo),{sink:Mn,mothership:Jo}},bo=()=>{const cn=An(),Mn=vn(),Jo=fs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:te.popup}),Mo=fs.parts.viewWrapper({backstage:te.popup}),za=O3(e)&&!i?F.some(Eq(e,te.popup.shared.providers)):F.none(),Tu=Ht([Q?[]:[cn],i?[]:[Mn],Q?[cn]:[]]),Nh=fs.parts.editorContainer({components:Ht([Tu,i?[]:[Pt.asSpec()]])}),ba=Zw(e),Au={role:"application",...yu.isRtl()?{dir:"rtl"}:{},...ba?{"aria-hidden":"true"}:{}},wd=ai(fs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(Q?["tox-tinymce--toolbar-bottom"]:[]).concat(J),styles:{visibility:"hidden",...ba?{opacity:"0",border:"0"}:{}},attributes:Au},components:[Nh,...i?[]:[Mo,...za.toArray()],Jo],behaviours:pe([di(),En.config({disableClass:"tox-tinymce--disabled"}),fn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Yc=ZR(wd);return w.set(Yc),{mothership:Yc,outerContainer:wd}},Jn=cn=>{const Mn=TA(W5(e)),Jo=TA(j5(e));return e.inline||(Mu("div","width",Jo)&&Pn(cn.element,"width",Jo),Mu("div","height",Mn)?Pn(cn.element,"height",Mn):Pn(cn.element,"height","400px")),Mn},ve=cn=>{e.addShortcut("alt+F9","focus menubar",()=>{fs.focusMenubar(cn)}),e.addShortcut("alt+F10","focus toolbar",()=>{fs.focusToolbar(cn)}),e.addCommand("ToggleToolbarDrawer",(Mn,Jo)=>{Jo!=null&&Jo.skipFocus?fs.toggleToolbarDrawerWithoutFocusing(cn):fs.toggleToolbarDrawer(cn)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>fs.isToolbarDrawerToggled(cn))},Ke=cn=>{const{mainUi:Mn,popupUi:Jo,uiMotherships:Mo}=cn;Co(wb(e),(I_,tk)=>{e.ui.registry.addGroupToolbarButton(tk,I_)});const{buttons:za,menuItems:Tu,contextToolbars:Nh,sidebars:ba,views:Au}=e.ui.registry.getAll(),wd=jD(e),Yc={menuItems:Tu,menus:B3(e),menubar:E3(e),toolbar:wd.getOrThunk(()=>Ww(e)),allowToolbarGroups:ot===ud.floating,buttons:za,sidebar:ba,views:Au};ve(Mn.outerContainer),QM(e,Mn.mothership,Mo),g.setup(e,te.popup.shared,yt),TG(e,te.popup),UG(e,te.popup.shared.getSink,te.popup),aj(e),ZC(e,we,te.popup.shared),rH(e,Nh,Jo.sink,{backstage:te.popup}),vq(e,Jo.sink);const Wm=e.getElement(),e0=Jn(Mn.outerContainer),D4={targetNode:Wm,height:e0};return l.render(e,cn,Yc,te.popup,D4)},In=cn=>(P.set(cn.mothership),cn),xn=()=>{const cn=bo(),Mn=rn(),Jo=Cb(e)?Ao():In(Mn);x.dialogUi.set(Mn),x.popupUi.set(Jo),x.mainUi.set(cn);const Mo={popupUi:Jo,dialogUi:Mn,mainUi:cn,uiMotherships:x.getUiMotherships()};return Ke(Mo)};return{popups:{backstage:te.popup,getMothership:()=>LH("popups",P)},dialogs:{backstage:te.dialog,getMothership:()=>LH("dialogs",D)},renderUI:xn}},BH=(e,s)=>{const i=Pr(e,"id").fold(()=>{const l=Ue("dialog-label");return Ee(s,"id",l),l},wn);Ee(e,"aria-labelledby",i)},IH=vt([oe("lazySink"),So("dragBlockClass"),Ss("getBounds",Ni),Rt("useTabstopAt",Ye),Rt("firstTabstop",0),Rt("eventOrder",{}),qr("modalBehaviours",[fn]),Ra("onExecute"),gx("onEscape")]),op={sketch:wn},Aq=vt([vc({name:"draghandle",overrides:(e,s)=>({behaviours:pe([qv.config({mode:"mouse",getTarget:i=>Wc(i,'[role="dialog"]').getOr(i),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:e.getDragBounds})])})}),Uo({schema:[oe("dom")],name:"title"}),Uo({factory:op,schema:[oe("dom")],name:"close"}),Uo({factory:op,schema:[oe("dom")],name:"body"}),vc({factory:op,schema:[oe("dom")],name:"footer"}),gu({factory:{sketch:(e,s)=>({...e,dom:s.dom,components:s.components})},schema:[Rt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Rt("components",[])],name:"blocker"})]),g4=(e,s,i,l)=>{const g=ds(),x=Q=>{g.set(Q);const ot=e.lazySink(Q).getOrDie(),dt=l.blocker(),Pt=ot.getSystem().build({...dt,components:dt.components.concat([yl(Q)]),behaviours:pe([gn.config({}),Fn("dialog-blocker-events",[lm(Bc(),()=>{yf.isBlocked(Q)?ft():fn.focusIn(Q)})])])});nd(ot,Pt),fn.focusIn(Q)},w=Q=>{g.clear(),Cc(Q.element).each(ot=>{Q.getSystem().getByDom(ot).each(dt=>{ef(dt)})})},D=Q=>ph(Q,e,"body"),P=Q=>Go(Q,e,"footer"),I=(Q,ot)=>{yf.block(Q,ot)},V=Q=>{yf.unblock(Q)},Z=Ue("modal-events"),J={...e.eventOrder,[aa()]:[Z].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:s,apis:{show:x,hide:w,getBody:D,getFooter:P,setIdle:V,setBusy:I},eventOrder:J,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Kr(e.modalBehaviours,[Bn.config({}),fn.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),yf.config({getRoot:g.get}),Fn(Z,[ps(Q=>{BH(Q.element,ph(Q,e,"title").element)})])])}},Rr=Zi({name:"ModalDialog",configFields:IH(),partFields:Aq(),factory:g4,apis:{show:(e,s)=>{e.show(s)},hide:(e,s)=>{e.hide(s)},getBody:(e,s)=>e.getBody(s),getFooter:(e,s)=>e.getFooter(s),setBusy:(e,s,i)=>{e.setBusy(s,i)},setIdle:(e,s)=>{e.setIdle(s)}}}),kq=mn([_r,oR].concat(Sv)),Oq=tm,p4=[iR("button"),Ml,Ws("align","end",["start","end"]),Jw,dd,r1("buttonType",["primary","secondary"])],$H=[...p4,Om],b4=[es("type",["submit","cancel","custom"]),...$H],Kv=[es("type",["menu"]),Dm,Jy,Ml,Xs("items",kq),...p4],FH=[...p4,es("type",["togglebutton"]),Jy,Ml,Dm,ii("active",!1)],Dq=or("type",{submit:b4,cancel:b4,custom:b4,menu:Kv,togglebutton:FH}),Rq=[_r,Om,es("level",["info","warn","error","success"]),oL,Rt("url","")],Mq=mn(Rq),Pq=e=>[_r,e],Nq=[_r,Om,dd,iR("button"),Ml,P8,r1("buttonType",["primary","secondary","toolbar"]),Jw],Lq=mn(Nq),P_=[_r,oR],Dh=P_.concat([XE]),v4=P_.concat([sR,dd]),cS=mn(v4),y4=tm,WA=Dh.concat([Eb("auto")]),Yv=mn(WA),UA=A0([Xy,Om,oL]),Bq=Dh.concat([pi("storageKey","default")]),HH=mn(Bq),VH=Cs,$q=mn(Dh),Fq=Cs,Hq=P_.concat([pi("tag","textarea"),Ys("scriptId"),Ys("scriptUrl"),Ta("onFocus"),Id("settings",void 0)]),zH=P_.concat([pi("tag","textarea"),gr("init")]),WH=em(e=>as("customeditor.old",ra(zH),e).orThunk(()=>as("customeditor.new",ra(Hq),e))),_4=Cs,Vq=mn(Dh),zq=zu(),UH=e=>[_r,om("columns"),e],Wq=[_r,Ys("html"),Ws("presets","presentation",["presentation","document"])],Uq=mn(Wq),jq=Dh.concat([ii("border",!1),ii("sandboxed",!0),ii("streamContent",!1),ii("transparent",!0)]),x4=mn(jq),w4=Cs,Zq=mn(P_.concat([$o("height")])),jH=mn([Ys("url"),pg("zoom"),pg("cachedWidth"),pg("cachedHeight")]),Gq=Dh.concat([$o("inputMode"),$o("placeholder"),ii("maximized",!1),dd]),qq=mn(Gq),ZH=Cs,Kq=e=>[_r,sR,e,Ws("align","start",["start","center","end"])],Yq=[Om,Xy],Xv=[Om,Xs("items",Tp("items",()=>C4))],C4=Hu([mn(Yq),mn(Xv)]),Xq=Dh.concat([Xs("items",C4),dd]),jA=mn(Xq),N_=Cs,ZA=Dh.concat([s1("items",[Om,Xy]),bg("size",1),dd]),GH=mn(ZA),GA=Cs,Kc=Dh.concat([ii("constrain",!0),dd]),qA=mn(Kc),S4=mn([Ys("width"),Ys("height")]),qH=P_.concat([sR,bg("min",0),bg("max",0)]),Jq=mn(qH),Qq=jf,Ib=[_r,Xs("header",Cs),Xs("cells",Vs(Cs))],pJ=mn(Ib),tK=Dh.concat([$o("placeholder"),ii("maximized",!1),dd]),KH=mn(tK),L_=Cs,lS=[es("type",["directory","leaf"]),nL,Ys("id"),Nc("menu",dP)],YH=mn(lS),nK=lS.concat([Xs("children",Tp("children",()=>Ge("type",{directory:XH,leaf:YH})))]),XH=mn(nK),oK=Ge("type",{directory:XH,leaf:YH}),B_=[_r,Xs("items",oK),Ta("onLeafAction"),Ta("onToggleExpand"),Wu("defaultExpandedIds",[],Cs),$o("defaultSelectedId")],bJ=mn(B_),sK=Dh.concat([Ws("filetype","file",["image","media","file"]),dd,$o("picker_text")]),rK=mn(sK),vJ=mn([Xy,rR]),E4=e=>sr("items","items",Do(),Vs(em(s=>as(`Checking item of ${e}`,T4,s).fold(i=>Ln.error(nm(i)),i=>Ln.value(i))))),T4=mr(()=>Ge("type",{alertbanner:Mq,bar:mn(Pq(E4("bar"))),button:Lq,checkbox:cS,colorinput:HH,colorpicker:$q,dropzone:Vq,grid:mn(UH(E4("grid"))),iframe:x4,input:qq,listbox:jA,selectbox:GH,sizeinput:qA,slider:Jq,textarea:KH,urlinput:rK,customeditor:WH,htmlpanel:Uq,imagepreview:Zq,collection:Yv,label:mn(Kq(E4("label"))),table:pJ,tree:bJ,panel:JH})),uS=[_r,Rt("classes",[]),Xs("items",T4)],JH=mn(uS),iK=[iR("tab"),nL,Xs("items",T4)],QH=[_r,s1("tabs",iK)],aK=mn(QH),yJ=$H,t=Dq,n=mn([Ys("title"),jr("body",Ge("type",{panel:JH,tabpanel:aK})),pi("size","normal"),Wu("buttons",[],t),Rt("initialData",{}),Ss("onAction",ft),Ss("onChange",ft),Ss("onSubmit",ft),Ss("onClose",ft),Ss("onCancel",ft),Ss("onTabChange",ft)]),o=e=>as("dialog",n,e),r=mn([es("type",["cancel","custom"]),...yJ]),a=mn([Ys("title"),Ys("url"),pg("height"),pg("width"),Bd("buttons",r),Ss("onAction",ft),Ss("onCancel",ft),Ss("onClose",ft),Ss("onMessage",ft)]),f=e=>as("dialog",a,e),y=e=>gt(e)?[e].concat(wt(Il(e),y)):Tt(e)?wt(e,y):[],T=e=>tt(e.type)&&tt(e.name),O={checkbox:y4,colorinput:VH,colorpicker:Fq,dropzone:zq,input:ZH,iframe:w4,imagepreview:jH,selectbox:GA,sizeinput:S4,slider:Qq,listbox:N_,size:S4,textarea:L_,urlinput:vJ,customeditor:_4,collection:UA,togglemenuitem:Oq},B=e=>F.from(O[e.type]),U=e=>oo(y(e),T),j=e=>{const s=U(e),i=wt(s,l=>B(l).fold(()=>[],g=>[jr(l.name,g)]));return mn(i)},q=e=>{var s;const i=Mc(o(e)),l=j(e),g=(s=e.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:l,initialData:g}},nt={open:(e,s)=>{const i=q(s);return e(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(e,s)=>{const i=Mc(f(s));return e(i)},redial:e=>q(e)};var st=Object.freeze({__proto__:null,events:(e,s)=>{const i=(l,g)=>{e.updateState.each(x=>{const w=x(l,g);s.set(w)}),e.renderComponents.each(x=>{const w=x(g,s.get());(e.reuseDom?tc:iD)(l,w)})};return jo([Xt($c(),(l,g)=>{const x=g;if(!x.universal){const w=e.channel;go(x.channels,w)&&i(l,x.data)}}),ps((l,g)=>{e.initialData.each(x=>{i(l,x)})})])}}),xt=Object.freeze({__proto__:null,getState:(e,s,i)=>i}),St=[oe("channel"),So("renderComponents"),So("updateState"),So("initialData"),ii("reuseDom",!0)],Nt=Object.freeze({__proto__:null,init:()=>{const e=an(F.none()),s=()=>e.set(F.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:s}}});const Jt=ui({fields:St,name:"reflecting",active:st,apis:xt,state:Nt}),ge=e=>{const s=[],i={};return Oo(e,(l,g)=>{l.fold(()=>{s.push(g)},x=>{i[g]=x})}),s.length>0?Ln.error(s):Ln.value(i)},Re=(e,s,i)=>{const l=Fo(d_.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Gt(e.items,x=>VM(g,x,s,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[l.asSpec()]}],behaviours:pe([fn.config({mode:"acyclic",useTabstopAt:Zt(f_)}),xu.memento(l),SC(l,{postprocess:g=>ge(g).fold(x=>(console.error(x),{}),wn)}),Fn("dialog-body-panel",[Xt(Bc(),(g,x)=>{g.getSystem().broadcastOn([TC],{newFocus:F.some(x.event.target)})})])])}},le=(e,s)=>({uid:e.uid,dom:e.dom,components:e.components,events:vh(e.action),behaviours:Kr(e.tabButtonBehaviours,[gn.config({}),fn.config({mode:"execution",useSpace:!0,useEnter:!0}),Ie.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}),jt=Ir({name:"TabButton",configFields:[Rt("uid",void 0),oe("value"),sr("dom","dom",Qb(()=>({attributes:{role:"tab",id:Ue("aria"),"aria-selected":"false"}})),Kl()),So("action"),Rt("domModification",{}),qr("tabButtonBehaviours",[gn,fn,Ie]),oe("view")],factory:le}),Qt=vt([oe("tabs"),oe("dom"),Rt("clickToDismiss",!1),qr("tabbarBehaviours",[Ro,fn]),cu(["tabClass","selectedClass"])]),Oe=pu({factory:jt,name:"tabs",unit:"tab",overrides:e=>{const s=(l,g)=>{Ro.dehighlight(l,g),on(l,g1(),{tabbar:l,button:g})},i=(l,g)=>{Ro.highlight(l,g),on(l,m1(),{tabbar:l,button:g})};return{action:l=>{const g=l.getSystem().getByUid(e.uid).getOrDie(),x=Ro.isHighlighted(g,l);(()=>x&&e.clickToDismiss?s:x?ft:i)()(g,l)},domModification:{classes:[e.markers.tabClass]}}}}),tn=vt([Oe]),Un=(e,s,i,l)=>({uid:e.uid,dom:e.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Kr(e.tabbarBehaviours,[Ro.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(g,x)=>{Ee(x.element,"aria-selected","true")},onDehighlight:(g,x)=>{Ee(x.element,"aria-selected","false")}}),fn.config({mode:"flow",getInitial:g=>Ro.getHighlighted(g).map(x=>x.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])}),no=Zi({name:"Tabbar",configFields:Qt(),partFields:tn(),factory:Un}),Vo=(e,s)=>({uid:e.uid,dom:e.dom,behaviours:Kr(e.tabviewBehaviours,[Bn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Yo=Ir({name:"Tabview",configFields:[qr("tabviewBehaviours",[Bn])],factory:Vo}),bs=vt([Rt("selectFirst",!0),po("onChangeTab"),po("onDismissTab"),Rt("tabs",[]),qr("tabSectionBehaviours",[])]),Ki=Uo({factory:no,schema:[oe("dom"),Pc("markers",[oe("tabClass"),oe("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),Xo=Uo({factory:Yo,name:"tabview"}),Ce=vt([Ki,Xo]),Qe=(e,s,i,l)=>{const g=w=>{const D=Ie.getValue(w);Go(w,e,"tabview").each(P=>{Mt(e.tabs,V=>V.value===D).each(V=>{const Z=V.view();Pr(w.element,"id").each(J=>{Ee(P.element,"aria-labelledby",J)}),Bn.set(P,Z),e.onChangeTab(P,w,Z)})})},x=(w,D)=>{Go(w,e,"tabbar").each(P=>{D(P).each(tu)})};return{uid:e.uid,dom:e.dom,components:s,behaviours:gh(e.tabSectionBehaviours),events:jo(Ht([e.selectFirst?[ps((w,D)=>{x(w,Ro.getFirst)})]:[],[Xt(m1(),(w,D)=>{const P=D.event.button;g(P)}),Xt(g1(),(w,D)=>{const P=D.event.button;e.onDismissTab(w,P)})]])),apis:{getViewItems:w=>Go(w,e,"tabview").map(D=>Bn.contents(D)).getOr([]),showTab:(w,D)=>{x(w,I=>{const V=Ro.getCandidates(I);return Mt(V,J=>Ie.getValue(J)===D).filter(J=>!Ro.isHighlighted(I,J))})}}}},so=Zi({name:"TabSection",configFields:bs(),partFields:Ce(),factory:Qe,apis:{getViewItems:(e,s)=>e.getViewItems(s),showTab:(e,s,i)=>{e.showTab(s,i)}}}),ke=(e,s,i)=>Gt(e,(l,g)=>{Bn.set(i,e[g].view());const x=s.dom.getBoundingClientRect();return Bn.set(i,[]),x.height}),hn=e=>ks(Ms(e,(s,i)=>s>i?-1:s<i?1:0)),Xn=(e,s,i)=>{const l=Vl(e).dom,g=Wc(e,".tox-dialog-wrap").getOr(e),x=Fs(g,"position")==="fixed";let w;x?w=Math.max(l.clientHeight,window.innerHeight):w=Math.max(l.offsetHeight,l.scrollHeight);const D=fr(s),I=s.dom.offsetLeft>=i.dom.offsetLeft+ni(i)?Math.max(fr(i),D):D,V=parseInt(Fs(e,"margin-top"),10)||0,Z=parseInt(Fs(e,"margin-bottom"),10)||0,Q=fr(e)+V+Z-I;return w-Q},Ne=(e,s)=>{ks(e).each(i=>so.showTab(s,i.value))},qn=(e,s)=>{Pn(e,"height",s+"px"),Pn(e,"flex-basis",s+"px")},Kn=(e,s,i)=>{Wc(e,'[role="dialog"]').each(l=>{Es(l,'[role="tablist"]').each(g=>{i.get().map(x=>(Pn(s,"height","0"),Pn(s,"flex-basis","0"),Math.min(x,Xn(l,s,g)))).each(x=>{qn(s,x)})})})},Fr=e=>Es(e,'[role="tabpanel"]'),zo=e=>{const s=ds();return{extraEvents:[ps(g=>{const x=g.element;Fr(x).each(w=>{Pn(w,"visibility","hidden"),g.getSystem().getByDom(w).toOptional().each(D=>{const P=ke(e,w,D);hn(P).fold(s.clear,s.set)}),Kn(x,w,s),_o(w,"visibility"),Ne(e,g),requestAnimationFrame(()=>{Kn(x,w,s)})})}),Xt(zd(),g=>{const x=g.element;Fr(x).each(w=>{Kn(x,w,s)})}),Xt(NB,(g,x)=>{const w=g.element;Fr(w).each(D=>{const P=lu(gs(D));Pn(D,"visibility","hidden");const I=Qr(D,"height").map(J=>parseInt(J,10));_o(D,"height"),_o(D,"flex-basis");const V=D.dom.getBoundingClientRect().height;I.forall(J=>V>J)?(s.set(V),Kn(w,D,s)):I.each(J=>{qn(D,J)}),_o(D,"visibility"),P.each(wl)})})],selectFirst:!1}},Hr="send-data-to-section",Su="send-data-to-view",Rh=(e,s,i)=>{const l=an({}),g=I=>{const V=Ie.getValue(I),Z=ge(V).getOr({}),J=l.get(),Q=ts(J,Z);l.set(Q)},x=I=>{const V=l.get();Ie.setValue(I,V)},w=an(null),D=Gt(e.tabs,I=>({value:I.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[rr(i.shared.providers.translate(I.title))],view:()=>[d_.sketch(V=>({dom:{tag:"div",classes:["tox-form"]},components:Gt(I.items,Z=>VM(V,Z,s,i)),formBehaviours:pe([fn.config({mode:"acyclic",useTabstopAt:Zt(f_)}),Fn("TabView.form.events",[ps(x),mc(g)]),bc.config({channels:ju([{key:Hr,value:{onReceive:g}},{key:Su,value:{onReceive:x}}])})])}))]})),P=zo(D);return so.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(I,V,Z)=>{const J=Ie.getValue(V);on(I,PB,{name:J,oldName:w.get()}),w.set(J)},tabs:D,components:[so.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[no.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:pe([As.config({})])}),so.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:P.selectFirst,tabSectionBehaviours:pe([Fn("tabpanel",P.extraEvents),fn.config({mode:"acyclic"}),lo.config({find:I=>ks(so.getViewItems(I))}),Ah(F.none(),I=>(I.getSystem().broadcastOn([Hr],{}),l.get()),(I,V)=>{l.set(V),I.getSystem().broadcastOn([Su],{})})])})},Fa=(e,s,i,l,g)=>{const x=P=>{const I=P.body;switch(I.type){case"tabpanel":return[Rh(I,P.initialData,l)];default:return[Re(I,P.initialData,l)]}},w=(P,I)=>F.some({isTabPanel:()=>I.body.type==="tabpanel"}),D={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(P=>({id:P})).getOr({}),...g?D:{}}},components:[],behaviours:pe([xu.childAt(0),Jt.config({channel:`${WT}-${s}`,updateState:w,renderComponents:x,initialData:e})])}},Ll=(e,s,i,l,g)=>Fa(e,s,F.some(i),l,g),vd=(e,s,i)=>{const l=Fa(e,s,F.none(),i,!1);return Rr.parts.body(l)},Bl=e=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[MI(F.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:pe([As.config({}),gn.config({})])})]}],behaviours:pe([fn.config({mode:"acyclic",useTabstopAt:Zt(f_)})])};return Rr.parts.body(s)},yd=Zy.deviceType.isTouch(),nn=(e,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,s]}),fo=(e,s)=>Rr.parts.close(xi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:e,buttonBehaviours:pe([As.config({})])})),Bs=()=>Rr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Qs=(e,s)=>Rr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:qg(`<p>${m3(s.translate(e))}</p>`)}]}]}),Mr=e=>Rr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),wi=(e,s)=>[hf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),hf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],lr=e=>{const s="tox-dialog",i=s+"-wrap",l=i+"__backdrop",g=s+"__disable-scroll";return Rr.sketch({lazySink:e.lazySink,onEscape:x=>(e.onEscape(x),F.some(!0)),useTabstopAt:x=>!f_(x),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[s].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:qg(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:yd?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:i,modalBehaviours:pe([gn.config({}),Fn("dialog-events",e.dialogEvents.concat([lm(Bc(),(x,w)=>{yf.isBlocked(x)?ft():fn.focusIn(x)}),Xt(Hc(),(x,w)=>{x.getSystem().broadcastOn([TC],{newFocus:w.event.newFocus})})])),Fn("scroll-lock",[ps(()=>{ut(ki(),g)}),mc(()=>{Ot(ki(),g)})]),...e.extraBehaviours]),eventOrder:{[ka()]:["dialog-events"],[aa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Fc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},wr=e=>xi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:pe([As.config({}),qi.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[ld("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:s=>{zn(s,Xg)}}),Ha=(e,s,i,l)=>{const g=x=>[rr(l.translate(x.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(x=>({id:x})).getOr({})}},components:[],behaviours:pe([Jt.config({channel:`${_M}-${s}`,initialData:e,renderComponents:g})])}},_d=()=>({dom:qg('<div class="tox-dialog__draghandle"></div>')}),_f=(e,s,i,l)=>hf.sketch({dom:qg('<div class="tox-dialog__header"></div>'),components:[Ha(e,s,F.some(i),l),_d(),wr(l)],containerBehaviours:pe([qv.config({mode:"mouse",blockerClass:"blocker",getTarget:g=>td(g,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),xf=(e,s,i)=>{const l=Rr.parts.title(Ha(e,s,F.none(),i)),g=Rr.parts.draghandle(_d()),x=Rr.parts.close(wr(i)),w=[l].concat(e.draggable?[g]:[]).concat([x]);return hf.sketch({dom:qg('<div class="tox-dialog__header"></div>'),components:w})},Eu=(e,s,i)=>xf({title:i.shared.providers.translate(e),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),sp=(e,s,i,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:qg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Jv=(e,s,i)=>({onClose:()=>i.closeWindow(),onBlock:l=>{const g=Es(e().element,".tox-dialog__header").map(x=>fr(x));Rr.setBusy(e(),(x,w)=>sp(l.message,w,s,g))},onUnblock:()=>{Rr.setIdle(e())}}),Qv="tox-dialog--fullscreen",dS="tox-dialog--width-lg",Mh="tox-dialog--width-md",t0=e=>{switch(e){case"large":return F.some(dS);case"medium":return F.some(Mh);default:return F.none()}},A4=(e,s)=>{const i=At.fromDom(s.element.dom);Yt(i,Qv)||(De(i,[dS,Mh]),t0(e).each(l=>ut(i,l)))},pa=(e,s)=>{const i=At.fromDom(e.element.dom),l=un(i),g=Mt(l,x=>x===dS||x===Mh).or(t0(s));je(i,[Qv,...g.toArray()])},$b=(e,s,i)=>ai(lr({...e,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[EC({}),...e.extraBehaviours],onEscape:l=>{zn(l,Xg)},dialogEvents:s,eventOrder:{[$c()]:[Jt.name(),bc.name()],[aa()]:["scroll-lock",Jt.name(),"messages","dialog-events","alloy.base.behaviour"],[Fc()]:["alloy.base.behaviour","dialog-events","messages",Jt.name(),"scroll-lock"]}})),KA=(e,s={})=>{const i=l=>{const g=Gt(l.items,x=>{const w=Me(s,x.name).getOr(an(!1));return{...x,storage:w}});return{...l,items:g}};return Gt(e,l=>l.type==="menu"?i(l):l)},YA=e=>ie(e,(s,i)=>i.type==="menu"?ie(i.items,(g,x)=>(g[x.name]=x.storage,g),s):s,{}),Ph=(e,s)=>[Jf(Bc(),zW),e(Mm,(i,l,g,x)=>{lu(gs(x.element)).fold(ft,K0),s.onClose(),l.onClose()}),e(Xg,(i,l,g,x)=>{l.onCancel(i),zn(x,Mm)}),Xt(qR,(i,l)=>s.onUnblock()),Xt(GR,(i,l)=>s.onBlock(l.event))],fS=(e,s)=>{const i=(g,x)=>Xt(g,(w,D)=>{l(w,(P,I)=>{x(e(),P,D.event,w)})}),l=(g,x)=>{Jt.getState(g).get().each(w=>{x(w,g)})};return[...Ph(i,s),i(Eh,(g,x,w)=>{x.onAction(g,{name:w.name})})]},It=(e,s,i)=>{const l=(x,w)=>Xt(x,(D,P)=>{g(D,(I,V)=>{w(e(),I,P.event,D)})}),g=(x,w)=>{Jt.getState(x).get().each(D=>{w(D.internalDialog,x)})};return[...Ph(l,s),l(mC,(x,w)=>w.onSubmit(x)),l(oc,(x,w,D)=>{w.onChange(x,{name:D.name})}),l(Eh,(x,w,D,P)=>{const I=()=>P.getSystem().isConnected()?fn.focusIn(P):void 0,V=Q=>gp(Q,"disabled")||Pr(Q,"aria-disabled").exists(ot=>ot==="true"),Z=gs(P.element),J=lu(Z);w.onAction(x,{name:D.name,value:D.value}),lu(Z).fold(I,Q=>{V(Q)||J.exists(ot=>Qi(Q,ot)&&V(ot))?I():i().toOptional().filter(ot=>!Qi(ot.element,Q)).each(I)})}),l(PB,(x,w,D)=>{w.onTabChange(x,{newTabName:D.name,oldTabName:D.oldName})}),mc(x=>{const w=e();Ie.setValue(x,w.getData())})]},Ft=(e,s)=>MC(e,e.type,s),ye=(e,s,i)=>Mt(s,l=>l.name===i).bind(l=>l.memento.getOpt(e)),he=(e,s)=>{const i=s.map(D=>D.footerButtons).getOr([]),l=tr(i,D=>D.align==="start"),g=(D,P)=>hf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${D}`]},components:Gt(P,I=>I.memento.asSpec())}),x=g("start",l.pass),w=g("end",l.fail);return[x,w]},_n=(e,s,i)=>{const l=(g,x)=>{const w=Gt(x.buttons,P=>{const I=Fo(Ft(P,i));return{name:P.name,align:P.align,memento:I}}),D=P=>ye(g,w,P);return F.some({lookupByName:D,footerButtons:w})};return{dom:qg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:pe([Jt.config({channel:`${Im}-${s}`,initialData:e,updateState:l,renderComponents:he})])}},ro=(e,s,i)=>_n(e,s,i),Is=(e,s,i)=>Rr.parts.footer(_n(e,s,i)),xd=(e,s)=>{if(e.getRoot().getSystem().isConnected()){const l=lo.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return d_.getField(l,s).orThunk(()=>e.getFooter().bind(w=>Jt.getState(w).get()).bind(w=>w.lookupByName(s)))}else return F.none()},XA=(e,s)=>{const i=e.getRoot();return Jt.getState(i).get().map(l=>Mc(as("data",l.dataValidator,s))).getOr(s)},t6=(e,s,i)=>{const l=ot=>{const dt=e.getRoot();dt.getSystem().isConnected()&&ot(dt)},Q={getData:()=>{const ot=e.getRoot(),dt=ot.getSystem().isConnected()?e.getFormWrapper():ot,Pt=Ie.getValue(dt),yt=Co(i,kt=>kt.get());return{...Pt,...yt}},setData:ot=>{l(dt=>{const Pt=Q.getData(),yt=ts(Pt,ot),kt=XA(e,yt),Ct=e.getFormWrapper();Ie.setValue(Ct,kt),Oo(i,(ne,ee)=>{ho(yt,ee)&&ne.set(yt[ee])})})},setEnabled:(ot,dt)=>{xd(e,ot).each(dt?En.enable:En.disable)},focus:ot=>{xd(e,ot).each(gn.focus)},block:ot=>{if(!tt(ot))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(dt=>{on(dt,GR,{message:ot})})},unblock:()=>{l(ot=>{zn(ot,qR)})},showTab:ot=>{l(dt=>{const Pt=e.getBody();Jt.getState(Pt).get().exists(kt=>kt.isTabPanel())&&lo.getCurrent(Pt).each(kt=>{so.showTab(kt,ot)})})},redial:ot=>{l(dt=>{const Pt=e.getId(),yt=s(ot),kt=KA(yt.internalDialog.buttons,i);dt.getSystem().broadcastOn([`${zT}-${Pt}`],yt),dt.getSystem().broadcastOn([`${_M}-${Pt}`],yt.internalDialog),dt.getSystem().broadcastOn([`${WT}-${Pt}`],yt.internalDialog),dt.getSystem().broadcastOn([`${Im}-${Pt}`],{...yt.internalDialog,buttons:kt}),Q.setData(yt.initialData)})},close:()=>{l(ot=>{zn(ot,Mm)})},toggleFullscreen:e.toggleFullscreen};return Q},JA=(e,s,i)=>{const l=Ue("dialog"),g=e.internalDialog,x=Eu(g.title,l,i),w=an(g.size),D=t0(w.get()).toArray(),P=(kt,Ct)=>(w.set(Ct.internalDialog.size),A4(Ct.internalDialog.size,kt),F.some(Ct)),I=vd({body:g.body,initialData:g.initialData},l,i),V=KA(g.buttons),Z=YA(V),J=Sn(V.length!==0,Is({buttons:V},l,i)),Q=It(()=>yt,Jv(()=>dt,i.shared.providers,s),i.shared.getSink),ot={id:l,header:x,body:I,footer:J,extraClasses:D,extraBehaviours:[Jt.config({channel:`${zT}-${l}`,updateState:P,initialData:e})],extraStyles:{}},dt=$b(ot,Q,i),Pt=(()=>{const kt=()=>{const ne=Rr.getBody(dt);return lo.getCurrent(ne).getOr(ne)},Ct=()=>{pa(dt,w.get())};return{getId:vt(l),getRoot:vt(dt),getBody:()=>Rr.getBody(dt),getFooter:()=>Rr.getFooter(dt),getFormWrapper:kt,toggleFullscreen:Ct}})(),yt=t6(Pt,s.redial,Z);return{dialog:dt,instanceApi:yt}},zm=(e,s,i,l=!1,g)=>{const x=Ue("dialog"),w=Ue("dialog-label"),D=Ue("dialog-content"),P=e.internalDialog,I=an(P.size),V=t0(I.get()).toArray(),Z=(ae,we)=>(I.set(we.internalDialog.size),A4(we.internalDialog.size,ae),g(),F.some(we)),J=Fo(_f({title:P.title,draggable:!0},x,w,i.shared.providers)),Q=Fo(Ll({body:P.body,initialData:P.initialData},x,D,i,l)),ot=KA(P.buttons),dt=YA(ot),Pt=Sn(ot.length!==0,Fo(ro({buttons:ot},x,i))),yt=It(()=>ee,{onBlock:ae=>{yf.block(Ct,(we,te)=>{const An=J.getOpt(Ct).map(qe=>fr(qe.element));return sp(ae.message,te,i.shared.providers,An)})},onUnblock:()=>{yf.unblock(Ct)},onClose:()=>s.closeWindow()},i.shared.getSink),Ct=ai({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...V],attributes:{role:"dialog","aria-labelledby":w}},eventOrder:{[$c()]:[Jt.name(),bc.name()],[ka()]:["execute-on-form"],[aa()]:["reflecting","execute-on-form"]},behaviours:pe([fn.config({mode:"cyclic",onEscape:ae=>(zn(ae,Mm),F.some(!0)),useTabstopAt:ae=>!f_(ae)&&(xa(ae)!=="button"||$s(ae,"disabled")!=="disabled"),firstTabstop:1}),Jt.config({channel:`${zT}-${x}`,updateState:Z,initialData:e}),gn.config({}),Fn("execute-on-form",yt.concat([lm(Bc(),(ae,we)=>{fn.focusIn(ae)}),Xt(Hc(),(ae,we)=>{ae.getSystem().broadcastOn([TC],{newFocus:we.event.newFocus})})])),yf.config({getRoot:()=>F.some(Ct)}),Bn.config({}),EC({})]),components:[J.asSpec(),Q.asSpec(),...Pt.map(ae=>ae.asSpec()).toArray()]}),ne=()=>{pa(Ct,I.get())},ee=t6({getId:vt(x),getRoot:vt(Ct),getFooter:()=>Pt.map(ae=>ae.get(Ct)),getBody:()=>Q.get(Ct),getFormWrapper:()=>{const ae=Q.get(Ct);return lo.getCurrent(ae).getOr(ae)},toggleFullscreen:ne},s.redial,dt);return{dialog:Ct,instanceApi:ee}};var QA=tinymce.util.Tools.resolve("tinymce.util.URI");const e6=e=>{const s=w=>{e.getSystem().isConnected()&&w(e)};return{block:w=>{if(!tt(w))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(D=>{on(D,GR,{message:w})})},unblock:()=>{s(w=>{zn(w,qR)})},close:()=>{s(w=>{zn(w,Mm)})},sendMessage:w=>{s(D=>{D.getSystem().broadcastOn([UT],w)})}}},n6=["insertContent","setContent","execCommand","close","block","unblock"],k4=e=>gt(e)&&n6.indexOf(e.mceAction)!==-1,cK=e=>!k4(e)&&gt(e)&&ho(e,"mceAction"),eo=(e,s,i)=>{switch(i.mceAction){case"insertContent":e.insertContent(i.content);break;case"setContent":e.setContent(i.content);break;case"execCommand":const l=Le(i.ui)?i.ui:!1;e.execCommand(i.cmd,l,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},zt=(e,s,i,l)=>{const g=Ue("dialog"),x=Eu(e.title,g,l),w=Bl(e),D=e.buttons.bind(Ct=>Ct.length===0?F.none():F.some(Is({buttons:Ct},g,l))),P=fS(()=>kt,Jv(()=>yt,l.shared.providers,s)),I={...e.height.fold(()=>({}),Ct=>({height:Ct+"px","max-height":Ct+"px"})),...e.width.fold(()=>({}),Ct=>({width:Ct+"px","max-width":Ct+"px"}))},V=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],Z=new QA(e.url,{base_uri:new QA(window.location.href)}),J=`${Z.protocol}://${Z.host}${Z.port?":"+Z.port:""}`,Q=tb(),ot=(Ct,ne)=>F.some(ne),dt=[Jt.config({channel:`${zT}-${g}`,updateState:ot,initialData:e}),Fn("messages",[ps(()=>{const Ct=$i(At.fromDom(window),"message",ne=>{if(Z.isSameOrigin(new QA(ne.raw.origin))){const ee=ne.raw.data;k4(ee)?eo(i,kt,ee):cK(ee)&&e.onMessage(kt,ee)}});Q.set(Ct)}),mc(Q.clear)]),bc.config({channels:{[UT]:{onReceive:(Ct,ne)=>{Es(Ct.element,"iframe").each(ee=>{const ae=ee.dom.contentWindow;_e(ae)&&ae.postMessage(ne,J)})}}}})],yt=$b({id:g,header:x,body:w,footer:D,extraClasses:V,extraBehaviours:dt,extraStyles:I},P,l),kt=e6(yt);return{dialog:yt,instanceApi:kt}},Xe=e=>{const s=e.shared;return{open:(l,g)=>{const x=()=>{Rr.hide(I),g()},w=Fo(MC({name:"close-alert",text:"OK",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"cancel",e)),D=Bs(),P=fo(x,s.providers),I=ai(lr({lazySink:()=>s.getSink(),header:nn(D,P),body:Qs(l,s.providers),footer:F.some(Mr(wi([],[w.asSpec()]))),onEscape:x,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xt(Xg,x)],eventOrder:{}}));Rr.show(I);const V=w.get(I);gn.focus(V)}}},Tn=e=>{const s=e.shared;return{open:(l,g)=>{const x=J=>{Rr.hide(V),g(J)},w=Fo(MC({name:"yes",text:"Yes",primary:!0,buttonType:F.some("primary"),align:"end",enabled:!0,icon:F.none()},"submit",e)),D=MC({name:"no",text:"No",primary:!1,buttonType:F.some("secondary"),align:"end",enabled:!0,icon:F.none()},"cancel",e),P=Bs(),I=fo(()=>x(!1),s.providers),V=ai(lr({lazySink:()=>s.getSink(),header:nn(P,I),body:Qs(l,s.providers),footer:F.some(Mr(wi([],[D,w.asSpec()]))),onEscape:()=>x(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xt(Xg,()=>x(!1)),Xt(mC,()=>x(!0))],eventOrder:{}}));Rr.show(V);const Z=w.get(V);gn.focus(Z)}}},ur=(e,s)=>Mc(as("data",s,e)),Va=e=>fC(e,".tox-alert-dialog")||fC(e,".tox-confirm-dialog"),wf=(e,s,i)=>s&&i?[]:[xr.config({contextual:{lazyContext:()=>F.some(Hs(At.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>Dv(e,l.element).map(x=>({bounds:Rv(x),optScrollEnv:F.some({currentScrollTop:x.element.dom.scrollTop,scrollElmTop:ta(x.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:F.none()}))})],Ci=e=>{const s=e.editor,i=Gw(s),l=Xe(e.backstages.dialog),g=Tn(e.backstages.dialog),x=(ot,dt,Pt)=>{if(!He(dt)){if(dt.inline==="toolbar")return I(ot,e.backstages.popup.shared.anchors.inlineDialog(),Pt,dt);if(dt.inline==="bottom")return V(ot,e.backstages.popup.shared.anchors.inlineBottomDialog(),Pt,dt);if(dt.inline==="cursor")return I(ot,e.backstages.popup.shared.anchors.cursor(),Pt,dt)}return P(ot,Pt)},w=(ot,dt)=>D(ot,dt),D=(ot,dt)=>{const Pt=yt=>{const kt=zt(yt,{closeWindow:()=>{Rr.hide(kt.dialog),dt(kt.instanceApi)}},s,e.backstages.dialog);return Rr.show(kt.dialog),kt.instanceApi};return nt.openUrl(Pt,ot)},P=(ot,dt)=>{const Pt=(yt,kt,Ct)=>{const ne=kt,ae=JA({dataValidator:Ct,initialData:ne,internalDialog:yt},{redial:nt.redial,closeWindow:()=>{Rr.hide(ae.dialog),dt(ae.instanceApi)}},e.backstages.dialog);return Rr.show(ae.dialog),ae.instanceApi.setData(ne),ae.instanceApi};return nt.open(Pt,ot)},I=(ot,dt,Pt,yt)=>{const kt=(Ct,ne,ee)=>{const ae=ur(ne,ee),we=ds(),te=e.backstages.popup.shared.header.isPositionedAtTop(),An={dataValidator:ee,initialData:ae,internalDialog:Ct},qe=()=>we.on(bo=>{qs.reposition(bo),(!i||!te)&&xr.refresh(bo)}),vn=zm(An,{redial:nt.redial,closeWindow:()=>{we.on(qs.hide),s.off("ResizeEditor",qe),we.clear(),Pt(vn.instanceApi)}},e.backstages.popup,yt.ariaAttrs,qe),rn=ai(qs.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:yt.persistent?{event:"doNotDismissYet"}:{},...te?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pe([Fn("window-manager-inline-events",[Xt(Ql(),(bo,Jn)=>{zn(vn.dialog,Xg)})]),...wf(s,i,te)]),isExtraPart:(bo,Jn)=>Va(Jn)}));we.set(rn);const Ao=()=>{const bo=s.inline?ki():At.fromDom(s.getContainer()),Jn=Hs(bo);return F.some(Jn)};return qs.showWithinBounds(rn,yl(vn.dialog),{anchor:dt},Ao),(!i||!te)&&(xr.refresh(rn),s.on("ResizeEditor",qe)),vn.instanceApi.setData(ae),fn.focusIn(vn.dialog),vn.instanceApi};return nt.open(kt,ot)},V=(ot,dt,Pt,yt)=>{const kt=(Ct,ne,ee)=>{const ae=ur(ne,ee),we=ds(),te=e.backstages.popup.shared.header.isPositionedAtTop(),An={dataValidator:ee,initialData:ae,internalDialog:Ct},qe=()=>we.on(bo=>{qs.reposition(bo),xr.refresh(bo)}),vn=zm(An,{redial:nt.redial,closeWindow:()=>{we.on(qs.hide),s.off("ResizeEditor ScrollWindow ElementScroll",qe),we.clear(),Pt(vn.instanceApi)}},e.backstages.popup,yt.ariaAttrs,qe),rn=ai(qs.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:yt.persistent?{event:"doNotDismissYet"}:{},...te?{}:{fireRepositionEventInstead:{}},inlineBehaviours:pe([Fn("window-manager-inline-events",[Xt(Ql(),(bo,Jn)=>{zn(vn.dialog,Xg)})]),xr.config({contextual:{lazyContext:()=>F.some(Hs(At.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:bo=>Dv(s,bo.element).map(ve=>({bounds:Rv(ve),optScrollEnv:F.some({currentScrollTop:ve.element.dom.scrollTop,scrollElmTop:ta(ve.element).top})})).getOrThunk(()=>({bounds:Ni(),optScrollEnv:F.none()}))})]),isExtraPart:(bo,Jn)=>Va(Jn)}));we.set(rn);const Ao=()=>e.backstages.popup.shared.getSink().toOptional().bind(bo=>{const Jn=Dv(s,bo.element),ve=15,Ke=Jn.map(cn=>Rv(cn)).getOr(Ni()),In=Hs(At.fromDom(s.getContentAreaContainer())),xn=yp(In,Ke);return F.some(hr(xn.x,xn.y,xn.width,xn.height-ve))});return qs.showWithinBounds(rn,yl(vn.dialog),{anchor:dt},Ao),xr.refresh(rn),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",qe),vn.instanceApi.setData(ae),fn.focusIn(vn.dialog),vn.instanceApi};return nt.open(kt,ot)};return{open:x,openUrl:w,alert:(ot,dt)=>{l.open(ot,dt)},close:ot=>{ot.close()},confirm:(ot,dt)=>{g.open(ot,dt)}}},Cf=e=>{MD(e),_V(e),kG(e)};var O4=()=>{fg.add("silver",e=>{Cf(e);let s=()=>Ni();const{dialogs:i,popups:l,renderUI:g}=Tq(e,{getPopupSinkBounds:()=>s()}),x=()=>{const P=g();return Dv(e,l.getMothership().element).each(V=>{s=()=>Rv(V)}),P};hz.register(e,l.backstage.shared);const w=Ci({editor:e,backstages:{popup:l.backstage,dialog:i.backstage}}),D=()=>y3(e,{backstage:l.backstage},l.getMothership());return{renderUI:x,getWindowManagerImpl:vt(w),getNotificationManagerImpl:D}})};O4()})();(function(){var v=tinymce.util.Tools.resolve("tinymce.ModelManager");const m=(u,p,S)=>{var k;return S(u,p.prototype)?!0:((k=u.constructor)===null||k===void 0?void 0:k.name)===p.name},C=u=>{const p=typeof u;return u===null?"null":p==="object"&&Array.isArray(u)?"array":p==="object"&&m(u,String,(S,k)=>k.isPrototypeOf(S))?"string":p},M=u=>p=>C(p)===u,$=u=>p=>typeof p===u,W=u=>p=>u===p,G=M("string"),tt=M("object"),gt=M("array"),Bt=W(null),Tt=$("boolean"),Lt=W(void 0),Le=u=>u==null,He=u=>!Le(u),ze=$("function"),_e=$("number"),$t=()=>{},Je=(u,p)=>(...S)=>u(p.apply(null,S)),Nn=(u,p)=>S=>u(p(S)),ft=u=>()=>u,We=u=>u,to=(u,p)=>u===p;function ln(u,...p){return(...S)=>{const k=p.concat(S);return u.apply(null,k)}}const vt=u=>p=>!u(p),wn=u=>()=>{throw new Error(u)},Hn=u=>u(),sn=ft(!1),Zt=ft(!0);class pt{constructor(p,S){this.tag=p,this.value=S}static some(p){return new pt(!0,p)}static none(){return pt.singletonNone}fold(p,S){return this.tag?S(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?pt.some(p(this.value)):pt.none()}bind(p){return this.tag?p(this.value):pt.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:pt.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return He(p)?pt.some(p):pt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}pt.singletonNone=new pt(!1);const jn=Array.prototype.slice,pn=Array.prototype.indexOf,Ye=Array.prototype.push,F=(u,p)=>pn.call(u,p),Po=(u,p)=>F(u,p)>-1,re=(u,p)=>{for(let S=0,k=u.length;S<k;S++){const N=u[S];if(p(N,S))return!0}return!1},wo=(u,p)=>{const S=[];for(let k=0;k<u;k++)S.push(p(k));return S},bn=(u,p)=>{const S=u.length,k=new Array(S);for(let N=0;N<S;N++){const H=u[N];k[N]=p(H,N)}return k},Kt=(u,p)=>{for(let S=0,k=u.length;S<k;S++){const N=u[S];p(N,S)}},go=(u,p)=>{for(let S=u.length-1;S>=0;S--){const k=u[S];p(k,S)}},Cr=(u,p)=>{const S=[],k=[];for(let N=0,H=u.length;N<H;N++){const K=u[N];(p(K,N)?S:k).push(K)}return{pass:S,fail:k}},ko=(u,p)=>{const S=[];for(let k=0,N=u.length;k<N;k++){const H=u[k];p(H,k)&&S.push(H)}return S},Bo=(u,p,S)=>(go(u,(k,N)=>{S=p(S,k,N)}),S),Gt=(u,p,S)=>(Kt(u,(k,N)=>{S=p(S,k,N)}),S),Ae=(u,p,S)=>{for(let k=0,N=u.length;k<N;k++){const H=u[k];if(p(H,k))return pt.some(H);if(S(H,k))break}return pt.none()},X=(u,p)=>Ae(u,p,sn),tr=(u,p)=>{for(let S=0,k=u.length;S<k;S++){const N=u[S];if(p(N,S))return pt.some(S)}return pt.none()},oo=u=>{const p=[];for(let S=0,k=u.length;S<k;++S){if(!gt(u[S]))throw new Error("Arr.flatten item "+S+" was not an array, input: "+u);Ye.apply(p,u[S])}return p},hs=(u,p)=>oo(bn(u,p)),ie=(u,p)=>{for(let S=0,k=u.length;S<k;++S){const N=u[S];if(p(N,S)!==!0)return!1}return!0},Vt=u=>{const p=jn.call(u,0);return p.reverse(),p},Mt=(u,p)=>{const S={};for(let k=0,N=u.length;k<N;k++){const H=u[k];S[String(H)]=p(H,k)}return S},_t=(u,p)=>{const S=jn.call(u,0);return S.sort(p),S},Ht=(u,p)=>p>=0&&p<u.length?pt.some(u[p]):pt.none(),wt=u=>Ht(u,0),Gn=u=>Ht(u,u.length-1),kn=(u,p)=>{for(let S=0;S<u.length;S++){const k=p(u[S],S);if(k.isSome())return k}return pt.none()},Se=Object.keys,vo=Object.hasOwnProperty,yo=(u,p)=>{const S=Se(u);for(let k=0,N=S.length;k<N;k++){const H=S[k],K=u[H];p(K,H)}},Ms=(u,p)=>co(u,(S,k)=>({k,v:p(S,k)})),co=(u,p)=>{const S={};return yo(u,(k,N)=>{const H=p(k,N);S[H.k]=H.v}),S},ks=u=>(p,S)=>{u[S]=p},Ei=(u,p,S,k)=>{yo(u,(N,H)=>{(p(N,H)?S:k)(N,H)})},Ps=(u,p)=>{const S={};return Ei(u,p,ks(S),$t),S},vs=(u,p)=>{const S=[];return yo(u,(k,N)=>{S.push(p(k,N))}),S},Qo=u=>vs(u,We),ic=(u,p)=>Oo(u,p)?pt.from(u[p]):pt.none(),Oo=(u,p)=>vo.call(u,p),Co=(u,p)=>Oo(u,p)&&u[p]!==void 0&&u[p]!==null,ys=u=>{for(const p in u)if(vo.call(u,p))return!1;return!0},dr=typeof window<"u"?window:Function("return this;")(),Qc=(u,p)=>{let S=p??dr;for(let k=0;k<u.length&&S!==void 0&&S!==null;++k)S=S[u[k]];return S},Vi=(u,p)=>{const S=u.split(".");return Qc(S,p)},Tf=(u,p)=>Vi(u,p),Wa=(u,p)=>{const S=Tf(u,p);if(S==null)throw new Error(u+" not available on this browser");return S},zr=Object.getPrototypeOf,Il=u=>Wa("HTMLElement",u),Me=u=>{const p=Vi("ownerDocument.defaultView",u);return tt(u)&&(Il(p).prototype.isPrototypeOf(u)||/^HTML\w*Element$/.test(zr(u).constructor.name))},ho=8,Wr=9,va=11,ya=1,ku=3,Os=u=>u.dom.nodeName.toLowerCase(),Td=u=>u.dom.nodeType,Ou=u=>p=>Td(p)===u,ms=u=>Td(u)===ho||Os(u)==="#comment",Sn=u=>_a(u)&&Me(u.dom),_a=Ou(ya),Af=Ou(ku),cp=Ou(Wr),lp=Ou(va),Xi=u=>p=>_a(p)&&Os(p)===u,Ti=(u,p,S)=>{if(G(S)||Tt(S)||_e(S))u.setAttribute(p,S+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",S,":: Element ",u),new Error("Attribute value was not simple")},Sr=(u,p,S)=>{Ti(u.dom,p,S)},wc=(u,p)=>{const S=u.dom;yo(p,(k,N)=>{Ti(S,N,k)})},Fh=(u,p)=>{yo(p,(S,k)=>{S.fold(()=>{Ns(u,k)},N=>{Ti(u.dom,k,N)})})},tl=(u,p)=>{const S=u.dom.getAttribute(p);return S===null?void 0:S},Ua=(u,p)=>pt.from(tl(u,p)),Ns=(u,p)=>{u.dom.removeAttribute(p)},ac=u=>Gt(u.dom.attributes,(p,S)=>(p[S.name]=S.value,p),{}),$l=(u,p)=>{const k=(p||document).createElement("div");if(k.innerHTML=u,!k.hasChildNodes()||k.childNodes.length>1){const N="HTML does not have a single root node";throw console.error(N,u),new Error(N)}return Fl(k.childNodes[0])},Y_=(u,p)=>{const k=(p||document).createElement(u);return Fl(k)},X_=(u,p)=>{const k=(p||document).createTextNode(u);return Fl(k)},Fl=u=>{if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},At={fromHtml:$l,fromTag:Y_,fromText:X_,fromDom:Fl,fromPoint:(u,p,S)=>pt.from(u.dom.elementFromPoint(p,S)).map(Fl)},Ai=(u,p)=>{const S=u.dom;if(S.nodeType!==ya)return!1;{const k=S;if(k.matches!==void 0)return k.matches(p);if(k.msMatchesSelector!==void 0)return k.msMatchesSelector(p);if(k.webkitMatchesSelector!==void 0)return k.webkitMatchesSelector(p);if(k.mozMatchesSelector!==void 0)return k.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},Hh=u=>u.nodeType!==ya&&u.nodeType!==Wr&&u.nodeType!==va||u.childElementCount===0,u0=(u,p)=>{const S=p===void 0?document:p.dom;return Hh(S)?[]:bn(S.querySelectorAll(u),At.fromDom)},Ub=(u,p)=>{const S=p===void 0?document:p.dom;return Hh(S)?pt.none():pt.from(S.querySelector(u)).map(At.fromDom)},_s=(u,p)=>u.dom===p.dom,Jm=(u,p)=>{const S=u.dom,k=p.dom;return S===k?!1:S.contains(k)},Vh=Ai,Qm=u=>At.fromDom(u.dom.ownerDocument),Du=u=>cp(u)?u:Qm(u),Xr=u=>At.fromDom(Du(u).dom.documentElement),er=u=>At.fromDom(Du(u).dom.defaultView),Ru=u=>pt.from(u.dom.parentNode).map(At.fromDom),xa=u=>pt.from(u.dom.parentElement).map(At.fromDom),Ad=(u,p)=>{const S=ze(p)?p:sn;let k=u.dom;const N=[];for(;k.parentNode!==null&&k.parentNode!==void 0;){const H=k.parentNode,K=At.fromDom(H);if(N.push(K),S(K)===!0)break;k=H}return N},kf=u=>pt.from(u.dom.previousSibling).map(At.fromDom),kd=u=>pt.from(u.dom.nextSibling).map(At.fromDom),Wo=u=>bn(u.dom.childNodes,At.fromDom),Jr=(u,p)=>{const S=u.dom.childNodes;return pt.from(S[p]).map(At.fromDom)},jb=u=>Jr(u,0),el=(u,p)=>{Ru(u).each(k=>{k.dom.insertBefore(p.dom,u.dom)})},Hl=(u,p)=>{kd(u).fold(()=>{Ru(u).each(N=>{Vn(N,p)})},k=>{el(k,p)})},Ji=(u,p)=>{jb(u).fold(()=>{Vn(u,p)},k=>{u.dom.insertBefore(p.dom,k.dom)})},Vn=(u,p)=>{u.dom.appendChild(p.dom)},Zb=(u,p,S)=>{Jr(u,S).fold(()=>{Vn(u,p)},k=>{el(k,p)})},zh=(u,p)=>{el(u,p),Vn(p,u)},No=(u,p)=>{Kt(p,(S,k)=>{const N=k===0?u:p[k-1];Hl(N,S)})},Qi=(u,p)=>{Kt(p,S=>{Vn(u,S)})},wa=u=>{u.dom.textContent="",Kt(Wo(u),p=>{hi(p)})},hi=u=>{const p=u.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},Vl=u=>{const p=Wo(u);p.length>0&&No(u,p),hi(u)},Of=(u,p)=>At.fromDom(u.dom.cloneNode(p)),Cc=u=>Of(u,!1),ja=u=>Of(u,!0),nl=(u,p)=>{const S=At.fromTag(p),k=ac(u);return wc(S,k),S},up=(u,p)=>{const S=nl(u,p),k=Wo(ja(u));return Qi(S,k),S},dp=(u,p)=>{const S=nl(u,p);Hl(u,S);const k=Wo(u);return Qi(S,k),hi(u),S},fp=["tfoot","thead","tbody","colgroup"],Sc=u=>Po(fp,u),zl=(u,p)=>({rows:u,columns:p}),tg=(u,p)=>({row:u,column:p}),Od=(u,p,S)=>({element:u,rowspan:p,colspan:S}),hp=(u,p,S,k)=>({element:u,rowspan:p,colspan:S,isNew:k}),Wl=(u,p,S,k,N,H)=>({element:u,rowspan:p,colspan:S,row:k,column:N,isLocked:H}),Df=(u,p,S)=>({element:u,cells:p,section:S}),eg=(u,p,S,k)=>({element:u,cells:p,section:S,isNew:k}),gs=(u,p,S)=>({element:u,isNew:p,isLocked:S}),zi=(u,p,S,k)=>({element:u,cells:p,section:S,isNew:k}),ng=(u,p,S,k)=>({startRow:u,startCol:p,finishRow:S,finishCol:k}),Rf=(u,p,S)=>({element:u,colspan:p,column:S}),Ec=(u,p)=>({element:u,columns:p}),d0=u=>lp(u)&&He(u.dom.host),ol=ze(Element.prototype.attachShadow)&&ze(Node.prototype.getRootNode),Ur=ft(ol),ki=ol?u=>At.fromDom(u.dom.getRootNode()):Du,Tc=u=>{const p=ki(u);return d0(p)?pt.some(p):pt.none()},og=u=>At.fromDom(u.dom.host),Ee=u=>{if(Ur()&&He(u.target)){const p=At.fromDom(u.target);if(_a(p)&&mp(p)&&u.composed&&u.composedPath){const S=u.composedPath();if(S)return wt(S)}}return pt.from(u.target)},mp=u=>He(u.dom.shadowRoot),$s=u=>{const p=Af(u)?u.dom.parentNode:u.dom;if(p==null||p.ownerDocument===null)return!1;const S=p.ownerDocument;return Tc(At.fromDom(p)).fold(()=>S.body.contains(p),Nn($s,og))},Pr=()=>gp(At.fromDom(document)),gp=u=>{const p=u.dom.body;if(p==null)throw new Error("Body is not available yet");return At.fromDom(p)},js=(u,p,S)=>ko(Ad(u,S),p),J_=(u,p)=>ko(Wo(u),p),sg=(u,p)=>{let S=[];return Kt(Wo(u),k=>{p(k)&&(S=S.concat([k])),S=S.concat(sg(k,p))}),S},Wh=(u,p,S)=>js(u,k=>Ai(k,p),S),Pn=(u,p)=>J_(u,S=>Ai(S,p)),Ca=(u,p)=>u0(p,u);var fe=(u,p,S,k,N)=>u(S,k)?pt.some(S):ze(N)&&N(S)?pt.none():p(S,k,N);const Fs=(u,p,S)=>{let k=u.dom;const N=ze(S)?S:sn;for(;k.parentNode;){k=k.parentNode;const H=At.fromDom(k);if(p(H))return pt.some(H);if(N(H))break}return pt.none()},rg=(u,p,S)=>fe((N,H)=>H(N),Fs,u,p,S),Qr=(u,p)=>{const S=N=>p(At.fromDom(N));return X(u.dom.childNodes,S).map(At.fromDom)},ti=(u,p)=>{const S=k=>{for(let N=0;N<k.childNodes.length;N++){const H=At.fromDom(k.childNodes[N]);if(p(H))return pt.some(H);const K=S(k.childNodes[N]);if(K.isSome())return K}return pt.none()};return S(u.dom)},Mu=(u,p,S)=>Fs(u,k=>Ai(k,p),S),_o=(u,p)=>Qr(u,S=>Ai(S,p)),sl=(u,p)=>Ub(p,u),ei=(u,p,S)=>fe((N,H)=>Ai(N,H),Mu,u,p,S),rl=(u,p,S=to)=>u.exists(k=>S(k,p)),fr=u=>{const p=[],S=k=>{p.push(k)};for(let k=0;k<u.length;k++)u[k].each(S);return p},Pu=(u,p)=>u!=null?p(u):pt.none(),Gb=(u,p)=>u?pt.some(p):pt.none(),f0=(u,p)=>u.substring(p),xs=(u,p,S)=>p===""||u.length>=p.length&&u.substr(S,S+p.length)===p,ig=(u,p)=>ta(u,p)?f0(u,p.length):u,Oi=(u,p,S=0,k)=>{const N=u.indexOf(p,S);return N!==-1?Lt(k)?!0:N+p.length<=k:!1},ta=(u,p)=>xs(u,p,0),Za=(u,p)=>xs(u,p,u.length-p.length),xo=(u=>p=>p.replace(u,""))(/^\s+|\s+$/g),ni=u=>u.length>0,ea=u=>{const p=parseFloat(u);return isNaN(p)?pt.none():pt.some(p)},Mf=u=>u.style!==void 0&&ze(u.style.getPropertyValue),cc=(u,p,S)=>{if(!G(S))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",S,":: Element ",u),new Error("CSS value must be a string: "+S);Mf(u)&&u.style.setProperty(p,S)},Sa=(u,p)=>{Mf(u)&&u.style.removeProperty(p)},ws=(u,p,S)=>{const k=u.dom;cc(k,p,S)},Ul=(u,p)=>{const S=u.dom;yo(p,(k,N)=>{cc(S,N,k)})},Pf=(u,p)=>{const S=u.dom,N=window.getComputedStyle(S).getPropertyValue(p);return N===""&&!$s(u)?Uh(S,p):N},Uh=(u,p)=>Mf(u)?u.style.getPropertyValue(p):"",Nf=(u,p)=>{const S=u.dom,k=Uh(S,p);return pt.from(k).filter(N=>N.length>0)},is=(u,p)=>{const S=u.dom;Sa(S,p),rl(Ua(u,"style").map(xo),"")&&Ns(u,"style")},Ac=(u,p)=>{const S=u.dom,k=p.dom;Mf(S)&&Mf(k)&&(k.style.cssText=S.style.cssText)},nr=(u,p,S=0)=>Ua(u,p).map(k=>parseInt(k,10)).getOr(S),Di=(u,p)=>nr(u,p,1),Er=u=>Xi("col")(u)?nr(u,"span",1)>1:Di(u,"colspan")>1,Lo=u=>Di(u,"rowspan")>1,Wi=(u,p)=>parseInt(Pf(u,p),10),Lf=ft(10),kc=ft(10),cg=(u,p)=>pp(u,p,Zt),pp=(u,p,S)=>hs(Wo(u),k=>Ai(k,p)?S(k)?[k]:[]:pp(k,p,S)),Oc=(u,p,S=sn)=>{if(S(p))return pt.none();if(Po(u,Os(p)))return pt.some(p);const k=N=>Ai(N,"table")||S(N);return Mu(p,u.join(","),k)},jh=(u,p)=>Oc(["td","th"],u,p),jl=u=>cg(u,"th,td"),Zh=u=>Ai(u,"colgroup")?Pn(u,"col"):hs(Gh(u),p=>Pn(p,"col")),na=(u,p)=>ei(u,"table",p),Bf=u=>cg(u,"tr"),Gh=u=>na(u).fold(ft([]),p=>Pn(p,"colgroup")),Nu=(u,p)=>bn(u,S=>{if(Os(S)==="colgroup"){const k=bn(Zh(S),N=>{const H=nr(N,"span",1);return Od(N,1,H)});return Df(S,k,"colgroup")}else{const k=bn(jl(S),N=>{const H=nr(N,"rowspan",1),K=nr(N,"colspan",1);return Od(N,H,K)});return Df(S,k,p(S))}}),h0=u=>Ru(u).map(p=>{const S=Os(p);return Sc(S)?S:"tbody"}).getOr("tbody"),lg=u=>{const p=Bf(u),k=[...Gh(u),...p];return Nu(k,h0)},qb=(u,p)=>Nu(u,()=>p),If=u=>{let p=!1,S;return(...k)=>(p||(p=!0,S=u.apply(null,k)),S)},m0=(u,p,S,k)=>{const N=u.isiOS()&&/ipad/i.test(S)===!0,H=u.isiOS()&&!N,K=u.isiOS()||u.isAndroid(),et=K||k("(pointer:coarse)"),it=N||!H&&K&&k("(min-device-width:768px)"),mt=H||K&&!it,Dt=p.isSafari()&&u.isiOS()&&/safari/i.test(S)===!1,ue=!mt&&!it&&!Dt;return{isiPad:ft(N),isiPhone:ft(H),isTablet:ft(it),isPhone:ft(mt),isTouch:ft(et),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:ft(Dt),isDesktop:ft(ue)}},$f=(u,p)=>{for(let S=0;S<u.length;S++){const k=u[S];if(k.test(p))return k}},Q_=(u,p)=>{const S=$f(u,p);if(!S)return{major:0,minor:0};const k=N=>Number(p.replace(S,"$"+N));return Ri(k(1),k(2))},ht=(u,p)=>{const S=String(p).toLowerCase();return u.length===0?Kb():Q_(u,S)},Kb=()=>Ri(0,0),Ri=(u,p)=>({major:u,minor:p}),Ff={nu:Ri,detect:ht,unknown:Kb},g0=(u,p)=>kn(p.brands,S=>{const k=S.brand.toLowerCase();return X(u,N=>{var H;return k===((H=N.brand)===null||H===void 0?void 0:H.toLowerCase())}).map(N=>({current:N.name,version:Ff.nu(parseInt(S.version,10),0)}))}),p0=(u,p)=>{const S=String(p).toLowerCase();return X(u,k=>k.search(S))},Io=(u,p)=>p0(u,p).map(S=>{const k=Ff.detect(S.versionRegexes,p);return{current:S.name,version:k}}),il=(u,p)=>p0(u,p).map(S=>{const k=Ff.detect(S.versionRegexes,p);return{current:S.name,version:k}}),lc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mi=u=>p=>Oi(p,u),Yb=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:u=>Oi(u,"edge/")&&Oi(u,"chrome")&&Oi(u,"safari")&&Oi(u,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lc],search:u=>Oi(u,"chrome")&&!Oi(u,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:u=>Oi(u,"msie")||Oi(u,"trident")},{name:"Opera",versionRegexes:[lc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mi("firefox")},{name:"Safari",versionRegexes:[lc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:u=>(Oi(u,"safari")||Oi(u,"mobile/"))&&Oi(u,"applewebkit")}],Lu=[{name:"Windows",search:Mi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:u=>Oi(u,"iphone")||Oi(u,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Mi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mi("linux"),versionRegexes:[]},{name:"Solaris",search:Mi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ga={browsers:ft(Yb),oses:ft(Lu)},Bu="Edge",Xb="Chromium",b0="IE",Dc="Opera",qh="Firefox",bp="Safari",qa=()=>mi({current:void 0,version:Ff.unknown()}),mi=u=>{const p=u.current,S=u.version,k=N=>()=>p===N;return{current:p,version:S,isEdge:k(Bu),isChromium:k(Xb),isIE:k(b0),isOpera:k(Dc),isFirefox:k(qh),isSafari:k(bp)}},Dd={unknown:qa,nu:mi,edge:ft(Bu),chromium:ft(Xb),ie:ft(b0),opera:ft(Dc),firefox:ft(qh),safari:ft(bp)},Kh="Windows",oa="iOS",oi="Android",ug="Linux",Pi="macOS",Hf="Solaris",Yh="FreeBSD",Vf="ChromeOS",Iu=()=>dg({current:void 0,version:Ff.unknown()}),dg=u=>{const p=u.current,S=u.version,k=N=>()=>p===N;return{current:p,version:S,isWindows:k(Kh),isiOS:k(oa),isAndroid:k(oi),isMacOS:k(Pi),isLinux:k(ug),isSolaris:k(Hf),isFreeBSD:k(Yh),isChromeOS:k(Vf)}},tx={unknown:Iu,nu:dg,windows:ft(Kh),ios:ft(oa),android:ft(oi),linux:ft(ug),macos:ft(Pi),solaris:ft(Hf),freebsd:ft(Yh),chromeos:ft(Vf)},ex={detect:(u,p,S)=>{const k=Ga.browsers(),N=Ga.oses(),H=p.bind(it=>g0(k,it)).orThunk(()=>Io(k,u)).fold(Dd.unknown,Dd.nu),K=il(N,u).fold(tx.unknown,tx.nu),et=m0(K,H,u,S);return{browser:H,os:K,deviceType:et}}},vp=u=>window.matchMedia(u).matches;let nx=If(()=>ex.detect(navigator.userAgent,pt.from(navigator.userAgentData),vp));const Zl=()=>nx(),hr=(u,p)=>{const S=(et,it)=>{if(!_e(it)&&!it.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+it);const mt=et.dom;Mf(mt)&&(mt.style[u]=it+"px")},k=et=>{const it=p(et);if(it<=0||it===null){const mt=Pf(et,u);return parseFloat(mt)||0}return it},N=k,H=(et,it)=>Gt(it,(mt,Dt)=>{const ue=Pf(et,Dt),Te=ue===void 0?0:parseInt(ue,10);return isNaN(Te)?mt:mt+Te},0);return{set:S,get:k,getOuter:N,aggregate:H,max:(et,it,mt)=>{const Dt=H(et,mt);return it>Dt?it-Dt:0}}},Hs=(u,p)=>ea(u).getOr(p),Nr=(u,p,S)=>Hs(Pf(u,p),S),yp=(u,p,S,k)=>{const N=Nr(u,`padding-${S}`,0),H=Nr(u,`padding-${k}`,0),K=Nr(u,`border-${S}-width`,0),et=Nr(u,`border-${k}-width`,0);return p-N-H-K-et},v0=(u,p)=>{const S=u.dom,k=S.getBoundingClientRect().width||S.offsetWidth;return p==="border-box"?k:yp(u,k,"left","right")},Ni=u=>Nr(u,"height",u.dom.offsetHeight),fg=u=>Nr(u,"width",u.dom.offsetWidth),hg=u=>v0(u,"content-box"),Gl=hr("width",u=>u.dom.offsetWidth),Rd=u=>Gl.get(u),Ln=u=>Gl.getOuter(u),sa=hg,Md=fg,mg=(u,p,S)=>{const k=u.cells,N=k.slice(0,p),H=k.slice(p),K=N.concat(S).concat(H);return gg(u,K)},y0=(u,p,S)=>mg(u,p,[S]),zf=(u,p,S)=>{const k=u.cells;k[p]=S},gg=(u,p)=>zi(u.element,p,u.section,u.isNew),ql=(u,p)=>{const S=u.cells,k=bn(S,p);return zi(u.element,k,u.section,u.isNew)},Ka=(u,p)=>u.cells[p],si=(u,p)=>Ka(u,p).element,uc=u=>u.cells.length,ri=u=>{const p=Cr(u,S=>S.section==="colgroup");return{rows:p.fail,cols:p.pass}},Zs=(u,p,S)=>{const k=bn(u.cells,S);return zi(p(u.element),k,u.section,!0)},gi="data-snooker-locked-cols",$u=u=>Ua(u,gi).bind(p=>pt.from(p.match(/\d+/g))).map(p=>Mt(p,Zt)),Rc=u=>{const p=Gt(ri(u).rows,(k,N)=>(Kt(N.cells,(H,K)=>{H.isLocked&&(k[K]=!0)}),k),{}),S=vs(p,(k,N)=>parseInt(N,10));return _t(S)},Ks=(u,p)=>u+","+p,_0=(u,p,S)=>pt.from(u.access[Ks(p,S)]),Jb=(u,p,S)=>{const k=ts(u,N=>S(p,N.element));return k.length>0?pt.some(k[0]):pt.none()},ts=(u,p)=>{const S=hs(u.all,k=>k.cells);return ko(S,p)},Wf=u=>{const p={};let S=0;return Kt(u.cells,k=>{const N=k.colspan;wo(N,H=>{const K=S+H;p[K]=Rf(k.element,N,K)}),S+=N}),p},Do=u=>{const p={},S=[],N=wt(u).map(xe=>xe.element).bind(na).bind($u).getOr({});let H=0,K=0,et=0;const{pass:it,fail:mt}=Cr(u,xe=>xe.section==="colgroup");Kt(mt,xe=>{const me=[];Kt(xe.cells,Fe=>{let ce=0;for(;p[Ks(et,ce)]!==void 0;)ce++;const be=Co(N,ce.toString()),dn=Wl(Fe.element,Fe.rowspan,Fe.colspan,et,ce,be);for(let yn=0;yn<Fe.colspan;yn++)for(let To=0;To<Fe.rowspan;To++){const Rs=et+To,Ls=ce+yn,Gi=Ks(Rs,Ls);p[Gi]=dn,K=Math.max(K,Ls+1)}me.push(dn)}),H++,S.push(Df(xe.element,me,xe.section)),et++});const{columns:Dt,colgroups:ue}=Gn(it).map(xe=>{const me=Wf(xe);return{colgroups:[Ec(xe.element,Qo(me))],columns:me}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:zl(H,K),access:p,all:S,columns:Dt,colgroups:ue}},Qn={fromTable:u=>{const p=lg(u);return Do(p)},generate:Do,getAt:_0,findItem:Jb,filterItems:ts,justCells:u=>hs(u.all,p=>p.cells),justColumns:u=>Qo(u.columns),hasColumns:u=>Se(u.columns).length>0,getColumnAt:(u,p)=>pt.from(u.columns[p])},Jh=(u,p=Zt)=>{const S=u.grid,k=wo(S.columns,We),N=wo(S.rows,We);return bn(k,H=>x0(()=>hs(N,mt=>Qn.getAt(u,mt,H).filter(Dt=>Dt.column===H).toArray()),mt=>mt.colspan===1&&p(mt.element),()=>Qn.getAt(u,0,H)))},x0=(u,p,S)=>{const k=u();return X(k,p).orThunk(()=>pt.from(k[0]).orThunk(S)).map(K=>K.element)},ox=u=>{const p=u.grid,S=wo(p.rows,We),k=wo(p.columns,We);return bn(S,N=>x0(()=>hs(k,it=>Qn.getAt(u,N,it).filter(mt=>mt.row===N).fold(ft([]),mt=>[mt])),it=>it.rowspan===1,()=>Qn.getAt(u,N,0)))},dc=(u,p)=>{if(p<0||p>=u.length-1)return pt.none();const S=u[p].fold(()=>{const N=Vt(u.slice(0,p));return kn(N,(H,K)=>H.map(et=>({value:et,delta:K+1})))},N=>pt.some({value:N,delta:0})),k=u[p+1].fold(()=>{const N=u.slice(p+1);return kn(N,(H,K)=>H.map(et=>({value:et,delta:K+1})))},N=>pt.some({value:N,delta:1}));return S.bind(N=>k.map(H=>{const K=H.delta+N.delta;return Math.abs(H.value-N.value)/K}))},Ea=(u,p)=>S=>w0(S)==="rtl"?p:u,w0=u=>Pf(u,"direction")==="rtl"?"rtl":"ltr",Uf=hr("height",u=>{const p=u.dom;return $s(u)?p.getBoundingClientRect().height:p.offsetHeight}),Ya=u=>Uf.get(u),C0=u=>Uf.getOuter(u),xp=Ni,S0=(u,p)=>({left:u,top:p,translate:(k,N)=>S0(u+k,p+N)}),cl=S0,Pd=u=>{const p=u.getBoundingClientRect();return cl(p.left,p.top)},Fu=(u,p)=>u!==void 0?u:p!==void 0?p:0,Qh=u=>{const p=u.dom.ownerDocument,S=p.body,k=p.defaultView,N=p.documentElement;if(S===u.dom)return cl(S.offsetLeft,S.offsetTop);const H=Fu(k==null?void 0:k.pageYOffset,N.scrollTop),K=Fu(k==null?void 0:k.pageXOffset,N.scrollLeft),et=Fu(N.clientTop,S.clientTop),it=Fu(N.clientLeft,S.clientLeft);return E0(u).translate(K-it,H-et)},E0=u=>{const p=u.dom,k=p.ownerDocument.body;return k===p?cl(k.offsetLeft,k.offsetTop):$s(u)?Pd(p):cl(0,0)},wp=(u,p)=>({row:u,y:p}),Cp=(u,p)=>({col:u,x:p}),T0=u=>Qh(u).left+Ln(u),e1=u=>Qh(u).left,mr=(u,p)=>Cp(u,e1(p)),Sp=(u,p)=>Cp(u,T0(p)),ra=u=>Qh(u).top,mn=(u,p)=>wp(u,ra(p)),Vs=(u,p)=>wp(u,ra(p)+C0(p)),Hu=(u,p,S)=>{if(S.length===0)return[];const k=bn(S.slice(1),(H,K)=>H.map(et=>u(K,et))),N=S[S.length-1].map(H=>p(S.length-1,H));return k.concat([N])},zs=u=>-u,Vu={delta:We,positions:u=>Hu(mn,Vs,u),edge:ra},ll=Ea({delta:We,edge:e1,positions:u=>Hu(mr,Sp,u)},{delta:zs,edge:T0,positions:u=>Hu(Sp,mr,u)}),jf={delta:(u,p)=>ll(p).delta(u,p),positions:(u,p)=>ll(p).positions(u,p),edge:u=>ll(u).edge(u)},Cs={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tm=(()=>{const u="[0-9]+",S="[eE]"+("[+-]?"+u),k="\\.",N=et=>`(?:${et})?`,K=`[+-]?(?:${["Infinity",u+k+N(u)+N(S),k+u+N(S),u+N(S)].join("|")})`;return new RegExp(`^(${K})(.*)$`)})(),n1=(u,p)=>re(p,S=>re(Cs[S],k=>u===k)),o1=(u,p)=>pt.from(tm.exec(u)).bind(k=>{const N=Number(k[1]),H=k[2];return n1(H,p)?pt.some({value:N,unit:H}):pt.none()}),Nd=/(\d+(\.\d+)?)%/,Ep=/(\d+(\.\d+)?)px|em/,Ge=Xi("col"),zu=Xi("tr"),em=(u,p,S)=>{const k=xa(u).getOrThunk(()=>gp(Qm(u)));return p(u)/S(k)*100},Zf=(u,p)=>{ws(u,"width",p+"px")},Xa=(u,p)=>{ws(u,"width",p+"%")},as=(u,p)=>{ws(u,"height",p+"px")},Mc=u=>{is(u,"height")},Tr=u=>xp(u)+"px",nm=(u,p,S,k)=>{const N=na(u).map(H=>{const K=S(H);return Math.floor(p/100*K)}).getOr(p);return k(u,N),N},or=(u,p,S,k)=>{const N=parseFloat(u);return Za(u,"%")&&Os(p)!=="table"?nm(p,N,S,k):N},Tp=u=>{const p=Tr(u);return p?or(p,u,Ya,as):Ya(u)},sr=(u,p,S)=>{const k=S(u),N=Di(u,p);return k/N},se=(u,p)=>Nf(u,p).orThunk(()=>Ua(u,p).map(S=>S+"px")),Ld=u=>se(u,"width"),oe=u=>se(u,"height"),jr=u=>em(u,Rd,sa),om=u=>Ge(u)?Rd(u):Md(u),Ys=u=>zu(u)?Ya(u):sr(u,"rowspan",Tp),es=u=>Ld(u).bind(S=>o1(S,["fixed","relative","empty"])),Ap=(u,p,S)=>{ws(u,"width",p+S)},gr=u=>Rd(u)+"px",cs=u=>Ya(u)+"px",Pc=u=>em(u,Rd,sa)+"%",s1=u=>Ld(u).exists(p=>Nd.test(p)),Xs=u=>Ld(u).exists(p=>Ep.test(p)),So=u=>Ld(u).isNone(),Nc=ft(Nd),pg=Xi("col"),$o=u=>Ld(u).getOrThunk(()=>om(u)+"px"),r1=u=>oe(u).getOrThunk(()=>Ys(u)+"px"),Ta=u=>bn(Qn.justColumns(u),p=>pt.from(p.element)),Bd=u=>{const p=Zl().browser,S=p.isChromium()||p.isFirefox();return pg(u)?S:!0},Li=(u,p,S,k,N,H)=>u.filter(k).fold(()=>H(dc(S,p)),K=>N(K)),kp=(u,p,S,k)=>{const N=Jh(u),H=Qn.hasColumns(u)?Ta(u):N,K=[pt.some(jf.edge(p))].concat(bn(jf.positions(N,p),it=>it.map(mt=>mt.x))),et=vt(Er);return bn(H,(it,mt)=>Li(it,mt,K,et,Dt=>{if(Bd(Dt))return S(Dt);{const ue=Pu(N[mt],We);return Li(ue,mt,K,et,Te=>k(pt.some(Rd(Te))),k)}},k))},Rt=u=>u.map(p=>p+"px").getOr(""),fc=(u,p)=>kp(u,p,$o,Rt),bg=(u,p,S)=>kp(u,p,jr,k=>k.fold(()=>S.minCellWidth(),N=>N/S.pixelWidth()*100)),pi=(u,p,S)=>kp(u,p,om,k=>k.getOrThunk(S.minCellWidth)),Ws=(u,p,S,k)=>{const N=ox(u),H=bn(u.all,et=>pt.some(et.element)),K=[pt.some(Vu.edge(p))].concat(bn(Vu.positions(N,p),et=>et.map(it=>it.y)));return bn(H,(et,it)=>Li(et,it,K,Zt,S,k))},ii=(u,p)=>Ws(u,p,Ys,S=>S.getOrThunk(kc)),Ss=(u,p)=>Ws(u,p,r1,Rt),Id=(u,p)=>()=>$s(u)?p(u):parseFloat(Nf(u,"width").getOr("0")),Wu=u=>{const p=Id(u,Rd),S=ft(0);return{width:p,pixelWidth:p,getWidths:(N,H)=>pi(N,u,H),getCellDelta:S,singleColumnWidth:ft([0]),minCellWidth:S,setElementWidth:$t,adjustTableWidth:$t,isRelative:!0,label:"none"}},Op=u=>{const p=Id(u,it=>parseFloat(Pc(it))),S=Id(u,Rd);return{width:p,pixelWidth:S,getWidths:(it,mt)=>bg(it,u,mt),getCellDelta:it=>it/S()*100,singleColumnWidth:(it,mt)=>[100-it],minCellWidth:()=>Lf()/S()*100,setElementWidth:Xa,adjustTableWidth:it=>{const mt=p(),Dt=it/100*mt,ue=mt+Dt;Xa(u,ue)},isRelative:!0,label:"percent"}},an=u=>{const p=Id(u,Rd);return{width:p,pixelWidth:p,getWidths:(K,et)=>pi(K,u,et),getCellDelta:We,singleColumnWidth:(K,et)=>[Math.max(Lf(),K+et)-K],minCellWidth:Lf,setElementWidth:Zf,adjustTableWidth:K=>{const et=p()+K;Zf(u,et)},isRelative:!1,label:"pixel"}},Dp=(u,p)=>Nc().exec(p)!==null?Op(u):an(u),Uu={getTableSize:u=>Ld(u).fold(()=>Wu(u),S=>Dp(u,S)),pixelSize:an,percentageSize:Op,noneSize:Wu},k0=(u,p,S,k,N,H)=>({minRow:u,minCol:p,maxRow:S,maxCol:k,allCells:N,selectedCells:H}),vg=(u,p)=>{const S=u.grid.columns;let N=u.grid.rows,H=S,K=0,et=0;const it=[],mt=[];return yo(u.access,Dt=>{if(it.push(Dt),p(Dt)){mt.push(Dt);const ue=Dt.row,Te=ue+Dt.rowspan-1,xe=Dt.column,me=xe+Dt.colspan-1;ue<N?N=ue:Te>K&&(K=Te),xe<H?H=xe:me>et&&(et=me)}}),k0(N,H,K,et,it,mt)},yg=(u,p,S)=>{const k=u[S].element,N=At.fromTag("td");Vn(N,At.fromTag("br")),(p?Vn:Ji)(k,N)},sx=(u,p,S,k)=>{const N=ko(u,et=>et.section!=="colgroup"),H=p.grid.columns,K=p.grid.rows;for(let et=0;et<K;et++){let it=!1;for(let mt=0;mt<H;mt++)et<S.minRow||et>S.maxRow||mt<S.minCol||mt>S.maxCol||(Qn.getAt(p,et,mt).filter(k).isNone()?yg(N,it,et):it=!0)}},Lc=(u,p,S,k)=>{yo(S.columns,K=>{(K.column<p.minCol||K.column>p.maxCol)&&hi(K.element)});const N=ko(cg(u,"tr"),K=>K.dom.childElementCount===0);Kt(N,hi),(p.minCol===p.maxCol||p.minRow===p.maxRow)&&Kt(cg(u,"th,td"),K=>{Ns(K,"rowspan"),Ns(K,"colspan")}),Ns(u,gi),Ns(u,"data-snooker-col-series"),Uu.getTableSize(u).adjustTableWidth(k)},ju=(u,p,S,k)=>{if(k.minCol===0&&p.grid.columns===k.maxCol+1)return 0;const N=pi(p,u,S),H=Gt(N,(mt,Dt)=>mt+Dt,0),it=Gt(N.slice(k.minCol,k.maxCol+1),(mt,Dt)=>mt+Dt,0)/H*S.pixelWidth()-S.pixelWidth();return S.getCellDelta(it)},sm=(u,p)=>{const S=Te=>Ai(Te.element,p),k=ja(u),N=lg(k),H=Uu.getTableSize(u),K=Qn.generate(N),et=vg(K,S),it="th:not("+p+"),td:not("+p+")",mt=pp(k,"th,td",Te=>Ai(Te,it));Kt(mt,hi),sx(N,K,et,S);const Dt=Qn.fromTable(u),ue=ju(u,Dt,H,et);return Lc(k,et,K,ue),k},i1=" ",Zu=((u,p)=>{const S=H=>{if(!u(H))throw new Error("Can only get "+p+" value of a "+p+" node");return k(H).getOr("")},k=H=>u(H)?pt.from(H.dom.nodeValue):pt.none();return{get:S,getOption:k,set:(H,K)=>{if(!u(H))throw new Error("Can only set raw "+p+" value of a "+p+" node");H.dom.nodeValue=K}}})(Af,"text"),Gf=u=>Zu.get(u),$d=u=>Zu.getOption(u),Fd=(u,p)=>Zu.set(u,p),Hd=u=>Os(u)==="img"?1:$d(u).fold(()=>Wo(u).length,p=>p.length),hc=u=>$d(u).filter(p=>p.trim().length!==0||p.indexOf(i1)>-1).isSome(),c1=u=>Sn(u)&&tl(u,"contenteditable")==="false",O0=["img","br"],D0=u=>hc(u)||Po(O0,Os(u))||c1(u),l1=u=>ti(u,D0),pr=u=>dl(u,D0),dl=(u,p)=>{const S=k=>{const N=Wo(k);for(let H=N.length-1;H>=0;H--){const K=N[H];if(p(K))return pt.some(K);const et=S(K);if(et.isSome())return et}return pt.none()};return S(u)},Rp={scope:["row","col"]},Yl=u=>()=>{const p=At.fromTag("td",u.dom);return Vn(p,At.fromTag("br",u.dom)),p},_g=u=>()=>At.fromTag("col",u.dom),ia=u=>()=>At.fromTag("colgroup",u.dom),xg=u=>()=>At.fromTag("tr",u.dom),qf=(u,p,S)=>{const k=up(u,p);return yo(S,(N,H)=>{N===null?Ns(k,H):Sr(k,H,N)}),k},u1=u=>u,Xl=(u,p,S)=>l1(u).map(N=>{const H=S.join(","),K=Wh(N,H,et=>_s(et,u));return Bo(K,(et,it)=>{const mt=Cc(it);return Vn(et,mt),mt},p)}).getOr(p),Bc=(u,p)=>{yo(Rp,(S,k)=>Ua(u,k).filter(N=>Po(S,N)).each(N=>Sr(p,k,N)))},rm=(u,p,S)=>{const k=(K,et)=>{Ac(K.element,et),is(et,"height"),K.colspan!==1&&is(et,"width")},N=K=>{const et=At.fromTag(Os(K.element),p.dom),it=S.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),mt=it.length>0?Xl(K.element,et,it):et;return Vn(mt,At.fromTag("br")),k(K,et),Bc(K.element,et),u(K.element,et),et};return{col:K=>{const et=At.fromTag(Os(K.element),p.dom);return k(K,et),u(K.element,et),et},colgroup:ia(p),row:xg(p),cell:N,replace:qf,colGap:_g(p),gap:Yl(p)}},Ic=u=>({col:_g(u),colgroup:ia(u),row:xg(u),cell:Yl(u),replace:u1,colGap:_g(u),gap:Yl(u)}),fl=(u,p)=>{const k=(p||document).createElement("div");return k.innerHTML=u,Wo(At.fromDom(k))},hl=u=>bn(u,At.fromDom),Aa=u=>p=>p.options.get(u),Gu="100%",qu=u=>{var p;const S=u.dom,k=(p=S.getParent(u.selection.getStart(),S.isBlock))!==null&&p!==void 0?p:u.getBody();return sa(At.fromDom(k))+"px"},ml=(u,p)=>br(u)||!Mp(u)?p:Bi(u)?{...p,width:qu(u)}:{...p,width:Gu},rx=(u,p)=>br(u)||Mp(u)?p:Bi(u)?{...p,width:qu(u)}:{...p,width:Gu},ix=u=>{const p=u.options.register;p("table_clone_elements",{processor:"string[]"}),p("table_use_colgroups",{processor:"boolean",default:!0}),p("table_header_type",{processor:S=>{const k=Po(["section","cells","sectionCells","auto"],S);return k?{value:S,valid:k}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),p("table_sizing_mode",{processor:"string",default:"auto"}),p("table_default_attributes",{processor:"object",default:{border:"1"}}),p("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),p("table_column_resizing",{processor:S=>{const k=Po(["preservetable","resizetable"],S);return k?{value:S,valid:k}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),p("table_resize_bars",{processor:"boolean",default:!0}),p("table_style_by_css",{processor:"boolean",default:!0}),p("table_merge_content_on_paste",{processor:"boolean",default:!0})},Ds=u=>pt.from(u.options.get("table_clone_elements")),d1=u=>{const p=u.options.get("object_resizing");return Po(p.split(","),"table")},Jl=Aa("table_header_type"),Ku=Aa("table_column_resizing"),Vd=u=>Ku(u)==="preservetable",$c=u=>Ku(u)==="resizetable",ka=Aa("table_sizing_mode"),Kf=u=>ka(u)==="relative",Bi=u=>ka(u)==="fixed",br=u=>ka(u)==="responsive",wg=Aa("table_resize_bars"),Mp=Aa("table_style_by_css"),Pp=Aa("table_merge_content_on_paste"),f1=u=>{const p=u.options,S=p.get("table_default_attributes");return p.isSet("table_default_attributes")?S:rx(u,S)},R0=u=>{const p=u.options,S=p.get("table_default_styles");return p.isSet("table_default_styles")?S:ml(u,S)},im=Aa("table_use_colgroups"),zd=u=>ei(u,"[contenteditable]"),aa=(u,p=!1)=>$s(u)?u.dom.isContentEditable:zd(u).fold(ft(p),S=>Fc(S)==="true"),Fc=u=>u.dom.contentEditable,Ql=u=>At.fromDom(u.getBody()),Yf=u=>p=>_s(p,Ql(u)),Hc=u=>{Ns(u,"data-mce-style");const p=S=>Ns(S,"data-mce-style");Kt(jl(u),p),Kt(Zh(u),p),Kt(Bf(u),p)},am=u=>At.fromDom(u.selection.getStart()),h1=u=>u.getBoundingClientRect().width,m1=u=>u.getBoundingClientRect().height,g1=u=>(p,S)=>{const k=p.dom.getStyle(S,u)||p.dom.getAttrib(S,u);return pt.from(k).filter(ni)},cm=g1("width"),Xf=g1("height"),zn=u=>/^(\d+(\.\d+)?)%$/.test(u),on=u=>/^(\d+(\.\d+)?)px$/.test(u),tu=u=>rg(u,Xi("table")).exists(aa),Np=(u,p)=>{const S=p.column,k=p.column+p.colspan-1,N=p.row,H=p.row+p.rowspan-1;return S<=u.finishCol&&k>=u.startCol&&N<=u.finishRow&&H>=u.startRow},Lp=(u,p)=>p.column>=u.startCol&&p.column+p.colspan-1<=u.finishCol&&p.row>=u.startRow&&p.row+p.rowspan-1<=u.finishRow,p1=(u,p)=>{let S=!0;const k=ln(Lp,p);for(let N=p.startRow;N<=p.finishRow;N++)for(let H=p.startCol;H<=p.finishCol;H++)S=S&&Qn.getAt(u,N,H).exists(k);return S?pt.some(p):pt.none()},Yu=(u,p)=>ng(Math.min(u.row,p.row),Math.min(u.column,p.column),Math.max(u.row+u.rowspan-1,p.row+p.rowspan-1),Math.max(u.column+u.colspan-1,p.column+p.colspan-1)),jo=(u,p,S)=>{const k=Qn.findItem(u,p,_s),N=Qn.findItem(u,S,_s);return k.bind(H=>N.map(K=>Yu(H,K)))},M0=(u,p,S)=>jo(u,p,S).bind(k=>p1(u,k)),Bp=(u,p,S,k)=>Qn.findItem(u,p,_s).bind(N=>{const H=S>0?N.row+N.rowspan-1:N.row,K=k>0?N.column+N.colspan-1:N.column;return Qn.getAt(u,H+S,K+k).map(it=>it.element)}),Ip=(u,p,S)=>jo(u,p,S).map(k=>{const N=Qn.filterItems(u,ln(Np,k));return bn(N,H=>H.element)}),Xt=(u,p)=>{const S=(k,N)=>Jm(N,k);return Qn.findItem(u,p,S).map(k=>k.element)},$p=(u,p,S)=>na(u).bind(k=>{const N=eu(k);return Bp(N,u,p,S)}),P0=(u,p,S)=>{const k=eu(u);return Ip(k,p,S)},Wd=(u,p,S,k,N)=>{const H=eu(u),K=_s(u,S)?pt.some(p):Xt(H,p),et=_s(u,N)?pt.some(k):Xt(H,k);return K.bind(it=>et.bind(mt=>Ip(H,it,mt)))},N0=(u,p,S)=>{const k=eu(u);return M0(k,p,S)},eu=Qn.fromTable;var Jf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Vc=()=>{const u=mt=>At.fromDom(mt.dom.cloneNode(!1)),p=mt=>Du(mt).dom,S=mt=>_a(mt)?Os(mt)==="body"?!0:Po(Jf,Os(mt)):!1,k=mt=>_a(mt)?Po(["br","img","hr","input"],Os(mt)):!1,N=mt=>_a(mt)&&tl(mt,"contenteditable")==="false",H=(mt,Dt)=>mt.dom.compareDocumentPosition(Dt.dom),K=(mt,Dt)=>{const ue=ac(mt);wc(Dt,ue)},et=mt=>{const Dt=Os(mt);return Po(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Dt)},it=mt=>_a(mt)?Ua(mt,"lang"):pt.none();return{up:ft({selector:Mu,closest:ei,predicate:Fs,all:Ad}),down:ft({selector:Ca,predicate:sg}),styles:ft({get:Pf,getRaw:Nf,set:ws,remove:is}),attrs:ft({get:tl,set:Sr,remove:Ns,copyTo:K}),insert:ft({before:el,after:Hl,afterAll:No,append:Vn,appendAll:Qi,prepend:Ji,wrap:zh}),remove:ft({unwrap:Vl,remove:hi}),create:ft({nu:At.fromTag,clone:u,text:At.fromText}),query:ft({comparePosition:H,prevSibling:kf,nextSibling:kd}),property:ft({children:Wo,name:Os,parent:Ru,document:p,isText:Af,isComment:ms,isElement:_a,isSpecial:et,getLanguage:it,getText:Gf,setText:Fd,isBoundary:S,isEmptyTag:k,isNonEditable:N}),eq:_s,is:Vh}};const b1=(u,p,S,k)=>{const N=S[0],H=S.slice(1);return k(u,p,N,H)},lm=(u,p,S)=>S.length>0?b1(u,p,S,ps):pt.none(),ps=(u,p,S,k)=>{const N=p(u,S);return Bo(k,(H,K)=>{const et=p(u,K);return mc(u,H,et)},N)},mc=(u,p,S)=>p.bind(k=>S.filter(ln(u.eq,k))),L0=(u,p)=>ln(u.eq,p),Oa=(u,p,S,k=sn)=>{const N=[p].concat(u.up().all(p)),H=[S].concat(u.up().all(S)),K=Dt=>tr(Dt,k).fold(()=>Dt,Te=>Dt.slice(0,Te+1)),et=K(N),it=K(H),mt=X(et,Dt=>re(it,L0(u,Dt)));return{firstpath:et,secondpath:it,shared:mt}},nu=lm,gl=Oa,Xu=Vc(),Qf=(u,p)=>nu(Xu,(S,k)=>u(k),p),B0=(u,p,S)=>gl(Xu,u,p,S),th=u=>Mu(u,"table"),Fp=(u,p,S)=>{const k=N=>H=>S!==void 0&&S(H)||_s(H,N);return _s(u,p)?pt.some({boxes:pt.some([u]),start:u,finish:p}):th(u).bind(N=>th(p).bind(H=>{if(_s(N,H))return pt.some({boxes:P0(N,u,p),start:u,finish:p});if(Jm(N,H)){const K=Wh(p,"td,th",k(N)),et=K.length>0?K[K.length-1]:p;return pt.some({boxes:Wd(N,u,N,p,H),start:u,finish:et})}else if(Jm(H,N)){const K=Wh(u,"td,th",k(H)),et=K.length>0?K[K.length-1]:u;return pt.some({boxes:Wd(H,u,N,p,H),start:u,finish:et})}else return B0(u,p).shared.bind(K=>ei(K,"table",S).bind(et=>{const it=Wh(p,"td,th",k(et)),mt=it.length>0?it[it.length-1]:p,Dt=Wh(u,"td,th",k(et)),ue=Dt.length>0?Dt[Dt.length-1]:u;return pt.some({boxes:Wd(et,u,N,p,H),start:ue,finish:mt})}))}))},ou=(u,p)=>{const S=Ca(u,p);return S.length>0?pt.some(S):pt.none()},su=(u,p)=>X(u,S=>Ai(S,p)),I0=(u,p,S)=>sl(u,p).bind(k=>sl(u,S).bind(N=>Qf(th,[k,N]).map(H=>({first:k,last:N,table:H})))),Hp=(u,p)=>Mu(u,"table").bind(S=>sl(S,p).bind(k=>Fp(k,u).bind(N=>N.boxes.map(H=>({boxes:H,start:N.start,finish:N.finish}))))),Vp=(u,p,S,k,N)=>su(u,N).bind(H=>$p(H,p,S).bind(K=>Hp(K,k))),Ud=(u,p)=>ou(u,p),Ue=(u,p,S)=>I0(u,p,S).bind(k=>{const N=it=>_s(u,it),H="thead,tfoot,tbody,table",K=Mu(k.first,H,N),et=Mu(k.last,H,N);return K.bind(it=>et.bind(mt=>_s(it,mt)?N0(k.table,k.first,k.last):pt.none()))}),jd=We,zp=u=>{const p=(k,N)=>Ua(k,N).exists(H=>parseInt(H,10)>1),S=k=>p(k,"rowspan")||p(k,"colspan");return u.length>0&&ie(u,S)?pt.some(u):pt.none()},ax=(u,p,S)=>p.length<=1?pt.none():Ue(u,S.firstSelectedSelector,S.lastSelectedSelector).map(k=>({bounds:k,cells:p})),eh="data-mce-selected",cx="td["+eh+"],th["+eh+"]",Zo="["+eh+"]",nh="data-mce-first-selected",Ju="td["+nh+"],th["+nh+"]",v1="data-mce-last-selected",Zd="td["+v1+"],th["+v1+"]",Cg=Zo,Ui={selected:eh,selectedSelector:cx,firstSelected:nh,firstSelectedSelector:Ju,lastSelected:v1,lastSelectedSelector:Zd},Gs=(u,p,S)=>({element:S,mergable:ax(p,u,Ui),unmergable:zp(u),selection:jd(u)}),y1=(u,p,S)=>({element:u,clipboard:p,generators:S}),_1=(u,p,S,k)=>({selection:jd(u),clipboard:S,generators:k}),um=u=>na(u).bind(p=>Ud(p,Ui.firstSelectedSelector)).fold(ft(u),p=>p[0]),oh=u=>(p,S)=>{const k=Os(p),N=k==="col"||k==="colgroup"?um(p):p;return ei(N,u,S)},Wp=oh("th,td,caption"),Sg=oh("th,td"),zc=u=>hl(u.model.table.getSelectedCells()),ru=u=>ko(zc(u),p=>Ai(p,Ui.selectedSelector)),gc=u=>na(u[0]).map(p=>{const S=sm(p,Cg);return Hc(S),[S]}),LS=(u,p)=>bn(p,S=>u.selection.serializer.serialize(S.dom,{})).join(""),BS=u=>bn(u,p=>p.dom.innerText).join(""),IS=(u,p)=>{u.on("BeforeGetContent",S=>{const k=N=>{S.preventDefault(),gc(N).each(H=>{S.content=S.format==="text"?BS(H):LS(u,H)})};if(S.selection===!0){const N=ru(u);N.length>=1&&k(N)}}),u.on("BeforeSetContent",S=>{if(S.selection===!0&&S.paste===!0){const k=zc(u);wt(k).each(N=>{na(N).each(H=>{const K=ko(fl(S.content),it=>Os(it)!=="meta"),et=Xi("table");if(Pp(u)&&K.length===1&&et(K[0])){S.preventDefault();const it=At.fromDom(u.getDoc()),mt=Ic(it),Dt=y1(N,K[0],mt);p.pasteCells(H,Dt).each(()=>{u.focus()})}})})}})},dm=(u,p)=>({element:u,offset:p}),Ar=(u,p,S)=>u.property().isText(p)&&u.property().getText(p).trim().length===0||u.property().isComment(p)?S(p).bind(k=>Ar(u,k,S).orThunk(()=>pt.some(k))):pt.none(),Ii=(u,p)=>u.property().isText(p)?u.property().getText(p).length:u.property().children(p).length,fm=(u,p)=>{const S=Ar(u,p,u.query().prevSibling).getOr(p);if(u.property().isText(S))return dm(S,Ii(u,S));const k=u.property().children(S);return k.length>0?fm(u,k[k.length-1]):dm(S,Ii(u,S))},Up=fm,Zr=Vc(),jp=u=>Up(Zr,u),Zp=(u,p)=>{Er(u)||es(u).each(k=>{const N=k.value/2;Ap(u,N,k.unit),Ap(p,N,k.unit)})},sh=u=>bn(u,ft(0)),hm=(u,p,S,k,N)=>N(u.slice(0,p)).concat(k).concat(N(u.slice(S))),Gd=u=>(p,S,k,N)=>{if(u(k)){const H=Math.max(N,p[S]-Math.abs(k)),K=Math.abs(H-p[S]);return k>=0?K:-K}else return k},iu=Gd(u=>u<0),Eg=Gd(Zt),rh=()=>{const u=(et,it,mt,Dt,ue)=>{const Te=iu(et,it,Dt,ue);return hm(et,it,mt+1,[Te,0],sh)},p=(et,it,mt,Dt)=>{const ue=(100+mt)/100,Te=Math.max(Dt,(et[it]+mt)/ue);return bn(et,(xe,me)=>(me===it?Te:xe/ue)-xe)},S=(et,it,mt,Dt,ue,Te)=>Te?p(et,it,Dt,ue):u(et,it,mt,Dt,ue);return{resizeTable:(et,it)=>et(it),clampTableDelta:iu,calcLeftEdgeDeltas:S,calcMiddleDeltas:(et,it,mt,Dt,ue,Te,xe)=>S(et,mt,Dt,ue,Te,xe),calcRightEdgeDeltas:(et,it,mt,Dt,ue,Te)=>{if(Te)return p(et,mt,Dt,ue);{const xe=iu(et,mt,Dt,ue);return sh(et.slice(0,mt)).concat([xe])}},calcRedestributedWidths:(et,it,mt,Dt)=>{if(Dt){const Te=(it+mt)/it,xe=bn(et,me=>me/Te);return{delta:Te*100-100,newSizes:xe}}else return{delta:mt,newSizes:et}}}},pl=()=>{const u=(K,et,it,mt,Dt)=>{const ue=mt>=0?it:et,Te=Eg(K,ue,mt,Dt);return hm(K,et,it+1,[Te,-Te],sh)};return{resizeTable:(K,et,it)=>{it&&K(et)},clampTableDelta:(K,et,it,mt,Dt)=>{if(Dt){if(it>=0)return it;{const ue=Gt(K,(Te,xe)=>Te+xe-mt,0);return Math.max(-ue,it)}}else return iu(K,et,it,mt)},calcLeftEdgeDeltas:u,calcMiddleDeltas:(K,et,it,mt,Dt,ue)=>u(K,it,mt,Dt,ue),calcRightEdgeDeltas:(K,et,it,mt,Dt,ue)=>{if(ue)return sh(K);{const Te=mt/K.length;return bn(K,ft(Te))}},calcRedestributedWidths:(K,et,it,mt)=>({delta:0,newSizes:K})}},qd=u=>Qn.fromTable(u).grid,ih=Xi("th"),bl=u=>ie(u,p=>ih(p.element)),h=(u,p)=>u&&p?"sectionCells":u?"section":"cells",c=u=>{const p=u.section==="thead",S=rl(d(u.cells),"th");return u.section==="tfoot"?{type:"footer"}:p||S?{type:"header",subType:h(p,S)}:{type:"body"}},d=u=>{const p=ko(u,S=>ih(S.element));return p.length===0?pt.some("td"):p.length===u.length?pt.some("th"):pt.none()},b=u=>{const p=bn(u,N=>c(N).type),S=Po(p,"header"),k=Po(p,"footer");if(!S&&!k)return pt.some("body");{const N=Po(p,"body");return S&&!N&&!k?pt.some("header"):!S&&!N&&k?pt.some("footer"):pt.none()}},_=u=>kn(u.all,p=>{const S=c(p);return S.type==="header"?pt.from(S.subType):pt.none()}),E=(u,p,S)=>gs(S(u.element,p),!0,u.isLocked),A=(u,p)=>u.section!==p?zi(u.element,u.cells,p,u.isNew):u,R=()=>({transformRow:A,transformCell:(u,p,S)=>{const k=S(u.element,p),N=Os(k)!=="td"?dp(k,"td"):k;return gs(N,u.isNew,u.isLocked)}}),L=()=>({transformRow:A,transformCell:E}),z=()=>({transformRow:(u,p)=>A(u,p==="thead"?"tbody":p),transformCell:E}),lt={getTableSectionType:(u,p)=>{const S=Qn.fromTable(u);switch(_(S).getOr(p)){case"section":return R();case"sectionCells":return L();case"cells":return z()}},section:R,sectionCells:L,cells:z,fallback:()=>({transformRow:We,transformCell:E})},ut=(u,p,S,k)=>{S===k?Ns(u,p):Sr(u,p,S)},bt=(u,p,S)=>{Gn(Pn(u,p)).fold(()=>Ji(u,S),k=>Hl(k,S))},Ot=(u,p)=>{const S=_o(u,p).getOrThunk(()=>{const k=At.fromTag(p,Qm(u).dom);return p==="thead"?bt(u,"caption,colgroup",k):p==="colgroup"?bt(u,"caption",k):Vn(u,k),k});return wa(S),S},qt=(u,p)=>{const S=[],k=[],N=xe=>bn(xe,me=>{me.isNew&&S.push(me.element);const Fe=me.element;return wa(Fe),Kt(me.cells,ce=>{ce.isNew&&k.push(ce.element),ut(ce.element,"colspan",ce.colspan,1),ut(ce.element,"rowspan",ce.rowspan,1),Vn(Fe,ce.element)}),Fe}),H=xe=>hs(xe,me=>bn(me.cells,Fe=>(ut(Fe.element,"span",Fe.colspan,1),Fe.element))),K=(xe,me)=>{const Fe=Ot(u,me),be=(me==="colgroup"?H:N)(xe);Qi(Fe,be)},et=xe=>{_o(u,xe).each(hi)},it=(xe,me)=>{xe.length>0?K(xe,me):et(me)},mt=[],Dt=[],ue=[],Te=[];return Kt(p,xe=>{switch(xe.section){case"thead":mt.push(xe);break;case"tbody":Dt.push(xe);break;case"tfoot":ue.push(xe);break;case"colgroup":Te.push(xe);break}}),it(Te,"colgroup"),it(mt,"thead"),it(Dt,"tbody"),it(ue,"tfoot"),{newRows:S,newCells:k}},Yt=u=>bn(u,p=>{const S=Cc(p.element);return Kt(p.cells,k=>{const N=ja(k.element);ut(N,"colspan",k.colspan,1),ut(N,"rowspan",k.rowspan,1),Vn(S,N)}),S}),de=(u,p)=>bn(u,S=>Ka(S,p)),De=(u,p)=>u[p],je=(u,p)=>{if(u.length===0)return 0;const S=u[0];return tr(u,N=>!p(S.element,N.element)).getOr(u.length)},$e=(u,p,S,k)=>{const N=De(u,p),H=N.section==="colgroup",K=je(N.cells.slice(S),k),et=H?1:je(de(u.slice(p),S),k);return{colspan:K,rowspan:et}},Cn=(u,p)=>{const S=bn(u,N=>bn(N.cells,sn)),k=(N,H,K,et)=>{for(let it=N;it<N+K;it++)for(let mt=H;mt<H+et;mt++)S[it][mt]=!0};return bn(u,(N,H)=>{const K=hs(N.cells,(et,it)=>{if(S[H][it]===!1){const mt=$e(u,H,it,p);return k(H,it,mt.rowspan,mt.colspan),[hp(et.element,mt.rowspan,mt.colspan,et.isNew)]}else return[]});return eg(N.element,K,N.section,N.isNew)})},un=(u,p,S)=>{const k=[];Kt(u.colgroups,N=>{const H=[];for(let K=0;K<u.grid.columns;K++){const et=Qn.getColumnAt(u,K).map(it=>gs(it.element,S,!1)).getOrThunk(()=>gs(p.colGap(),!0,!1));H.push(et)}k.push(zi(N.element,H,"colgroup",S))});for(let N=0;N<u.grid.rows;N++){const H=[];for(let it=0;it<u.grid.columns;it++){const mt=Qn.getAt(u,N,it).map(Dt=>gs(Dt.element,S,Dt.isLocked)).getOrThunk(()=>gs(p.gap(),!0,!1));H.push(mt)}const K=u.all[N],et=zi(K.element,H,K.section,S);k.push(et)}return k},$n=(u,p)=>un(u,p,!1),On=u=>Cn(u,_s),os=(u,p)=>kn(u.all,S=>X(S.cells,k=>_s(p,k.element))),ss=(u,p,S)=>{const k=bn(p.selection,H=>jh(H).bind(K=>os(u,K)).filter(S)),N=fr(k);return Gb(N.length>0,N)},Wn=(u,p,S,k,N)=>(H,K,et,it)=>{const mt=Qn.fromTable(H),Dt=pt.from(it==null?void 0:it.section).getOrThunk(lt.fallback);return p(mt,K).map(Te=>{const xe=$n(mt,et),me=u(xe,Te,_s,N(et),Dt),Fe=Rc(me.grid),ce=On(me.grid);return{info:Te,grid:ce,cursor:me.cursor,lockedColumns:Fe}}).bind(Te=>{const xe=qt(H,Te.grid),me=pt.from(it==null?void 0:it.sizing).getOrThunk(()=>Uu.getTableSize(H)),Fe=pt.from(it==null?void 0:it.resize).getOrThunk(pl);return S(H,Te.grid,Te.info,{sizing:me,resize:Fe,section:Dt}),k(H),Ns(H,gi),Te.lockedColumns.length>0&&Sr(H,gi,Te.lockedColumns.join(",")),pt.some({cursor:Te.cursor,newRows:xe.newRows,newCells:xe.newCells})})},Gr=(u,p)=>jh(p.element).bind(S=>os(u,S).map(k=>({...k,generators:p.generators,clipboard:p.clipboard}))),kr=(u,p)=>ss(u,p,Zt).map(S=>({cells:S,generators:p.generators,clipboard:p.clipboard})),Eo=(u,p)=>p.mergable,Or=(u,p)=>p.unmergable,ls=(u,p)=>ss(u,p,Zt),Da=(u,p)=>ss(u,p,S=>!S.isLocked),ah=(u,p)=>os(u,p).exists(S=>!S.isLocked),au=(u,p)=>ie(p,S=>ah(u,S)),Gp=(u,p)=>Eo(u,p).filter(S=>au(u,S.cells)),mm=(u,p)=>Or(u,p).filter(S=>au(u,S)),Qu=(u,p,S,k)=>{const N=ri(u).rows;if(N.length===0)return u;for(let H=p.startRow;H<=p.finishRow;H++)for(let K=p.startCol;K<=p.finishCol;K++){const et=N[H],it=Ka(et,K).isLocked;zf(et,K,gs(k(),!1,it))}return u},vl=(u,p,S,k)=>{const N=ri(u).rows;let H=!0;for(let K=0;K<N.length;K++)for(let et=0;et<uc(N[0]);et++){const it=N[K],mt=Ka(it,et),Dt=mt.element,ue=S(Dt,p);ue&&!H?zf(it,et,gs(k(),!0,mt.isLocked)):ue&&(H=!1)}return u},x1=(u,p)=>Gt(u,(S,k)=>re(S,N=>p(N.element,k.element))?S:S.concat([k]),[]),vr=(u,p,S,k)=>(p>0&&p<u[0].cells.length&&Kt(u,N=>{const H=N.cells[p-1];let K=0;const et=k();for(;N.cells.length>p+K&&S(H.element,N.cells[p+K].element);)zf(N,p+K,gs(et,!0,N.cells[p+K].isLocked)),K++}),u),$0=(u,p,S,k)=>{const N=ri(u).rows;if(p>0&&p<N.length){const H=N[p-1].cells,K=x1(H,S);Kt(K,et=>{let it=pt.none();for(let mt=p;mt<N.length;mt++)for(let Dt=0;Dt<uc(N[0]);Dt++){const ue=N[mt],Te=Ka(ue,Dt);S(Te.element,et.element)&&(it.isNone()&&(it=pt.some(k())),it.each(me=>{zf(ue,Dt,gs(me,!0,Te.isLocked))}))}})}return u},pc=u=>{const p=H=>H(u),S=ft(u),k=()=>N,N={tag:!0,inner:u,fold:(H,K)=>K(u),isValue:Zt,isError:sn,map:H=>Kd.value(H(u)),mapError:k,bind:p,exists:p,forall:p,getOr:S,or:k,getOrThunk:S,orThunk:k,getOrDie:S,each:H=>{H(u)},toOptional:()=>pt.some(u)};return N},$S=u=>{const p=()=>S,S={tag:!1,inner:u,fold:(k,N)=>k(u),isValue:sn,isError:Zt,map:p,mapError:k=>Kd.error(k(u)),bind:p,exists:sn,forall:Zt,getOr:We,or:We,getOrThunk:Hn,orThunk:Hn,getOrDie:wn(String(u)),each:$t,toOptional:pt.none};return S},Kd={value:pc,error:$S,fromOption:(u,p)=>u.fold(()=>$S(p),pc)},qp=(u,p,S)=>{if(u.row>=p.length||u.column>uc(p[0]))return Kd.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);const k=p.slice(u.row),N=k[0].cells.slice(u.column),H=uc(S[0]),K=S.length;return Kd.value({rowDelta:k.length-K,colDelta:N.length-H})},ch=(u,p)=>{const S=uc(u[0]),k=uc(p[0]);return{rowDelta:0,colDelta:S-k}},Ja=(u,p)=>{const S=u.length,k=p.length;return{rowDelta:S-k,colDelta:0}},ai=(u,p,S,k)=>{const N=p.section==="colgroup"?S.col:S.cell;return wo(u,H=>gs(N(),!0,k(H)))},yl=(u,p,S,k)=>{const N=u[u.length-1];return u.concat(wo(p,()=>{const H=N.section==="colgroup"?S.colgroup:S.row,K=Zs(N,H,We),et=ai(K.cells.length,K,S,it=>Oo(k,it.toString()));return gg(K,et)}))},F0=(u,p,S,k)=>bn(u,N=>{const H=ai(p,N,S,sn);return mg(N,k,H)}),H0=(u,p,S)=>bn(u,k=>Gt(S,(N,H)=>{const K=ai(1,k,p,Zt)[0];return y0(N,H,K)},k)),Kp=(u,p,S)=>{const k=p.colDelta<0?F0:We,N=p.rowDelta<0?yl:We,H=Rc(u),K=uc(u[0]),et=re(H,Dt=>Dt===K-1),it=k(u,Math.abs(p.colDelta),S,et?K-1:K),mt=Rc(it);return N(it,Math.abs(p.rowDelta),S,Mt(mt,Zt))},V0=(u,p,S,k)=>{const N=Ka(u[p],S),H=ln(k,N.element),K=u[p];return u.length>1&&uc(K)>1&&(S>0&&H(si(K,S-1))||S<K.cells.length-1&&H(si(K,S+1))||p>0&&H(si(u[p-1],S))||p<u.length-1&&H(si(u[p+1],S)))},w1=(u,p,S,k,N,H)=>{const K=u.row,et=u.column,it=S.length,mt=uc(S[0]),Dt=K+it,ue=et+mt+H.length,Te=Mt(H,Zt);for(let xe=K;xe<Dt;xe++){let me=0;for(let Fe=et;Fe<ue;Fe++){if(Te[Fe]){me++;continue}V0(p,xe,Fe,N)&&vl(p,si(p[xe],Fe),N,k.cell);const ce=Fe-et-me,be=Ka(S[xe-K],ce),dn=be.element,yn=k.replace(dn);zf(p[xe],Fe,gs(yn,!0,be.isLocked))}}return p},Rk=(u,p,S)=>{const k=uc(p[0]),N=ri(p).cols.length+u.row,H=wo(k-u.column,et=>et+u.column),K=X(H,et=>ie(S,it=>it!==et)).getOr(k-1);return{row:N,column:K}},C1=(u,p,S)=>ko(S,k=>k>=u.column&&k<=uc(p[0])+u.column),FS=(u,p,S,k,N)=>{const H=Rc(p),K=Rk(u,p,H),et=ri(S).rows,it=C1(K,et,H);return qp(K,p,et).map(Dt=>{const ue={...Dt,colDelta:Dt.colDelta-it.length},Te=Kp(p,ue,k),xe=Rc(Te),me=C1(K,et,xe);return w1(K,Te,et,k,N,me)})},Wc=(u,p,S,k,N)=>{vr(p,u,N,k.cell);const H=Ja(S,p),K=Kp(S,H,k),et=Ja(p,K),it=Kp(p,et,k);return bn(it,(mt,Dt)=>mg(mt,u,K[Dt].cells))},gm=(u,p,S,k,N)=>{$0(p,u,N,k.cell);const H=Rc(p),K=ch(p,S),et={...K,colDelta:K.colDelta-H.length},it=Kp(p,et,k),{cols:mt,rows:Dt}=ri(it),ue=Rc(it),Te=ch(S,p),xe={...Te,colDelta:Te.colDelta+ue.length},me=H0(S,k,ue),Fe=Kp(me,xe,k);return[...mt,...Dt.slice(0,u),...Fe,...Dt.slice(u,Dt.length)]},z0=(u,p,S,k)=>Zs(u,N=>k(N,S),p),Es=(u,p,S,k,N)=>{const{rows:H,cols:K}=ri(u),et=H.slice(0,p),it=H.slice(p),mt=z0(H[S],(Dt,ue)=>p>0&&p<H.length&&k(si(H[p-1],ue),si(H[p],ue))?Ka(H[p],ue):gs(N(Dt.element,k),!0,Dt.isLocked),k,N);return[...K,...et,mt,...it]},td=(u,p,S,k,N,H,K)=>{if(S==="colgroup"||!k){const et=Ka(u,N);return gs(K(et.element,H),!0,!1)}else return Ka(u,p)},Yd=(u,p,S,k,N)=>bn(u,H=>{const K=p>0&&p<uc(H)&&k(si(H,p-1),si(H,p)),et=td(H,p,H.section,K,S,k,N);return y0(H,p,et)}),S1=(u,p)=>hs(u,S=>{const k=S.cells,N=Bo(p,(H,K)=>K>=0&&K<H.length?H.slice(0,K).concat(H.slice(K+1)):H,k);return N.length>0?[zi(S.element,N,S.section,S.isNew)]:[]}),HS=(u,p,S)=>{const{rows:k,cols:N}=ri(u);return[...N,...k.slice(0,p),...k.slice(S+1)]},Mk=(u,p,S,k)=>si(u[p],S)!==void 0&&p>0&&k(si(u[p-1],S),si(u[p],S)),pm=(u,p,S)=>p>0&&S(si(u,p-1),si(u,p)),lx=(u,p,S,k)=>Mk(u,p,S,k)||pm(u[p],S,k),Yp=(u,p)=>ie(p,We)&&bl(u.cells)?Zt:(k,N,H)=>!(Os(k.element)==="th"&&p[H]),Xp=(u,p)=>ie(p,We)&&bl(u)?Zt:(k,N,H)=>!(Os(k.element)==="th"&&p[N]),lh=(u,p,S,k)=>{const N=K=>K==="row"?Lo(p):Er(p),H=K=>N(K)?`${K}group`:K;return u?ih(p)?H(S):null:k&&ih(p)?H(S==="row"?"col":"row"):null},Pk=(u,p)=>(S,k,N)=>pt.some(lh(u,S.element,"col",p[N])),Nk=(u,p)=>(S,k)=>pt.some(lh(u,S.element,"row",p[k])),ux=(u,p,S)=>gs(S(u.element,p),!0,u.isLocked),dx=(u,p,S,k,N,H,K)=>{const et=it=>re(p,mt=>S(it.element,mt.element));return bn(u,(it,mt)=>ql(it,(Dt,ue)=>{if(et(Dt)){const Te=K(Dt,mt,ue)?N(Dt,S,k):Dt;return H(Te,mt,ue).each(xe=>{Fh(Te.element,{scope:pt.from(xe)})}),Te}else return Dt}))},W0=(u,p,S)=>hs(u,(k,N)=>lx(u,N,p,S)?[]:[Ka(k,p)]),VS=(u,p,S)=>{const k=u[p];return hs(k.cells,(N,H)=>lx(u,p,H,S)?[]:[N])},fx=(u,p,S,k,N)=>{const H=ri(u).rows,K=hs(p,Dt=>W0(H,Dt,k)),et=bn(H,Dt=>bl(Dt.cells)),it=Xp(K,et),mt=Nk(S,et);return dx(u,K,k,N,ux,mt,it)},hx=(u,p,S,k,N,H,K)=>{const{cols:et,rows:it}=ri(u),mt=it[p[0]],Dt=hs(p,ce=>VS(it,ce,N)),ue=bn(mt.cells,(ce,be)=>bl(W0(it,be,N))),Te=[...it];Kt(p,ce=>{Te[ce]=K.transformRow(it[ce],S)});const xe=[...et,...Te],me=Yp(mt,ue),Fe=Pk(k,ue);return dx(xe,Dt,N,H,K.transformCell,Fe,me)},zS=(u,p,S,k)=>{const N=ri(u).rows,H=bn(p,K=>Ka(N[K.row],K.column));return dx(u,H,S,k,ux,pt.none,Zt)},bm={generate:u=>{if(!gt(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");const p=[],S={};return Kt(u,(k,N)=>{const H=Se(k);if(H.length!==1)throw new Error("one and only one name per case");const K=H[0],et=k[K];if(S[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!gt(et))throw new Error("case arguments must be an array");p.push(K),S[K]=(...it)=>{const mt=it.length;if(mt!==et.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+et.length+" ("+et+"), got "+mt);return{fold:(...ue)=>{if(ue.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+ue.length);return ue[N].apply(null,it)},match:ue=>{const Te=Se(ue);if(p.length!==Te.length)throw new Error("Wrong number of arguments to match. Expected: "+p.join(",")+`
Actual: `+Te.join(","));if(!ie(p,me=>Po(Te,me)))throw new Error("Not all branches were specified when using match. Specified: "+Te.join(", ")+`
Required: `+p.join(", "));return ue[K].apply(null,it)},log:ue=>{console.log(ue,{constructors:p,constructor:K,params:it})}}}}),S}},cu={...bm.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Uc=(u,p)=>u.length===0?cu.none():u.length===1?cu.only(0):p===0?cu.left(0,1):p===u.length-1?cu.right(p-1,p):p>0&&p<u.length-1?cu.middle(p-1,p,p+1):cu.none(),po=(u,p,S,k,N)=>{const H=u.slice(0),K=Uc(u,p),et=ft(bn(H,ft(0))),it=Te=>k.singleColumnWidth(H[Te],S),mt=(Te,xe)=>N.calcLeftEdgeDeltas(H,Te,xe,S,k.minCellWidth(),k.isRelative),Dt=(Te,xe,me)=>N.calcMiddleDeltas(H,Te,xe,me,S,k.minCellWidth(),k.isRelative),ue=(Te,xe)=>N.calcRightEdgeDeltas(H,Te,xe,S,k.minCellWidth(),k.isRelative);return K.fold(et,it,mt,Dt,ue)},Ra=(u,p,S)=>{let k=0;for(let N=u;N<p;N++)k+=S[N]!==void 0?S[N]:0;return k},Tg=(u,p)=>{const S=Qn.justCells(u);return bn(S,k=>{const N=Ra(k.column,k.column+k.colspan,p);return{element:k.element,width:N,colspan:k.colspan}})},gx=(u,p)=>{const S=Qn.justColumns(u);return bn(S,(k,N)=>({element:k.element,width:p[N],colspan:k.colspan}))},Ts=(u,p)=>bn(u.all,(S,k)=>({element:S.element,height:p[k]})),px=u=>Bo(u,(p,S)=>p+S,0),bx=(u,p)=>Qn.hasColumns(u)?gx(u,p):Tg(u,p),ci=(u,p,S)=>{const k=bx(u,p);Kt(k,N=>{S.setElementWidth(N.element,N.width)})},Xd=(u,p,S,k,N)=>{const H=Qn.fromTable(u),K=N.getCellDelta(p),et=N.getWidths(H,N),it=S===H.grid.columns-1,mt=k.clampTableDelta(et,S,K,N.minCellWidth(),it),Dt=po(et,S,mt,N,k),ue=bn(Dt,(Te,xe)=>Te+et[xe]);ci(H,ue,N),k.resizeTable(N.adjustTableWidth,mt,it)},WS=(u,p,S)=>{const k=Qn.fromTable(u),N=ii(k,u),H=bn(N,(it,mt)=>S===mt?Math.max(p+it,kc()):it),K=Ts(k,H);Kt(K,it=>{as(it.element,it.height)}),Kt(Qn.justCells(k),it=>{Mc(it.element)});const et=px(H);as(u,et)},E1=(u,p,S,k,N)=>{const H=Qn.generate(p),K=k.getWidths(H,k),et=k.pixelWidth(),{newSizes:it,delta:mt}=N.calcRedestributedWidths(K,et,S.pixelDelta,k.isRelative);ci(H,it,k),k.adjustTableWidth(mt)},Lk=(u,p,S,k)=>{const N=Qn.generate(p),H=k.getWidths(N,k);ci(N,H,k)},_l=u=>Gt(u,(S,k)=>re(S,H=>H.column===k.column)?S:S.concat([k]),[]).sort((S,k)=>S.column-k.column),Jp=Xi("col"),T1=Xi("colgroup"),Ag=u=>Os(u)==="tr"||T1(u),U0=u=>{const p=nr(u,"colspan",1),S=nr(u,"rowspan",1);return{element:u,colspan:p,rowspan:S}},j0=(u,p=U0)=>{const S=et=>Jp(et.element)?u.col(et):u.cell(et),k=et=>T1(et.element)?u.colgroup(et):u.row(et),N=et=>{if(Ag(et))return k({element:et});{const it=et,mt=S(p(it));return H=pt.some({item:it,replacement:mt}),mt}};let H=pt.none();return{getOrInit:(et,it)=>H.fold(()=>N(et),mt=>it(et,mt.item)?mt.replacement:N(et))}},vx=u=>p=>{const S=[],k=(K,et)=>X(S,it=>et(it.item,K)),N=K=>{const et=u==="td"?{scope:null}:{},it=p.replace(K,u,et);return S.push({item:K,sub:it}),it};return{replaceOrInit:(K,et)=>{if(Ag(K)||Jp(K))return K;{const it=K;return k(it,et).fold(()=>N(it),mt=>et(K,mt.item)?mt.sub:N(it))}}}},A1=u=>Ua(u,"scope").map(p=>p.substr(0,3)),Js={modification:j0,transform:vx,merging:u=>({unmerge:k=>{const N=A1(k);return N.each(H=>Sr(k,"scope",H)),()=>{const H=u.cell({element:k,colspan:1,rowspan:1});return is(H,"width"),is(k,"width"),N.each(K=>Sr(H,"scope",K)),H}},merge:k=>{const N=()=>{const H=fr(bn(k,A1));if(H.length===0)return pt.none();{const K=H[0],et=["row","col"];return re(H,mt=>mt!==K&&Po(et,mt))?pt.none():pt.from(K)}};return is(k[0],"width"),N().fold(()=>Ns(k[0],"scope"),H=>Sr(k[0],"scope",H+"group")),ft(k[0])}})},US=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ir=(u,p)=>{const S=u.property().name(p);return Po(["ol","ul"],S)},kg=(u,p)=>{const S=u.property().name(p);return Po(US,S)},vm=(u,p)=>Po(["br","img","hr","input"],u.property().name(p)),Ut=Vc(),Og=u=>kg(Ut,u),jS=u=>ir(Ut,u),yx=u=>vm(Ut,u),O1=u=>{const p=Xi("br"),S=it=>ie(it,mt=>p(mt)||Af(mt)&&Gf(mt).trim().length===0),k=it=>Os(it)==="li"||Fs(it,jS).isSome(),N=it=>kd(it).map(mt=>Og(mt)?!0:yx(mt)?Os(mt)!=="img":!1).getOr(!1),H=it=>pr(it).bind(mt=>{const Dt=N(mt);return Ru(mt).map(ue=>Dt===!0||k(ue)||p(mt)||Og(ue)&&!_s(it,ue)?[]:[At.fromTag("br")])}).getOr([]),et=(()=>{const it=hs(u,mt=>{const Dt=Wo(mt);return S(Dt)?[]:Dt.concat(H(mt))});return it.length===0?[At.fromTag("br")]:it})();wa(u[0]),Qi(u[0],et)},xl=u=>aa(u,!0),_x=u=>{jl(u).length===0&&hi(u)},D1=(u,p)=>({grid:u,cursor:p}),Dr=u=>kn(u,p=>kn(p.cells,S=>{const k=S.element;return Gb(xl(k),k)})),yr=(u,p,S)=>{var k,N;const H=ri(u).rows;return pt.from((N=(k=H[p])===null||k===void 0?void 0:k.cells[S])===null||N===void 0?void 0:N.element).filter(xl).orThunk(()=>Dr(H))},us=(u,p,S)=>{const k=yr(u,p,S);return D1(u,k)},Lr=u=>Gt(u,(S,k)=>re(S,H=>H.row===k.row)?S:S.concat([k]),[]).sort((S,k)=>S.row-k.row),li=(u,p,S,k)=>{const N=p[0].row,H=Lr(p),K=Bo(H,(et,it)=>({grid:Es(et.grid,N,it.row+et.delta,S,k.getOrInit),delta:et.delta+1}),{grid:u,delta:0}).grid;return us(K,N,p[0].column)},ar=(u,p,S,k)=>{const N=Lr(p),H=N[N.length-1],K=H.row+H.rowspan,et=Bo(N,(it,mt)=>Es(it,K,mt.row,S,k.getOrInit),u);return us(et,K,p[0].column)},xx=(u,p,S,k)=>{const N=p.details,H=_l(N),K=H[0].column,et=Bo(H,(it,mt)=>({grid:Yd(it.grid,K,mt.column+it.delta,S,k.getOrInit),delta:it.delta+1}),{grid:u,delta:0}).grid;return us(et,N[0].row,K)},Z0=(u,p,S,k)=>{const N=p.details,H=N[N.length-1],K=H.column+H.colspan,et=_l(N),it=Bo(et,(mt,Dt)=>Yd(mt,K,Dt.column,S,k.getOrInit),u);return us(it,N[0].row,K)},ZS=(u,p,S,k)=>{const N=_l(p),H=bn(N,et=>et.column),K=fx(u,H,!0,S,k.replaceOrInit);return us(K,p[0].row,p[0].column)},GS=(u,p,S,k)=>{const N=zS(u,p,S,k.replaceOrInit);return us(N,p[0].row,p[0].column)},wx=(u,p,S,k)=>{const N=_l(p),H=bn(N,et=>et.column),K=fx(u,H,!1,S,k.replaceOrInit);return us(K,p[0].row,p[0].column)},R1=(u,p,S,k)=>{const N=zS(u,p,S,k.replaceOrInit);return us(N,p[0].row,p[0].column)},M1=(u,p)=>(S,k,N,H,K)=>{const et=Lr(k),it=bn(et,Dt=>Dt.row),mt=hx(S,it,u,p,N,H.replaceOrInit,K);return us(mt,k[0].row,k[0].column)},G0=M1("thead",!0),Bk=M1("tbody",!1),qS=M1("tfoot",!1),KS=(u,p,S,k)=>{const N=_l(p.details),H=S1(u,bn(N,et=>et.column)),K=H.length>0?H[0].cells.length-1:0;return us(H,N[0].row,Math.min(N[0].column,K))},YS=(u,p,S,k)=>{const N=Lr(p),H=HS(u,N[0].row,N[N.length-1].row),K=Math.max(ri(H).rows.length-1,0);return us(H,Math.min(p[0].row,K),p[0].column)},XS=(u,p,S,k)=>{const N=p.cells;O1(N);const H=Qu(u,p.bounds,S,k.merge(N));return D1(H,pt.from(N[0]))},Cx=(u,p,S,k)=>{const H=Bo(p,(K,et)=>vl(K,et,S,k.unmerge(et)),u);return D1(H,pt.from(p[0]))},JS=(u,p,S,k)=>{const H=((it,mt)=>{const Dt=Qn.fromTable(it);return un(Dt,mt,!0)})(p.clipboard,p.generators),K=tg(p.row,p.column);return FS(K,u,H,p.generators,S).fold(()=>D1(u,pt.some(p.element)),it=>us(it,p.row,p.column))},q0=(u,p,S)=>{const k=qb(u,S.section),N=Qn.generate(k);return un(N,p,!0)},Ik=(u,p,S,k)=>{const N=ri(u).rows,H=p.cells[0].column,K=N[p.cells[0].row],et=q0(p.clipboard,p.generators,K),it=Wc(H,u,et,p.generators,S);return us(it,p.cells[0].row,p.cells[0].column)},QS=(u,p,S,k)=>{const N=ri(u).rows,H=p.cells[p.cells.length-1].column+p.cells[p.cells.length-1].colspan,K=N[p.cells[0].row],et=q0(p.clipboard,p.generators,K),it=Wc(H,u,et,p.generators,S);return us(it,p.cells[0].row,H)},Sx=(u,p,S,k)=>{const N=ri(u).rows,H=p.cells[0].row,K=N[H],et=q0(p.clipboard,p.generators,K),it=gm(H,u,et,p.generators,S);return us(it,p.cells[0].row,p.cells[0].column)},pe=(u,p,S,k)=>{const N=ri(u).rows,H=p.cells[p.cells.length-1].row+p.cells[p.cells.length-1].rowspan,K=N[p.cells[0].row],et=q0(p.clipboard,p.generators,K),it=gm(H,u,et,p.generators,S);return us(it,H,p.cells[0].column)},Ex=(u,p)=>{const S=Qn.fromTable(u);return ls(S,p).bind(N=>{const H=N[N.length-1],K=N[0].column,et=H.column+H.colspan,it=oo(bn(S.all,mt=>ko(mt.cells,Dt=>Dt.column>=K&&Dt.column<et)));return d(it)}).getOr("")},ui=(u,p)=>{const S=Qn.fromTable(u);return ls(S,p).bind(d).getOr("")},t2=(u,p)=>{const S=Qn.fromTable(u);return ls(S,p).bind(N=>{const H=N[N.length-1],K=N[0].row,et=H.row+H.rowspan,it=S.all.slice(K,et);return b(it)}).getOr("")},Tx=(u,p,S,k)=>Lk(u,p,S,k.sizing),ca=(u,p,S,k)=>E1(u,p,S,k.sizing,k.resize),bc=(u,p)=>re(p,S=>S.column===0&&S.isLocked),Jd=(u,p)=>re(p,S=>S.column+S.colspan>=u.grid.columns&&S.isLocked),e2=(u,p)=>{const S=Jh(u),k=_l(p);return Gt(k,(N,H)=>{const et=S[H.column].map(Ln).getOr(0);return N+et},0)},wl=u=>(p,S)=>ls(p,S).filter(k=>!(u?bc:Jd)(p,k)).map(k=>({details:k,pixelDelta:e2(p,k)})),K0=(u,p)=>Da(u,p).map(S=>({details:S,pixelDelta:-e2(u,S)})),Qp=u=>(p,S)=>kr(p,S).filter(k=>!(u?bc:Jd)(p,k.cells)),lu=Js.transform("th"),bi=Js.transform("td"),Y0=Wn(li,ls,$t,$t,Js.modification),uu=Wn(ar,ls,$t,$t,Js.modification),Ax=Wn(xx,wl(!0),ca,$t,Js.modification),kx=Wn(Z0,wl(!1),ca,$t,Js.modification),Ox=Wn(KS,K0,ca,_x,Js.modification),X0=Wn(YS,ls,$t,_x,Js.modification),n2=Wn(ZS,Da,$t,$t,lu),Dx=Wn(wx,Da,$t,$t,bi),$k=Wn(G0,Da,$t,$t,lu),Rx=Wn(Bk,Da,$t,$t,bi),Ve=Wn(qS,Da,$t,$t,bi),J0=Wn(GS,Da,$t,$t,lu),o2=Wn(R1,Da,$t,$t,bi),Fk=Wn(XS,Gp,Tx,$t,Js.merging),Hk=Wn(Cx,mm,Tx,$t,Js.merging),Mx=Wn(JS,Gr,Tx,$t,Js.modification),s2=Wn(Ik,Qp(!0),$t,$t,Js.modification),r2=Wn(QS,Qp(!1),$t,$t,Js.modification),Vk=Wn(Sx,kr,$t,$t,Js.modification),P1=Wn(pe,kr,$t,$t,Js.modification),zk=Ex,la=ui,N1=t2,i2=(u,p)=>u.dispatch("NewRow",{node:p}),a2=(u,p)=>u.dispatch("NewCell",{node:p}),uh=(u,p,S)=>{u.dispatch("TableModified",{...S,table:p})},Wk=(u,p,S,k,N)=>{u.dispatch("TableSelectionChange",{cells:p,start:S,finish:k,otherCells:N})},tb=u=>{u.dispatch("TableSelectionClear")},ds=(u,p,S,k,N)=>{u.dispatch("ObjectResizeStart",{target:p,width:S,height:k,origin:N})},Px=(u,p,S,k,N)=>{u.dispatch("ObjectResized",{target:p,width:S,height:k,origin:N})},$i={structure:!1,style:!0},Br={structure:!0,style:!1},c2={structure:!0,style:!0},Nx=(u,p)=>Kf(u)?Uu.percentageSize(p):Bi(u)?Uu.pixelSize(p):Uu.getTableSize(p),Q0=(u,p,S)=>{const k=ha=>Os(Ql(ha))==="table",N=ha=>!k(u)||qd(ha).rows>1,H=ha=>!k(u)||qd(ha).columns>1,K=Ds(u),et=$c(u)?$t:Zp,it=ha=>{switch(Jl(u)){case"section":return lt.section();case"sectionCells":return lt.sectionCells();case"cells":return lt.cells();default:return lt.getTableSectionType(ha,"section")}},mt=(ha,Sw)=>Sw.cursor.fold(()=>{const bh=jl(ha);return wt(bh).filter($s).map(ad=>{S.clearSelectedCells(ha.dom);const _i=u.dom.createRng();return _i.selectNode(ad.dom),u.selection.setRng(_i),Sr(ad,"data-mce-selected","1"),_i})},bh=>{const ad=jp(bh),_i=u.dom.createRng();return _i.setStart(ad.element.dom,ad.offset),_i.setEnd(ad.element.dom,ad.offset),u.selection.setRng(_i),S.clearSelectedCells(ha.dom),pt.some(_i)}),Dt=(ha,Sw,bh,ad)=>(_i,Ew,Tw=!1)=>{Hc(_i);const gE=At.fromDom(u.getDoc()),KO=rm(bh,gE,K),YO={sizing:Nx(u,_i),resize:$c(u)?rh():pl(),section:it(_i)};return Sw(_i)?ha(_i,Ew,KO,YO).bind(Aw=>{p.refresh(_i.dom),Kt(Aw.newRows,_b=>{i2(u,_b.dom)}),Kt(Aw.newCells,_b=>{a2(u,_b.dom)});const XO=mt(_i,Aw);return $s(_i)&&(Hc(_i),Tw||uh(u,_i.dom,ad)),XO.map(_b=>({rng:_b,effect:ad}))}):pt.none()},ue=Dt(X0,N,$t,Br),Te=Dt(Ox,H,$t,Br),xe=Dt(Y0,Zt,$t,Br),me=Dt(uu,Zt,$t,Br),Fe=Dt(Ax,Zt,et,Br),ce=Dt(kx,Zt,et,Br),be=Dt(Fk,Zt,$t,Br),dn=Dt(Hk,Zt,$t,Br),yn=Dt(s2,Zt,$t,Br),To=Dt(r2,Zt,$t,Br),Rs=Dt(Vk,Zt,$t,Br),Ls=Dt(P1,Zt,$t,Br),Gi=Dt(Mx,Zt,$t,c2),Ol=Dt(J0,Zt,$t,Br),Am=Dt(o2,Zt,$t,Br),jg=Dt(n2,Zt,$t,Br),Iy=Dt(Dx,Zt,$t,Br),ns=Dt($k,Zt,$t,Br),Na=Dt(Rx,Zt,$t,Br),fa=Dt(Ve,Zt,$t,Br);return{deleteRow:ue,deleteColumn:Te,insertRowsBefore:xe,insertRowsAfter:me,insertColumnsBefore:Fe,insertColumnsAfter:ce,mergeCells:be,unmergeCells:dn,pasteColsBefore:yn,pasteColsAfter:To,pasteRowsBefore:Rs,pasteRowsAfter:Ls,pasteCells:Gi,makeCellsHeader:Ol,unmakeCellsHeader:Am,makeColumnsHeader:jg,unmakeColumnsHeader:Iy,makeRowsHeader:ns,makeRowsBody:Na,makeRowsFooter:fa,getTableRowType:N1,getTableCellType:la,getTableColType:zk}},l2=(u,p,S)=>{const k=nr(u,p,1);S===1||k<=1?Ns(u,p):Sr(u,p,Math.min(S,k))},u2=(u,p)=>S=>{const k=S.column+S.colspan-1,N=S.column;return k>=u&&N<p},Uk=(u,p,S)=>{if(Qn.hasColumns(u)){const k=ko(Qn.justColumns(u),u2(p,S)),N=bn(k,K=>{const et=ja(K.element);return l2(et,"span",S-p),et}),H=At.fromTag("colgroup");return Qi(H,N),[H]}else return[]},Lx=(u,p,S)=>bn(u.all,k=>{const N=ko(k.cells,u2(p,S)),H=bn(N,et=>{const it=ja(et.element);return l2(it,"colspan",S-p),it}),K=At.fromTag("tr");return Qi(K,H),K}),d2=(u,p)=>{const S=Qn.fromTable(u);return Da(S,p).map(N=>{const H=N[N.length-1],K=N[0].column,et=H.column+H.colspan,it=Uk(S,K,et),mt=Lx(S,K,et);return[...it,...mt]})},jk=(u,p,S)=>{const k=Qn.fromTable(u);return ls(k,p).bind(H=>{const K=un(k,S,!1),it=ri(K).rows.slice(H[0].row,H[H.length-1].row+H[H.length-1].rowspan),mt=hs(it,ue=>{const Te=ko(ue.cells,xe=>!xe.isLocked);return Te.length>0?[{...ue,cells:Te}]:[]}),Dt=On(mt);return Gb(Dt.length>0,Dt)}).map(H=>Yt(H))},eb=bm.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),f2=(u,p,S)=>{const k=S.substring(0,S.length-u.length),N=parseFloat(k);return k===N.toString()?p(N):eb.invalid(S)},Dg={...eb,from:u=>Za(u,"%")?f2("%",eb.percent,u):Za(u,"px")?f2("px",eb.pixels,u):eb.invalid(u)},h2=(u,p)=>bn(u,S=>Dg.from(S).fold(()=>S,N=>N/p*100+"%",N=>N+"%")),Zk=(u,p,S)=>{const k=S/p;return bn(u,N=>Dg.from(N).fold(()=>N,K=>K*k+"px",K=>K/100*S+"px"))},Gk=(u,p)=>{const S=u.fold(()=>ft(""),k=>{const N=k/p;return ft(N+"px")},()=>{const k=100/p;return ft(k+"%")});return wo(p,S)},m2=(u,p,S)=>u.fold(()=>p,k=>Zk(p,S,k),k=>h2(p,S)),Bx=(u,p,S)=>{const k=Dg.from(S),N=ie(u,H=>H==="0px")?Gk(k,u.length):m2(k,u,p);return nb(N)},Ix=(u,p)=>u.length===0?p:Bo(u,(S,k)=>Dg.from(k).fold(ft(0),We,We)+S,0),Rg=(u,p)=>{const S=Math.floor(u);return{value:S+p,remainder:u-S}},g2=(u,p)=>Dg.from(u).fold(ft(u),S=>S+p+"px",S=>S+p+"%"),nb=u=>{if(u.length===0)return u;const p=Bo(u,(k,N)=>{const H=Dg.from(N).fold(()=>({value:N,remainder:0}),K=>Rg(K,"px"),K=>({value:K+"%",remainder:0}));return{output:[H.value].concat(k.output),remainder:k.remainder+H.remainder}},{output:[],remainder:0}),S=p.output;return S.slice(0,S.length-1).concat([g2(S[S.length-1],Math.round(p.remainder))])},qk=Dg.from,$x=(u,p,S)=>{Kt(p,k=>{const N=u.slice(k.column,k.colspan+k.column),H=Ix(N,Lf());ws(k.element,"width",H+S)})},du=(u,p,S)=>{Kt(p,(k,N)=>{const H=Ix([u[N]],Lf());ws(k.element,"width",H+S)})},ym=(u,p,S)=>{Kt(S,k=>{is(k.element,"height")}),Kt(p,(k,N)=>{ws(k.element,"height",u[N])})},ty=u=>qk(u).fold(ft("px"),ft("px"),ft("%")),L1=(u,p,S)=>{const k=Qn.fromTable(u),N=k.all,H=Qn.justCells(k),K=Qn.justColumns(k);p.each(et=>{const it=ty(et),mt=Rd(u),Dt=fc(k,u),ue=Bx(Dt,mt,et);Qn.hasColumns(k)?du(ue,K,it):$x(ue,H,it),ws(u,"width",et)}),S.each(et=>{const it=Ya(u),mt=Ss(k,u),Dt=Bx(mt,it,et);ym(Dt,N,H),ws(u,"height",et)})},p2=s1,Qd=Xs,ey=So,Mg=u=>{Ns(u,"width"),Ns(u,"height")},fu=u=>{const p=Pc(u);L1(u,pt.some(p),pt.none()),Mg(u)},ob=u=>{const p=gr(u);L1(u,pt.some(p),pt.none()),Mg(u)},Kk=u=>{const p=cs(u);L1(u,pt.none(),pt.some(p)),Mg(u)},b2=u=>{is(u,"width");const p=Zh(u),S=p.length>0?p:jl(u);Kt(S,k=>{is(k,"width"),Mg(k)}),Mg(u)},Yk={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Xk=()=>At.fromTag("th"),Fx=()=>At.fromTag("td"),Jk=()=>At.fromTag("col"),v2=(u,p,S,k)=>{const N=At.fromTag("tr");for(let H=0;H<u;H++){const K=k<p||H<S?Xk():Fx();H<S&&Sr(K,"scope","row"),k<p&&Sr(K,"scope","col"),Vn(K,At.fromTag("br")),Vn(N,K)}return N},B1=u=>{const p=At.fromTag("colgroup");return wo(u,()=>Vn(p,Jk())),p},y2=(u,p,S,k)=>wo(u,N=>v2(p,S,k,N)),_2=(u,p,S,k,N,H=Yk)=>{const K=At.fromTag("table"),et=N!=="cells";Ul(K,H.styles),wc(K,H.attributes),H.colGroups&&Vn(K,B1(p));const it=Math.min(u,S);if(et&&S>0){const xe=At.fromTag("thead");Vn(K,xe);const Fe=y2(S,p,N==="sectionCells"?it:0,k);Qi(xe,Fe)}const mt=At.fromTag("tbody");Vn(K,mt);const Dt=et?u-it:u,Te=y2(Dt,p,et?0:S,k);return Qi(mt,Te),K},Qk=u=>u.dom.innerHTML,tO=u=>{const p=At.fromTag("div"),S=At.fromDom(u.dom.cloneNode(!0));return Vn(p,S),Qk(p)},x2=(u,p)=>{u.selection.select(p.dom,!0),u.selection.collapse(!0)},w2=(u,p)=>{sl(p,"td,th").each(ln(x2,u))},Hx=(u,p)=>{Kt(Ca(p,"tr"),S=>{i2(u,S.dom),Kt(Ca(S,"th,td"),k=>{a2(u,k.dom)})})},C2=u=>G(u)&&u.indexOf("%")!==-1,eO=(u,p,S,k,N)=>{const H=R0(u),K={styles:H,attributes:f1(u),colGroups:im(u)};return u.undoManager.ignore(()=>{const et=_2(S,p,N,k,Jl(u),K);Sr(et,"data-mce-id","__mce");const it=tO(et);u.insertContent(it),u.addVisual()}),sl(Ql(u),'table[data-mce-id="__mce"]').map(et=>(Bi(u)?ob(et):br(u)?b2(et):(Kf(u)||C2(H.width))&&fu(et),Hc(et),Ns(et,"data-mce-id"),Hx(u,et),w2(u,et),et.dom)).getOrNull()},nO=(u,p,S,k={})=>{const N=H=>_e(H)&&H>0;if(N(p)&&N(S)){const H=k.headerRows||0,K=k.headerColumns||0;return eO(u,S,p,K,H)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var ny=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const S2="x-tinymce/dom-table-",E2=S2+"rows",dh=S2+"columns",oy=u=>{const p=ny.FakeClipboardItem(u);ny.write([p])},Vx=u=>{var p;const S=(p=ny.read())!==null&&p!==void 0?p:[];return kn(S,k=>pt.from(k.getType(u)))},T2=u=>{Vx(u).isSome()&&ny.clear()},A2=u=>{u.fold(oO,p=>oy({[E2]:p}))},k2=()=>Vx(E2),oO=()=>T2(E2),O2=u=>{u.fold(sO,p=>oy({[dh]:p}))},I1=()=>Vx(dh),sO=()=>T2(dh),zx=u=>Wp(am(u),Yf(u)).filter(tu),rO=u=>Sg(am(u),Yf(u)).filter(tu),iO=(u,p)=>{const S=Yf(u),k=()=>zx(u).each(ce=>{na(ce,S).filter(vt(S)).each(be=>{const dn=At.fromText("");if(Hl(be,dn),hi(be),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{const yn=u.dom.createRng();yn.setStart(dn.dom,0),yn.setEnd(dn.dom,0),u.selection.setRng(yn),u.nodeChanged()}})}),N=ce=>zx(u).each(be=>{br(u)||Bi(u)||Kf(u)||na(be,S).each(yn=>{ce==="relative"&&!p2(yn)?fu(yn):ce==="fixed"&&!Qd(yn)?ob(yn):ce==="responsive"&&!ey(yn)&&b2(yn),Hc(yn),uh(u,yn.dom,Br)})}),H=ce=>na(ce,S),K=ce=>rO(u).bind(be=>H(be).map(dn=>ce(dn,be))),et=(ce,be)=>{K(dn=>{u.formatter.toggle("tableclass",{value:be},dn.dom),uh(u,dn.dom,$i)})},it=(ce,be)=>{K(dn=>{const yn=zc(u),Rs=ie(yn,Ls=>u.formatter.match("tablecellclass",{value:be},Ls.dom))?u.formatter.remove:u.formatter.apply;Kt(yn,Ls=>Rs("tablecellclass",{value:be},Ls.dom)),uh(u,dn.dom,$i)})},mt=()=>{zx(u).each(ce=>{na(ce,S).each(be=>{_o(be,"caption").fold(()=>{const dn=At.fromTag("caption");Vn(dn,At.fromText("Caption")),Zb(be,dn,0),u.selection.setCursorLocation(dn.dom,0)},dn=>{Xi("caption")(ce)&&Ub("td",be).each(yn=>u.selection.setCursorLocation(yn.dom,0)),hi(dn)}),uh(u,be.dom,Br)})})},Dt=ce=>{u.focus()},ue=(ce,be=!1)=>K((dn,yn)=>{const To=Gs(zc(u),dn,yn);ce(dn,To,be).each(Dt)}),Te=()=>K((ce,be)=>{const dn=Gs(zc(u),ce,be),yn=rm($t,At.fromDom(u.getDoc()),pt.none());return jk(ce,dn,yn)}),xe=()=>K((ce,be)=>{const dn=Gs(zc(u),ce,be);return d2(ce,dn)}),me=(ce,be)=>be().each(dn=>{const yn=bn(dn,To=>ja(To));K((To,Rs)=>{const Ls=Ic(At.fromDom(u.getDoc())),Gi=_1(zc(u),Rs,yn,Ls);ce(To,Gi).each(Dt)})}),Fe=ce=>(be,dn)=>ic(dn,"type").each(yn=>{ue(ce(yn),dn.no_events)});yo({mceTableSplitCells:()=>ue(p.unmergeCells),mceTableMergeCells:()=>ue(p.mergeCells),mceTableInsertRowBefore:()=>ue(p.insertRowsBefore),mceTableInsertRowAfter:()=>ue(p.insertRowsAfter),mceTableInsertColBefore:()=>ue(p.insertColumnsBefore),mceTableInsertColAfter:()=>ue(p.insertColumnsAfter),mceTableDeleteCol:()=>ue(p.deleteColumn),mceTableDeleteRow:()=>ue(p.deleteRow),mceTableCutCol:()=>xe().each(ce=>{O2(ce),ue(p.deleteColumn)}),mceTableCutRow:()=>Te().each(ce=>{A2(ce),ue(p.deleteRow)}),mceTableCopyCol:()=>xe().each(ce=>O2(ce)),mceTableCopyRow:()=>Te().each(ce=>A2(ce)),mceTablePasteColBefore:()=>me(p.pasteColsBefore,I1),mceTablePasteColAfter:()=>me(p.pasteColsAfter,I1),mceTablePasteRowBefore:()=>me(p.pasteRowsBefore,k2),mceTablePasteRowAfter:()=>me(p.pasteRowsAfter,k2),mceTableDelete:k,mceTableCellToggleClass:it,mceTableToggleClass:et,mceTableToggleCaption:mt,mceTableSizingMode:(ce,be)=>N(be),mceTableCellType:Fe(ce=>ce==="th"?p.makeCellsHeader:p.unmakeCellsHeader),mceTableColType:Fe(ce=>ce==="th"?p.makeColumnsHeader:p.unmakeColumnsHeader),mceTableRowType:Fe(ce=>{switch(ce){case"header":return p.makeRowsHeader;case"footer":return p.makeRowsFooter;default:return p.makeRowsBody}})},(ce,be)=>u.addCommand(be,ce)),u.addCommand("mceInsertTable",(ce,be)=>{nO(u,be.rows,be.columns,be.options)}),u.addCommand("mceTableApplyCellStyle",(ce,be)=>{const dn=Rs=>"tablecell"+Rs.toLowerCase().replace("-","");if(!tt(be))return;const yn=ko(zc(u),tu);if(yn.length===0)return;const To=Ps(be,(Rs,Ls)=>u.formatter.has(dn(Ls))&&G(Rs));ys(To)||(yo(To,(Rs,Ls)=>{const Gi=dn(Ls);Kt(yn,Ol=>{Rs===""?u.formatter.remove(Gi,{value:null},Ol.dom,!0):u.formatter.apply(Gi,{value:Rs},Ol.dom)})}),H(yn[0]).each(Rs=>uh(u,Rs.dom,$i)))})},D2=(u,p)=>{const S=Yf(u),k=N=>Sg(am(u)).bind(H=>na(H,S).map(K=>{const et=Gs(zc(u),K,H);return N(K,et)})).getOr("");yo({mceTableRowType:()=>k(p.getTableRowType),mceTableCellType:()=>k(p.getTableCellType),mceTableColType:()=>k(p.getTableColType)},(N,H)=>u.addQueryValueHandler(H,N))},Wx=bm.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),aO=(u,p,S,k)=>u.fold(p,S,k),$1=u=>u.fold(We,We,We),cO=Wx.before,R2=Wx.on,M2=Wx.after,ua={before:cO,on:R2,after:M2,cata:aO,getStart:$1},sb={create:(u,p)=>({selection:u,kill:p})},uO=(u,p)=>{const S=u.document.createRange();return S.selectNode(p.dom),S},rb=(u,p)=>{const S=u.document.createRange();return P2(S,p),S},P2=(u,p)=>u.selectNodeContents(p.dom),dO=(u,p)=>{p.fold(S=>{u.setStartBefore(S.dom)},(S,k)=>{u.setStart(S.dom,k)},S=>{u.setStartAfter(S.dom)})},fO=(u,p)=>{p.fold(S=>{u.setEndBefore(S.dom)},(S,k)=>{u.setEnd(S.dom,k)},S=>{u.setEndAfter(S.dom)})},Ux=(u,p,S)=>{const k=u.document.createRange();return dO(k,p),fO(k,S),k},ib=(u,p,S,k,N)=>{const H=u.document.createRange();return H.setStart(p.dom,S),H.setEnd(k.dom,N),H},N2=u=>({left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}),Ma=u=>{const p=u.getClientRects(),S=p.length>0?p[0]:u.getBoundingClientRect();return S.width>0||S.height>0?pt.some(S).map(N2):pt.none()},F1=bm.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),L2=(u,p,S)=>p(At.fromDom(S.startContainer),S.startOffset,At.fromDom(S.endContainer),S.endOffset),B2=(u,p)=>p.match({domRange:S=>({ltr:ft(S),rtl:pt.none}),relative:(S,k)=>({ltr:If(()=>Ux(u,S,k)),rtl:If(()=>pt.some(Ux(u,k,S)))}),exact:(S,k,N,H)=>({ltr:If(()=>ib(u,S,k,N,H)),rtl:If(()=>pt.some(ib(u,N,H,S,k)))})}),jx=(u,p)=>{const S=p.ltr();return S.collapsed?p.rtl().filter(N=>N.collapsed===!1).map(N=>F1.rtl(At.fromDom(N.endContainer),N.endOffset,At.fromDom(N.startContainer),N.startOffset)).getOrThunk(()=>L2(u,F1.ltr,S)):L2(u,F1.ltr,S)},Zx=(u,p)=>{const S=B2(u,p);return jx(u,S)},sy=(u,p)=>Zx(u,p).match({ltr:(k,N,H,K)=>{const et=u.document.createRange();return et.setStart(k.dom,N),et.setEnd(H.dom,K),et},rtl:(k,N,H,K)=>{const et=u.document.createRange();return et.setStart(H.dom,K),et.setEnd(k.dom,N),et}});F1.ltr,F1.rtl;const H1={create:(u,p,S,k)=>({start:u,soffset:p,finish:S,foffset:k})},$2={create:(u,p,S,k)=>({start:ua.on(u,p),finish:ua.on(S,k)})},F2=(u,p)=>{const S=sy(u,p);return H1.create(At.fromDom(S.startContainer),S.startOffset,At.fromDom(S.endContainer),S.endOffset)},Pg=$2.create,Ng=(u,p,S,k,N,H,K)=>_s(S,N)&&k===H?pt.none():ei(S,"td,th",p).bind(et=>ei(N,"td,th",p).bind(it=>Gx(u,p,et,it,K))),Gx=(u,p,S,k,N)=>_s(S,k)?pt.none():Fp(S,k,p).bind(H=>{const K=H.boxes.getOr([]);return K.length>1?(N(u,K,H.start,H.finish),pt.some(sb.create(pt.some(Pg(S,0,S,Hd(S))),!0))):pt.none()}),qx=(u,p,S,k,N)=>{const H=K=>(N.clearBeforeUpdate(S),N.selectRange(S,K.boxes,K.start,K.finish),K.boxes);return Vp(k,u,p,N.firstSelectedSelector,N.lastSelectedSelector).map(H)},ry=(u,p)=>({item:u,mode:p}),H2=(u,p,S,k=Lg)=>u.property().parent(p).map(N=>ry(N,k)),Lg=(u,p,S,k=_m)=>S.sibling(u,p).map(N=>ry(N,k)),_m=(u,p,S,k=_m)=>{const N=u.property().children(p);return S.first(N).map(K=>ry(K,k))},V2=[{current:H2,next:Lg,fallback:pt.none()},{current:Lg,next:_m,fallback:pt.some(H2)},{current:_m,next:_m,fallback:pt.some(Lg)}],iy=(u,p,S,k,N=V2)=>X(N,K=>K.current===S).bind(K=>K.current(u,p,k,K.next).orThunk(()=>K.fallback.bind(et=>iy(u,p,et,k)))),Kx={left:()=>({sibling:(S,k)=>S.query().prevSibling(k),first:S=>S.length>0?pt.some(S[S.length-1]):pt.none()}),right:()=>({sibling:(S,k)=>S.query().nextSibling(k),first:S=>S.length>0?pt.some(S[0]):pt.none()})},ab=(u,p,S,k,N,H)=>iy(u,p,k,N).bind(et=>H(et.item)?pt.none():S(et.item)?pt.some(et.item):ab(u,et.item,S,et.mode,N,H)),z2=(u,p,S,k)=>ab(u,p,S,Lg,Kx.left(),k),Yx=(u,p,S,k)=>ab(u,p,S,Lg,Kx.right(),k),ay=u=>p=>u.property().children(p).length===0,Xx=(u,p,S)=>W2(u,p,ay(u),S),hO=(u,p,S)=>U2(u,p,ay(u),S),W2=z2,U2=Yx,fh=Vc(),xm=(u,p)=>Xx(fh,u,p),W1=(u,p)=>hO(fh,u,p),U1=(u,p,S)=>W2(fh,u,p,S),mO=(u,p,S)=>U2(fh,u,p,S),wm=(u,p,S)=>Fs(u,p,S).isSome(),Cl=bm.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),cy=(u,p,S)=>{const k=u.getRect(p),N=u.getRect(S);return N.right>k.left&&N.left<k.right},gO=u=>ei(u,"tr"),hh={...Cl,verify:(u,p,S,k,N,H,K)=>ei(k,"td,th",K).bind(et=>ei(p,"td,th",K).map(it=>_s(et,it)?_s(k,et)&&Hd(et)===N?H(it):Cl.none("in same cell"):Qf(gO,[et,it]).fold(()=>cy(u,it,et)?Cl.success():H(it),mt=>H(it)))).getOr(Cl.none("default")),cata:(u,p,S,k,N)=>u.fold(p,S,k,N)},j1=(u,p,S,k)=>({parent:u,children:p,element:S,index:k}),vi=u=>Ru(u).bind(p=>{const S=Wo(p);return ly(S,u).map(k=>j1(p,S,u,k))}),ly=(u,p)=>tr(u,ln(_s,p)),ed=Xi("br"),tf=(u,p,S)=>p(u,S).bind(k=>Af(k)&&Gf(k).trim().length===0?tf(k,p,S):pt.some(k)),j2=(u,p,S)=>S.traverse(p).orThunk(()=>tf(p,S.gather,u)).map(S.relative),Z1=(u,p)=>Jr(u,p).filter(ed).orThunk(()=>Jr(u,p-1).filter(ed)),G1=(u,p,S,k)=>Z1(p,S).bind(N=>k.traverse(N).fold(()=>tf(N,k.gather,u).map(k.relative),H=>vi(H).map(K=>ua.on(K.parent,K.index)))),yi=(u,p,S,k)=>(ed(p)?j2(u,p,k):G1(u,p,S,k)).map(H=>({start:H,finish:H})),bO=u=>hh.cata(u,p=>pt.none(),()=>pt.none(),p=>pt.some(dm(p,0)),p=>pt.some(dm(p,Hd(p)))),Sl=(u,p)=>({left:u.left,top:u.top+p,right:u.right,bottom:u.bottom+p}),nd=(u,p)=>({left:u.left,top:u.top-p,right:u.right,bottom:u.bottom-p}),q1=(u,p,S)=>({left:u.left+p,top:u.top+S,right:u.right+p,bottom:u.bottom+S}),Bg=u=>u.top,ef=u=>u.bottom,K1=(u,p,S)=>S>=0&&S<Hd(p)?u.getRangedRect(p,S,p,S+1):S>0?u.getRangedRect(p,S-1,p,S):pt.none(),cb=u=>({left:u.left,top:u.top,right:u.right,bottom:u.bottom}),lb=(u,p)=>pt.some(u.getRect(p)),uy=(u,p,S)=>_a(p)?lb(u,p).map(cb):Af(p)?K1(u,p,S).map(cb):pt.none(),Z2=(u,p)=>_a(p)?lb(u,p).map(cb):Af(p)?u.getRangedRect(p,0,p,Hd(p)).map(cb):pt.none(),nf=5,od=100,of=bm.generate([{none:[]},{retry:["caret"]}]),vO=(u,p)=>u.left<p.left||Math.abs(p.right-u.left)<1||u.left>p.right,dy=(u,p,S)=>rg(p,Og).fold(sn,k=>Z2(u,k).exists(N=>vO(S,N))),Jx=(u,p,S,k,N)=>{const H=Sl(N,nf);return Math.abs(S.bottom-k.bottom)<1||S.top>N.bottom?of.retry(H):S.top===N.bottom?of.retry(Sl(N,1)):dy(u,p,N)?of.retry(q1(H,nf,0)):of.none()},_O={point:Bg,adjuster:(u,p,S,k,N)=>{const H=nd(N,nf);return Math.abs(S.top-k.top)<1||S.bottom<N.top?of.retry(H):S.bottom===N.top?of.retry(nd(N,1)):dy(u,p,N)?of.retry(q1(H,nf,0)):of.none()},move:nd,gather:xm},xO={point:ef,adjuster:Jx,move:Sl,gather:W1},El=(u,p,S)=>u.elementFromPoint(p,S).filter(k=>Os(k)==="table").isSome(),Ig=(u,p,S,k,N)=>fy(u,p,S,p.move(k,nf),N),fy=(u,p,S,k,N)=>N===0?pt.some(k):El(u,k.left,p.point(k))?Ig(u,p,S,k,N-1):u.situsFromPoint(k.left,p.point(k)).bind(H=>H.start.fold(pt.none,K=>Z2(u,K).bind(et=>p.adjuster(u,K,et,S,k).fold(pt.none,it=>fy(u,p,S,it,N-1))).orThunk(()=>pt.some(k)),pt.none)),$g=(u,p,S)=>u.point(p)>S.getInnerHeight()?pt.some(u.point(p)-S.getInnerHeight()):u.point(p)<0?pt.some(-u.point(p)):pt.none(),Pa=(u,p,S)=>{const k=u.move(S,nf),N=fy(p,u,S,k,od).getOr(k);return $g(u,N,p).fold(()=>p.situsFromPoint(N.left,u.point(N)),H=>(p.scrollBy(0,H),p.situsFromPoint(N.left,u.point(N)-H)))},Qa={tryUp:ln(Pa,_O),tryDown:ln(Pa,xO),getJumpSize:ft(nf)},da=20,hu=(u,p,S)=>u.getSelection().bind(k=>yi(p,k.finish,k.foffset,S).fold(()=>pt.some(dm(k.finish,k.foffset)),N=>{const H=u.fromSitus(N),K=hh.verify(u,k.finish,k.foffset,H.finish,H.foffset,S.failure,p);return bO(K)})),hy=(u,p,S,k,N,H)=>H===0?pt.none():Cm(u,p,S,k,N).bind(K=>{const et=u.fromSitus(K),it=hh.verify(u,S,k,et.finish,et.foffset,N.failure,p);return hh.cata(it,()=>pt.none(),()=>pt.some(K),mt=>_s(S,mt)&&k===0?jc(u,S,k,nd,N):hy(u,p,mt,0,N,H-1),mt=>_s(S,mt)&&k===Hd(mt)?jc(u,S,k,Sl,N):hy(u,p,mt,Hd(mt),N,H-1))}),jc=(u,p,S,k,N)=>uy(u,p,S).bind(H=>Yn(u,N,k(H,Qa.getJumpSize()))),Yn=(u,p,S)=>{const k=Zl().browser;return k.isChromium()||k.isSafari()||k.isFirefox()?p.retry(u,S):pt.none()},Cm=(u,p,S,k,N)=>uy(u,S,k).bind(H=>Yn(u,N,H)),ub=(u,p,S)=>hu(u,p,S).bind(k=>hy(u,p,k.element,k.offset,S,da).map(u.fromSitus)),Qx=(u,p)=>wm(u,S=>Ru(S).exists(k=>_s(k,p))),tw=(u,p,S,k,N)=>ei(k,"td,th",p).bind(H=>ei(H,"table",p).bind(K=>Qx(N,K)?ub(u,p,S).bind(et=>ei(et.finish,"td,th",p).map(it=>({start:H,finish:it,range:et}))):pt.none())),Y1=(u,p,S,k,N,H)=>H(k,p).orThunk(()=>tw(u,p,S,k,N).map(K=>{const et=K.range;return sb.create(pt.some(Pg(et.start,et.soffset,et.finish,et.foffset)),!0)})),my=(u,p)=>ei(u,"tr",p).bind(S=>ei(S,"table",p).bind(k=>{const N=Ca(k,"tr");return _s(S,N[0])?U1(k,H=>pr(H).isSome(),p).map(H=>{const K=Hd(H);return sb.create(pt.some(Pg(H,K,H,K)),!0)}):pt.none()})),gy=(u,p)=>ei(u,"tr",p).bind(S=>ei(S,"table",p).bind(k=>{const N=Ca(k,"tr");return _s(S,N[N.length-1])?mO(k,H=>l1(H).isSome(),p).map(H=>sb.create(pt.some(Pg(H,0,H,0)),!0)):pt.none()})),py=(u,p,S,k,N,H,K)=>tw(u,S,k,N,H).bind(et=>Gx(p,S,et.start,et.finish,K)),by=u=>{let p=u;return{get:()=>p,set:N=>{p=N}}},lN=u=>{const p=by(pt.none()),S=()=>p.get().each(u);return{clear:()=>{S(),p.set(pt.none())},isSet:()=>p.get().isSome(),get:()=>p.get(),set:et=>{S(),p.set(pt.some(et))}}},ew=()=>{const u=lN($t);return{...u,on:S=>u.get().each(S)}},G2=(u,p)=>ei(u,"td,th",p),q2=u=>xa(u).exists(aa),K2=(u,p,S,k)=>{const N=ew(),H=N.clear,K=Dt=>{N.on(ue=>{k.clearBeforeUpdate(p),G2(Dt.target,S).each(Te=>{Fp(ue,Te,S).each(xe=>{const me=xe.boxes.getOr([]);if(me.length===1){const Fe=me[0],ce=Fc(Fe)==="false",be=rl(zd(Dt.target),Fe,_s);ce&&be&&(k.selectRange(p,me,Fe,Fe),u.selectContents(Fe))}else me.length>1&&(k.selectRange(p,me,xe.start,xe.finish),u.selectContents(Te))})})})};return{clearstate:H,mousedown:Dt=>{k.clear(p),G2(Dt.target,S).filter(q2).each(N.set)},mouseover:Dt=>{K(Dt)},mouseup:Dt=>{K(Dt),H()}}},nw={traverse:kd,gather:W1,relative:ua.before,retry:Qa.tryDown,failure:hh.failedDown},ow={traverse:kf,gather:xm,relative:ua.before,retry:Qa.tryUp,failure:hh.failedUp},db=u=>p=>p===u,vy=db(38),sw=db(40),fb=u=>u>=37&&u<=40,Y2={isBackward:db(37),isForward:db(39)},Tl={isBackward:db(39),isForward:db(37)},uN=u=>{const p=u!==void 0?u.dom:document,S=p.body.scrollLeft||p.documentElement.scrollLeft,k=p.body.scrollTop||p.documentElement.scrollTop;return cl(S,k)},yy=(u,p,S)=>{const N=(S!==void 0?S.dom:document).defaultView;N&&N.scrollBy(u,p)},mh=bm.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rw=u=>mh.exact(u.start,u.soffset,u.finish,u.foffset),iw=u=>u.match({domRange:p=>At.fromDom(p.startContainer),relative:(p,S)=>ua.getStart(p),exact:(p,S,k,N)=>p}),wO=mh.domRange,CO=mh.relative,SO=mh.exact,EO=u=>{const p=iw(u);return er(p)},X2=H1.create,sd={domRange:wO,relative:CO,exact:SO,exactFromRange:rw,getWin:EO,range:X2},X1=(u,p,S)=>{var k,N;return pt.from((N=(k=u.dom).caretPositionFromPoint)===null||N===void 0?void 0:N.call(k,p,S)).bind(H=>{if(H.offsetNode===null)return pt.none();const K=u.dom.createRange();return K.setStart(H.offsetNode,H.offset),K.collapse(),pt.some(K)})},TO=(u,p,S)=>{var k,N;return pt.from((N=(k=u.dom).caretRangeFromPoint)===null||N===void 0?void 0:N.call(k,p,S))},Ie=(()=>document.caretPositionFromPoint?X1:document.caretRangeFromPoint?TO:pt.none)(),qr=(u,p,S)=>{const k=At.fromDom(u.document);return Ie(k,p,S).map(N=>H1.create(At.fromDom(N.startContainer),N.startOffset,At.fromDom(N.endContainer),N.endOffset))},gh=(u,p)=>{const S=Os(u);return S==="input"?ua.after(u):Po(["br","img"],S)?p===0?ua.before(u):ua.after(u):ua.on(u,p)},Kr=(u,p)=>{const S=u.fold(ua.before,gh,ua.after),k=p.fold(ua.before,gh,ua.after);return sd.relative(S,k)},Zc=(u,p,S,k)=>{const N=gh(u,p),H=gh(S,k);return sd.relative(N,H)},J1=(u,p,S,k)=>{const H=Qm(u).dom.createRange();return H.setStart(u.dom,p),H.setEnd(S.dom,k),H},hb=(u,p,S,k)=>{const N=J1(u,p,S,k),H=_s(u,S)&&p===k;return N.collapsed&&!H},Fg=u=>pt.from(u.getSelection()),mb=(u,p)=>{Fg(u).each(S=>{S.removeAllRanges(),S.addRange(p)})},Q1=(u,p,S,k,N)=>{const H=ib(u,p,S,k,N);mb(u,H)},J2=(u,p,S,k,N,H)=>{p.collapse(S.dom,k),p.extend(N.dom,H)},aw=(u,p)=>Zx(u,p).match({ltr:(S,k,N,H)=>{Q1(u,S,k,N,H)},rtl:(S,k,N,H)=>{Fg(u).each(K=>{if(K.setBaseAndExtent)K.setBaseAndExtent(S.dom,k,N.dom,H);else if(K.extend)try{J2(u,K,S,k,N,H)}catch{Q1(u,N,H,S,k)}else Q1(u,N,H,S,k)})}}),Q2=(u,p,S,k,N)=>{const H=Zc(p,S,k,N);aw(u,H)},cw=(u,p,S)=>{const k=Kr(p,S);aw(u,k)},tv=u=>{if(u.rangeCount>0){const p=u.getRangeAt(0),S=u.getRangeAt(u.rangeCount-1);return pt.some(H1.create(At.fromDom(p.startContainer),p.startOffset,At.fromDom(S.endContainer),S.endOffset))}else return pt.none()},gb=u=>{if(u.anchorNode===null||u.focusNode===null)return tv(u);{const p=At.fromDom(u.anchorNode),S=At.fromDom(u.focusNode);return hb(p,u.anchorOffset,S,u.focusOffset)?pt.some(H1.create(p,u.anchorOffset,S,u.focusOffset)):tv(u)}},ev=(u,p,S=!0)=>{const N=(S?rb:uO)(u,p);mb(u,N)},_y=u=>Fg(u).filter(p=>p.rangeCount>0).bind(gb),nv=u=>_y(u).map(p=>sd.exact(p.start,p.soffset,p.finish,p.foffset)),xy=(u,p)=>{const S=sy(u,p);return Ma(S)},rd=(u,p,S)=>qr(u,p,S),ov=u=>{Fg(u).each(p=>p.removeAllRanges())},sv=u=>({elementFromPoint:(ce,be)=>At.fromPoint(At.fromDom(u.document),ce,be),getRect:ce=>ce.dom.getBoundingClientRect(),getRangedRect:(ce,be,dn,yn)=>{const To=sd.exact(ce,be,dn,yn);return xy(u,To)},getSelection:()=>nv(u).map(ce=>F2(u,ce)),fromSitus:ce=>{const be=sd.relative(ce.start,ce.finish);return F2(u,be)},situsFromPoint:(ce,be)=>rd(u,ce,be).map(dn=>$2.create(dn.start,dn.soffset,dn.finish,dn.foffset)),clearSelection:()=>{ov(u)},collapseSelection:(ce=!1)=>{nv(u).each(be=>be.fold(dn=>dn.collapse(ce),(dn,yn)=>{const To=ce?dn:yn;cw(u,To,To)},(dn,yn,To,Rs)=>{const Ls=ce?dn:To,Gi=ce?yn:Rs;Q2(u,Ls,Gi,Ls,Gi)}))},setSelection:ce=>{Q2(u,ce.start,ce.soffset,ce.finish,ce.foffset)},setRelativeSelection:(ce,be)=>{cw(u,ce,be)},selectNode:ce=>{ev(u,ce,!1)},selectContents:ce=>{ev(u,ce)},getInnerHeight:()=>u.innerHeight,getScrollY:()=>uN(At.fromDom(u.document)).top,scrollBy:(ce,be)=>{yy(ce,be,At.fromDom(u.document))}}),mu=(u,p)=>({rows:u,cols:p}),rv=(u,p,S,k)=>{const N=sv(u),H=K2(N,p,S,k);return{clearstate:H.clearstate,mousedown:H.mousedown,mouseover:H.mouseover,mouseup:H.mouseup}},iv=u=>rg(u,Sn).exists(aa),av=(u,p)=>iv(u)||iv(p),AO=(u,p,S,k)=>{const N=sv(u),H=()=>(k.clear(p),pt.none());return{keydown:(it,mt,Dt,ue,Te,xe)=>{const me=it.raw,Fe=me.which,ce=me.shiftKey===!0;return ou(p,k.selectedSelector).fold(()=>(fb(Fe)&&!ce&&k.clearBeforeUpdate(p),fb(Fe)&&ce&&!av(mt,ue)?pt.none:sw(Fe)&&ce?ln(py,N,p,S,nw,ue,mt,k.selectRange):vy(Fe)&&ce?ln(py,N,p,S,ow,ue,mt,k.selectRange):sw(Fe)?ln(Y1,N,S,nw,ue,mt,gy):vy(Fe)?ln(Y1,N,S,ow,ue,mt,my):pt.none),dn=>{const yn=To=>()=>kn(To,Ls=>qx(Ls.rows,Ls.cols,p,dn,k)).fold(()=>I0(p,k.firstSelectedSelector,k.lastSelectedSelector).map(Ls=>{const Gi=sw(Fe)||xe.isForward(Fe)?ua.after:ua.before;return N.setRelativeSelection(ua.on(Ls.first,0),Gi(Ls.table)),k.clear(p),sb.create(pt.none(),!0)}),Ls=>pt.some(sb.create(pt.none(),!0)));return fb(Fe)&&ce&&!av(mt,ue)?pt.none:sw(Fe)&&ce?yn([mu(1,0)]):vy(Fe)&&ce?yn([mu(-1,0)]):xe.isBackward(Fe)&&ce?yn([mu(0,-1),mu(-1,0)]):xe.isForward(Fe)&&ce?yn([mu(0,1),mu(1,0)]):fb(Fe)&&!ce?H:pt.none})()},keyup:(it,mt,Dt,ue,Te)=>ou(p,k.selectedSelector).fold(()=>{const xe=it.raw,me=xe.which;return xe.shiftKey===!0&&fb(me)&&av(mt,ue)?Ng(p,S,mt,Dt,ue,Te,k.selectRange):pt.none()},pt.none)}},kO=(u,p,S,k)=>{const N=sv(u);return(H,K)=>{k.clearBeforeUpdate(p),Fp(H,K,S).each(et=>{const it=et.boxes.getOr([]);k.selectRange(p,it,et.start,et.finish),N.selectContents(K),N.collapseSelection()})}},Al=(u,p)=>{const S=tl(u,p);return S===void 0||S===""?[]:S.split(" ")},tE=(u,p,S)=>{const N=Al(u,p).concat([S]);return Sr(u,p,N.join(" ")),!0},OO=(u,p,S)=>{const k=ko(Al(u,p),N=>N!==S);return k.length>0?Sr(u,p,k.join(" ")):Ns(u,p),!1},ji=u=>u.dom.classList!==void 0,Uo=u=>Al(u,"class"),gu=(u,p)=>tE(u,"class",p),vc=(u,p)=>OO(u,"class",p),pu=(u,p)=>{ji(u)?u.dom.classList.add(p):gu(u,p)},wy=u=>{(ji(u)?u.dom.classList:Uo(u)).length===0&&Ns(u,"class")},lw=(u,p)=>{ji(u)?u.dom.classList.remove(p):vc(u,p),wy(u)},sf=(u,p)=>ji(u)&&u.dom.classList.contains(p),eE=(u,p)=>{Kt(p,S=>{lw(u,S)})},Cy=u=>p=>{pu(p,u)},DO=u=>p=>{eE(p,u)},uw={byClass:u=>{const p=Cy(u.selected),S=DO([u.selected,u.lastSelected,u.firstSelected]),k=H=>{const K=Ca(H,u.selectedSelector);Kt(K,S)};return{clearBeforeUpdate:k,clear:k,selectRange:(H,K,et,it)=>{k(H),Kt(K,p),pu(et,u.firstSelected),pu(it,u.lastSelected)},selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},byAttr:(u,p,S)=>{const k=it=>{Ns(it,u.selected),Ns(it,u.firstSelected),Ns(it,u.lastSelected)},N=it=>{Sr(it,u.selected,"1")},H=it=>{K(it),S()},K=it=>{const mt=Ca(it,`${u.selectedSelector},${u.firstSelectedSelector},${u.lastSelectedSelector}`);Kt(mt,k)};return{clearBeforeUpdate:K,clear:H,selectRange:(it,mt,Dt,ue)=>{H(it),Kt(mt,N),Sr(Dt,u.firstSelected,"1"),Sr(ue,u.lastSelected,"1"),p(mt,Dt,ue)},selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}}},dw=(u,p,S,k)=>{switch(u.tag){case"none":return p();case"single":return k(u.element);case"multiple":return S(u.elements)}},fw=()=>({tag:"none"}),Go=u=>({tag:"multiple",elements:u}),ph=u=>({tag:"single",element:u}),hw=(u,p,S)=>({get:()=>Ud(u(),S).fold(()=>p().fold(fw,ph),Go)}),mw=(u,p)=>{const S=u.slice(0,p[p.length-1].row+1),k=On(S);return hs(k,N=>{const H=N.cells.slice(0,p[p.length-1].column+1);return bn(H,K=>K.element)})},cv=(u,p)=>{const S=u.slice(p[0].row+p[0].rowspan-1,u.length),k=On(S);return hs(k,N=>{const H=N.cells.slice(p[0].column+p[0].colspan-1,N.cells.length);return bn(H,K=>K.element)})},Sy=(u,p,S)=>{const k=Qn.fromTable(u);return ls(k,p).map(H=>{const K=un(k,S,!1),{rows:et}=ri(K),it=mw(et,H),mt=cv(et,H);return{upOrLeftCells:it,downOrRightCells:mt}})},Sm=(u,p,S,k,N,H,K)=>({target:u,x:p,y:S,stop:k,prevent:N,kill:H,raw:K}),Em=u=>{const p=At.fromDom(Ee(u).getOr(u.target)),S=()=>u.stopPropagation(),k=()=>u.preventDefault(),N=Je(k,S);return Sm(p,u.clientX,u.clientY,S,k,N,u)},RO=(u,p)=>S=>{u(S)&&p(Em(S))},MO=(u,p,S,k,N)=>{const H=RO(S,k);return u.dom.addEventListener(p,H,N),{unbind:ln(PO,u,p,H,N)}},sE=(u,p,S,k)=>MO(u,p,S,k,!1),PO=(u,p,S,k)=>{u.dom.removeEventListener(p,S,k)},Ey=Zt,pb=(u,p,S)=>sE(u,p,Ey,S),Hg=Em,gw=u=>!sf(At.fromDom(u.target),"ephox-snooker-resizer-bar"),NO=(u,p)=>{const S=hw(()=>At.fromDom(u.getBody()),()=>Sg(am(u),Yf(u)),Ui.selectedSelector),k=(it,mt,Dt)=>{na(mt).each(Te=>{const xe=bn(it,dn=>dn.dom),me=Ds(u),Fe=rm($t,At.fromDom(u.getDoc()),me),ce=zc(u),be=Sy(Te,{selection:ce},Fe).map(dn=>Ms(dn,yn=>bn(yn,To=>To.dom))).getOrUndefined();Wk(u,xe,mt.dom,Dt.dom,be)})},N=()=>tb(u),H=uw.byAttr(Ui,k,N);return u.on("init",it=>{const mt=u.getWin(),Dt=Ql(u),ue=Yf(u),Te=()=>{const ns=u.selection,Na=At.fromDom(ns.getStart()),fa=At.fromDom(ns.getEnd());Qf(na,[Na,fa]).fold(()=>H.clear(Dt),$t)},xe=rv(mt,Dt,ue,H),me=AO(mt,Dt,ue,H),Fe=kO(mt,Dt,ue,H),ce=ns=>ns.raw.shiftKey===!0;u.on("TableSelectorChange",ns=>Fe(ns.start,ns.finish));const be=(ns,Na)=>{ce(ns)&&(Na.kill&&ns.kill(),Na.selection.each(fa=>{const bu=sd.relative(fa.start,fa.finish),Dl=sy(mt,bu);u.selection.setRng(Dl)}))},dn=ns=>{const Na=Hg(ns);if(Na.raw.shiftKey&&fb(Na.raw.which)){const fa=u.selection.getRng(),bu=At.fromDom(fa.startContainer),Dl=At.fromDom(fa.endContainer);me.keyup(Na,bu,fa.startOffset,Dl,fa.endOffset).each(Zg=>{be(Na,Zg)})}},yn=ns=>{const Na=Hg(ns);p.hide();const fa=u.selection.getRng(),bu=At.fromDom(fa.startContainer),Dl=At.fromDom(fa.endContainer),Zg=Ea(Y2,Tl)(At.fromDom(u.selection.getStart()));me.keydown(Na,bu,fa.startOffset,Dl,fa.endOffset,Zg).each(ha=>{be(Na,ha)}),p.show()},To=ns=>ns.button===0,Rs=ns=>ns.buttons===void 0?!0:(ns.buttons&1)!==0,Ls=ns=>{xe.clearstate()},Gi=ns=>{To(ns)&&gw(ns)&&xe.mousedown(Hg(ns))},Ol=ns=>{Rs(ns)&&gw(ns)&&xe.mouseover(Hg(ns))},Am=ns=>{To(ns)&&gw(ns)&&xe.mouseup(Hg(ns))},Iy=(()=>{const ns=by(At.fromDom(Dt)),Na=by(0);return{touchEnd:bu=>{const Dl=At.fromDom(bu.target);if(Xi("td")(Dl)||Xi("th")(Dl)){const Zg=ns.get(),ha=Na.get();_s(Zg,Dl)&&bu.timeStamp-ha<300&&(bu.preventDefault(),Fe(Dl,Dl))}ns.set(Dl),Na.set(bu.timeStamp)}}})();u.on("dragstart",Ls),u.on("mousedown",Gi),u.on("mouseover",Ol),u.on("mouseup",Am),u.on("touchend",Iy.touchEnd),u.on("keyup",dn),u.on("keydown",yn),u.on("NodeChange",Te)}),u.on("PreInit",()=>{u.serializer.addTempAttr(Ui.firstSelected),u.serializer.addTempAttr(Ui.lastSelected)}),{getSelectedCells:()=>dw(S.get(),ft([]),it=>bn(it,mt=>mt.dom),it=>[it.dom]),clearSelectedCells:it=>H.clear(At.fromDom(it))}},kl=u=>{let p=[];return{bind:H=>{if(H===void 0)throw new Error("Event bind error: undefined handler");p.push(H)},unbind:H=>{p=ko(p,K=>K!==H)},trigger:(...H)=>{const K={};Kt(u,(et,it)=>{K[et]=H[it]}),Kt(p,et=>{et(K)})}}},Ir=u=>{const p=Ms(u,k=>({bind:k.bind,unbind:k.unbind})),S=Ms(u,k=>k.trigger);return{registry:p,trigger:S}},Zi=(u,p)=>{let S=null;const k=()=>{Bt(S)||(clearTimeout(S),S=null)};return{cancel:k,throttle:(...H)=>{k(),S=setTimeout(()=>{S=null,u.apply(null,H)},p)}}},rf=u=>u.slice(0).sort(),dN=(u,p)=>{throw new Error("All required keys ("+rf(u).join(", ")+") were not specified. Specified keys were: "+rf(p).join(", ")+".")},LO=u=>{throw new Error("Unsupported keys for object: "+rf(u).join(", "))},BO=(u,p)=>{if(!gt(p))throw new Error("The "+u+" fields must be an array. Was: "+p+".");Kt(p,S=>{if(!G(S))throw new Error("The value "+S+" in the "+u+" fields was not a string.")})},lo=(u,p)=>{throw new Error("All values need to be of type: "+p+". Keys ("+rf(u).join(", ")+") were not.")},IO=u=>{const p=rf(u);X(p,(k,N)=>N<p.length-1&&k===p[N+1]).each(k=>{throw new Error("The field: "+k+" occurs more than once in the combined fields: ["+p.join(", ")+"].")})},rE=(u,p)=>pw(u,p,{validate:ze,label:"function"}),pw=(u,p,S)=>{if(p.length===0)throw new Error("You must specify at least one required field.");return BO("required",p),IO(p),k=>{const N=Se(k);ie(p,et=>Po(N,et))||dN(p,N),u(p,N);const K=ko(p,et=>!S.validate(k[et],et));return K.length>0&&lo(K,S.label),k}},$O=(u,p)=>{const S=ko(p,k=>!Po(u,k));S.length>0&&LO(S)},bw=u=>rE($O,u),FO=bw(["compare","extract","mutate","sink"]),iE=bw(["element","start","stop","destroy"]),aE=bw(["forceDrop","drop","move","delayDrop"]),cE=()=>{let u=pt.none();const p=()=>{u=pt.none()},S=(H,K)=>{const et=u.map(it=>H.compare(it,K));return u=pt.some(K),et},k=(H,K)=>{K.extract(H).each(it=>{S(K,it).each(Dt=>{N.trigger.move(Dt)})})},N=Ir({move:kl(["info"])});return{onEvent:k,reset:p,events:N.registry}},vw=()=>{const u=Ir({move:kl(["info"])});return{onEvent:$t,reset:$t,events:u.registry}},Ty=()=>{const u=vw(),p=cE();let S=u;return{on:()=>{S.reset(),S=p},off:()=>{S.reset(),S=u},isOn:()=>S===p,onEvent:(et,it)=>{S.onEvent(et,it)},events:p.events}},lE=(u,p,S)=>{let k=!1;const N=Ir({start:kl([]),stop:kl([])}),H=Ty(),K=()=>{me.stop(),H.isOn()&&(H.off(),N.trigger.stop())},et=Zi(K,200),it=ce=>{me.start(ce),H.on(),N.trigger.start()},mt=ce=>{et.cancel(),H.onEvent(ce,p)};H.events.move.bind(ce=>{p.mutate(u,ce.info)});const Dt=()=>{k=!0},ue=()=>{k=!1},Te=()=>k,xe=ce=>(...be)=>{k&&ce.apply(null,be)},me=p.sink(aE({forceDrop:K,drop:xe(K),move:xe(mt),delayDrop:xe(et.throttle)}),S),Fe=()=>{me.destroy()};return{element:me.element,go:it,on:Dt,off:ue,isActive:Te,destroy:Fe,events:N.registry}},uE=u=>{const p=u.replace(/\./g,"-");return{resolve:k=>p+"-"+k}},HO=uE("ephox-dragster").resolve,dE=u=>{const p={layerClass:HO("blocker"),...u},S=At.fromTag("div");return Sr(S,"role","presentation"),Ul(S,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),pu(S,HO("blocker")),pu(S,p.layerClass),{element:ft(S),destroy:()=>{hi(S)}}};var VO=FO({compare:(u,p)=>cl(p.left-u.left,p.top-u.top),extract:u=>pt.some(cl(u.x,u.y)),sink:(u,p)=>{const S=dE(p),k=pb(S.element(),"mousedown",u.forceDrop),N=pb(S.element(),"mouseup",u.drop),H=pb(S.element(),"mousemove",u.move),K=pb(S.element(),"mouseout",u.delayDrop),et=()=>{S.destroy(),N.unbind(),H.unbind(),K.unbind(),k.unbind()},it=Dt=>{Vn(Dt,S.element())},mt=()=>{hi(S.element())};return iE({element:S.element,start:it,stop:mt,destroy:et})},mutate:(u,p)=>{u.mutate(p.left,p.top)}});const Ze=(u,p={})=>{var S;const k=(S=p.mode)!==null&&S!==void 0?S:VO;return lE(u,k,p)},Ay=uE("ephox-snooker").resolve,hE=()=>{const u=Ir({drag:kl(["xDelta","yDelta"])});return{mutate:(S,k)=>{u.trigger.drag(S,k)},events:u.registry}},ky=()=>{const u=Ir({drag:kl(["xDelta","yDelta","target"])});let p=pt.none();const S=hE();return S.events.drag.bind(H=>{p.each(K=>{u.trigger.drag(H.xDelta,H.yDelta,K)})}),{assign:H=>{p=pt.some(H)},get:()=>p,mutate:S.mutate,events:u.registry}},yw=(u,p,S,k,N)=>{const H=At.fromTag("div");return Ul(H,{position:"absolute",left:p-k/2+"px",top:S+"px",height:N+"px",width:k+"px"}),wc(H,{"data-column":u,role:"presentation"}),H},_w=(u,p,S,k,N)=>{const H=At.fromTag("div");return Ul(H,{position:"absolute",left:p+"px",top:S-N/2+"px",height:N+"px",width:k+"px"}),wc(H,{"data-row":u,role:"presentation"}),H},Oy=Ay("resizer-bar"),mE=Ay("resizer-rows"),xw=Ay("resizer-cols"),Dy=7,Ry=(u,p)=>hs(u.all,(S,k)=>p(S.element)?[k]:[]),lv=(u,p)=>{const S=[];return wo(u.grid.columns,k=>{Qn.getColumnAt(u,k).map(H=>H.element).forall(p)&&S.push(k)}),ko(S,k=>{const N=Qn.filterItems(u,H=>H.column===k);return ie(N,H=>p(H.element))})},My=u=>{const p=Ca(u.parent(),"."+Oy);Kt(p,hi)},ww=(u,p,S)=>{const k=u.origin();Kt(p,N=>{N.each(H=>{const K=S(k,H);pu(K,Oy),Vn(u.parent(),K)})})},zO=(u,p,S,k)=>{ww(u,p,(N,H)=>{const K=yw(H.col,H.x-N.left,S.top-N.top,Dy,k);return pu(K,xw),K})},WO=(u,p,S,k)=>{ww(u,p,(N,H)=>{const K=_w(H.row,S.left-N.left,H.y-N.top,k,Dy);return pu(K,mE),K})},Ro=(u,p,S,k,N)=>{const H=Qh(S),K=p.isResizable,et=k.length>0?Vu.positions(k,S):[],it=et.length>0?Ry(u,K):[],mt=ko(et,(xe,me)=>re(it,Fe=>me===Fe));WO(p,mt,H,Ln(S));const Dt=N.length>0?jf.positions(N,S):[],ue=Dt.length>0?lv(u,K):[],Te=ko(Dt,(xe,me)=>re(ue,Fe=>me===Fe));zO(p,Te,H,C0(S))},Py=(u,p)=>{if(My(u),u.isResizable(p)){const S=Qn.fromTable(p),k=ox(S),N=Jh(S);Ro(S,u,p,k,N)}},cf=(u,p)=>{const S=Ca(u.parent(),"."+Oy);Kt(S,p)},lf=u=>{cf(u,p=>{ws(p,"display","none")})},Ny=u=>{cf(u,p=>{ws(p,"display","block")})},yc=u=>sf(u,mE),bb=u=>sf(u,xw),uv=Ay("resizer-bar-dragging"),Ly=u=>{const p=ky(),S=Ze(p,{});let k=pt.none();const N=(me,Fe)=>pt.from(tl(me,Fe));p.events.drag.bind(me=>{N(me.target,"data-row").each(Fe=>{const ce=Wi(me.target,"top");ws(me.target,"top",ce+me.yDelta+"px")}),N(me.target,"data-column").each(Fe=>{const ce=Wi(me.target,"left");ws(me.target,"left",ce+me.xDelta+"px")})});const H=(me,Fe)=>{const ce=Wi(me,Fe),be=nr(me,"data-initial-"+Fe,0);return ce-be};S.events.stop.bind(()=>{p.get().each(me=>{k.each(Fe=>{N(me,"data-row").each(ce=>{const be=H(me,"top");Ns(me,"data-initial-top"),xe.trigger.adjustHeight(Fe,be,parseInt(ce,10))}),N(me,"data-column").each(ce=>{const be=H(me,"left");Ns(me,"data-initial-left"),xe.trigger.adjustWidth(Fe,be,parseInt(ce,10))}),Py(u,Fe)})})});const K=(me,Fe)=>{xe.trigger.startAdjust(),p.assign(me),Sr(me,"data-initial-"+Fe,Wi(me,Fe)),pu(me,uv),ws(me,"opacity","0.2"),S.go(u.parent())},et=pb(u.parent(),"mousedown",me=>{yc(me.target)&&K(me.target,"top"),bb(me.target)&&K(me.target,"left")}),it=me=>_s(me,u.view()),mt=me=>ei(me,"table",it).filter(aa),Dt=pb(u.view(),"mouseover",me=>{mt(me.target).fold(()=>{$s(me.target)&&My(u)},Fe=>{S.isActive()&&(k=pt.some(Fe),Py(u,Fe))})}),ue=()=>{et.unbind(),Dt.unbind(),S.destroy(),My(u)},Te=me=>{Py(u,me)},xe=Ir({adjustHeight:kl(["table","delta","row"]),adjustWidth:kl(["table","delta","column"]),startAdjust:kl([])});return{destroy:ue,refresh:Te,on:S.on,off:S.off,hideBars:ln(lf,u),showBars:ln(Ny,u),events:xe.registry}},UO={create:(u,p,S)=>{const k=Vu,N=jf,H=Ly(u),K=Ir({beforeResize:kl(["table","type"]),afterResize:kl(["table","type"]),startDrag:kl([])});return H.events.adjustHeight.bind(et=>{const it=et.table;K.trigger.beforeResize(it,"row");const mt=k.delta(et.delta,it);WS(it,mt,et.row),K.trigger.afterResize(it,"row")}),H.events.startAdjust.bind(et=>{K.trigger.startDrag()}),H.events.adjustWidth.bind(et=>{const it=et.table;K.trigger.beforeResize(it,"col");const mt=N.delta(et.delta,it),Dt=S(it);Xd(it,mt,et.column,p,Dt),K.trigger.afterResize(it,"col")}),{on:H.on,off:H.off,refreshBars:H.refresh,hideBars:H.hideBars,showBars:H.showBars,destroy:H.destroy,events:K.registry}}},uo={only:(u,p)=>{const S=cp(u)?Xr(u):u;return{parent:ft(S),view:ft(u),origin:ft(cl(0,0)),isResizable:p}},detached:(u,p,S)=>{const k=()=>Qh(p);return{parent:ft(p),view:ft(u),origin:k,isResizable:S}},body:(u,p,S)=>({parent:ft(p),view:ft(u),origin:ft(cl(0,0)),isResizable:S})},id=()=>{const u=At.fromTag("div");return Ul(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Vn(Pr(),u),u},Vg=(u,p)=>u.inline?uo.body(At.fromDom(u.getBody()),id(),p):uo.only(At.fromDom(u.getDoc()),p),jO=(u,p)=>{u.inline&&hi(p.parent())},vb=u=>He(u)&&u.nodeName==="TABLE",mo="bar-",ZO=u=>tl(u,"data-mce-resize")!=="false",zg=u=>{const p=Qn.fromTable(u);Qn.hasColumns(p)||Kt(jl(u),S=>{const k=Pf(S,"width");ws(S,"width",k),Ns(S,"width")})},yb=u=>ta(u,"corner-"),GO=u=>ig(u,"corner-"),Wg=u=>{const p=ew(),S=ew(),k=ew();let N,H,K,et;const it=be=>Nx(u,be),mt=()=>Vd(u)?pl():rh(),Dt=be=>qd(be).columns,ue=be=>qd(be).rows,Te=(be,dn,yn,To)=>{const Rs=GO(dn),Ls=Za(Rs,"e"),Gi=ta(Rs,"n");if(H===""&&fu(be),et===""&&Kk(be),yn!==N&&H!==""){ws(be,"width",H);const Ol=mt(),Am=it(be),jg=Vd(u)||Ls?Dt(be)-1:0;Xd(be,yn-N,jg,Ol,Am)}else if(zn(H)){const Ol=parseFloat(H.replace("%","")),Am=yn*Ol/N;ws(be,"width",Am+"%")}if(on(H)&&zg(be),To!==K&&et!==""){ws(be,"height",et);const Ol=Gi?0:ue(be)-1;WS(be,To-K,Ol)}},xe=()=>{S.on(be=>{be.destroy()}),k.on(be=>{jO(u,be)})};return u.on("init",()=>{const be=Vg(u,ZO);if(k.set(be),d1(u)&&wg(u)){const dn=mt(),yn=UO.create(be,dn,it);yn.on(),yn.events.startDrag.bind(To=>{p.set(u.selection.getRng())}),yn.events.beforeResize.bind(To=>{const Rs=To.table.dom;ds(u,Rs,h1(Rs),m1(Rs),mo+To.type)}),yn.events.afterResize.bind(To=>{const Rs=To.table,Ls=Rs.dom;Hc(Rs),p.on(Gi=>{u.selection.setRng(Gi),u.focus()}),Px(u,Ls,h1(Ls),m1(Ls),mo+To.type),u.undoManager.add()}),S.set(yn)}}),u.on("ObjectResizeStart",be=>{const dn=be.target;if(vb(dn)){const yn=At.fromDom(dn);Kt(u.dom.select(".mce-clonedresizable"),To=>{u.dom.addClass(To,"mce-"+Ku(u)+"-columns")}),!Qd(yn)&&Bi(u)?ob(yn):!p2(yn)&&Kf(u)&&fu(yn),ey(yn)&&ta(be.origin,mo)&&fu(yn),N=be.width,H=br(u)?"":cm(u,dn).getOr(""),K=be.height,et=Xf(u,dn).getOr("")}}),u.on("ObjectResized",be=>{const dn=be.target;if(vb(dn)){const yn=At.fromDom(dn),To=be.origin;yb(To)&&Te(yn,To,be.width,be.height),Hc(yn),uh(u,yn.dom,$i)}}),u.on("SwitchMode",()=>{S.on(be=>{u.mode.isReadOnly()?be.hideBars():be.showBars()})}),u.on("dragstart dragend",be=>{S.on(dn=>{be.type==="dragstart"?(dn.hideBars(),dn.off()):(dn.on(),dn.showBars())})}),u.on("remove",()=>{xe()}),{refresh:be=>{S.on(dn=>dn.refreshBars(At.fromDom(be)))},hide:()=>{S.on(be=>be.hideBars())},show:()=>{S.on(be=>be.showBars())}}},Ug=u=>{ix(u);const p=Wg(u),S=NO(u,p),k=Q0(u,p,S);return iO(u,k),D2(u,k),IS(u,k),{getSelectedCells:S.getSelectedCells,clearSelectedCells:S.clearSelectedCells}},By=u=>({table:Ug(u)});var qO=()=>{v.add("dom",By)};qO()})();var nY=!1,oY=!1,xS=[],sY=-1;function Nlt(v){Llt(v)}function Llt(v){xS.includes(v)||xS.push(v),Blt()}function xet(v){let m=xS.indexOf(v);m!==-1&&m>sY&&xS.splice(m,1)}function Blt(){!oY&&!nY&&(nY=!0,queueMicrotask(Ilt))}function Ilt(){nY=!1,oY=!0;for(let v=0;v<xS.length;v++)xS[v](),sY=v;xS.length=0,sY=-1,oY=!1}var kk,MS,Ok,wet,rY=!0;function $lt(v){rY=!1,v(),rY=!0}function Flt(v){kk=v.reactive,Ok=v.release,MS=m=>v.effect(m,{scheduler:C=>{rY?Nlt(C):C()}}),wet=v.raw}function BQ(v){MS=v}function Hlt(v){let m=()=>{};return[M=>{let $=MS(M);return v._x_effects||(v._x_effects=new Set,v._x_runEffects=()=>{v._x_effects.forEach(W=>W())}),v._x_effects.add($),m=()=>{$!==void 0&&(v._x_effects.delete($),Ok($))},$},()=>{m()}]}function Cet(v,m){let C=!0,M,$=MS(()=>{let W=v();JSON.stringify(W),C?M=W:queueMicrotask(()=>{m(W,M),M=W}),C=!1});return()=>Ok($)}var Eet=[],Tet=[],Aet=[];function Vlt(v){Aet.push(v)}function UY(v,m){typeof m=="function"?(v._x_cleanups||(v._x_cleanups=[]),v._x_cleanups.push(m)):(m=v,Tet.push(m))}function ket(v){Eet.push(v)}function Oet(v,m,C){v._x_attributeCleanups||(v._x_attributeCleanups={}),v._x_attributeCleanups[m]||(v._x_attributeCleanups[m]=[]),v._x_attributeCleanups[m].push(C)}function Det(v,m){v._x_attributeCleanups&&Object.entries(v._x_attributeCleanups).forEach(([C,M])=>{(m===void 0||m.includes(C))&&(M.forEach($=>$()),delete v._x_attributeCleanups[C])})}function zlt(v){if(v._x_cleanups)for(;v._x_cleanups.length;)v._x_cleanups.pop()()}var jY=new MutationObserver(KY),ZY=!1;function GY(){jY.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ZY=!0}function Ret(){Wlt(),jY.disconnect(),ZY=!1}var B4=[];function Wlt(){let v=jY.takeRecords();B4.push(()=>v.length>0&&KY(v));let m=B4.length;queueMicrotask(()=>{if(B4.length===m)for(;B4.length>0;)B4.shift()()})}function xc(v){if(!ZY)return v();Ret();let m=v();return GY(),m}var qY=!1,L6=[];function Ult(){qY=!0}function jlt(){qY=!1,KY(L6),L6=[]}function KY(v){if(qY){L6=L6.concat(v);return}let m=new Set,C=new Set,M=new Map,$=new Map;for(let W=0;W<v.length;W++)if(!v[W].target._x_ignoreMutationObserver&&(v[W].type==="childList"&&(v[W].addedNodes.forEach(G=>G.nodeType===1&&m.add(G)),v[W].removedNodes.forEach(G=>G.nodeType===1&&C.add(G))),v[W].type==="attributes")){let G=v[W].target,tt=v[W].attributeName,gt=v[W].oldValue,Bt=()=>{M.has(G)||M.set(G,[]),M.get(G).push({name:tt,value:G.getAttribute(tt)})},Tt=()=>{$.has(G)||$.set(G,[]),$.get(G).push(tt)};G.hasAttribute(tt)&&gt===null?Bt():G.hasAttribute(tt)?(Tt(),Bt()):Tt()}$.forEach((W,G)=>{Det(G,W)}),M.forEach((W,G)=>{Eet.forEach(tt=>tt(G,W))});for(let W of C)m.has(W)||Tet.forEach(G=>G(W));m.forEach(W=>{W._x_ignoreSelf=!0,W._x_ignore=!0});for(let W of m)C.has(W)||W.isConnected&&(delete W._x_ignoreSelf,delete W._x_ignore,Aet.forEach(G=>G(W)),W._x_ignore=!0,W._x_ignoreSelf=!0);m.forEach(W=>{delete W._x_ignoreSelf,delete W._x_ignore}),m=null,C=null,M=null,$=null}function Met(v){return sN(_k(v))}function oN(v,m,C){return v._x_dataStack=[m,..._k(C||v)],()=>{v._x_dataStack=v._x_dataStack.filter(M=>M!==m)}}function _k(v){return v._x_dataStack?v._x_dataStack:typeof ShadowRoot=="function"&&v instanceof ShadowRoot?_k(v.host):v.parentNode?_k(v.parentNode):[]}function sN(v){return new Proxy({objects:v},Zlt)}var Zlt={ownKeys({objects:v}){return Array.from(new Set(v.flatMap(m=>Object.keys(m))))},has({objects:v},m){return m==Symbol.unscopables?!1:v.some(C=>Object.prototype.hasOwnProperty.call(C,m)||Reflect.has(C,m))},get({objects:v},m,C){return m=="toJSON"?Glt:Reflect.get(v.find(M=>Reflect.has(M,m))||{},m,C)},set({objects:v},m,C,M){const $=v.find(G=>Object.prototype.hasOwnProperty.call(G,m))||v[v.length-1],W=Object.getOwnPropertyDescriptor($,m);return W!=null&&W.set&&(W!=null&&W.get)?Reflect.set($,m,C,M):Reflect.set($,m,C)}};function Glt(){return Reflect.ownKeys(this).reduce((m,C)=>(m[C]=Reflect.get(this,C),m),{})}function Pet(v){let m=M=>typeof M=="object"&&!Array.isArray(M)&&M!==null,C=(M,$="")=>{Object.entries(Object.getOwnPropertyDescriptors(M)).forEach(([W,{value:G,enumerable:tt}])=>{if(tt===!1||G===void 0||typeof G=="object"&&G!==null&&G.__v_skip)return;let gt=$===""?W:`${$}.${W}`;typeof G=="object"&&G!==null&&G._x_interceptor?M[W]=G.initialize(v,gt,W):m(G)&&G!==M&&!(G instanceof Element)&&C(G,gt)})};return C(v)}function Net(v,m=()=>{}){let C={initialValue:void 0,_x_interceptor:!0,initialize(M,$,W){return v(this.initialValue,()=>qlt(M,$),G=>iY(M,$,G),$,W)}};return m(C),M=>{if(typeof M=="object"&&M!==null&&M._x_interceptor){let $=C.initialize.bind(C);C.initialize=(W,G,tt)=>{let gt=M.initialize(W,G,tt);return C.initialValue=gt,$(W,G,tt)}}else C.initialValue=M;return C}}function qlt(v,m){return m.split(".").reduce((C,M)=>C[M],v)}function iY(v,m,C){if(typeof m=="string"&&(m=m.split(".")),m.length===1)v[m[0]]=C;else{if(m.length===0)throw error;return v[m[0]]||(v[m[0]]={}),iY(v[m[0]],m.slice(1),C)}}var Let={};function ap(v,m){Let[v]=m}function aY(v,m){return Object.entries(Let).forEach(([C,M])=>{let $=null;function W(){if($)return $;{let[G,tt]=Vet(m);return $={interceptor:Net,...G},UY(m,tt),$}}Object.defineProperty(v,`$${C}`,{get(){return M(m,W())},enumerable:!1})}),v}function Klt(v,m,C,...M){try{return C(...M)}catch($){Z4($,v,m)}}function Z4(v,m,C=void 0){v=Object.assign(v??{message:"No error message given."},{el:m,expression:C}),console.warn(`Alpine Expression Error: ${v.message}

${C?'Expression: "'+C+`"

`:""}`,m),setTimeout(()=>{throw v},0)}var k6=!0;function Bet(v){let m=k6;k6=!1;let C=v();return k6=m,C}function wS(v,m,C={}){let M;return Ed(v,m)($=>M=$,C),M}function Ed(...v){return Iet(...v)}var Iet=$et;function Ylt(v){Iet=v}function $et(v,m){let C={};aY(C,v);let M=[C,..._k(v)],$=typeof m=="function"?Xlt(M,m):Qlt(M,m,v);return Klt.bind(null,v,m,$)}function Xlt(v,m){return(C=()=>{},{scope:M={},params:$=[]}={})=>{let W=m.apply(sN([M,...v]),$);B6(C,W)}}var FK={};function Jlt(v,m){if(FK[v])return FK[v];let C=Object.getPrototypeOf(async function(){}).constructor,M=/^[\n\s]*if.*\(.*\)/.test(v.trim())||/^(let|const)\s/.test(v.trim())?`(async()=>{ ${v} })()`:v,W=(()=>{try{let G=new C(["__self","scope"],`with (scope) { __self.result = ${M} }; __self.finished = true; return __self.result;`);return Object.defineProperty(G,"name",{value:`[Alpine] ${v}`}),G}catch(G){return Z4(G,m,v),Promise.resolve()}})();return FK[v]=W,W}function Qlt(v,m,C){let M=Jlt(m,C);return($=()=>{},{scope:W={},params:G=[]}={})=>{M.result=void 0,M.finished=!1;let tt=sN([W,...v]);if(typeof M=="function"){let gt=M(M,tt).catch(Bt=>Z4(Bt,C,m));M.finished?(B6($,M.result,tt,G,C),M.result=void 0):gt.then(Bt=>{B6($,Bt,tt,G,C)}).catch(Bt=>Z4(Bt,C,m)).finally(()=>M.result=void 0)}}}function B6(v,m,C,M,$){if(k6&&typeof m=="function"){let W=m.apply(C,M);W instanceof Promise?W.then(G=>B6(v,G,C,M)).catch(G=>Z4(G,$,m)):v(W)}else typeof m=="object"&&m instanceof Promise?m.then(W=>v(W)):v(m)}var YY="x-";function Dk(v=""){return YY+v}function tut(v){YY=v}var I6={};function rc(v,m){return I6[v]=m,{before(C){if(!I6[C]){console.warn(String.raw`Cannot find directive \`${C}\`. \`${v}\` will use the default order of execution`);return}const M=yS.indexOf(C);yS.splice(M>=0?M:yS.indexOf("DEFAULT"),0,v)}}}function eut(v){return Object.keys(I6).includes(v)}function XY(v,m,C){if(m=Array.from(m),v._x_virtualDirectives){let W=Object.entries(v._x_virtualDirectives).map(([tt,gt])=>({name:tt,value:gt})),G=Fet(W);W=W.map(tt=>G.find(gt=>gt.name===tt.name)?{name:`x-bind:${tt.name}`,value:`"${tt.value}"`}:tt),m=m.concat(W)}let M={};return m.map(Uet((W,G)=>M[W]=G)).filter(Zet).map(sut(M,C)).sort(rut).map(W=>out(v,W))}function Fet(v){return Array.from(v).map(Uet()).filter(m=>!Zet(m))}var cY=!1,F4=new Map,Het=Symbol();function nut(v){cY=!0;let m=Symbol();Het=m,F4.set(m,[]);let C=()=>{for(;F4.get(m).length;)F4.get(m).shift()();F4.delete(m)},M=()=>{cY=!1,C()};v(C),M()}function Vet(v){let m=[],C=tt=>m.push(tt),[M,$]=Hlt(v);return m.push($),[{Alpine:iN,effect:M,cleanup:C,evaluateLater:Ed.bind(Ed,v),evaluate:wS.bind(wS,v)},()=>m.forEach(tt=>tt())]}function out(v,m){let C=()=>{},M=I6[m.type]||C,[$,W]=Vet(v);Oet(v,m.original,W);let G=()=>{v._x_ignore||v._x_ignoreSelf||(M.inline&&M.inline(v,m,$),M=M.bind(M,v,m,$),cY?F4.get(Het).push(M):M())};return G.runCleanups=W,G}var zet=(v,m)=>({name:C,value:M})=>(C.startsWith(v)&&(C=C.replace(v,m)),{name:C,value:M}),Wet=v=>v;function Uet(v=()=>{}){return({name:m,value:C})=>{let{name:M,value:$}=jet.reduce((W,G)=>G(W),{name:m,value:C});return M!==m&&v(M,m),{name:M,value:$}}}var jet=[];function JY(v){jet.push(v)}function Zet({name:v}){return Get().test(v)}var Get=()=>new RegExp(`^${YY}([^:^.]+)\\b`);function sut(v,m){return({name:C,value:M})=>{let $=C.match(Get()),W=C.match(/:([a-zA-Z0-9\-_:]+)/),G=C.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],tt=m||v[C]||C;return{type:$?$[1]:null,value:W?W[1]:null,modifiers:G.map(gt=>gt.replace(".","")),expression:M,original:tt}}}var lY="DEFAULT",yS=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",lY,"teleport"];function rut(v,m){let C=yS.indexOf(v.type)===-1?lY:v.type,M=yS.indexOf(m.type)===-1?lY:m.type;return yS.indexOf(C)-yS.indexOf(M)}function z4(v,m,C={}){v.dispatchEvent(new CustomEvent(m,{detail:C,bubbles:!0,composed:!0,cancelable:!0}))}function W_(v,m){if(typeof ShadowRoot=="function"&&v instanceof ShadowRoot){Array.from(v.children).forEach($=>W_($,m));return}let C=!1;if(m(v,()=>C=!0),C)return;let M=v.firstElementChild;for(;M;)W_(M,m),M=M.nextElementSibling}function Zm(v,...m){console.warn(`Alpine Warning: ${v}`,...m)}var IQ=!1;function iut(){IQ&&Zm("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),IQ=!0,document.body||Zm("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),z4(document,"alpine:init"),z4(document,"alpine:initializing"),GY(),Vlt(m=>c0(m,W_)),UY(m=>tnt(m)),ket((m,C)=>{XY(m,C).forEach(M=>M())});let v=m=>!K6(m.parentElement,!0);Array.from(document.querySelectorAll(Yet().join(","))).filter(v).forEach(m=>{c0(m)}),z4(document,"alpine:initialized"),setTimeout(()=>{lut()})}var QY=[],qet=[];function Ket(){return QY.map(v=>v())}function Yet(){return QY.concat(qet).map(v=>v())}function Xet(v){QY.push(v)}function Jet(v){qet.push(v)}function K6(v,m=!1){return rN(v,C=>{if((m?Yet():Ket()).some($=>C.matches($)))return!0})}function rN(v,m){if(v){if(m(v))return v;if(v._x_teleportBack&&(v=v._x_teleportBack),!!v.parentElement)return rN(v.parentElement,m)}}function aut(v){return Ket().some(m=>v.matches(m))}var Qet=[];function cut(v){Qet.push(v)}function c0(v,m=W_,C=()=>{}){nut(()=>{m(v,(M,$)=>{C(M,$),Qet.forEach(W=>W(M,$)),XY(M,M.attributes).forEach(W=>W()),M._x_ignore&&$()})})}function tnt(v,m=W_){m(v,C=>{Det(C),zlt(C)})}function lut(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([m,C,M])=>{eut(C)||M.some($=>{if(document.querySelector($))return Zm(`found "${$}", but missing ${m} plugin`),!0})})}var uY=[],tX=!1;function eX(v=()=>{}){return queueMicrotask(()=>{tX||setTimeout(()=>{dY()})}),new Promise(m=>{uY.push(()=>{v(),m()})})}function dY(){for(tX=!1;uY.length;)uY.shift()()}function uut(){tX=!0}function nX(v,m){return Array.isArray(m)?$Q(v,m.join(" ")):typeof m=="object"&&m!==null?dut(v,m):typeof m=="function"?nX(v,m()):$Q(v,m)}function $Q(v,m){let C=$=>$.split(" ").filter(W=>!v.classList.contains(W)).filter(Boolean),M=$=>(v.classList.add(...$),()=>{v.classList.remove(...$)});return m=m===!0?m="":m||"",M(C(m))}function dut(v,m){let C=tt=>tt.split(" ").filter(Boolean),M=Object.entries(m).flatMap(([tt,gt])=>gt?C(tt):!1).filter(Boolean),$=Object.entries(m).flatMap(([tt,gt])=>gt?!1:C(tt)).filter(Boolean),W=[],G=[];return $.forEach(tt=>{v.classList.contains(tt)&&(v.classList.remove(tt),G.push(tt))}),M.forEach(tt=>{v.classList.contains(tt)||(v.classList.add(tt),W.push(tt))}),()=>{G.forEach(tt=>v.classList.add(tt)),W.forEach(tt=>v.classList.remove(tt))}}function Y6(v,m){return typeof m=="object"&&m!==null?fut(v,m):hut(v,m)}function fut(v,m){let C={};return Object.entries(m).forEach(([M,$])=>{C[M]=v.style[M],M.startsWith("--")||(M=mut(M)),v.style.setProperty(M,$)}),setTimeout(()=>{v.style.length===0&&v.removeAttribute("style")}),()=>{Y6(v,C)}}function hut(v,m){let C=v.getAttribute("style",m);return v.setAttribute("style",m),()=>{v.setAttribute("style",C||"")}}function mut(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fY(v,m=()=>{}){let C=!1;return function(){C?m.apply(this,arguments):(C=!0,v.apply(this,arguments))}}rc("transition",(v,{value:m,modifiers:C,expression:M},{evaluate:$})=>{typeof M=="function"&&(M=$(M)),M!==!1&&(!M||typeof M=="boolean"?put(v,C,m):gut(v,M,m))});function gut(v,m,C){ent(v,nX,""),{enter:$=>{v._x_transition.enter.during=$},"enter-start":$=>{v._x_transition.enter.start=$},"enter-end":$=>{v._x_transition.enter.end=$},leave:$=>{v._x_transition.leave.during=$},"leave-start":$=>{v._x_transition.leave.start=$},"leave-end":$=>{v._x_transition.leave.end=$}}[C](m)}function put(v,m,C){ent(v,Y6);let M=!m.includes("in")&&!m.includes("out")&&!C,$=M||m.includes("in")||["enter"].includes(C),W=M||m.includes("out")||["leave"].includes(C);m.includes("in")&&!M&&(m=m.filter((Je,Nn)=>Nn<m.indexOf("out"))),m.includes("out")&&!M&&(m=m.filter((Je,Nn)=>Nn>m.indexOf("out")));let G=!m.includes("opacity")&&!m.includes("scale"),tt=G||m.includes("opacity"),gt=G||m.includes("scale"),Bt=tt?0:1,Tt=gt?I4(m,"scale",95)/100:1,Lt=I4(m,"delay",0)/1e3,Le=I4(m,"origin","center"),He="opacity, transform",ze=I4(m,"duration",150)/1e3,_e=I4(m,"duration",75)/1e3,$t="cubic-bezier(0.4, 0.0, 0.2, 1)";$&&(v._x_transition.enter.during={transformOrigin:Le,transitionDelay:`${Lt}s`,transitionProperty:He,transitionDuration:`${ze}s`,transitionTimingFunction:$t},v._x_transition.enter.start={opacity:Bt,transform:`scale(${Tt})`},v._x_transition.enter.end={opacity:1,transform:"scale(1)"}),W&&(v._x_transition.leave.during={transformOrigin:Le,transitionDelay:`${Lt}s`,transitionProperty:He,transitionDuration:`${_e}s`,transitionTimingFunction:$t},v._x_transition.leave.start={opacity:1,transform:"scale(1)"},v._x_transition.leave.end={opacity:Bt,transform:`scale(${Tt})`})}function ent(v,m,C={}){v._x_transition||(v._x_transition={enter:{during:C,start:C,end:C},leave:{during:C,start:C,end:C},in(M=()=>{},$=()=>{}){hY(v,m,{during:this.enter.during,start:this.enter.start,end:this.enter.end},M,$)},out(M=()=>{},$=()=>{}){hY(v,m,{during:this.leave.during,start:this.leave.start,end:this.leave.end},M,$)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(v,m,C,M){const $=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let W=()=>$(C);if(m){v._x_transition&&(v._x_transition.enter||v._x_transition.leave)?v._x_transition.enter&&(Object.entries(v._x_transition.enter.during).length||Object.entries(v._x_transition.enter.start).length||Object.entries(v._x_transition.enter.end).length)?v._x_transition.in(C):W():v._x_transition?v._x_transition.in(C):W();return}v._x_hidePromise=v._x_transition?new Promise((G,tt)=>{v._x_transition.out(()=>{},()=>G(M)),v._x_transitioning&&v._x_transitioning.beforeCancel(()=>tt({isFromCancelledTransition:!0}))}):Promise.resolve(M),queueMicrotask(()=>{let G=nnt(v);G?(G._x_hideChildren||(G._x_hideChildren=[]),G._x_hideChildren.push(v)):$(()=>{let tt=gt=>{let Bt=Promise.all([gt._x_hidePromise,...(gt._x_hideChildren||[]).map(tt)]).then(([Tt])=>Tt());return delete gt._x_hidePromise,delete gt._x_hideChildren,Bt};tt(v).catch(gt=>{if(!gt.isFromCancelledTransition)throw gt})})})};function nnt(v){let m=v.parentNode;if(m)return m._x_hidePromise?m:nnt(m)}function hY(v,m,{during:C,start:M,end:$}={},W=()=>{},G=()=>{}){if(v._x_transitioning&&v._x_transitioning.cancel(),Object.keys(C).length===0&&Object.keys(M).length===0&&Object.keys($).length===0){W(),G();return}let tt,gt,Bt;but(v,{start(){tt=m(v,M)},during(){gt=m(v,C)},before:W,end(){tt(),Bt=m(v,$)},after:G,cleanup(){gt(),Bt()}})}function but(v,m){let C,M,$,W=fY(()=>{xc(()=>{C=!0,M||m.before(),$||(m.end(),dY()),m.after(),v.isConnected&&m.cleanup(),delete v._x_transitioning})});v._x_transitioning={beforeCancels:[],beforeCancel(G){this.beforeCancels.push(G)},cancel:fY(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();W()}),finish:W},xc(()=>{m.start(),m.during()}),uut(),requestAnimationFrame(()=>{if(C)return;let G=Number(getComputedStyle(v).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,tt=Number(getComputedStyle(v).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;G===0&&(G=Number(getComputedStyle(v).animationDuration.replace("s",""))*1e3),xc(()=>{m.before()}),M=!0,requestAnimationFrame(()=>{C||(xc(()=>{m.end()}),dY(),setTimeout(v._x_transitioning.finish,G+tt),$=!0)})})}function I4(v,m,C){if(v.indexOf(m)===-1)return C;const M=v[v.indexOf(m)+1];if(!M||m==="scale"&&isNaN(M))return C;if(m==="duration"||m==="delay"){let $=M.match(/([0-9]+)ms/);if($)return $[1]}return m==="origin"&&["top","right","left","center","bottom"].includes(v[v.indexOf(m)+2])?[M,v[v.indexOf(m)+2]].join(" "):M}var U_=!1;function K_(v,m=()=>{}){return(...C)=>U_?m(...C):v(...C)}function vut(v){return(...m)=>U_&&v(...m)}var ont=[];function X6(v){ont.push(v)}function yut(v,m){ont.forEach(C=>C(v,m)),U_=!0,snt(()=>{c0(m,(C,M)=>{M(C,()=>{})})}),U_=!1}var mY=!1;function _ut(v,m){m._x_dataStack||(m._x_dataStack=v._x_dataStack),U_=!0,mY=!0,snt(()=>{xut(m)}),U_=!1,mY=!1}function xut(v){let m=!1;c0(v,(M,$)=>{W_(M,(W,G)=>{if(m&&aut(W))return G();m=!0,$(W,G)})})}function snt(v){let m=MS;BQ((C,M)=>{let $=m(C);return Ok($),()=>{}}),v(),BQ(m)}function rnt(v,m,C,M=[]){switch(v._x_bindings||(v._x_bindings=kk({})),v._x_bindings[m]=C,m=M.includes("camel")?Out(m):m,m){case"value":wut(v,C);break;case"style":Sut(v,C);break;case"class":Cut(v,C);break;case"selected":case"checked":Eut(v,m,C);break;default:int(v,m,C);break}}function wut(v,m){if(v.type==="radio")v.attributes.value===void 0&&(v.value=m),window.fromModel&&(typeof m=="boolean"?v.checked=O6(v.value)===m:v.checked=FQ(v.value,m));else if(v.type==="checkbox")Number.isInteger(m)?v.value=m:!Array.isArray(m)&&typeof m!="boolean"&&![null,void 0].includes(m)?v.value=String(m):Array.isArray(m)?v.checked=m.some(C=>FQ(C,v.value)):v.checked=!!m;else if(v.tagName==="SELECT")kut(v,m);else{if(v.value===m)return;v.value=m===void 0?"":m}}function Cut(v,m){v._x_undoAddedClasses&&v._x_undoAddedClasses(),v._x_undoAddedClasses=nX(v,m)}function Sut(v,m){v._x_undoAddedStyles&&v._x_undoAddedStyles(),v._x_undoAddedStyles=Y6(v,m)}function Eut(v,m,C){int(v,m,C),Aut(v,m,C)}function int(v,m,C){[null,void 0,!1].includes(C)&&Dut(m)?v.removeAttribute(m):(ant(m)&&(C=m),Tut(v,m,C))}function Tut(v,m,C){v.getAttribute(m)!=C&&v.setAttribute(m,C)}function Aut(v,m,C){v[m]!==C&&(v[m]=C)}function kut(v,m){const C=[].concat(m).map(M=>M+"");Array.from(v.options).forEach(M=>{M.selected=C.includes(M.value)})}function Out(v){return v.toLowerCase().replace(/-(\w)/g,(m,C)=>C.toUpperCase())}function FQ(v,m){return v==m}function O6(v){return[1,"1","true","on","yes",!0].includes(v)?!0:[0,"0","false","off","no",!1].includes(v)?!1:v?!!v:null}function ant(v){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(v)}function Dut(v){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(v)}function Rut(v,m,C){return v._x_bindings&&v._x_bindings[m]!==void 0?v._x_bindings[m]:cnt(v,m,C)}function Mut(v,m,C,M=!0){if(v._x_bindings&&v._x_bindings[m]!==void 0)return v._x_bindings[m];if(v._x_inlineBindings&&v._x_inlineBindings[m]!==void 0){let $=v._x_inlineBindings[m];return $.extract=M,Bet(()=>wS(v,$.expression))}return cnt(v,m,C)}function cnt(v,m,C){let M=v.getAttribute(m);return M===null?typeof C=="function"?C():C:M===""?!0:ant(m)?!![m,"true"].includes(M):M}function lnt(v,m){var C;return function(){var M=this,$=arguments,W=function(){C=null,v.apply(M,$)};clearTimeout(C),C=setTimeout(W,m)}}function unt(v,m){let C;return function(){let M=this,$=arguments;C||(v.apply(M,$),C=!0,setTimeout(()=>C=!1,m))}}function dnt({get:v,set:m},{get:C,set:M}){let $=!0,W,G=MS(()=>{let tt=v(),gt=C();if($)M(HK(tt)),$=!1;else{let Bt=JSON.stringify(tt),Tt=JSON.stringify(gt);Bt!==W?M(HK(tt)):Bt!==Tt&&m(HK(gt))}W=JSON.stringify(v()),JSON.stringify(C())});return()=>{Ok(G)}}function HK(v){return typeof v=="object"?JSON.parse(JSON.stringify(v)):v}function Put(v){(Array.isArray(v)?v:[v]).forEach(C=>C(iN))}var pS={},HQ=!1;function Nut(v,m){if(HQ||(pS=kk(pS),HQ=!0),m===void 0)return pS[v];pS[v]=m,typeof m=="object"&&m!==null&&m.hasOwnProperty("init")&&typeof m.init=="function"&&pS[v].init(),Pet(pS[v])}function Lut(){return pS}var fnt={};function But(v,m){let C=typeof m!="function"?()=>m:m;return v instanceof Element?hnt(v,C()):(fnt[v]=C,()=>{})}function Iut(v){return Object.entries(fnt).forEach(([m,C])=>{Object.defineProperty(v,m,{get(){return(...M)=>C(...M)}})}),v}function hnt(v,m,C){let M=[];for(;M.length;)M.pop()();let $=Object.entries(m).map(([G,tt])=>({name:G,value:tt})),W=Fet($);return $=$.map(G=>W.find(tt=>tt.name===G.name)?{name:`x-bind:${G.name}`,value:`"${G.value}"`}:G),XY(v,$,C).map(G=>{M.push(G.runCleanups),G()}),()=>{for(;M.length;)M.pop()()}}var mnt={};function $ut(v,m){mnt[v]=m}function Fut(v,m){return Object.entries(mnt).forEach(([C,M])=>{Object.defineProperty(v,C,{get(){return(...$)=>M.bind(m)(...$)},enumerable:!1})}),v}var Hut={get reactive(){return kk},get release(){return Ok},get effect(){return MS},get raw(){return wet},version:"3.13.10",flushAndStopDeferringMutations:jlt,dontAutoEvaluateFunctions:Bet,disableEffectScheduling:$lt,startObservingMutations:GY,stopObservingMutations:Ret,setReactivityEngine:Flt,onAttributeRemoved:Oet,onAttributesAdded:ket,closestDataStack:_k,skipDuringClone:K_,onlyDuringClone:vut,addRootSelector:Xet,addInitSelector:Jet,interceptClone:X6,addScopeToNode:oN,deferMutations:Ult,mapAttributes:JY,evaluateLater:Ed,interceptInit:cut,setEvaluator:Ylt,mergeProxies:sN,extractProp:Mut,findClosest:rN,onElRemoved:UY,closestRoot:K6,destroyTree:tnt,interceptor:Net,transition:hY,setStyles:Y6,mutateDom:xc,directive:rc,entangle:dnt,throttle:unt,debounce:lnt,evaluate:wS,initTree:c0,nextTick:eX,prefixed:Dk,prefix:tut,plugin:Put,magic:ap,store:Nut,start:iut,clone:_ut,cloneNode:yut,bound:Rut,$data:Met,watch:Cet,walk:W_,data:$ut,bind:But},iN=Hut;function Vut(v,m){const C=Object.create(null),M=v.split(",");for(let $=0;$<M.length;$++)C[M[$]]=!0;return m?$=>!!C[$.toLowerCase()]:$=>!!C[$]}var zut=Object.freeze({}),Wut=Object.prototype.hasOwnProperty,J6=(v,m)=>Wut.call(v,m),CS=Array.isArray,W4=v=>gnt(v)==="[object Map]",Uut=v=>typeof v=="string",oX=v=>typeof v=="symbol",Q6=v=>v!==null&&typeof v=="object",jut=Object.prototype.toString,gnt=v=>jut.call(v),pnt=v=>gnt(v).slice(8,-1),sX=v=>Uut(v)&&v!=="NaN"&&v[0]!=="-"&&""+parseInt(v,10)===v,Zut=v=>{const m=Object.create(null);return C=>m[C]||(m[C]=v(C))},Gut=Zut(v=>v.charAt(0).toUpperCase()+v.slice(1)),bnt=(v,m)=>v!==m&&(v===v||m===m),gY=new WeakMap,$4=[],Fb,SS=Symbol("iterate"),pY=Symbol("Map key iterate");function qut(v){return v&&v._isEffect===!0}function Kut(v,m=zut){qut(v)&&(v=v.raw);const C=Jut(v,m);return m.lazy||C(),C}function Yut(v){v.active&&(vnt(v),v.options.onStop&&v.options.onStop(),v.active=!1)}var Xut=0;function Jut(v,m){const C=function(){if(!C.active)return v();if(!$4.includes(C)){vnt(C);try{return tdt(),$4.push(C),Fb=C,v()}finally{$4.pop(),ynt(),Fb=$4[$4.length-1]}}};return C.id=Xut++,C.allowRecurse=!!m.allowRecurse,C._isEffect=!0,C.active=!0,C.raw=v,C.deps=[],C.options=m,C}function vnt(v){const{deps:m}=v;if(m.length){for(let C=0;C<m.length;C++)m[C].delete(v);m.length=0}}var xk=!0,rX=[];function Qut(){rX.push(xk),xk=!1}function tdt(){rX.push(xk),xk=!0}function ynt(){const v=rX.pop();xk=v===void 0?!0:v}function ip(v,m,C){if(!xk||Fb===void 0)return;let M=gY.get(v);M||gY.set(v,M=new Map);let $=M.get(C);$||M.set(C,$=new Set),$.has(Fb)||($.add(Fb),Fb.deps.push($),Fb.options.onTrack&&Fb.options.onTrack({effect:Fb,target:v,type:m,key:C}))}function j_(v,m,C,M,$,W){const G=gY.get(v);if(!G)return;const tt=new Set,gt=Tt=>{Tt&&Tt.forEach(Lt=>{(Lt!==Fb||Lt.allowRecurse)&&tt.add(Lt)})};if(m==="clear")G.forEach(gt);else if(C==="length"&&CS(v))G.forEach((Tt,Lt)=>{(Lt==="length"||Lt>=M)&&gt(Tt)});else switch(C!==void 0&&gt(G.get(C)),m){case"add":CS(v)?sX(C)&&gt(G.get("length")):(gt(G.get(SS)),W4(v)&&gt(G.get(pY)));break;case"delete":CS(v)||(gt(G.get(SS)),W4(v)&&gt(G.get(pY)));break;case"set":W4(v)&&gt(G.get(SS));break}const Bt=Tt=>{Tt.options.onTrigger&&Tt.options.onTrigger({effect:Tt,target:v,key:C,type:m,newValue:M,oldValue:$,oldTarget:W}),Tt.options.scheduler?Tt.options.scheduler(Tt):Tt()};tt.forEach(Bt)}var edt=Vut("__proto__,__v_isRef,__isVue"),_nt=new Set(Object.getOwnPropertyNames(Symbol).map(v=>Symbol[v]).filter(oX)),ndt=xnt(),odt=xnt(!0),VQ=sdt();function sdt(){const v={};return["includes","indexOf","lastIndexOf"].forEach(m=>{v[m]=function(...C){const M=Si(this);for(let W=0,G=this.length;W<G;W++)ip(M,"get",W+"");const $=M[m](...C);return $===-1||$===!1?M[m](...C.map(Si)):$}}),["push","pop","shift","unshift","splice"].forEach(m=>{v[m]=function(...C){Qut();const M=Si(this)[m].apply(this,C);return ynt(),M}}),v}function xnt(v=!1,m=!1){return function(M,$,W){if($==="__v_isReactive")return!v;if($==="__v_isReadonly")return v;if($==="__v_raw"&&W===(v?m?_dt:Ent:m?ydt:Snt).get(M))return M;const G=CS(M);if(!v&&G&&J6(VQ,$))return Reflect.get(VQ,$,W);const tt=Reflect.get(M,$,W);return(oX($)?_nt.has($):edt($))||(v||ip(M,"get",$),m)?tt:bY(tt)?!G||!sX($)?tt.value:tt:Q6(tt)?v?Tnt(tt):lX(tt):tt}}var rdt=idt();function idt(v=!1){return function(C,M,$,W){let G=C[M];if(!v&&($=Si($),G=Si(G),!CS(C)&&bY(G)&&!bY($)))return G.value=$,!0;const tt=CS(C)&&sX(M)?Number(M)<C.length:J6(C,M),gt=Reflect.set(C,M,$,W);return C===Si(W)&&(tt?bnt($,G)&&j_(C,"set",M,$,G):j_(C,"add",M,$)),gt}}function adt(v,m){const C=J6(v,m),M=v[m],$=Reflect.deleteProperty(v,m);return $&&C&&j_(v,"delete",m,void 0,M),$}function cdt(v,m){const C=Reflect.has(v,m);return(!oX(m)||!_nt.has(m))&&ip(v,"has",m),C}function ldt(v){return ip(v,"iterate",CS(v)?"length":SS),Reflect.ownKeys(v)}var udt={get:ndt,set:rdt,deleteProperty:adt,has:cdt,ownKeys:ldt},ddt={get:odt,set(v,m){return console.warn(`Set operation on key "${String(m)}" failed: target is readonly.`,v),!0},deleteProperty(v,m){return console.warn(`Delete operation on key "${String(m)}" failed: target is readonly.`,v),!0}},iX=v=>Q6(v)?lX(v):v,aX=v=>Q6(v)?Tnt(v):v,cX=v=>v,t7=v=>Reflect.getPrototypeOf(v);function p6(v,m,C=!1,M=!1){v=v.__v_raw;const $=Si(v),W=Si(m);m!==W&&!C&&ip($,"get",m),!C&&ip($,"get",W);const{has:G}=t7($),tt=M?cX:C?aX:iX;if(G.call($,m))return tt(v.get(m));if(G.call($,W))return tt(v.get(W));v!==$&&v.get(m)}function b6(v,m=!1){const C=this.__v_raw,M=Si(C),$=Si(v);return v!==$&&!m&&ip(M,"has",v),!m&&ip(M,"has",$),v===$?C.has(v):C.has(v)||C.has($)}function v6(v,m=!1){return v=v.__v_raw,!m&&ip(Si(v),"iterate",SS),Reflect.get(v,"size",v)}function zQ(v){v=Si(v);const m=Si(this);return t7(m).has.call(m,v)||(m.add(v),j_(m,"add",v,v)),this}function WQ(v,m){m=Si(m);const C=Si(this),{has:M,get:$}=t7(C);let W=M.call(C,v);W?Cnt(C,M,v):(v=Si(v),W=M.call(C,v));const G=$.call(C,v);return C.set(v,m),W?bnt(m,G)&&j_(C,"set",v,m,G):j_(C,"add",v,m),this}function UQ(v){const m=Si(this),{has:C,get:M}=t7(m);let $=C.call(m,v);$?Cnt(m,C,v):(v=Si(v),$=C.call(m,v));const W=M?M.call(m,v):void 0,G=m.delete(v);return $&&j_(m,"delete",v,void 0,W),G}function jQ(){const v=Si(this),m=v.size!==0,C=W4(v)?new Map(v):new Set(v),M=v.clear();return m&&j_(v,"clear",void 0,void 0,C),M}function y6(v,m){return function(M,$){const W=this,G=W.__v_raw,tt=Si(G),gt=m?cX:v?aX:iX;return!v&&ip(tt,"iterate",SS),G.forEach((Bt,Tt)=>M.call($,gt(Bt),gt(Tt),W))}}function _6(v,m,C){return function(...M){const $=this.__v_raw,W=Si($),G=W4(W),tt=v==="entries"||v===Symbol.iterator&&G,gt=v==="keys"&&G,Bt=$[v](...M),Tt=C?cX:m?aX:iX;return!m&&ip(W,"iterate",gt?pY:SS),{next(){const{value:Lt,done:Le}=Bt.next();return Le?{value:Lt,done:Le}:{value:tt?[Tt(Lt[0]),Tt(Lt[1])]:Tt(Lt),done:Le}},[Symbol.iterator](){return this}}}}function H_(v){return function(...m){{const C=m[0]?`on key "${m[0]}" `:"";console.warn(`${Gut(v)} operation ${C}failed: target is readonly.`,Si(this))}return v==="delete"?!1:this}}function fdt(){const v={get(W){return p6(this,W)},get size(){return v6(this)},has:b6,add:zQ,set:WQ,delete:UQ,clear:jQ,forEach:y6(!1,!1)},m={get(W){return p6(this,W,!1,!0)},get size(){return v6(this)},has:b6,add:zQ,set:WQ,delete:UQ,clear:jQ,forEach:y6(!1,!0)},C={get(W){return p6(this,W,!0)},get size(){return v6(this,!0)},has(W){return b6.call(this,W,!0)},add:H_("add"),set:H_("set"),delete:H_("delete"),clear:H_("clear"),forEach:y6(!0,!1)},M={get(W){return p6(this,W,!0,!0)},get size(){return v6(this,!0)},has(W){return b6.call(this,W,!0)},add:H_("add"),set:H_("set"),delete:H_("delete"),clear:H_("clear"),forEach:y6(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(W=>{v[W]=_6(W,!1,!1),C[W]=_6(W,!0,!1),m[W]=_6(W,!1,!0),M[W]=_6(W,!0,!0)}),[v,C,m,M]}var[hdt,mdt,gdt,pdt]=fdt();function wnt(v,m){const C=m?v?pdt:gdt:v?mdt:hdt;return(M,$,W)=>$==="__v_isReactive"?!v:$==="__v_isReadonly"?v:$==="__v_raw"?M:Reflect.get(J6(C,$)&&$ in M?C:M,$,W)}var bdt={get:wnt(!1,!1)},vdt={get:wnt(!0,!1)};function Cnt(v,m,C){const M=Si(C);if(M!==C&&m.call(v,M)){const $=pnt(v);console.warn(`Reactive ${$} contains both the raw and reactive versions of the same object${$==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Snt=new WeakMap,ydt=new WeakMap,Ent=new WeakMap,_dt=new WeakMap;function xdt(v){switch(v){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wdt(v){return v.__v_skip||!Object.isExtensible(v)?0:xdt(pnt(v))}function lX(v){return v&&v.__v_isReadonly?v:Ant(v,!1,udt,bdt,Snt)}function Tnt(v){return Ant(v,!0,ddt,vdt,Ent)}function Ant(v,m,C,M,$){if(!Q6(v))return console.warn(`value cannot be made reactive: ${String(v)}`),v;if(v.__v_raw&&!(m&&v.__v_isReactive))return v;const W=$.get(v);if(W)return W;const G=wdt(v);if(G===0)return v;const tt=new Proxy(v,G===2?M:C);return $.set(v,tt),tt}function Si(v){return v&&Si(v.__v_raw)||v}function bY(v){return!!(v&&v.__v_isRef===!0)}ap("nextTick",()=>eX);ap("dispatch",v=>z4.bind(z4,v));ap("watch",(v,{evaluateLater:m,cleanup:C})=>(M,$)=>{let W=m(M),tt=Cet(()=>{let gt;return W(Bt=>gt=Bt),gt},$);C(tt)});ap("store",Lut);ap("data",v=>Met(v));ap("root",v=>K6(v));ap("refs",v=>(v._x_refs_proxy||(v._x_refs_proxy=sN(Cdt(v))),v._x_refs_proxy));function Cdt(v){let m=[];return rN(v,C=>{C._x_refs&&m.push(C._x_refs)}),m}var VK={};function knt(v){return VK[v]||(VK[v]=0),++VK[v]}function Sdt(v,m){return rN(v,C=>{if(C._x_ids&&C._x_ids[m])return!0})}function Edt(v,m){v._x_ids||(v._x_ids={}),v._x_ids[m]||(v._x_ids[m]=knt(m))}ap("id",(v,{cleanup:m})=>(C,M=null)=>{let $=`${C}${M?`-${M}`:""}`;return Tdt(v,$,m,()=>{let W=Sdt(v,C),G=W?W._x_ids[C]:knt(C);return M?`${C}-${G}-${M}`:`${C}-${G}`})});X6((v,m)=>{v._x_id&&(m._x_id=v._x_id)});function Tdt(v,m,C,M){if(v._x_id||(v._x_id={}),v._x_id[m])return v._x_id[m];let $=M();return v._x_id[m]=$,C(()=>{delete v._x_id[m]}),$}ap("el",v=>v);Ont("Focus","focus","focus");Ont("Persist","persist","persist");function Ont(v,m,C){ap(m,M=>Zm(`You can't use [$${m}] without first installing the "${v}" plugin here: https://alpinejs.dev/plugins/${C}`,M))}rc("modelable",(v,{expression:m},{effect:C,evaluateLater:M,cleanup:$})=>{let W=M(m),G=()=>{let Tt;return W(Lt=>Tt=Lt),Tt},tt=M(`${m} = __placeholder`),gt=Tt=>tt(()=>{},{scope:{__placeholder:Tt}}),Bt=G();gt(Bt),queueMicrotask(()=>{if(!v._x_model)return;v._x_removeModelListeners.default();let Tt=v._x_model.get,Lt=v._x_model.set,Le=dnt({get(){return Tt()},set(He){Lt(He)}},{get(){return G()},set(He){gt(He)}});$(Le)})});rc("teleport",(v,{modifiers:m,expression:C},{cleanup:M})=>{v.tagName.toLowerCase()!=="template"&&Zm("x-teleport can only be used on a <template> tag",v);let $=ZQ(C),W=v.content.cloneNode(!0).firstElementChild;v._x_teleport=W,W._x_teleportBack=v,v.setAttribute("data-teleport-template",!0),W.setAttribute("data-teleport-target",!0),v._x_forwardEvents&&v._x_forwardEvents.forEach(tt=>{W.addEventListener(tt,gt=>{gt.stopPropagation(),v.dispatchEvent(new gt.constructor(gt.type,gt))})}),oN(W,{},v);let G=(tt,gt,Bt)=>{Bt.includes("prepend")?gt.parentNode.insertBefore(tt,gt):Bt.includes("append")?gt.parentNode.insertBefore(tt,gt.nextSibling):gt.appendChild(tt)};xc(()=>{G(W,$,m),K_(()=>{c0(W),W._x_ignore=!0})()}),v._x_teleportPutBack=()=>{let tt=ZQ(C);xc(()=>{G(v._x_teleport,tt,m)})},M(()=>W.remove())});var Adt=document.createElement("div");function ZQ(v){let m=K_(()=>document.querySelector(v),()=>Adt)();return m||Zm(`Cannot find x-teleport element for selector: "${v}"`),m}var Dnt=()=>{};Dnt.inline=(v,{modifiers:m},{cleanup:C})=>{m.includes("self")?v._x_ignoreSelf=!0:v._x_ignore=!0,C(()=>{m.includes("self")?delete v._x_ignoreSelf:delete v._x_ignore})};rc("ignore",Dnt);rc("effect",K_((v,{expression:m},{effect:C})=>{C(Ed(v,m))}));function vY(v,m,C,M){let $=v,W=gt=>M(gt),G={},tt=(gt,Bt)=>Tt=>Bt(gt,Tt);if(C.includes("dot")&&(m=kdt(m)),C.includes("camel")&&(m=Odt(m)),C.includes("passive")&&(G.passive=!0),C.includes("capture")&&(G.capture=!0),C.includes("window")&&($=window),C.includes("document")&&($=document),C.includes("debounce")){let gt=C[C.indexOf("debounce")+1]||"invalid-wait",Bt=$6(gt.split("ms")[0])?Number(gt.split("ms")[0]):250;W=lnt(W,Bt)}if(C.includes("throttle")){let gt=C[C.indexOf("throttle")+1]||"invalid-wait",Bt=$6(gt.split("ms")[0])?Number(gt.split("ms")[0]):250;W=unt(W,Bt)}return C.includes("prevent")&&(W=tt(W,(gt,Bt)=>{Bt.preventDefault(),gt(Bt)})),C.includes("stop")&&(W=tt(W,(gt,Bt)=>{Bt.stopPropagation(),gt(Bt)})),C.includes("once")&&(W=tt(W,(gt,Bt)=>{gt(Bt),$.removeEventListener(m,W,G)})),(C.includes("away")||C.includes("outside"))&&($=document,W=tt(W,(gt,Bt)=>{v.contains(Bt.target)||Bt.target.isConnected!==!1&&(v.offsetWidth<1&&v.offsetHeight<1||v._x_isShown!==!1&&gt(Bt))})),C.includes("self")&&(W=tt(W,(gt,Bt)=>{Bt.target===v&&gt(Bt)})),W=tt(W,(gt,Bt)=>{Rdt(m)&&Mdt(Bt,C)||gt(Bt)}),$.addEventListener(m,W,G),()=>{$.removeEventListener(m,W,G)}}function kdt(v){return v.replace(/-/g,".")}function Odt(v){return v.toLowerCase().replace(/-(\w)/g,(m,C)=>C.toUpperCase())}function $6(v){return!Array.isArray(v)&&!isNaN(v)}function Ddt(v){return[" ","_"].includes(v)?v:v.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Rdt(v){return["keydown","keyup"].includes(v)}function Mdt(v,m){let C=m.filter(W=>!["window","document","prevent","stop","once","capture"].includes(W));if(C.includes("debounce")){let W=C.indexOf("debounce");C.splice(W,$6((C[W+1]||"invalid-wait").split("ms")[0])?2:1)}if(C.includes("throttle")){let W=C.indexOf("throttle");C.splice(W,$6((C[W+1]||"invalid-wait").split("ms")[0])?2:1)}if(C.length===0||C.length===1&&GQ(v.key).includes(C[0]))return!1;const $=["ctrl","shift","alt","meta","cmd","super"].filter(W=>C.includes(W));return C=C.filter(W=>!$.includes(W)),!($.length>0&&$.filter(G=>((G==="cmd"||G==="super")&&(G="meta"),v[`${G}Key`])).length===$.length&&GQ(v.key).includes(C[0]))}function GQ(v){if(!v)return[];v=Ddt(v);let m={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return m[v]=v,Object.keys(m).map(C=>{if(m[C]===v)return C}).filter(C=>C)}rc("model",(v,{modifiers:m,expression:C},{effect:M,cleanup:$})=>{let W=v;m.includes("parent")&&(W=v.parentNode);let G=Ed(W,C),tt;typeof C=="string"?tt=Ed(W,`${C} = __placeholder`):typeof C=="function"&&typeof C()=="string"?tt=Ed(W,`${C()} = __placeholder`):tt=()=>{};let gt=()=>{let Le;return G(He=>Le=He),qQ(Le)?Le.get():Le},Bt=Le=>{let He;G(ze=>He=ze),qQ(He)?He.set(Le):tt(()=>{},{scope:{__placeholder:Le}})};typeof C=="string"&&v.type==="radio"&&xc(()=>{v.hasAttribute("name")||v.setAttribute("name",C)});var Tt=v.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(v.type)||m.includes("lazy")?"change":"input";let Lt=U_?()=>{}:vY(v,Tt,m,Le=>{Bt(zK(v,m,Le,gt()))});if(m.includes("fill")&&([void 0,null,""].includes(gt())||v.type==="checkbox"&&Array.isArray(gt())||v.tagName.toLowerCase()==="select"&&v.multiple)&&Bt(zK(v,m,{target:v},gt())),v._x_removeModelListeners||(v._x_removeModelListeners={}),v._x_removeModelListeners.default=Lt,$(()=>v._x_removeModelListeners.default()),v.form){let Le=vY(v.form,"reset",[],He=>{eX(()=>v._x_model&&v._x_model.set(zK(v,m,{target:v},gt())))});$(()=>Le())}v._x_model={get(){return gt()},set(Le){Bt(Le)}},v._x_forceModelUpdate=Le=>{Le===void 0&&typeof C=="string"&&C.match(/\./)&&(Le=""),window.fromModel=!0,xc(()=>rnt(v,"value",Le)),delete window.fromModel},M(()=>{let Le=gt();m.includes("unintrusive")&&document.activeElement.isSameNode(v)||v._x_forceModelUpdate(Le)})});function zK(v,m,C,M){return xc(()=>{if(C instanceof CustomEvent&&C.detail!==void 0)return C.detail!==null&&C.detail!==void 0?C.detail:C.target.value;if(v.type==="checkbox")if(Array.isArray(M)){let $=null;return m.includes("number")?$=WK(C.target.value):m.includes("boolean")?$=O6(C.target.value):$=C.target.value,C.target.checked?M.includes($)?M:M.concat([$]):M.filter(W=>!Pdt(W,$))}else return C.target.checked;else{if(v.tagName.toLowerCase()==="select"&&v.multiple)return m.includes("number")?Array.from(C.target.selectedOptions).map($=>{let W=$.value||$.text;return WK(W)}):m.includes("boolean")?Array.from(C.target.selectedOptions).map($=>{let W=$.value||$.text;return O6(W)}):Array.from(C.target.selectedOptions).map($=>$.value||$.text);{let $;return v.type==="radio"?C.target.checked?$=C.target.value:$=M:$=C.target.value,m.includes("number")?WK($):m.includes("boolean")?O6($):m.includes("trim")?$.trim():$}}})}function WK(v){let m=v?parseFloat(v):null;return Ndt(m)?m:v}function Pdt(v,m){return v==m}function Ndt(v){return!Array.isArray(v)&&!isNaN(v)}function qQ(v){return v!==null&&typeof v=="object"&&typeof v.get=="function"&&typeof v.set=="function"}rc("cloak",v=>queueMicrotask(()=>xc(()=>v.removeAttribute(Dk("cloak")))));Jet(()=>`[${Dk("init")}]`);rc("init",K_((v,{expression:m},{evaluate:C})=>typeof m=="string"?!!m.trim()&&C(m,{},!1):C(m,{},!1)));rc("text",(v,{expression:m},{effect:C,evaluateLater:M})=>{let $=M(m);C(()=>{$(W=>{xc(()=>{v.textContent=W})})})});rc("html",(v,{expression:m},{effect:C,evaluateLater:M})=>{let $=M(m);C(()=>{$(W=>{xc(()=>{v.innerHTML=W,v._x_ignoreSelf=!0,c0(v),delete v._x_ignoreSelf})})})});JY(zet(":",Wet(Dk("bind:"))));var Rnt=(v,{value:m,modifiers:C,expression:M,original:$},{effect:W,cleanup:G})=>{if(!m){let gt={};Iut(gt),Ed(v,M)(Tt=>{hnt(v,Tt,$)},{scope:gt});return}if(m==="key")return Ldt(v,M);if(v._x_inlineBindings&&v._x_inlineBindings[m]&&v._x_inlineBindings[m].extract)return;let tt=Ed(v,M);W(()=>tt(gt=>{gt===void 0&&typeof M=="string"&&M.match(/\./)&&(gt=""),xc(()=>rnt(v,m,gt,C))})),G(()=>{v._x_undoAddedClasses&&v._x_undoAddedClasses(),v._x_undoAddedStyles&&v._x_undoAddedStyles()})};Rnt.inline=(v,{value:m,modifiers:C,expression:M})=>{m&&(v._x_inlineBindings||(v._x_inlineBindings={}),v._x_inlineBindings[m]={expression:M,extract:!1})};rc("bind",Rnt);function Ldt(v,m){v._x_keyExpression=m}Xet(()=>`[${Dk("data")}]`);rc("data",(v,{expression:m},{cleanup:C})=>{if(Bdt(v))return;m=m===""?"{}":m;let M={};aY(M,v);let $={};Fut($,M);let W=wS(v,m,{scope:$});(W===void 0||W===!0)&&(W={}),aY(W,v);let G=kk(W);Pet(G);let tt=oN(v,G);G.init&&wS(v,G.init),C(()=>{G.destroy&&wS(v,G.destroy),tt()})});X6((v,m)=>{v._x_dataStack&&(m._x_dataStack=v._x_dataStack,m.setAttribute("data-has-alpine-state",!0))});function Bdt(v){return U_?mY?!0:v.hasAttribute("data-has-alpine-state"):!1}rc("show",(v,{modifiers:m,expression:C},{effect:M})=>{let $=Ed(v,C);v._x_doHide||(v._x_doHide=()=>{xc(()=>{v.style.setProperty("display","none",m.includes("important")?"important":void 0)})}),v._x_doShow||(v._x_doShow=()=>{xc(()=>{v.style.length===1&&v.style.display==="none"?v.removeAttribute("style"):v.style.removeProperty("display")})});let W=()=>{v._x_doHide(),v._x_isShown=!1},G=()=>{v._x_doShow(),v._x_isShown=!0},tt=()=>setTimeout(G),gt=fY(Lt=>Lt?G():W(),Lt=>{typeof v._x_toggleAndCascadeWithTransitions=="function"?v._x_toggleAndCascadeWithTransitions(v,Lt,G,W):Lt?tt():W()}),Bt,Tt=!0;M(()=>$(Lt=>{!Tt&&Lt===Bt||(m.includes("immediate")&&(Lt?tt():W()),gt(Lt),Bt=Lt,Tt=!1)}))});rc("for",(v,{expression:m},{effect:C,cleanup:M})=>{let $=$dt(m),W=Ed(v,$.items),G=Ed(v,v._x_keyExpression||"index");v._x_prevKeys=[],v._x_lookup={},C(()=>Idt(v,$,W,G)),M(()=>{Object.values(v._x_lookup).forEach(tt=>tt.remove()),delete v._x_prevKeys,delete v._x_lookup})});function Idt(v,m,C,M){let $=G=>typeof G=="object"&&!Array.isArray(G),W=v;C(G=>{Fdt(G)&&G>=0&&(G=Array.from(Array(G).keys(),$t=>$t+1)),G===void 0&&(G=[]);let tt=v._x_lookup,gt=v._x_prevKeys,Bt=[],Tt=[];if($(G))G=Object.entries(G).map(([$t,Je])=>{let Nn=KQ(m,Je,$t,G);M(ft=>{Tt.includes(ft)&&Zm("Duplicate key on x-for",v),Tt.push(ft)},{scope:{index:$t,...Nn}}),Bt.push(Nn)});else for(let $t=0;$t<G.length;$t++){let Je=KQ(m,G[$t],$t,G);M(Nn=>{Tt.includes(Nn)&&Zm("Duplicate key on x-for",v),Tt.push(Nn)},{scope:{index:$t,...Je}}),Bt.push(Je)}let Lt=[],Le=[],He=[],ze=[];for(let $t=0;$t<gt.length;$t++){let Je=gt[$t];Tt.indexOf(Je)===-1&&He.push(Je)}gt=gt.filter($t=>!He.includes($t));let _e="template";for(let $t=0;$t<Tt.length;$t++){let Je=Tt[$t],Nn=gt.indexOf(Je);if(Nn===-1)gt.splice($t,0,Je),Lt.push([_e,$t]);else if(Nn!==$t){let ft=gt.splice($t,1)[0],We=gt.splice(Nn-1,1)[0];gt.splice($t,0,We),gt.splice(Nn,0,ft),Le.push([ft,We])}else ze.push(Je);_e=Je}for(let $t=0;$t<He.length;$t++){let Je=He[$t];tt[Je]._x_effects&&tt[Je]._x_effects.forEach(xet),tt[Je].remove(),tt[Je]=null,delete tt[Je]}for(let $t=0;$t<Le.length;$t++){let[Je,Nn]=Le[$t],ft=tt[Je],We=tt[Nn],to=document.createElement("div");xc(()=>{We||Zm('x-for ":key" is undefined or invalid',W,Nn,tt),We.after(to),ft.after(We),We._x_currentIfEl&&We.after(We._x_currentIfEl),to.before(ft),ft._x_currentIfEl&&ft.after(ft._x_currentIfEl),to.remove()}),We._x_refreshXForScope(Bt[Tt.indexOf(Nn)])}for(let $t=0;$t<Lt.length;$t++){let[Je,Nn]=Lt[$t],ft=Je==="template"?W:tt[Je];ft._x_currentIfEl&&(ft=ft._x_currentIfEl);let We=Bt[Nn],to=Tt[Nn],ln=document.importNode(W.content,!0).firstElementChild,vt=kk(We);oN(ln,vt,W),ln._x_refreshXForScope=wn=>{Object.entries(wn).forEach(([Hn,sn])=>{vt[Hn]=sn})},xc(()=>{ft.after(ln),K_(()=>c0(ln))()}),typeof to=="object"&&Zm("x-for key cannot be an object, it must be a string or an integer",W),tt[to]=ln}for(let $t=0;$t<ze.length;$t++)tt[ze[$t]]._x_refreshXForScope(Bt[Tt.indexOf(ze[$t])]);W._x_prevKeys=Tt})}function $dt(v){let m=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,C=/^\s*\(|\)\s*$/g,M=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,$=v.match(M);if(!$)return;let W={};W.items=$[2].trim();let G=$[1].replace(C,"").trim(),tt=G.match(m);return tt?(W.item=G.replace(m,"").trim(),W.index=tt[1].trim(),tt[2]&&(W.collection=tt[2].trim())):W.item=G,W}function KQ(v,m,C,M){let $={};return/^\[.*\]$/.test(v.item)&&Array.isArray(m)?v.item.replace("[","").replace("]","").split(",").map(G=>G.trim()).forEach((G,tt)=>{$[G]=m[tt]}):/^\{.*\}$/.test(v.item)&&!Array.isArray(m)&&typeof m=="object"?v.item.replace("{","").replace("}","").split(",").map(G=>G.trim()).forEach(G=>{$[G]=m[G]}):$[v.item]=m,v.index&&($[v.index]=C),v.collection&&($[v.collection]=M),$}function Fdt(v){return!Array.isArray(v)&&!isNaN(v)}function Mnt(){}Mnt.inline=(v,{expression:m},{cleanup:C})=>{let M=K6(v);M._x_refs||(M._x_refs={}),M._x_refs[m]=v,C(()=>delete M._x_refs[m])};rc("ref",Mnt);rc("if",(v,{expression:m},{effect:C,cleanup:M})=>{v.tagName.toLowerCase()!=="template"&&Zm("x-if can only be used on a <template> tag",v);let $=Ed(v,m),W=()=>{if(v._x_currentIfEl)return v._x_currentIfEl;let tt=v.content.cloneNode(!0).firstElementChild;return oN(tt,{},v),xc(()=>{v.after(tt),K_(()=>c0(tt))()}),v._x_currentIfEl=tt,v._x_undoIf=()=>{W_(tt,gt=>{gt._x_effects&&gt._x_effects.forEach(xet)}),tt.remove(),delete v._x_currentIfEl},tt},G=()=>{v._x_undoIf&&(v._x_undoIf(),delete v._x_undoIf)};C(()=>$(tt=>{tt?W():G()})),M(()=>v._x_undoIf&&v._x_undoIf())});rc("id",(v,{expression:m},{evaluate:C})=>{C(m).forEach($=>Edt(v,$))});X6((v,m)=>{v._x_ids&&(m._x_ids=v._x_ids)});JY(zet("@",Wet(Dk("on:"))));rc("on",K_((v,{value:m,modifiers:C,expression:M},{cleanup:$})=>{let W=M?Ed(v,M):()=>{};v.tagName.toLowerCase()==="template"&&(v._x_forwardEvents||(v._x_forwardEvents=[]),v._x_forwardEvents.includes(m)||v._x_forwardEvents.push(m));let G=vY(v,m,C,tt=>{W(()=>{},{scope:{$event:tt},params:[tt]})});$(()=>G())}));e7("Collapse","collapse","collapse");e7("Intersect","intersect","intersect");e7("Focus","trap","focus");e7("Mask","mask","mask");function e7(v,m,C){rc(m,M=>Zm(`You can't use [x-${m}] without first installing the "${v}" plugin here: https://alpinejs.dev/plugins/${C}`,M))}iN.setEvaluator($et);iN.setReactivityEngine({reactive:lX,effect:Kut,release:Yut,raw:Si});var Hdt=iN,Pnt=Hdt;window.Alpine=Pnt;Pnt.start();window.addEventListener("DOMContentLoaded",()=>{tinymce.init({selector:"textarea",skin:!1,content_css:!1})})});export default Vdt();
